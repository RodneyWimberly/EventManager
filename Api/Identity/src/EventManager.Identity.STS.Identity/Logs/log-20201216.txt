[2020-12-16T03:10:45.4773556+00:00][INFO][1][Microsoft.EntityFrameworkCore.Infrastructure] Entity Framework Core "3.1.9" initialized '"IdentityServerDataProtectionDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=EventManager.Identity.Admin.EntityFramework.SqlServer "
[2020-12-16T03:11:02.6072672+00:00][EROR][1][Microsoft.EntityFrameworkCore.Database.Connection] An error occurred using the connection to database '"IdentityServer4Admin"' on server '"db"'.
[2020-12-16T03:11:02.7578775+00:00][EROR][1][Microsoft.EntityFrameworkCore.Query] An exception occurred while iterating over the results of a query for context type '"EventManager.Identity.Admin.EntityFramework.Shared.DbContexts.IdentityServerDataProtectionDbContext"'."
""Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot open database \"IdentityServer4Admin\" requested by the login. The login failed.
Login failed for user 'sa'.
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.TdsParser.Run(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.CompleteLogin(Boolean enlistOK)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.AttemptOneLogin(ServerInfo serverInfo, String newPassword, SecureString newSecurePassword, Boolean ignoreSniOpenTimeout, TimeoutTimer timeout, Boolean withFailover)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.LoginNoFailover(ServerInfo serverInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString connectionOptions, SqlCredential credential, TimeoutTimer timeout)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.OpenLoginEnlist(TimeoutTimer timeout, SqlConnectionString connectionOptions, SqlCredential credential, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds..ctor(DbConnectionPoolIdentity identity, SqlConnectionString connectionOptions, SqlCredential credential, Object providerInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString userConnectionOptions, SessionData reconnectSessionData, Boolean applyTransientFaultHandling, String accessToken, DbConnectionPool pool, SqlAuthenticationProviderManager sqlAuthProviderManager)
   at Microsoft.Data.SqlClient.SqlConnectionFactory.CreateConnection(DbConnectionOptions options, DbConnectionPoolKey poolKey, Object poolGroupProviderInfo, DbConnectionPool pool, DbConnection owningConnection, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionFactory.CreatePooledConnection(DbConnectionPool pool, DbConnection owningObject, DbConnectionOptions options, DbConnectionPoolKey poolKey, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionPool.CreateObject(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.UserCreateRequest(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, UInt32 waitForMultipleObjectsTimeout, Boolean allowCreate, Boolean onlyOneCheckConnection, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, TaskCompletionSource`1 retry, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionFactory.TryGetConnection(DbConnection owningConnection, TaskCompletionSource`1 retry, DbConnectionOptions userOptions, DbConnectionInternal oldConnection, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionInternal.TryOpenConnectionInternal(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionClosed.TryOpenConnection(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)
   at Microsoft.Data.SqlClient.SqlConnection.TryOpen(TaskCompletionSource`1 retry)
   at Microsoft.Data.SqlClient.SqlConnection.Open()
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenDbConnection(Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.Open(Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReader(RelationalCommandParameterObject parameterObject)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryingEnumerable`1.Enumerator.InitializeReader(DbContext _, Boolean result)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryingEnumerable`1.Enumerator.MoveNext()
ClientConnectionId:b666fc32-4030-4625-816d-44facd9d0bbe
Error Number:4060,State:1,Class:11"
Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot open database "IdentityServer4Admin" requested by the login. The login failed.
Login failed for user 'sa'.
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.TdsParser.Run(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.CompleteLogin(Boolean enlistOK)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.AttemptOneLogin(ServerInfo serverInfo, String newPassword, SecureString newSecurePassword, Boolean ignoreSniOpenTimeout, TimeoutTimer timeout, Boolean withFailover)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.LoginNoFailover(ServerInfo serverInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString connectionOptions, SqlCredential credential, TimeoutTimer timeout)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.OpenLoginEnlist(TimeoutTimer timeout, SqlConnectionString connectionOptions, SqlCredential credential, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds..ctor(DbConnectionPoolIdentity identity, SqlConnectionString connectionOptions, SqlCredential credential, Object providerInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString userConnectionOptions, SessionData reconnectSessionData, Boolean applyTransientFaultHandling, String accessToken, DbConnectionPool pool, SqlAuthenticationProviderManager sqlAuthProviderManager)
   at Microsoft.Data.SqlClient.SqlConnectionFactory.CreateConnection(DbConnectionOptions options, DbConnectionPoolKey poolKey, Object poolGroupProviderInfo, DbConnectionPool pool, DbConnection owningConnection, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionFactory.CreatePooledConnection(DbConnectionPool pool, DbConnection owningObject, DbConnectionOptions options, DbConnectionPoolKey poolKey, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionPool.CreateObject(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.UserCreateRequest(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, UInt32 waitForMultipleObjectsTimeout, Boolean allowCreate, Boolean onlyOneCheckConnection, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, TaskCompletionSource`1 retry, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionFactory.TryGetConnection(DbConnection owningConnection, TaskCompletionSource`1 retry, DbConnectionOptions userOptions, DbConnectionInternal oldConnection, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionInternal.TryOpenConnectionInternal(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionClosed.TryOpenConnection(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)
   at Microsoft.Data.SqlClient.SqlConnection.TryOpen(TaskCompletionSource`1 retry)
   at Microsoft.Data.SqlClient.SqlConnection.Open()
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenDbConnection(Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.Open(Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReader(RelationalCommandParameterObject parameterObject)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryingEnumerable`1.Enumerator.InitializeReader(DbContext _, Boolean result)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryingEnumerable`1.Enumerator.MoveNext()
ClientConnectionId:b666fc32-4030-4625-816d-44facd9d0bbe
Error Number:4060,State:1,Class:11
[2020-12-16T03:11:02.8684797+00:00][EROR][1][Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingProvider] An error occurred while reading the key ring.
Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot open database "IdentityServer4Admin" requested by the login. The login failed.
Login failed for user 'sa'.
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.TdsParser.Run(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.CompleteLogin(Boolean enlistOK)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.AttemptOneLogin(ServerInfo serverInfo, String newPassword, SecureString newSecurePassword, Boolean ignoreSniOpenTimeout, TimeoutTimer timeout, Boolean withFailover)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.LoginNoFailover(ServerInfo serverInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString connectionOptions, SqlCredential credential, TimeoutTimer timeout)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.OpenLoginEnlist(TimeoutTimer timeout, SqlConnectionString connectionOptions, SqlCredential credential, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds..ctor(DbConnectionPoolIdentity identity, SqlConnectionString connectionOptions, SqlCredential credential, Object providerInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString userConnectionOptions, SessionData reconnectSessionData, Boolean applyTransientFaultHandling, String accessToken, DbConnectionPool pool, SqlAuthenticationProviderManager sqlAuthProviderManager)
   at Microsoft.Data.SqlClient.SqlConnectionFactory.CreateConnection(DbConnectionOptions options, DbConnectionPoolKey poolKey, Object poolGroupProviderInfo, DbConnectionPool pool, DbConnection owningConnection, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionFactory.CreatePooledConnection(DbConnectionPool pool, DbConnection owningObject, DbConnectionOptions options, DbConnectionPoolKey poolKey, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionPool.CreateObject(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.UserCreateRequest(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, UInt32 waitForMultipleObjectsTimeout, Boolean allowCreate, Boolean onlyOneCheckConnection, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, TaskCompletionSource`1 retry, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionFactory.TryGetConnection(DbConnection owningConnection, TaskCompletionSource`1 retry, DbConnectionOptions userOptions, DbConnectionInternal oldConnection, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionInternal.TryOpenConnectionInternal(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionClosed.TryOpenConnection(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)
   at Microsoft.Data.SqlClient.SqlConnection.TryOpen(TaskCompletionSource`1 retry)
   at Microsoft.Data.SqlClient.SqlConnection.Open()
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenDbConnection(Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.Open(Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReader(RelationalCommandParameterObject parameterObject)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryingEnumerable`1.Enumerator.InitializeReader(DbContext _, Boolean result)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryingEnumerable`1.Enumerator.MoveNext()
   at System.Collections.Generic.List`1..ctor(IEnumerable`1 collection)
   at System.Linq.Enumerable.ToList[TSource](IEnumerable`1 source)
   at Microsoft.AspNetCore.DataProtection.EntityFrameworkCore.EntityFrameworkCoreXmlRepository`1.GetAllElements()
   at Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager.GetAllKeys()
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingProvider.CreateCacheableKeyRingCore(DateTimeOffset now, IKey keyJustAdded)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingProvider.Microsoft.AspNetCore.DataProtection.KeyManagement.Internal.ICacheableKeyRingProvider.GetCacheableKeyRing(DateTimeOffset now)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingProvider.GetCurrentKeyRingCore(DateTime utcNow, Boolean forceRefresh)
ClientConnectionId:b666fc32-4030-4625-816d-44facd9d0bbe
Error Number:4060,State:1,Class:11
[2020-12-16T03:11:02.9527845+00:00][INFO][1][Microsoft.AspNetCore.DataProtection.Internal.DataProtectionHostedService] Key ring failed to load during application startup.
Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot open database "IdentityServer4Admin" requested by the login. The login failed.
Login failed for user 'sa'.
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.TdsParser.Run(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.CompleteLogin(Boolean enlistOK)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.AttemptOneLogin(ServerInfo serverInfo, String newPassword, SecureString newSecurePassword, Boolean ignoreSniOpenTimeout, TimeoutTimer timeout, Boolean withFailover)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.LoginNoFailover(ServerInfo serverInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString connectionOptions, SqlCredential credential, TimeoutTimer timeout)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.OpenLoginEnlist(TimeoutTimer timeout, SqlConnectionString connectionOptions, SqlCredential credential, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds..ctor(DbConnectionPoolIdentity identity, SqlConnectionString connectionOptions, SqlCredential credential, Object providerInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString userConnectionOptions, SessionData reconnectSessionData, Boolean applyTransientFaultHandling, String accessToken, DbConnectionPool pool, SqlAuthenticationProviderManager sqlAuthProviderManager)
   at Microsoft.Data.SqlClient.SqlConnectionFactory.CreateConnection(DbConnectionOptions options, DbConnectionPoolKey poolKey, Object poolGroupProviderInfo, DbConnectionPool pool, DbConnection owningConnection, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionFactory.CreatePooledConnection(DbConnectionPool pool, DbConnection owningObject, DbConnectionOptions options, DbConnectionPoolKey poolKey, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionPool.CreateObject(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.UserCreateRequest(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, UInt32 waitForMultipleObjectsTimeout, Boolean allowCreate, Boolean onlyOneCheckConnection, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, TaskCompletionSource`1 retry, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionFactory.TryGetConnection(DbConnection owningConnection, TaskCompletionSource`1 retry, DbConnectionOptions userOptions, DbConnectionInternal oldConnection, DbConnec[2020-12-16T09:13:54.1206947+00:00][INFO][1][Microsoft.EntityFrameworkCore.Infrastructure] Entity Framework Core "3.1.9" initialized '"IdentityServerDataProtectionDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=EventManager.Identity.Admin.EntityFramework.SqlServer "
[2020-12-16T09:14:18.1441125+00:00][EROR][1][Microsoft.EntityFrameworkCore.Database.Connection] An error occurred using the connection to database '"IdentityServer4Admin"' on server '"db"'.
[2020-12-16T09:14:18.3527985+00:00][EROR][1][Microsoft.EntityFrameworkCore.Query] An exception occurred while iterating over the results of a query for context type '"EventManager.Identity.Admin.EntityFramework.Shared.DbContexts.IdentityServerDataProtectionDbContext"'."
""Microsoft.Data.SqlClient.SqlException (0x80131904): A network-related or instance-specific error occurred while establishing a connection to SQL Server. The server was not found or was not accessible. Verify that the instance name is correct and that SQL Server is configured to allow remote connections. (provider: TCP Provider, error: 35 - An internal exception was caught)
 ---> System.Net.Internals.SocketExceptionFactory+ExtendedSocketException (00000005, 0xFFFDFFFF): Name or service not known
   at System.Net.Dns.InternalGetHostByName(String hostName)
   at System.Net.Dns.GetHostAddresses(String hostNameOrAddress)
   at Microsoft.Data.SqlClient.SNI.SNITCPHandle.Connect(String serverName, Int32 port, TimeSpan timeout)
   at Microsoft.Data.SqlClient.SNI.SNITCPHandle..ctor(String serverName, Int32 port, Int64 timerExpire, Object callbackObject, Boolean parallel)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.Connect(ServerInfo serverInfo, SqlInternalConnectionTds connHandler, Boolean ignoreSniOpenTimeout, Int64 timerExpire, Boolean encrypt, Boolean trustServerCert, Boolean integratedSecurity, Boolean withFailover, SqlAuthenticationMethod authType, SqlAuthenticationProviderManager sqlAuthProviderManager)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.AttemptOneLogin(ServerInfo serverInfo, String newPassword, SecureString newSecurePassword, Boolean ignoreSniOpenTimeout, TimeoutTimer timeout, Boolean withFailover)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.LoginNoFailover(ServerInfo serverInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString connectionOptions, SqlCredential credential, TimeoutTimer timeout)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.OpenLoginEnlist(TimeoutTimer timeout, SqlConnectionString connectionOptions, SqlCredential credential, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds..ctor(DbConnectionPoolIdentity identity, SqlConnectionString connectionOptions, SqlCredential credential, Object providerInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString userConnectionOptions, SessionData reconnectSessionData, Boolean applyTransientFaultHandling, String accessToken, DbConnectionPool pool, SqlAuthenticationProviderManager sqlAuthProviderManager)
   at Microsoft.Data.SqlClient.SqlConnectionFactory.CreateConnection(DbConnectionOptions options, DbConnectionPoolKey poolKey, Object poolGroupProviderInfo, DbConnectionPool pool, DbConnection owningConnection, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionFactory.CreatePooledConnection(DbConnectionPool pool, DbConnection owningObject, DbConnectionOptions options, DbConnectionPoolKey poolKey, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionPool.CreateObject(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.UserCreateRequest(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, UInt32 waitForMultipleObjectsTimeout, Boolean allowCreate, Boolean onlyOneCheckConnection, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, TaskCompletionSource`1 retry, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionFactory.TryGetConnection(DbConnection owningConnection, TaskCompletionSource`1 retry, DbConnectionOptions userOptions, DbConnectionInternal oldConnection, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionInternal.TryOpenConnectionInternal(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionClosed.TryOpenConnection(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)
   at Microsoft.Data.SqlClient.SqlConnection.TryOpen(TaskCompletionSource`1 retry)
   at Microsoft.Data.SqlClient.SqlConnection.Open()
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenDbConnection(Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.Open(Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReader(RelationalCommandParameterObject parameterObject)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryingEnumerable`1.Enumerator.InitializeReader(DbContext _, Boolean result)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryingEnumerable`1.Enumerator.MoveNext()
ClientConnectionId:00000000-0000-0000-0000-000000000000"
Microsoft.Data.SqlClient.SqlException (0x80131904): A network-related or instance-specific error occurred while establishing a connection to SQL Server. The server was not found or was not accessible. Verify that the instance name is correct and that SQL Server is configured to allow remote connections. (provider: TCP Provider, error: 35 - An internal exception was caught)
 ---> System.Net.Internals.SocketExceptionFactory+ExtendedSocketException (00000005, 0xFFFDFFFF): Name or service not known
   at System.Net.Dns.InternalGetHostByName(String hostName)
   at System.Net.Dns.GetHostAddresses(String hostNameOrAddress)
   at Microsoft.Data.SqlClient.SNI.SNITCPHandle.Connect(String serverName, Int32 port, TimeSpan timeout)
   at Microsoft.Data.SqlClient.SNI.SNITCPHandle..ctor(String serverName, Int32 port, Int64 timerExpire, Object callbackObject, Boolean parallel)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.Connect(ServerInfo serverInfo, SqlInternalConnectionTds connHandler, Boolean ignoreSniOpenTimeout, Int64 timerExpire, Boolean encrypt, Boolean trustServerCert, Boolean integratedSecurity, Boolean withFailover, SqlAuthenticationMethod authType, SqlAuthenticationProviderManager sqlAuthProviderManager)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.AttemptOneLogin(ServerInfo serverInfo, String newPassword, SecureString newSecurePassword, Boolean ignoreSniOpenTimeout, TimeoutTimer timeout, Boolean withFailover)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.LoginNoFailover(ServerInfo serverInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString connectionOptions, SqlCredential credential, TimeoutTimer timeout)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.OpenLoginEnlist(TimeoutTimer timeout, SqlConnectionString connectionOptions, SqlCredential credential, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds..ctor(DbConnectionPoolIdentity identity, SqlConnectionString connectionOptions, SqlCredential credential, Object providerInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString userConnectionOptions, SessionData reconnectSessionData, Boolean applyTransientFaultHandling, String accessToken, DbConnectionPool pool, SqlAuthenticationProviderManager sqlAuthProviderManager)
   at Microsoft.Data.SqlClient.SqlConnectionFactory.CreateConnection(DbConnectionOptions options, DbConnectionPoolKey poolKey, Object poolGroupProviderInfo, DbConnectionPool pool, DbConnection owningConnection, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionFactory.CreatePooledConnection(DbConnectionPool pool, DbConnection owningObject, DbConnectionOptions options, DbConnectionPoolKey poolKey, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionPool.CreateObject(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.UserCreateRequest(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, UInt32 waitForMultipleObjectsTimeout, Boolean allowCreate, Boolean onlyOneCheckConnection, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, TaskCompletionSource`1 retry, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionFactory.TryGetConnection(DbConnection owningConnection, TaskCompletionSource`1 retry, DbConnectionOptions userOptions, DbConnectionInternal oldConnection, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionInternal.TryOpenConnectionInternal(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionClosed.TryOpenConnection(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)
   at Microsoft.Data.SqlClient.SqlConnection.TryOpen(TaskCompletionSource`1 retry)
   at Microsoft.Data.SqlClient.SqlConnection.Open()
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenDbConnection(Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.Open(Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReader(RelationalCommandParameterObject parameterObject)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryingEnumerable`1.Enumerator.InitializeReader(DbContext _, Boolean result)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryingEnumerable`1.Enumerator.MoveNext()
ClientConnectionId:00000000-0000-0000-0000-000000000000
[2020-12-16T09:14:18.4702044+00:00][EROR][1][Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingProvider] An error occurred while reading the key ring.
Microsoft.Data.SqlClient.SqlException (0x80131904): A network-related or instance-specific error occurred while establishing a connection to SQL Server. The server was not found or was not accessible. Verify that the instance name is correct and that SQL Server is configured to allow remote connections. (provider: TCP Provider, error: 35 - An internal exception was caught)
 ---> System.Net.Internals.SocketExceptionFactory+ExtendedSocketException (00000005, 0xFFFDFFFF): Name or service not known
   at System.Net.Dns.InternalGetHostByName(String hostName)
   at System.Net.Dns.GetHostAddresses(String hostNameOrAddress)
   at Microsoft.Data.SqlClient.SNI.SNITCPHandle.Connect(String serverName, Int32 port, TimeSpan timeout)
   at Microsoft.Data.SqlClient.SNI.SNITCPHandle..ctor(String serverName, Int32 port, Int64 timerExpire, Object callbackObject, Boolean parallel)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.Connect(ServerInfo serverInfo, SqlInternalConnectionTds connHandler, Boolean ignoreSniOpenTimeout, Int64 timerExpire, Boolean encrypt, Boolean trustServerCert, Boolean integratedSecurity, Boolean withFailover, SqlAuthenticationMethod authType, SqlAuthenticationProviderManager sqlAuthProviderManager)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.AttemptOneLogin(ServerInfo serverInfo, String newPassword, SecureString newSecurePassword, Boolean ignoreSniOpenTimeout, TimeoutTimer timeout, Boolean withFailover)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.LoginNoFailover(ServerInfo serverInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString connectionOptions, SqlCredential credential, TimeoutTimer timeout)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.OpenLoginEnlist(TimeoutTimer timeout, SqlConnectionString connectionOptions, SqlCredential credential, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds..ctor(DbConnectionPoolIdentity identity, SqlConnectionString connectionOptions, SqlCredential credential, Object providerInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString userConnectionOptions, SessionData reconnectSessionData, Boolean applyTransientFaultHandling, String accessToken, DbConnectionPool pool, SqlAuthenticationProviderManager sqlAuthProviderManager)
   at Microsoft.Data.SqlClient.SqlConnectionFactory.CreateConnection(DbConnectionOptions options, DbConnectionPoolKey poolKey, Object poolGroupProviderInfo, DbConnectionPool pool, DbConnection owningConnection, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionFactory.CreatePooledConnection(DbConnectionPool pool, DbConnection owningObject, DbConnectionOptions options, DbConnectionPoolKey poolKey, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionPool.CreateObject(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.UserCreateRequest(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, UInt32 waitForMultipleObjectsTimeout, Boolean allowCreate, Boolean onlyOneCheckConnection, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, TaskCompletionSource`1 retry, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionFactory.TryGetConnection(DbConnection owningConnection, TaskCompletionSource`1 retry, DbConnectionOptions userOptions, DbConnectionInternal oldConnection, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionInternal.TryOpenConnectionInternal(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionClosed.TryOpenConnection(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)
   at Microsoft.Data.SqlClient.SqlConnection.TryOpen(TaskCompletionSource`1 retry)
   at Microsoft.Data.SqlClient.SqlConnection.Open()
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenDbConnection(Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.Open(Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReader(RelationalCommandParameterObject parameterObject)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryingEnumerable`1.Enumerator.InitializeReader(DbContext _, Boolean result)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryingEnumerable`1.Enumerator.MoveNext()
   at System.Collections.Generic.List`1..ctor(IEnumerable`1 collection)
   at System.Linq.Enumerable.ToList[TSource](IEnumerable`1 source)
   at Microsoft.AspNetCore.DataProtection.EntityFrameworkCore.EntityFrameworkCoreXmlRepository`1.GetAllElements()
   at Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager.GetAllKeys()
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingProvider.CreateCacheableKeyRingCore(DateTimeOffset now, IKey keyJustAdded)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingProvider.Microsoft.AspNetCore.DataProtection.KeyManagement.Internal.ICacheableKeyRingProvider.GetCacheableKeyRing(DateTimeOffset now)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingProvider.GetCurrentKeyRingCore(DateTime utcNow, Boolean forceRefresh)
ClientConnectionId:00000000-0000-0000-0000-000000000000
[2020-12-16T09:14:18.5761018+00:00][INFO][1][Microsoft.AspNetCore.DataProtection.Internal.DataProtectionHostedService] Key ring failed to load during application startup.
Microsoft.Data.SqlClient.SqlException (0x80131904): A network-related or instance-specific error occurred while establishing a connection to SQL Server. The server was not found or was not accessible. Verify that the instance name is correct and that SQL Server is configured to allow remote connections. (provider: TCP Provider, error: 35 - An internal exception was caught)
 ---> System.Net.Internals.SocketExceptionFactory+ExtendedSocketException (00000005, 0xFFFDFFFF): Name or service not known
   at System.Net.Dns.InternalGetHostByName(String hostName)
   at System.Net.Dns.GetHostAddresses(String hostNameOrAddress)
   at Microsoft.Data.SqlClient.SNI.SNITCPHandle.Connect(String serverName, Int32 port, TimeSpan timeout)
   at Microsoft.Data.SqlClient.SNI.SNITCPHandle..ctor(String serverName, Int32 port, Int64 timerExpire, Object callbackObject, Boolean parallel)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.Connect(ServerInfo serverInfo, SqlInternalConnectionTds connHandler, Boolean ignoreSniOpenTimeout, Int64 timerExpire, Boolean encrypt, Boolean trustServerCert, Boolean integratedSecurity, Boolean withFailover, SqlAuthenticationMethod authType, SqlAuthenticationProviderManager sqlAuthProviderManager)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.AttemptOneLogin(ServerInfo serverInfo, String newPassword, SecureString newSecurePassword, Boolean ignoreSniOpenTimeout, TimeoutTimer timeout, Boolean withFailover)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.LoginNoFailover(ServerInfo serverInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString connectionOptions, SqlCredential credential, TimeoutTimer timeout)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.OpenLoginEnlist(TimeoutTimer timeout, SqlConnectionString connectionOptions, SqlCredential credential, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds..ctor(DbConnectionPoolIdentity identity, SqlConnectionString connectionOptions, SqlCredential credential, Object providerInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString userConnectionOptions, SessionData reconnectSessionData, Boolean applyTransientFaultHandling, String accessToken, DbConnectionPool pool, SqlAuthenticationProviderManager sqlAuthProviderManager)
   at Microsoft.Data.SqlClient.SqlConnectionFactory.CreateConnection(DbConnectionOptions options, DbConnectionPoolKey poolKey, Object poolGroupProviderInfo, DbConnectionPool pool, DbConnection owningConnection, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionFactory.CreatePooledConnection(DbConnectionPool pool, DbConnection owningObject, DbConnectionOptions options, DbConnectionPoolKey poolKey, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionPool.CreateObject(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.UserCreateRequest(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, UInt32 waitForMultipleObjectsTimeout, Boolean allowCreate, Boolean onlyOneCheckConnection, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, TaskCompletionSource`1 retry, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionFactory.TryGetConnection(DbConnection owningConnection, TaskCompletionSource`1 retry, DbConnectionOptions userOptions, DbConnectionInternal oldConnection, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionInternal.TryOpenConnectionInternal(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionClosed.TryOpenConnection(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)
   at Microsoft.Data.SqlClient.SqlConnection.TryOpen(TaskCompletionSource`1 retry)
   at Microsoft.Data.SqlClient.SqlConnection.Open()
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenDbConnection(Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.Open(Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReader(RelationalCommandParameterObject parameterObject)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryingEnumerable`1.Enumerator.InitializeReader(DbContext _, Boolean result)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryingEnumerable`1.Enumerator.MoveNext()
   at System.Collections.Generic.List`1..ctor(IEnumerable`1 collection)
   at System.Linq.Enumerable.ToList[TSource](IEnumerable`1 source)
   at Microsoft.AspNetCore.DataProtection.EntityFrameworkCore.EntityFrameworkCoreXmlRepository`1.GetAllElements()
   at Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager.GetAllKeys()
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingProvider.CreateCacheableKeyRingCore(DateTimeOffset now, IKey keyJustAdded)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingProvider.Microsoft.AspNetCore.DataProtection.KeyManagement.Internal.ICacheableKeyRingProvider.GetCacheableKeyRing(DateTimeOffset now)
   at Mi[2020-12-16T09:25:42.2077270+00:00][INFO][1][Microsoft.EntityFrameworkCore.Infrastructure] Entity Framework Core "3.1.9" initialized '"IdentityServerDataProtectionDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=EventManager.Identity.Admin.EntityFramework.SqlServer "
[2020-12-16T09:26:01.1130959+00:00][EROR][1][Microsoft.EntityFrameworkCore.Database.Connection] An error occurred using the connection to database '"IdentityServer4Admin"' on server '"db"'.
[2020-12-16T09:26:01.4113523+00:00][EROR][1][Microsoft.EntityFrameworkCore.Query] An exception occurred while iterating over the results of a query for context type '"EventManager.Identity.Admin.EntityFramework.Shared.DbContexts.IdentityServerDataProtectionDbContext"'."
""Microsoft.Data.SqlClient.SqlException (0x80131904): A network-related or instance-specific error occurred while establishing a connection to SQL Server. The server was not found or was not accessible. Verify that the instance name is correct and that SQL Server is configured to allow remote connections. (provider: TCP Provider, error: 35 - An internal exception was caught)
 ---> System.Net.Internals.SocketExceptionFactory+ExtendedSocketException (00000005, 0xFFFDFFFF): Name or service not known
   at System.Net.Dns.InternalGetHostByName(String hostName)
   at System.Net.Dns.GetHostAddresses(String hostNameOrAddress)
   at Microsoft.Data.SqlClient.SNI.SNITCPHandle.Connect(String serverName, Int32 port, TimeSpan timeout)
   at Microsoft.Data.SqlClient.SNI.SNITCPHandle..ctor(String serverName, Int32 port, Int64 timerExpire, Object callbackObject, Boolean parallel)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.Connect(ServerInfo serverInfo, SqlInternalConnectionTds connHandler, Boolean ignoreSniOpenTimeout, Int64 timerExpire, Boolean encrypt, Boolean trustServerCert, Boolean integratedSecurity, Boolean withFailover, SqlAuthenticationMethod authType, SqlAuthenticationProviderManager sqlAuthProviderManager)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.AttemptOneLogin(ServerInfo serverInfo, String newPassword, SecureString newSecurePassword, Boolean ignoreSniOpenTimeout, TimeoutTimer timeout, Boolean withFailover)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.LoginNoFailover(ServerInfo serverInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString connectionOptions, SqlCredential credential, TimeoutTimer timeout)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.OpenLoginEnlist(TimeoutTimer timeout, SqlConnectionString connectionOptions, SqlCredential credential, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds..ctor(DbConnectionPoolIdentity identity, SqlConnectionString connectionOptions, SqlCredential credential, Object providerInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString userConnectionOptions, SessionData reconnectSessionData, Boolean applyTransientFaultHandling, String accessToken, DbConnectionPool pool, SqlAuthenticationProviderManager sqlAuthProviderManager)
   at Microsoft.Data.SqlClient.SqlConnectionFactory.CreateConnection(DbConnectionOptions options, DbConnectionPoolKey poolKey, Object poolGroupProviderInfo, DbConnectionPool pool, DbConnection owningConnection, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionFactory.CreatePooledConnection(DbConnectionPool pool, DbConnection owningObject, DbConnectionOptions options, DbConnectionPoolKey poolKey, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionPool.CreateObject(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.UserCreateRequest(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, UInt32 waitForMultipleObjectsTimeout, Boolean allowCreate, Boolean onlyOneCheckConnection, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, TaskCompletionSource`1 retry, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionFactory.TryGetConnection(DbConnection owningConnection, TaskCompletionSource`1 retry, DbConnectionOptions userOptions, DbConnectionInternal oldConnection, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionInternal.TryOpenConnectionInternal(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionClosed.TryOpenConnection(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)
   at Microsoft.Data.SqlClient.SqlConnection.TryOpen(TaskCompletionSource`1 retry)
   at Microsoft.Data.SqlClient.SqlConnection.Open()
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenDbConnection(Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.Open(Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReader(RelationalCommandParameterObject parameterObject)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryingEnumerable`1.Enumerator.InitializeReader(DbContext _, Boolean result)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryingEnumerable`1.Enumerator.MoveNext()
ClientConnectionId:00000000-0000-0000-0000-000000000000"
Microsoft.Data.SqlClient.SqlException (0x80131904): A network-related or instance-specific error occurred while establishing a connection to SQL Server. The server was not found or was not accessible. Verify that the instance name is correct and that SQL Server is configured to allow remote connections. (provider: TCP Provider, error: 35 - An internal exception was caught)
 ---> System.Net.Internals.SocketExceptionFactory+ExtendedSocketException (00000005, 0xFFFDFFFF): Name or service not known
   at System.Net.Dns.InternalGetHostByName(String hostName)
   at System.Net.Dns.GetHostAddresses(String hostNameOrAddress)
   at Microsoft.Data.SqlClient.SNI.SNITCPHandle.Connect(String serverName, Int32 port, TimeSpan timeout)
   at Microsoft.Data.SqlClient.SNI.SNITCPHandle..ctor(String serverName, Int32 port, Int64 timerExpire, Object callbackObject, Boolean parallel)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.Connect(ServerInfo serverInfo, SqlInternalConnectionTds connHandler, Boolean ignoreSniOpenTimeout, Int64 timerExpire, Boolean encrypt, Boolean trustServerCert, Boolean integratedSecurity, Boolean withFailover, SqlAuthenticationMethod authType, SqlAuthenticationProviderManager sqlAuthProviderManager)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.AttemptOneLogin(ServerInfo serverInfo, String newPassword, SecureString newSecurePassword, Boolean ignoreSniOpenTimeout, TimeoutTimer timeout, Boolean withFailover)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.LoginNoFailover(ServerInfo serverInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString connectionOptions, SqlCredential credential, TimeoutTimer timeout)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.OpenLoginEnlist(TimeoutTimer timeout, SqlConnectionString connectionOptions, SqlCredential credential, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds..ctor(DbConnectionPoolIdentity identity, SqlConnectionString connectionOptions, SqlCredential credential, Object providerInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString userConnectionOptions, SessionData reconnectSessionData, Boolean applyTransientFaultHandling, String accessToken, DbConnectionPool pool, SqlAuthenticationProviderManager sqlAuthProviderManager)
   at Microsoft.Data.SqlClient.SqlConnectionFactory.CreateConnection(DbConnectionOptions options, DbConnectionPoolKey poolKey, Object poolGroupProviderInfo, DbConnectionPool pool, DbConnection owningConnection, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionFactory.CreatePooledConnection(DbConnectionPool pool, DbConnection owningObject, DbConnectionOptions options, DbConnectionPoolKey poolKey, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionPool.CreateObject(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.UserCreateRequest(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, UInt32 waitForMultipleObjectsTimeout, Boolean allowCreate, Boolean onlyOneCheckConnection, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, TaskCompletionSource`1 retry, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionFactory.TryGetConnection(DbConnection owningConnection, TaskCompletionSource`1 retry, DbConnectionOptions userOptions, DbConnectionInternal oldConnection, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionInternal.TryOpenConnectionInternal(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionClosed.TryOpenConnection(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)
   at Microsoft.Data.SqlClient.SqlConnection.TryOpen(TaskCompletionSource`1 retry)
   at Microsoft.Data.SqlClient.SqlConnection.Open()
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenDbConnection(Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.Open(Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReader(RelationalCommandParameterObject parameterObject)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryingEnumerable`1.Enumerator.InitializeReader(DbContext _, Boolean result)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryingEnumerable`1.Enumerator.MoveNext()
ClientConnectionId:00000000-0000-0000-0000-000000000000
[2020-12-16T09:26:01.5744312+00:00][EROR][1][Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingProvider] An error occurred while reading the key ring.
Microsoft.Data.SqlClient.SqlException (0x80131904): A network-related or instance-specific error occurred while establishing a connection to SQL Server. The server was not found or was not accessible. Verify that the instance name is correct and that SQL Server is configured to allow remote connections. (provider: TCP Provider, error: 35 - An internal exception was caught)
 ---> System.Net.Internals.SocketExceptionFactory+ExtendedSocketException (00000005, 0xFFFDFFFF): Name or service not known
   at System.Net.Dns.InternalGetHostByName(String hostName)
   at System.Net.Dns.GetHostAddresses(String hostNameOrAddress)
   at Microsoft.Data.SqlClient.SNI.SNITCPHandle.Connect(String serverName, Int32 port, TimeSpan timeout)
   at Microsoft.Data.SqlClient.SNI.SNITCPHandle..ctor(String serverName, Int32 port, Int64 timerExpire, Object callbackObject, Boolean parallel)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.Connect(ServerInfo serverInfo, SqlInternalConnectionTds connHandler, Boolean ignoreSniOpenTimeout, Int64 timerExpire, Boolean encrypt, Boolean trustServerCert, Boolean integratedSecurity, Boolean withFailover, SqlAuthenticationMethod authType, SqlAuthenticationProviderManager sqlAuthProviderManager)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.AttemptOneLogin(ServerInfo serverInfo, String newPassword, SecureString newSecurePassword, Boolean ignoreSniOpenTimeout, TimeoutTimer timeout, Boolean withFailover)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.LoginNoFailover(ServerInfo serverInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString connectionOptions, SqlCredential credential, TimeoutTimer timeout)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.OpenLoginEnlist(TimeoutTimer timeout, SqlConnectionString connectionOptions, SqlCredential credential, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds..ctor(DbConnectionPoolIdentity identity, SqlConnectionString connectionOptions, SqlCredential credential, Object providerInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString userConnectionOptions, SessionData reconnectSessionData, Boolean applyTransientFaultHandling, String accessToken, DbConnectionPool pool, SqlAuthenticationProviderManager sqlAuthProviderManager)
   at Microsoft.Data.SqlClient.SqlConnectionFactory.CreateConnection(DbConnectionOptions options, DbConnectionPoolKey poolKey, Object poolGroupProviderInfo, DbConnectionPool pool, DbConnection owningConnection, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionFactory.CreatePooledConnection(DbConnectionPool pool, DbConnection owningObject, DbConnectionOptions options, DbConnectionPoolKey poolKey, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionPool.CreateObject(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.UserCreateRequest(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, UInt32 waitForMultipleObjectsTimeout, Boolean allowCreate, Boolean onlyOneCheckConnection, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, TaskCompletionSource`1 retry, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionFactory.TryGetConnection(DbConnection owningConnection, TaskCompletionSource`1 retry, DbConnectionOptions userOptions, DbConnectionInternal oldConnection, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionInternal.TryOpenConnectionInternal(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionClosed.TryOpenConnection(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)
   at Microsoft.Data.SqlClient.SqlConnection.TryOpen(TaskCompletionSource`1 retry)
   at Microsoft.Data.SqlClient.SqlConnection.Open()
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenDbConnection(Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.Open(Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReader(RelationalCommandParameterObject parameterObject)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryingEnumerable`1.Enumerator.InitializeReader(DbContext _, Boolean result)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryingEnumerable`1.Enumerator.MoveNext()
   at System.Collections.Generic.List`1..ctor(IEnumerable`1 collection)
   at System.Linq.Enumerable.ToList[TSource](IEnumerable`1 source)
   at Microsoft.AspNetCore.DataProtection.EntityFrameworkCore.EntityFrameworkCoreXmlRepository`1.GetAllElements()
   at Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager.GetAllKeys()
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingProvider.CreateCacheableKeyRingCore(DateTimeOffset now, IKey keyJustAdded)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingProvider.Microsoft.AspNetCore.DataProtection.KeyManagement.Internal.ICacheableKeyRingProvider.GetCacheableKeyRing(DateTimeOffset now)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingProvider.GetCurrentKeyRingCore(DateTime utcNow, Boolean forceRefresh)
ClientConnectionId:00000000-0000-0000-0000-000000000000
[2020-12-16T09:26:01.7226497+00:00][INFO][1][Microsoft.AspNetCore.DataProtection.Internal.DataProtectionHostedService] Key ring failed to load during application startup.
Microsoft.Data.SqlClient.SqlException (0x80131904): A network-related or instance-specific error occurred while establishing a connection to SQL Server. The server was not found or was not accessible. Verify that the instance name is correct and that SQL Server is configured to allow remote connections. (provider: TCP Provider, error: 35 - An internal exception was caught)
 ---> System.Net.Internals.SocketExceptionFactory+ExtendedSocketException (00000005, 0xFFFDFFFF): Name or service not known
   at System.Net.Dns.InternalGetHostByName(String hostName)
   at System.Net.Dns.GetHostAddresses(String hostNameOrAddress)
   at Microsoft.Data.SqlClient.SNI.SNITCPHandle.Connect(String serverName, Int32 port, TimeSpan timeout)
   at Microsoft.Data.SqlClient.SNI.SNITCPHandle..ctor(String serverName, Int32 port, Int64 timerExpire, Object callbackObject, Boolean parallel)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.Connect(ServerInfo serverInfo, SqlInternalConnectionTds connHandler, Boolean ignoreSniOpenTimeout, Int64 timerExpire, Boolean encrypt, Boolean trustServerCert, Boolean integratedSecurity, Boolean withFailover, SqlAuthenticationMethod authType, SqlAuthenticationProviderManager sqlAuthProviderManager)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.AttemptOneLogin(ServerInfo serverInfo, String newPassword, SecureString newSecurePassword, Boolean ignoreSniOpenTimeout, TimeoutTimer timeout, Boolean withFailover)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.LoginNoFailover(ServerInfo serverInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString connectionOptions, SqlCredential credential, TimeoutTimer timeout)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.OpenLoginEnlist(TimeoutTimer timeout, SqlConnectionString connectionOptions, SqlCredential credential, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds..ctor(DbConnectionPoolIdentity identity, SqlConnectionString connectionOptions, SqlCredential credential, Object providerInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString userConnectionOptions, SessionData reconnectSessionData, Boolean applyTransientFaultHandling, String accessToken, DbConnectionPool pool, SqlAuthenticationProviderManager sqlAuthProviderManager)
   at Microsoft.Data.SqlClient.SqlConnectionFactory.CreateConnection(DbConnectionOptions options, DbConnectionPoolKey poolKey, Object poolGroupProviderInfo, DbConnectionPool pool, DbConnection owningConnection, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionFactory.CreatePooledConnection(DbConnectionPool pool, DbConnection owningObject, DbConnectionOptions options, DbConnectionPoolKey poolKey, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionPool.CreateObject(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.UserCreateRequest(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, UInt32 waitForMultipleObjectsTimeout, Boolean allowCreate, Boolean onlyOneCheckConnection, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, TaskCompletionSource`1 retry, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionFactory.TryGetConnection(DbConnection owningConnection, TaskCompletionSource`1 retry, DbConnectionOptions userOptions, DbConnectionInternal oldConnection, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionInternal.TryOpenConnectionInternal(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionClosed.TryOpenConnection(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)
   at Microsoft.Data.SqlClient.SqlConnection.TryOpen(TaskCompletionSource`1 retry)
   at Microsoft.Data.SqlClient.SqlConnection.Open()
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenDbConnection(Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.Open(Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReader(RelationalCommandParameterObject parameterObject)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryingEnumerable`1.Enumerator.InitializeReader(DbContext _, Boolean result)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryingEnumerable`1.Enumerator.MoveNext()
   at System.Collections.Generic.List`1..ctor(IEnumerable`1 collection)
   at System.Linq.Enumerable.ToList[TSource](IEnumerable`1 source)
   at Microsoft.AspNetCore.DataProtection.EntityFrameworkCore.EntityFrameworkCoreXmlRepository`1.GetAllElements()
   at Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager.GetAllKeys()
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingProvider.CreateCacheableKeyRingCore(DateTimeOffset now, IKey keyJustAdded)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingProvider.Microsoft.AspNetCore.DataProtection.KeyManagement.Internal.ICacheableKeyRingProvider.GetCacheableKeyRing(DateTimeOffset now)
   at Mi[2020-12-16T09:36:33.6847411+00:00][INFO][1][Microsoft.EntityFrameworkCore.Infrastructure] Entity Framework Core "3.1.9" initialized '"IdentityServerDataProtectionDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=EventManager.Identity.Admin.EntityFramework.SqlServer "
[2020-12-16T09:36:51.1401779+00:00][EROR][1][Microsoft.EntityFrameworkCore.Database.Connection] An error occurred using the connection to database '"IdentityServer4Admin"' on server '"db"'.
[2020-12-16T09:36:51.3800076+00:00][EROR][1][Microsoft.EntityFrameworkCore.Query] An exception occurred while iterating over the results of a query for context type '"EventManager.Identity.Admin.EntityFramework.Shared.DbContexts.IdentityServerDataProtectionDbContext"'."
""Microsoft.Data.SqlClient.SqlException (0x80131904): A network-related or instance-specific error occurred while establishing a connection to SQL Server. The server was not found or was not accessible. Verify that the instance name is correct and that SQL Server is configured to allow remote connections. (provider: TCP Provider, error: 35 - An internal exception was caught)
 ---> System.Net.Internals.SocketExceptionFactory+ExtendedSocketException (00000005, 0xFFFDFFFF): Name or service not known
   at System.Net.Dns.InternalGetHostByName(String hostName)
   at System.Net.Dns.GetHostAddresses(String hostNameOrAddress)
   at Microsoft.Data.SqlClient.SNI.SNITCPHandle.Connect(String serverName, Int32 port, TimeSpan timeout)
   at Microsoft.Data.SqlClient.SNI.SNITCPHandle..ctor(String serverName, Int32 port, Int64 timerExpire, Object callbackObject, Boolean parallel)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.Connect(ServerInfo serverInfo, SqlInternalConnectionTds connHandler, Boolean ignoreSniOpenTimeout, Int64 timerExpire, Boolean encrypt, Boolean trustServerCert, Boolean integratedSecurity, Boolean withFailover, SqlAuthenticationMethod authType, SqlAuthenticationProviderManager sqlAuthProviderManager)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.AttemptOneLogin(ServerInfo serverInfo, String newPassword, SecureString newSecurePassword, Boolean ignoreSniOpenTimeout, TimeoutTimer timeout, Boolean withFailover)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.LoginNoFailover(ServerInfo serverInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString connectionOptions, SqlCredential credential, TimeoutTimer timeout)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.OpenLoginEnlist(TimeoutTimer timeout, SqlConnectionString connectionOptions, SqlCredential credential, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds..ctor(DbConnectionPoolIdentity identity, SqlConnectionString connectionOptions, SqlCredential credential, Object providerInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString userConnectionOptions, SessionData reconnectSessionData, Boolean applyTransientFaultHandling, String accessToken, DbConnectionPool pool, SqlAuthenticationProviderManager sqlAuthProviderManager)
   at Microsoft.Data.SqlClient.SqlConnectionFactory.CreateConnection(DbConnectionOptions options, DbConnectionPoolKey poolKey, Object poolGroupProviderInfo, DbConnectionPool pool, DbConnection owningConnection, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionFactory.CreatePooledConnection(DbConnectionPool pool, DbConnection owningObject, DbConnectionOptions options, DbConnectionPoolKey poolKey, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionPool.CreateObject(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.UserCreateRequest(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, UInt32 waitForMultipleObjectsTimeout, Boolean allowCreate, Boolean onlyOneCheckConnection, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, TaskCompletionSource`1 retry, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionFactory.TryGetConnection(DbConnection owningConnection, TaskCompletionSource`1 retry, DbConnectionOptions userOptions, DbConnectionInternal oldConnection, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionInternal.TryOpenConnectionInternal(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionClosed.TryOpenConnection(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)
   at Microsoft.Data.SqlClient.SqlConnection.TryOpen(TaskCompletionSource`1 retry)
   at Microsoft.Data.SqlClient.SqlConnection.Open()
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenDbConnection(Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.Open(Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReader(RelationalCommandParameterObject parameterObject)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryingEnumerable`1.Enumerator.InitializeReader(DbContext _, Boolean result)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryingEnumerable`1.Enumerator.MoveNext()
ClientConnectionId:00000000-0000-0000-0000-000000000000"
Microsoft.Data.SqlClient.SqlException (0x80131904): A network-related or instance-specific error occurred while establishing a connection to SQL Server. The server was not found or was not accessible. Verify that the instance name is correct and that SQL Server is configured to allow remote connections. (provider: TCP Provider, error: 35 - An internal exception was caught)
 ---> System.Net.Internals.SocketExceptionFactory+ExtendedSocketException (00000005, 0xFFFDFFFF): Name or service not known
   at System.Net.Dns.InternalGetHostByName(String hostName)
   at System.Net.Dns.GetHostAddresses(String hostNameOrAddress)
   at Microsoft.Data.SqlClient.SNI.SNITCPHandle.Connect(String serverName, Int32 port, TimeSpan timeout)
   at Microsoft.Data.SqlClient.SNI.SNITCPHandle..ctor(String serverName, Int32 port, Int64 timerExpire, Object callbackObject, Boolean parallel)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.Connect(ServerInfo serverInfo, SqlInternalConnectionTds connHandler, Boolean ignoreSniOpenTimeout, Int64 timerExpire, Boolean encrypt, Boolean trustServerCert, Boolean integratedSecurity, Boolean withFailover, SqlAuthenticationMethod authType, SqlAuthenticationProviderManager sqlAuthProviderManager)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.AttemptOneLogin(ServerInfo serverInfo, String newPassword, SecureString newSecurePassword, Boolean ignoreSniOpenTimeout, TimeoutTimer timeout, Boolean withFailover)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.LoginNoFailover(ServerInfo serverInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString connectionOptions, SqlCredential credential, TimeoutTimer timeout)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.OpenLoginEnlist(TimeoutTimer timeout, SqlConnectionString connectionOptions, SqlCredential credential, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds..ctor(DbConnectionPoolIdentity identity, SqlConnectionString connectionOptions, SqlCredential credential, Object providerInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString userConnectionOptions, SessionData reconnectSessionData, Boolean applyTransientFaultHandling, String accessToken, DbConnectionPool pool, SqlAuthenticationProviderManager sqlAuthProviderManager)
   at Microsoft.Data.SqlClient.SqlConnectionFactory.CreateConnection(DbConnectionOptions options, DbConnectionPoolKey poolKey, Object poolGroupProviderInfo, DbConnectionPool pool, DbConnection owningConnection, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionFactory.CreatePooledConnection(DbConnectionPool pool, DbConnection owningObject, DbConnectionOptions options, DbConnectionPoolKey poolKey, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionPool.CreateObject(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.UserCreateRequest(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, UInt32 waitForMultipleObjectsTimeout, Boolean allowCreate, Boolean onlyOneCheckConnection, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, TaskCompletionSource`1 retry, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionFactory.TryGetConnection(DbConnection owningConnection, TaskCompletionSource`1 retry, DbConnectionOptions userOptions, DbConnectionInternal oldConnection, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionInternal.TryOpenConnectionInternal(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionClosed.TryOpenConnection(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)
   at Microsoft.Data.SqlClient.SqlConnection.TryOpen(TaskCompletionSource`1 retry)
   at Microsoft.Data.SqlClient.SqlConnection.Open()
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenDbConnection(Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.Open(Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReader(RelationalCommandParameterObject parameterObject)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryingEnumerable`1.Enumerator.InitializeReader(DbContext _, Boolean result)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryingEnumerable`1.Enumerator.MoveNext()
ClientConnectionId:00000000-0000-0000-0000-000000000000
[2020-12-16T09:36:51.4824307+00:00][EROR][1][Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingProvider] An error occurred while reading the key ring.
Microsoft.Data.SqlClient.SqlException (0x80131904): A network-related or instance-specific error occurred while establishing a connection to SQL Server. The server was not found or was not accessible. Verify that the instance name is correct and that SQL Server is configured to allow remote connections. (provider: TCP Provider, error: 35 - An internal exception was caught)
 ---> System.Net.Internals.SocketExceptionFactory+ExtendedSocketException (00000005, 0xFFFDFFFF): Name or service not known
   at System.Net.Dns.InternalGetHostByName(String hostName)
   at System.Net.Dns.GetHostAddresses(String hostNameOrAddress)
   at Microsoft.Data.SqlClient.SNI.SNITCPHandle.Connect(String serverName, Int32 port, TimeSpan timeout)
   at Microsoft.Data.SqlClient.SNI.SNITCPHandle..ctor(String serverName, Int32 port, Int64 timerExpire, Object callbackObject, Boolean parallel)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.Connect(ServerInfo serverInfo, SqlInternalConnectionTds connHandler, Boolean ignoreSniOpenTimeout, Int64 timerExpire, Boolean encrypt, Boolean trustServerCert, Boolean integratedSecurity, Boolean withFailover, SqlAuthenticationMethod authType, SqlAuthenticationProviderManager sqlAuthProviderManager)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.AttemptOneLogin(ServerInfo serverInfo, String newPassword, SecureString newSecurePassword, Boolean ignoreSniOpenTimeout, TimeoutTimer timeout, Boolean withFailover)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.LoginNoFailover(ServerInfo serverInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString connectionOptions, SqlCredential credential, TimeoutTimer timeout)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.OpenLoginEnlist(TimeoutTimer timeout, SqlConnectionString connectionOptions, SqlCredential credential, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds..ctor(DbConnectionPoolIdentity identity, SqlConnectionString connectionOptions, SqlCredential credential, Object providerInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString userConnectionOptions, SessionData reconnectSessionData, Boolean applyTransientFaultHandling, String accessToken, DbConnectionPool pool, SqlAuthenticationProviderManager sqlAuthProviderManager)
   at Microsoft.Data.SqlClient.SqlConnectionFactory.CreateConnection(DbConnectionOptions options, DbConnectionPoolKey poolKey, Object poolGroupProviderInfo, DbConnectionPool pool, DbConnection owningConnection, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionFactory.CreatePooledConnection(DbConnectionPool pool, DbConnection owningObject, DbConnectionOptions options, DbConnectionPoolKey poolKey, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionPool.CreateObject(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.UserCreateRequest(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, UInt32 waitForMultipleObjectsTimeout, Boolean allowCreate, Boolean onlyOneCheckConnection, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, TaskCompletionSource`1 retry, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionFactory.TryGetConnection(DbConnection owningConnection, TaskCompletionSource`1 retry, DbConnectionOptions userOptions, DbConnectionInternal oldConnection, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionInternal.TryOpenConnectionInternal(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionClosed.TryOpenConnection(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)
   at Microsoft.Data.SqlClient.SqlConnection.TryOpen(TaskCompletionSource`1 retry)
   at Microsoft.Data.SqlClient.SqlConnection.Open()
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenDbConnection(Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.Open(Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReader(RelationalCommandParameterObject parameterObject)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryingEnumerable`1.Enumerator.InitializeReader(DbContext _, Boolean result)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryingEnumerable`1.Enumerator.MoveNext()
   at System.Collections.Generic.List`1..ctor(IEnumerable`1 collection)
   at System.Linq.Enumerable.ToList[TSource](IEnumerable`1 source)
   at Microsoft.AspNetCore.DataProtection.EntityFrameworkCore.EntityFrameworkCoreXmlRepository`1.GetAllElements()
   at Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager.GetAllKeys()
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingProvider.CreateCacheableKeyRingCore(DateTimeOffset now, IKey keyJustAdded)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingProvider.Microsoft.AspNetCore.DataProtection.KeyManagement.Internal.ICacheableKeyRingProvider.GetCacheableKeyRing(DateTimeOffset now)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingProvider.GetCurrentKeyRingCore(DateTime utcNow, Boolean forceRefresh)
ClientConnectionId:00000000-0000-0000-0000-000000000000
[2020-12-16T09:36:51.6148530+00:00][INFO][1][Microsoft.AspNetCore.DataProtection.Internal.DataProtectionHostedService] Key ring failed to load during application startup.
Microsoft.Data.SqlClient.SqlException (0x80131904): A network-related or instance-specific error occurred while establishing a connection to SQL Server. The server was not found or was not accessible. Verify that the instance name is correct and that SQL Server is configured to allow remote connections. (provider: TCP Provider, error: 35 - An internal exception was caught)
 ---> System.Net.Internals.SocketExceptionFactory+ExtendedSocketException (00000005, 0xFFFDFFFF): Name or service not known
   at System.Net.Dns.InternalGetHostByName(String hostName)
   at System.Net.Dns.GetHostAddresses(String hostNameOrAddress)
   at Microsoft.Data.SqlClient.SNI.SNITCPHandle.Connect(String serverName, Int32 port, TimeSpan timeout)
   at Microsoft.Data.SqlClient.SNI.SNITCPHandle..ctor(String serverName, Int32 port, Int64 timerExpire, Object callbackObject, Boolean parallel)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.Connect(ServerInfo serverInfo, SqlInternalConnectionTds connHandler, Boolean ignoreSniOpenTimeout, Int64 timerExpire, Boolean encrypt, Boolean trustServerCert, Boolean integratedSecurity, Boolean withFailover, SqlAuthenticationMethod authType, SqlAuthenticationProviderManager sqlAuthProviderManager)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.AttemptOneLogin(ServerInfo serverInfo, String newPassword, SecureString newSecurePassword, Boolean ignoreSniOpenTimeout, TimeoutTimer timeout, Boolean withFailover)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.LoginNoFailover(ServerInfo serverInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString connectionOptions, SqlCredential credential, TimeoutTimer timeout)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.OpenLoginEnlist(TimeoutTimer timeout, SqlConnectionString connectionOptions, SqlCredential credential, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds..ctor(DbConnectionPoolIdentity identity, SqlConnectionString connectionOptions, SqlCredential credential, Object providerInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString userConnectionOptions, SessionData reconnectSessionData, Boolean applyTransientFaultHandling, String accessToken, DbConnectionPool pool, SqlAuthenticationProviderManager sqlAuthProviderManager)
   at Microsoft.Data.SqlClient.SqlConnectionFactory.CreateConnection(DbConnectionOptions options, DbConnectionPoolKey poolKey, Object poolGroupProviderInfo, DbConnectionPool pool, DbConnection owningConnection, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionFactory.CreatePooledConnection(DbConnectionPool pool, DbConnection owningObject, DbConnectionOptions options, DbConnectionPoolKey poolKey, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionPool.CreateObject(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.UserCreateRequest(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, UInt32 waitForMultipleObjectsTimeout, Boolean allowCreate, Boolean onlyOneCheckConnection, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, TaskCompletionSource`1 retry, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionFactory.TryGetConnection(DbConnection owningConnection, TaskCompletionSource`1 retry, DbConnectionOptions userOptions, DbConnectionInternal oldConnection, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionInternal.TryOpenConnectionInternal(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionClosed.TryOpenConnection(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)
   at Microsoft.Data.SqlClient.SqlConnection.TryOpen(TaskCompletionSource`1 retry)
   at Microsoft.Data.SqlClient.SqlConnection.Open()
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenDbConnection(Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.Open(Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReader(RelationalCommandParameterObject parameterObject)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryingEnumerable`1.Enumerator.InitializeReader(DbContext _, Boolean result)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryingEnumerable`1.Enumerator.MoveNext()
   at System.Collections.Generic.List`1..ctor(IEnumerable`1 collection)
   at System.Linq.Enumerable.ToList[TSource](IEnumerable`1 source)
   at Microsoft.AspNetCore.DataProtection.EntityFrameworkCore.EntityFrameworkCoreXmlRepository`1.GetAllElements()
   at Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager.GetAllKeys()
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingProvider.CreateCacheableKeyRingCore(DateTimeOffset now, IKey keyJustAdded)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingProvider.Microsoft.AspNetCore.DataProtection.KeyManagement.Internal.ICacheableKeyRingProvider.GetCacheableKeyRing(DateTimeOffset now)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingProvider.GetCurrentKeyRingCore(DateTime utcNow, Boolean forceRefresh)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingProvider.GetCurrentKeyRing()
   at Microsoft.AspNetCore.DataProtection.Internal.DataProtectionHostedService.StartAsync(CancellationToken token)
ClientConnectionId:00000000-0000-0000-0000-000000000000
[2020-12-16T09:36:51.8939677+00:00][INFO][1][IdentityServer4.Startup] Starting IdentityServer4 version "4.1.1+cebd52f5bc61bdefc262fd20739d4d087c6f961f"
[2020-12-16T09:36:51.9597446+00:00][DBUG][1][IdentityServer4.Startup] Custom IssuerUri set to "https://id.em.local"
[2020-12-16T09:36:51.9905466+00:00][INFO][1][IdentityServer4.Startup] Using the default authentication scheme "Identity.Application" for IdentityServer
[2020-12-16T09:36:51.9907536+00:00][DBUG][1][IdentityServer4.Startup] Using "Identity.Application" as default ASP.NET Core scheme for authentication
[2020-12-16T09:36:51.9909386+00:00][DBUG][1][IdentityServer4.Startup] Using "Identity.External" as default ASP.NET Core scheme for sign-in
[2020-12-16T09:36:51.9962549+00:00][DBUG][1][IdentityServer4.Startup] Using "Identity.External" as default ASP.NET Core scheme for sign-out
[2020-12-16T09:36:51.9967708+00:00][DBUG][1][IdentityServer4.Startup] Using "Identity.Application" as default ASP.NET Core scheme for challenge
[2020-12-16T09:36:51.9969818+00:00][DBUG][1][IdentityServer4.Startup] Using "Identity.Application" as default ASP.NET Core scheme for forbid
[2020-12-16T09:36:53.1082595+00:00][INFO][1][Microsoft.Hosting.Lifetime] Now listening on: "http://[::]:80"
[2020-12-16T09:36:53.1305696+00:00][INFO][1][Microsoft.Hosting.Lifetime] Application started. Press Ctrl+C to shut down.
[2020-12-16T09:36:53.1315033+00:00][INFO][1][Microsoft.Hosting.Lifetime] Hosting environment: "Development"
[2020-12-16T09:36:53.1329019+00:00][INFO][1][Microsoft.Hosting.Lifetime] Content root path: "/app"
[2020-12-16T09:46:04.0702214+00:00][INFO][20][Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 GET http://id.em.local/  
[2020-12-16T09:46:04.4864151+00:00][DBUG][20][IdentityServer4.Startup] Login Url: "/Account/Login"
[2020-12-16T09:46:04.4870988+00:00][DBUG][20][IdentityServer4.Startup] Login Return Url Parameter: "ReturnUrl"
[2020-12-16T09:46:04.4875722+00:00][DBUG][20][IdentityServer4.Startup] Logout Url: "/Account/Logout"
[2020-12-16T09:46:04.4989402+00:00][DBUG][20][IdentityServer4.Startup] ConsentUrl Url: "/consent"
[2020-12-16T09:46:04.4995817+00:00][DBUG][20][IdentityServer4.Startup] Consent Return Url Parameter: "returnUrl"
[2020-12-16T09:46:04.5000000+00:00][DBUG][20][IdentityServer4.Startup] Error Url: "/home/error"
[2020-12-16T09:46:04.5003323+00:00][DBUG][20][IdentityServer4.Startup] Error Id Parameter: "errorId"
[2020-12-16T09:46:05.1798552+00:00][INFO][20][Microsoft.AspNetCore.Routing.EndpointMiddleware] Executing endpoint '"EventManager.Identity.STS.Identity.Controllers.HomeController.Index (EventManager.Identity.STS.Identity)"'
[2020-12-16T09:46:05.4518571+00:00][INFO][20][Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Route matched with "{action = \"Index\", controller = \"Home\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult Index()" on controller "EventManager.Identity.STS.Identity.Controllers.HomeController" ("EventManager.Identity.STS.Identity").
[2020-12-16T09:46:06.6883431+00:00][INFO][20][Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor] Executing ViewResult, running view "Index".
[2020-12-16T09:46:11.6538178+00:00][INFO][20][Microsoft.EntityFrameworkCore.Infrastructure] Entity Framework Core "3.1.9" initialized '"IdentityServerDataProtectionDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=EventManager.Identity.Admin.EntityFramework.SqlServer "
[2020-12-16T09:46:28.9447871+00:00][EROR][20][Microsoft.EntityFrameworkCore.Database.Connection] An error occurred using the connection to database '"IdentityServer4Admin"' on server '"db"'.
[2020-12-16T09:46:29.1693179+00:00][EROR][20][Microsoft.EntityFrameworkCore.Query] An exception occurred while iterating over the results of a query for context type '"EventManager.Identity.Admin.EntityFramework.Shared.DbContexts.IdentityServerDataProtectionDbContext"'."
""Microsoft.Data.SqlClient.SqlException (0x80131904): A network-related or instance-specific error occurred while establishing a connection to SQL Server. The server was not found or was not accessible. Verify that the instance name is correct and that SQL Server is configured to allow remote connections. (provider: TCP Provider, error: 35 - An internal exception was caught)
 ---> System.Net.Internals.SocketExceptionFactory+ExtendedSocketException (00000005, 0xFFFDFFFF): Name or service not known
   at System.Net.Dns.InternalGetHostByName(String hostName)
   at System.Net.Dns.GetHostAddresses(String hostNameOrAddress)
   at Microsoft.Data.SqlClient.SNI.SNITCPHandle.Connect(String serverName, Int32 port, TimeSpan timeout)
   at Microsoft.Data.SqlClient.SNI.SNITCPHandle..ctor(String serverName, Int32 port, Int64 timerExpire, Object callbackObject, Boolean parallel)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.Connect(ServerInfo serverInfo, SqlInternalConnectionTds connHandler, Boolean ignoreSniOpenTimeout, Int64 timerExpire, Boolean encrypt, Boolean trustServerCert, Boolean integratedSecurity, Boolean withFailover, SqlAuthenticationMethod authType, SqlAuthenticationProviderManager sqlAuthProviderManager)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.AttemptOneLogin(ServerInfo serverInfo, String newPassword, SecureString newSecurePassword, Boolean ignoreSniOpenTimeout, TimeoutTimer timeout, Boolean withFailover)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.LoginNoFailover(ServerInfo serverInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString connectionOptions, SqlCredential credential, TimeoutTimer timeout)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.OpenLoginEnlist(TimeoutTimer timeout, SqlConnectionString connectionOptions, SqlCredential credential, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds..ctor(DbConnectionPoolIdentity identity, SqlConnectionString connectionOptions, SqlCredential credential, Object providerInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString userConnectionOptions, SessionData reconnectSessionData, Boolean applyTransientFaultHandling, String accessToken, DbConnectionPool pool, SqlAuthenticationProviderManager sqlAuthProviderManager)
   at Microsoft.Data.SqlClient.SqlConnectionFactory.CreateConnection(DbConnectionOptions options, DbConnectionPoolKey poolKey, Object poolGroupProviderInfo, DbConnectionPool pool, DbConnection owningConnection, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionFactory.CreatePooledConnection(DbConnectionPool pool, DbConnection owningObject, DbConnectionOptions options, DbConnectionPoolKey poolKey, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionPool.CreateObject(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.UserCreateRequest(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, UInt32 waitForMultipleObjectsTimeout, Boolean allowCreate, Boolean onlyOneCheckConnection, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, TaskCompletionSource`1 retry, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionFactory.TryGetConnection(DbConnection owningConnection, TaskCompletionSource`1 retry, DbConnectionOptions userOptions, DbConnectionInternal oldConnection, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionInternal.TryOpenConnectionInternal(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionClosed.TryOpenConnection(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)
   at Microsoft.Data.SqlClient.SqlConnection.TryOpen(TaskCompletionSource`1 retry)
   at Microsoft.Data.SqlClient.SqlConnection.Open()
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenDbConnection(Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.Open(Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReader(RelationalCommandParameterObject parameterObject)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryingEnumerable`1.Enumerator.InitializeReader(DbContext _, Boolean result)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryingEnumerable`1.Enumerator.MoveNext()
ClientConnectionId:00000000-0000-0000-0000-000000000000"
Microsoft.Data.SqlClient.SqlException (0x80131904): A network-related or instance-specific error occurred while establishing a connection to SQL Server. The server was not found or was not accessible. Verify that the instance name is correct and that SQL Server is configured to allow remote connections. (provider: TCP Provider, error: 35 - An internal exception was caught)
 ---> System.Net.Internals.SocketExceptionFactory+ExtendedSocketException (00000005, 0xFFFDFFFF): Name or service not known
   at System.Net.Dns.InternalGetHostByName(String hostName)
   at System.Net.Dns.GetHostAddresses(String hostNameOrAddress)
   at Microsoft.Data.SqlClient.SNI.SNITCPHandle.Connect(String serverName, Int32 port, TimeSpan timeout)
   at Microsoft.Data.SqlClient.SNI.SNITCPHandle..ctor(String serverName, Int32 port, Int64 timerExpire, Object callbackObject, Boolean parallel)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.Connect(ServerInfo serverInfo, SqlInternalConnectionTds connHandler, Boolean ignoreSniOpenTimeout, Int64 timerExpire, Boolean encrypt, Boolean trustServerCert, Boolean integratedSecurity, Boolean withFailover, SqlAuthenticationMethod authType, SqlAuthenticationProviderManager sqlAuthProviderManager)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.AttemptOneLogin(ServerInfo serverInfo, String newPassword, SecureString newSecurePassword, Boolean ignoreSniOpenTimeout, TimeoutTimer timeout, Boolean withFailover)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.LoginNoFailover(ServerInfo serverInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString connectionOptions, SqlCredential credential, TimeoutTimer timeout)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.OpenLoginEnlist(TimeoutTimer timeout, SqlConnectionString connectionOptions, SqlCredential credential, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds..ctor(DbConnectionPoolIdentity identity, SqlConnectionString connectionOptions, SqlCredential credential, Object providerInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString userConnectionOptions, SessionData reconnectSessionData, Boolean applyTransientFaultHandling, String accessToken, DbConnectionPool pool, SqlAuthenticationProviderManager sqlAuthProviderManager)
   at Microsoft.Data.SqlClient.SqlConnectionFactory.CreateConnection(DbConnectionOptions options, DbConnectionPoolKey poolKey, Object poolGroupProviderInfo, DbConnectionPool pool, DbConnection owningConnection, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionFactory.CreatePooledConnection(DbConnectionPool pool, DbConnection owningObject, DbConnectionOptions options, DbConnectionPoolKey poolKey, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionPool.CreateObject(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.UserCreateRequest(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, UInt32 waitForMultipleObjectsTimeout, Boolean allowCreate, Boolean onlyOneCheckConnection, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, TaskCompletionSource`1 retry, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionFactory.TryGetConnection(DbConnection owningConnection, TaskCompletionSource`1 retry, DbConnectionOptions userOptions, DbConnectionInternal oldConnection, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionInternal.TryOpenConnectionInternal(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionClosed.TryOpenConnection(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)
   at Microsoft.Data.SqlClient.SqlConnection.TryOpen(TaskCompletionSource`1 retry)
   at Microsoft.Data.SqlClient.SqlConnection.Open()
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenDbConnection(Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.Open(Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReader(RelationalCommandParameterObject parameterObject)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryingEnumerable`1.Enumerator.InitializeReader(DbContext _, Boolean result)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryingEnumerable`1.Enumerator.MoveNext()
ClientConnectionId:00000000-0000-0000-0000-000000000000
[2020-12-16T09:46:29.4772635+00:00][EROR][20][Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingProvider] An error occurred while reading the key ring.
Microsoft.Data.SqlClient.SqlException (0x80131904): A network-related or instance-specific error occurred while establishing a connection to SQL Server. The server was not found or was not accessible. Verify that the instance name is correct and that SQL Server is configured to allow remote connections. (provider: TCP Provider, error: 35 - An internal exception was caught)
 ---> System.Net.Internals.SocketExceptionFactory+ExtendedSocketException (00000005, 0xFFFDFFFF): Name or service not known
   at System.Net.Dns.InternalGetHostByName(String hostName)
   at System.Net.Dns.GetHostAddresses(String hostNameOrAddress)
   at Microsoft.Data.SqlClient.SNI.SNITCPHandle.Connect(String serverName, Int32 port, TimeSpan timeout)
   at Microsoft.Data.SqlClient.SNI.SNITCPHandle..ctor(String serverName, Int32 port, Int64 timerExpire, Object callbackObject, Boolean parallel)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.Connect(ServerInfo serverInfo, SqlInternalConnectionTds connHandler, Boolean ignoreSniOpenTimeout, Int64 timerExpire, Boolean encrypt, Boolean trustServerCert, Boolean integratedSecurity, Boolean withFailover, SqlAuthenticationMethod authType, SqlAuthenticationProviderManager sqlAuthProviderManager)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.AttemptOneLogin(ServerInfo serverInfo, String newPassword, SecureString newSecurePassword, Boolean ignoreSniOpenTimeout, TimeoutTimer timeout, Boolean withFailover)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.LoginNoFailover(ServerInfo serverInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString connectionOptions, SqlCredential credential, TimeoutTimer timeout)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.OpenLoginEnlist(TimeoutTimer timeout, SqlConnectionString connectionOptions, SqlCredential credential, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds..ctor(DbConnectionPoolIdentity identity, SqlConnectionString connectionOptions, SqlCredential credential, Object providerInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString userConnectionOptions, SessionData reconnectSessionData, Boolean applyTransientFaultHandling, String accessToken, DbConnectionPool pool, SqlAuthenticationProviderManager sqlAuthProviderManager)
   at Microsoft.Data.SqlClient.SqlConnectionFactory.CreateConnection(DbConnectionOptions options, DbConnectionPoolKey poolKey, Object poolGroupProviderInfo, DbConnectionPool pool, DbConnection owningConnection, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionFactory.CreatePooledConnection(DbConnectionPool pool, DbConnection owningObject, DbConnectionOptions options, DbConnectionPoolKey poolKey, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionPool.CreateObject(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.UserCreateRequest(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, UInt32 waitForMultipleObjectsTimeout, Boolean allowCreate, Boolean onlyOneCheckConnection, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, TaskCompletionSource`1 retry, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionFactory.TryGetConnection(DbConnection owningConnection, TaskCompletionSource`1 retry, DbConnectionOptions userOptions, DbConnectionInternal oldConnection, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionInternal.TryOpenConnectionInternal(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionClosed.TryOpenConnection(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)
   at Microsoft.Data.SqlClient.SqlConnection.TryOpen(TaskCompletionSource`1 retry)
   at Microsoft.Data.SqlClient.SqlConnection.Open()
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenDbConnection(Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.Open(Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReader(RelationalCommandParameterObject parameterObject)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryingEnumerable`1.Enumerator.InitializeReader(DbContext _, Boolean result)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryingEnumerable`1.Enumerator.MoveNext()
   at System.Collections.Generic.List`1..ctor(IEnumerable`1 collection)
   at System.Linq.Enumerable.ToList[TSource](IEnumerable`1 source)
   at Microsoft.AspNetCore.DataProtection.EntityFrameworkCore.EntityFrameworkCoreXmlRepository`1.GetAllElements()
   at Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager.GetAllKeys()
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingProvider.CreateCacheableKeyRingCore(DateTimeOffset now, IKey keyJustAdded)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingProvider.Microsoft.AspNetCore.DataProtection.KeyManagement.Internal.ICacheableKeyRingProvider.GetCacheableKeyRing(DateTimeOffset now)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingProvider.GetCurrentKeyRingCore(DateTime utcNow, Boolean forceRefresh)
ClientConnectionId:00000000-0000-0000-0000-000000000000
[2020-12-16T09:46:40.8542743+00:00][INFO][20][Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Executed action "EventManager.Identity.STS.Identity.Controllers.HomeController.Index (EventManager.Identity.STS.Identity)" in 35333.8096ms
[2020-12-16T09:46:41.2529307+00:00][INFO][20][Microsoft.AspNetCore.Routing.EndpointMiddleware] Executed endpoint '"EventManager.Identity.STS.Identity.Controllers.HomeController.Index (EventManager.Identity.STS.Identity)"'
[2020-12-16T09:46:43.1356771+00:00][EROR][20][Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware] An unhandled exception has occurred while executing the request.
System.Security.Cryptography.CryptographicException: An error occurred while trying to encrypt the provided data. Refer to the inner exception for more information.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): A network-related or instance-specific error occurred while establishing a connection to SQL Server. The server was not found or was not accessible. Verify that the instance name is correct and that SQL Server is configured to allow remote connections. (provider: TCP Provider, error: 35 - An internal exception was caught)
 ---> System.Net.Internals.SocketExceptionFactory+ExtendedSocketException (00000005, 0xFFFDFFFF): Name or service not known
   at System.Net.Dns.InternalGetHostByName(String hostName)
   at System.Net.Dns.GetHostAddresses(String hostNameOrAddress)
   at Microsoft.Data.SqlClient.SNI.SNITCPHandle.Connect(String serverName, Int32 port, TimeSpan timeout)
   at Microsoft.Data.SqlClient.SNI.SNITCPHandle..ctor(String serverName, Int32 port, Int64 timerExpire, Object callbackObject, Boolean parallel)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.Connect(ServerInfo serverInfo, SqlInternalConnectionTds connHandler, Boolean ignoreSniOpenTimeout, Int64 timerExpire, Boolean encrypt, Boolean trustServerCert, Boolean integratedSecurity, Boolean withFailover, SqlAuthenticationMethod authType, SqlAuthenticationProviderManager sqlAuthProviderManager)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.AttemptOneLogin(ServerInfo serverInfo, String newPassword, SecureString newSecurePassword, Boolean ignoreSniOpenTimeout, TimeoutTimer timeout, Boolean withFailover)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.LoginNoFailover(ServerInfo serverInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString connectionOptions, SqlCredential credential, TimeoutTimer timeout)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.OpenLoginEnlist(TimeoutTimer timeout, SqlConnectionString connectionOptions, SqlCredential credential, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds..ctor(DbConnectionPoolIdentity identity, SqlConnectionString connectionOptions, SqlCredential credential, Object providerInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString userConnectionOptions, SessionData reconnectSessionData, Boolean applyTransientFaultHandling, String accessToken, DbConnectionPool pool, SqlAuthenticationProviderManager sqlAuthProviderManager)
   at Microsoft.Data.SqlClient.SqlConnectionFactory.CreateConnection(DbConnectionOptions options, DbConnectionPoolKey poolKey, Object poolGroupProviderInfo, DbConnectionPool pool, DbConnection owningConnection, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionFactory.CreatePooledConnection(DbConnectionPool pool, DbConnection owningObject, DbConnectionOptions options, DbConnectionPoolKey poolKey, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionPool.CreateObject(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.UserCreateRequest(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, UInt32 waitForMultipleObjectsTimeout, Boolean allowCreate, Boolean onlyOneCheckConnection, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, TaskCompletionSource`1 retry, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionFactory.TryGetConnection(DbConnection owningConnection, TaskCompletionSource`1 retry, DbConnectionOptions userOptions, DbConnectionInternal oldConnection, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionInternal.TryOpenConnectionInternal(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionClosed.TryOpenConnection(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)
   at Microsoft.Data.SqlClient.SqlConnection.TryOpen(TaskCompletionSource`1 retry)
   at Microsoft.Data.SqlClient.SqlConnection.Open()
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenDbConnection(Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.Open(Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReader(RelationalCommandParameterObject parameterObject)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryingEnumerable`1.Enumerator.InitializeReader(DbContext _, Boolean result)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryingEnumerable`1.Enumerator.MoveNext()
   at System.Collections.Generic.List`1..ctor(IEnumerable`1 collection)
   at System.Linq.Enumerable.ToList[TSource](IEnumerable`1 source)
   at Microsoft.AspNetCore.DataProtection.EntityFrameworkCore.EntityFrameworkCoreXmlRepository`1.GetAllElements()
   at Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager.GetAllKeys()
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingProvider.CreateCacheableKeyRingCore(DateTimeOffset now, IKey keyJustAdded)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingProvider.Microsoft.AspNetCore.DataProtection.KeyManagement.Internal.ICacheableKeyRingProvider.GetCacheableKeyRing(DateTimeOffset now)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingProvider.GetCurrentKeyRingCore(DateTime utcNow, Boolean forceRefresh)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingProvider.GetCurrentKeyRing()
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.Protect(Byte[] plaintext)
ClientConnectionId:00000000-0000-0000-0000-000000000000
   --- End of inner exception stack trace ---
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.Protect(Byte[] plaintext)
   at Microsoft.AspNetCore.Antiforgery.DefaultAntiforgeryTokenSerializer.Serialize(AntiforgeryToken token)
   at Microsoft.AspNetCore.Antiforgery.DefaultAntiforgery.Serialize(IAntiforgeryFeature antiforgeryFeature)
   at Microsoft.AspNetCore.Antiforgery.DefaultAntiforgery.GetAndStoreTokens(HttpContext httpContext)
   at Microsoft.AspNetCore.Mvc.ViewFeatures.AntiforgeryExtensions.GetHtml(IAntiforgery antiforgery, HttpContext httpContext)
   at Microsoft.AspNetCore.Mvc.ViewFeatures.DefaultHtmlGenerator.GenerateAntiforgery(ViewContext viewContext)
   at Microsoft.AspNetCore.Mvc.TagHelpers.FormTagHelper.Process(TagHelperContext context, TagHelperOutput output)
   at Microsoft.AspNetCore.Razor.TagHelpers.TagHelper.ProcessAsync(TagHelperContext context, TagHelperOutput output)
   at Microsoft.AspNetCore.Razor.Runtime.TagHelpers.TagHelperRunner.RunAsync(TagHelperExecutionContext executionContext)
   at AspNetCore.Views_Shared_Common_SelectLanguage.ExecuteAsync() in C:\Projects\EventManager\Api\Identity\src\EventManager.Identity.STS.Identity\Views\Shared\Common\SelectLanguage.cshtml:line 18
   at Microsoft.AspNetCore.Mvc.Razor.RazorView.RenderPageCoreAsync(IRazorPage page, ViewContext context)
   at Microsoft.AspNetCore.Mvc.Razor.RazorView.RenderPageAsync(IRazorPage page, ViewContext context, Boolean invokeViewStarts)
   at Microsoft.AspNetCore.Mvc.Razor.RazorView.RenderAsync(ViewContext context)
   at Microsoft.AspNetCore.Mvc.ViewFeatures.HtmlHelper.RenderPartialCoreAsync(String partialViewName, Object model, ViewDataDictionary viewData, TextWriter writer)
   at Microsoft.AspNetCore.Mvc.ViewFeatures.HtmlHelper.PartialAsync(String partialViewName, Object model, ViewDataDictionary viewData)
   at AspNetCore.Views_Shared__Layout.<>c__DisplayClass35_0.<<ExecuteAsync>b__1>d.MoveNext() in C:\Projects\EventManager\Api\Identity\src\EventManager.Identity.STS.Identity\Views\Shared\_Layout.cshtml:line 104
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.AspNetCore.Razor.Runtime.TagHelpers.TagHelperExecutionContext.SetOutputContentAsync()
   at AspNetCore.Views_Shared__Layout.ExecuteAsync() in C:\Projects\EventManager\Api\Identity\src\EventManager.Identity.STS.Identity\Views\Shared\_Layout.cshtml:line 18
   at Microsoft.AspNetCore.Mvc.Razor.RazorView.RenderPageCoreAsync(IRazorPage page, ViewContext context)
   at Microsoft.AspNetCore.Mvc.Razor.RazorView.RenderPageAsync(IRazorPage page, ViewContext context, Boolean invokeViewStarts)
   at Microsoft.AspNetCore.Mvc.Razor.RazorView.RenderLayoutAsync(ViewContext context, ViewBufferTextWriter bodyWriter)
   at Microsoft.AspNetCore.Mvc.Razor.RazorView.RenderAsync(ViewContext context)
   at Microsoft.AspNetCore.Mvc.ViewFeatures.ViewExecutor.ExecuteAsync(ViewContext viewContext, String contentType, Nullable`1 statusCode)
   at Microsoft.AspNetCore.Mvc.ViewFeatures.ViewExecutor.ExecuteAsync(ViewContext viewContext, String contentType, Nullable`1 statusCode)
   at Microsoft.AspNetCore.Mvc.ViewFeatures.ViewExecutor.ExecuteAsync(ActionContext actionContext, IView view, ViewDataDictionary viewData, ITempDataDictionary tempData, String contentType, Nullable`1 statusCode)
   at Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor.ExecuteAsync(ActionContext context, ViewResult result)
   at Microsoft.AspNetCore.Mvc.ViewResult.ExecuteResultAsync(ActionContext context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResultFilterAsync>g__Awaited|29_0[TFilter,TFilterAsync](ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResultExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.ResultNext[TFilter,TFilterAsync](State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeResultFilters()
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResourceFilter>g__Awaited|24_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResourceExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeFilterPipelineAsync()
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Localization.RequestLocalizationMiddleware.Invoke(HttpContext context)
   at IdentityServer4.Hosting.IdentityServerMiddleware.Invoke(HttpContext context, IEndpointRouter router, IUserSession session, IEventService events, IBackChannelLogoutService backChannelLogoutService)
   at IdentityServer4.Hosting.MutualTlsEndpointMiddleware.Invoke(HttpContext context, IAuthenticationSchemeProvider schemes)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at IdentityServer4.Hosting.BaseUrlMiddleware.Invoke(HttpContext context)
   at NWebsec.AspNetCore.Middleware.Middleware.CspMiddleware.Invoke(HttpContext context)
   at NWebsec.AspNetCore.Middleware.Middleware.MiddlewareBase.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
[2020-12-16T09:46:43.7320899+00:00][INFO][20][Microsoft.AspNetCore.Hosting.Diagnostics] Request finished in 39681.0697ms 500 text/html; charset=utf-8
[2020-12-16T09:46:44.9814865+00:00][INFO][21][Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 GET http://id.em.local/favicon.ico  
[2020-12-16T09:46:45.0553742+00:00][INFO][26][Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware] Sending file. Request path: '"/favicon.ico"'. Physical path: '"/app/wwwroot/favicon.ico"'
[2020-12-16T09:46:45.0716465+00:00][INFO][26][Microsoft.AspNetCore.Hosting.Diagnostics] Request finished in 91.3931ms 200 image/x-icon
[2020-12-16T09:48:48.0628240+00:00][INFO][15][Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 GET http://id.em.local/  
[2020-12-16T09:48:48.1716191+00:00][INFO][15][Microsoft.AspNetCore.Routing.EndpointMiddleware] Executing endpoint '"EventManager.Identity.STS.Identity.Controllers.HomeController.Index (EventManager.Identity.STS.Identity)"'
[2020-12-16T09:48:48.1760795+00:00][INFO][15][Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Route matched with "{action = \"Index\", controller = \"Home\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult Index()" on controller "EventManager.Identity.STS.Identity.Controllers.HomeController" ("EventManager.Identity.STS.Identity").
[2020-12-16T09:48:48.2439789+00:00][INFO][15][Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor] Executing ViewResult, running view "Index".
[2020-12-16T09:48:48.3070309+00:00][INFO][15][Microsoft.EntityFrameworkCore.Infrastructure] Entity Framework Core "3.1.9" initialized '"IdentityServerDataProtectionDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=EventManager.Identity.Admin.EntityFramework.SqlServer "
[2020-12-16T09:49:04.8290154+00:00][EROR][15][Microsoft.EntityFrameworkCore.Database.Connection] An error occurred using the connection to database '"IdentityServer4Admin"' on server '"db"'.
[2020-12-16T09:49:05.1418344+00:00][EROR][15][Microsoft.EntityFrameworkCore.Query] An exception occurred while iterating over the results of a query for context type '"EventManager.Identity.Admin.EntityFramework.Shared.DbContexts.IdentityServerDataProtectionDbContext"'."
""Microsoft.Data.SqlClient.SqlException (0x80131904): A network-related or instance-specific error occurred while establishing a connection to SQL Server. The server was not found or was not accessible. Verify that the instance name is correct and that SQL Server is configured to allow remote connections. (provider: TCP Provider, error: 35 - An internal exception was caught)
 ---> System.Net.Internals.SocketExceptionFactory+ExtendedSocketException (00000005, 0xFFFDFFFF): Name or service not known
   at System.Net.Dns.InternalGetHostByName(String hostName)
   at System.Net.Dns.GetHostAddresses(String hostNameOrAddress)
   at Microsoft.Data.SqlClient.SNI.SNITCPHandle.Connect(String serverName, Int32 port, TimeSpan timeout)
   at Microsoft.Data.SqlClient.SNI.SNITCPHandle..ctor(String serverName, Int32 port, Int64 timerExpire, Object callbackObject, Boolean parallel)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.Connect(ServerInfo serverInfo, SqlInternalConnectionTds connHandler, Boolean ignoreSniOpenTimeout, Int64 timerExpire, Boolean encrypt, Boolean trustServerCert, Boolean integratedSecurity, Boolean withFailover, SqlAuthenticationMethod authType, SqlAuthenticationProviderManager sqlAuthProviderManager)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.AttemptOneLogin(ServerInfo serverInfo, String newPassword, SecureString newSecurePassword, Boolean ignoreSniOpenTimeout, TimeoutTimer timeout, Boolean withFailover)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.LoginNoFailover(ServerInfo serverInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString connectionOptions, SqlCredential credential, TimeoutTimer timeout)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.OpenLoginEnlist(TimeoutTimer timeout, SqlConnectionString connectionOptions, SqlCredential credential, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds..ctor(DbConnectionPoolIdentity identity, SqlConnectionString connectionOptions, SqlCredential credential, Object providerInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString userConnectionOptions, SessionData reconnectSessionData, Boolean applyTransientFaultHandling, String accessToken, DbConnectionPool pool, SqlAuthenticationProviderManager sqlAuthProviderManager)
   at Microsoft.Data.SqlClient.SqlConnectionFactory.CreateConnection(DbConnectionOptions options, DbConnectionPoolKey poolKey, Object poolGroupProviderInfo, DbConnectionPool pool, DbConnection owningConnection, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionFactory.CreatePooledConnection(DbConnectionPool pool, DbConnection owningObject, DbConnectionOptions options, DbConnectionPoolKey poolKey, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionPool.CreateObject(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.UserCreateRequest(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, UInt32 waitForMultipleObjectsTimeout, Boolean allowCreate, Boolean onlyOneCheckConnection, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, TaskCompletionSource`1 retry, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionFactory.TryGetConnection(DbConnection owningConnection, TaskCompletionSource`1 retry, DbConnectionOptions userOptions, DbConnectionInternal oldConnection, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionInternal.TryOpenConnectionInternal(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionClosed.TryOpenConnection(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)
   at Microsoft.Data.SqlClient.SqlConnection.TryOpen(TaskCompletionSource`1 retry)
   at Microsoft.Data.SqlClient.SqlConnection.Open()
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenDbConnection(Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.Open(Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReader(RelationalCommandParameterObject parameterObject)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryingEnumerable`1.Enumerator.InitializeReader(DbContext _, Boolean result)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryingEnumerable`1.Enumerator.MoveNext()
ClientConnectionId:00000000-0000-0000-0000-000000000000"
Microsoft.Data.SqlClient.SqlException (0x80131904): A network-related or instance-specific error occurred while establishing a connection to SQL Server. The server was not found or was not accessible. Verify that the instance name is correct and that SQL Server is configured to allow remote connections. (provider: TCP Provider, error: 35 - An internal exception was caught)
 ---> System.Net.Internals.SocketExceptionFactory+ExtendedSocketException (00000005, 0xFFFDFFFF): Name or service not known
   at System.Net.Dns.InternalGetHostByName(String hostName)
   at System.Net.Dns.GetHostAddresses(String hostNameOrAddress)
   at Microsoft.Data.SqlClient.SNI.SNITCPHandle.Connect(String serverName, Int32 port, TimeSpan timeout)
   at Microsoft.Data.SqlClient.SNI.SNITCPHandle..ctor(String serverName, Int32 port, Int64 timerExpire, Object callbackObject, Boolean parallel)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.Connect(ServerInfo serverInfo, SqlInternalConnectionTds connHandler, Boolean ignoreSniOpenTimeout, Int64 timerExpire, Boolean encrypt, Boolean trustServerCert, Boolean integratedSecurity, Boolean withFailover, SqlAuthenticationMethod authType, SqlAuthenticationProviderManager sqlAuthProviderManager)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.AttemptOneLogin(ServerInfo serverInfo, String newPassword, SecureString newSecurePassword, Boolean ignoreSniOpenTimeout, TimeoutTimer timeout, Boolean withFailover)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.LoginNoFailover(ServerInfo serverInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString connectionOptions, SqlCredential credential, TimeoutTimer timeout)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.OpenLoginEnlist(TimeoutTimer timeout, SqlConnectionString connectionOptions, SqlCredential credential, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds..ctor(DbConnectionPoolIdentity identity, SqlConnectionString connectionOptions, SqlCredential credential, Object providerInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString userConnectionOptions, SessionData reconnectSessionData, Boolean applyTransientFaultHandling, String accessToken, DbConnectionPool pool, SqlAuthenticationProviderManager sqlAuthProviderManager)
   at Microsoft.Data.SqlClient.SqlConnectionFactory.CreateConnection(DbConnectionOptions options, DbConnectionPoolKey poolKey, Object poolGroupProviderInfo, DbConnectionPool pool, DbConnection owningConnection, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionFactory.CreatePooledConnection(DbConnectionPool pool, DbConnection owningObject, DbConnectionOptions options, DbConnectionPoolKey poolKey, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionPool.CreateObject(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.UserCreateRequest(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, UInt32 waitForMultipleObjectsTimeout, Boolean allowCreate, Boolean onlyOneCheckConnection, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, TaskCompletionSource`1 retry, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionFactory.TryGetConnection(DbConnection owningConnection, TaskCompletionSource`1 retry, DbConnectionOptions userOptions, DbConnectionInternal oldConnection, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionInternal.TryOpenConnectionInternal(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionClosed.TryOpenConnection(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)
   at Microsoft.Data.SqlClient.SqlConnection.TryOpen(TaskCompletionSource`1 retry)
   at Microsoft.Data.SqlClient.SqlConnection.Open()
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenDbConnection(Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.Open(Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReader(RelationalCommandParameterObject parameterObject)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryingEnumerable`1.Enumerator.InitializeReader(DbContext _, Boolean result)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryingEnumerable`1.Enumerator.MoveNext()
ClientConnectionId:00000000-0000-0000-0000-000000000000
[2020-12-16T09:49:05.4526312+00:00][EROR][15][Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingProvider] An error occurred while reading the key ring.
Microsoft.Data.SqlClient.SqlException (0x80131904): A network-related or instance-specific error occurred while establishing a connection to SQL Server. The server was not found or was not accessible. Verify that the instance name is correct and that SQL Server is configured to allow remote connections. (provider: TCP Provider, error: 35 - An internal exception was caught)
 ---> System.Net.Internals.SocketExceptionFactory+ExtendedSocketException (00000005, 0xFFFDFFFF): Name or service not known
   at System.Net.Dns.InternalGetHostByName(String hostName)
   at System.Net.Dns.GetHostAddresses(String hostNameOrAddress)
   at Microsoft.Data.SqlClient.SNI.SNITCPHandle.Connect(String serverName, Int32 port, TimeSpan timeout)
   at Microsoft.Data.SqlClient.SNI.SNITCPHandle..ctor(String serverName, Int32 port, Int64 timerExpire, Object callbackObject, Boolean parallel)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.Connect(ServerInfo serverInfo, SqlInternalConnectionTds connHandler, Boolean ignoreSniOpenTimeout, Int64 timerExpire, Boolean encrypt, Boolean trustServerCert, Boolean integratedSecurity, Boolean withFailover, SqlAuthenticationMethod authType, SqlAuthenticationProviderManager sqlAuthProviderManager)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.AttemptOneLogin(ServerInfo serverInfo, String newPassword, SecureString newSecurePassword, Boolean ignoreSniOpenTimeout, TimeoutTimer timeout, Boolean withFailover)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.LoginNoFailover(ServerInfo serverInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString connectionOptions, SqlCredential credential, TimeoutTimer timeout)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.OpenLoginEnlist(TimeoutTimer timeout, SqlConnectionString connectionOptions, SqlCredential credential, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds..ctor(DbConnectionPoolIdentity identity, SqlConnectionString connectionOptions, SqlCredential credential, Object providerInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString userConnectionOptions, SessionData reconnectSessionData, Boolean applyTransientFaultHandling, String accessToken, DbConnectionPool pool, SqlAuthenticationProviderManager sqlAuthProviderManager)
   at Microsoft.Data.SqlClient.SqlConnectionFactory.CreateConnection(DbConnectionOptions options, DbConnectionPoolKey poolKey, Object poolGroupProviderInfo, DbConnectionPool pool, DbConnection owningConnection, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionFactory.CreatePooledConnection(DbConnectionPool pool, DbConnection owningObject, DbConnectionOptions options, DbConnectionPoolKey poolKey, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionPool.CreateObject(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.UserCreateRequest(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, UInt32 waitForMultipleObjectsTimeout, Boolean allowCreate, Boolean onlyOneCheckConnection, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, TaskCompletionSource`1 retry, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionFactory.TryGetConnection(DbConnection owningConnection, TaskCompletionSource`1 retry, DbConnectionOptions userOptions, DbConnectionInternal oldConnection, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionInternal.TryOpenConnectionInternal(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionClosed.TryOpenConnection(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)
   at Microsoft.Data.SqlClient.SqlConnection.TryOpen(TaskCompletionSource`1 retry)
   at Microsoft.Data.SqlClient.SqlConnection.Open()
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenDbConnection(Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.Open(Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReader(RelationalCommandParameterObject parameterObject)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryingEnumerable`1.Enumerator.InitializeReader(DbContext _, Boolean result)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryingEnumerable`1.Enumerator.MoveNext()
   at System.Collections.Generic.List`1..ctor(IEnumerable`1 collection)
   at System.Linq.Enumerable.ToList[TSource](IEnumerable`1 source)
   at Microsoft.AspNetCore.DataProtection.EntityFrameworkCore.EntityFrameworkCoreXmlRepository`1.GetAllElements()
   at Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager.GetAllKeys()
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingProvider.CreateCacheableKeyRingCore(DateTimeOffset now, IKey keyJustAdded)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingProvider.Microsoft.AspNetCore.DataProtection.KeyManagement.Internal.ICacheableKeyRingProvider.GetCacheableKeyRing(DateTimeOffset now)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingProvider.GetCurrentKeyRingCore(DateTime utcNow, Boolean forceRefresh)
ClientConnectionId:00000000-0000-0000-0000-000000000000
[2020-12-16T09:49:10.3268693+00:00][INFO][15][Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Executed action "EventManager.Identity.STS.Identity.Controllers.HomeController.Index (EventManager.Identity.STS.Identity)" in 22149.5457ms
[2020-12-16T09:49:10.4387223+00:00][INFO][15][Microsoft.AspNetCore.Routing.EndpointMiddleware] Executed endpoint '"EventManager.Identity.STS.Identity.Controllers.HomeController.Index (EventManager.Identity.STS.Identity)"'
[2020-12-16T09:49:11.2248065+00:00][EROR][15][Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware] An unhandled exception has occurred while executing the request.
System.Security.Cryptography.CryptographicException: An error occurred while trying to encrypt the provided data. Refer to the inner exception for more information.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): A network-related or instance-specific error occurred while establishing a connection to SQL Server. The server was not found or was not accessible. Verify that the instance name is correct and that SQL Server is configured to allow remote connections. (provider: TCP Provider, error: 35 - An internal exception was caught)
 ---> System.Net.Internals.SocketExceptionFactory+ExtendedSocketException (00000005, 0xFFFDFFFF): Name or service not known
   at System.Net.Dns.InternalGetHostByName(String hostName)
   at System.Net.Dns.GetHostAddresses(String hostNameOrAddress)
   at Microsoft.Data.SqlClient.SNI.SNITCPHandle.Connect(String serverName, Int32 port, TimeSpan timeout)
   at Microsoft.Data.SqlClient.SNI.SNITCPHandle..ctor(String serverName, Int32 port, Int64 timerExpire, Object callbackObject, Boolean parallel)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.Connect(ServerInfo serverInfo, SqlInternalConnectionTds connHandler, Boolean ignoreSniOpenTimeout, Int64 timerExpire, Boolean encrypt, Boolean trustServerCert, Boolean integratedSecurity, Boolean withFailover, SqlAuthenticationMethod authType, SqlAuthenticationProviderManager sqlAuthProviderManager)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.AttemptOneLogin(ServerInfo serverInfo, String newPassword, SecureString newSecurePassword, Boolean ignoreSniOpenTimeout, TimeoutTimer timeout, Boolean withFailover)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.LoginNoFailover(ServerInfo serverInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString connectionOptions, SqlCredential credential, TimeoutTimer timeout)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.OpenLoginEnlist(TimeoutTimer timeout, SqlConnectionString connectionOptions, SqlCredential credential, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds..ctor(DbConnectionPoolIdentity identity, SqlConnectionString connectionOptions, SqlCredential credential, Object providerInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString userConnectionOptions, SessionData reconnectSessionData, Boolean applyTransientFaultHandling, String accessToken, DbConnectionPool pool, SqlAuthenticationProviderManager sqlAuthProviderManager)
   at Microsoft.Data.SqlClient.SqlConnectionFactory.CreateConnection(DbConnectionOptions options, DbConnectionPoolKey poolKey, Object poolGroupProviderInfo, DbConnectionPool pool, DbConnection owningConnection, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionFactory.CreatePooledConnection(DbConnectionPool pool, DbConnection owningObject, DbConnectionOptions options, DbConnectionPoolKey poolKey, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionPool.CreateObject(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.UserCreateRequest(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, UInt32 waitForMultipleObjectsTimeout, Boolean allowCreate, Boolean onlyOneCheckConnection, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, TaskCompletionSource`1 retry, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionFactory.TryGetConnection(DbConnection owningConnection, TaskCompletionSource`1 retry, DbConnectionOptions userOptions, DbConnectionInternal oldConnection, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionInternal.TryOpenConnectionInternal(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionClosed.TryOpenConnection(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)
   at Microsoft.Data.SqlClient.SqlConnection.TryOpen(TaskCompletionSource`1 retry)
   at Microsoft.Data.SqlClient.SqlConnection.Open()
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenDbConnection(Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.Open(Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReader(RelationalCommandParameterObject parameterObject)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryingEnumerable`1.Enumerator.InitializeReader(DbContext _, Boolean result)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryingEnumerable`1.Enumerator.MoveNext()
   at System.Collections.Generic.List`1..ctor(IEnumerable`1 collection)
   at System.Linq.Enumerable.ToList[TSource](IEnumerable`1 source)
   at Microsoft.AspNetCore.DataProtection.EntityFrameworkCore.EntityFrameworkCoreXmlRepository`1.GetAllElements()
   at Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager.GetAllKeys()
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingProvider.CreateCacheableKeyRingCore(DateTimeOffset now, IKey keyJustAdded)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingProvider.Microsoft.AspNetCore.DataProtection.KeyManagement.Internal.ICacheableKeyRingProvider.GetCacheableKeyRing(DateTimeOffset now)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingProvider.GetCurrentKeyRingCore(DateTime utcNow, Boolean forceRefresh)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingProvider.GetCurrentKeyRing()
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.Protect(Byte[] plaintext)
ClientConnectionId:00000000-0000-0000-0000-000000000000
   --- End of inner exception stack trace ---
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.Protect(Byte[] plaintext)
   at Microsoft.AspNetCore.Antiforgery.DefaultAntiforgeryTokenSerializer.Serialize(AntiforgeryToken token)
   at Microsoft.AspNetCore.Antiforgery.DefaultAntiforgery.Serialize(IAntiforgeryFeature antiforgeryFeature)
   at Microsoft.AspNetCore.Antiforgery.DefaultAntiforgery.GetAndStoreTokens(HttpContext httpContext)
   at Microsoft.AspNetCore.Mvc.ViewFeatures.AntiforgeryExtensions.GetHtml(IAntiforgery antiforgery, HttpContext httpContext)
   at Microsoft.AspNetCore.Mvc.ViewFeatures.DefaultHtmlGenerator.GenerateAntiforgery(ViewContext viewContext)
   at Microsoft.AspNetCore.Mvc.TagHelpers.FormTagHelper.Process(TagHelperContext context, TagHelperOutput output)
   at Microsoft.AspNetCore.Razor.TagHelpers.TagHelper.ProcessAsync(TagHelperContext context, TagHelperOutput output)
   at Microsoft.AspNetCore.Razor.Runtime.TagHelpers.TagHelperRunner.RunAsync(TagHelperExecutionContext executionContext)
   at AspNetCore.Views_Shared_Common_SelectLanguage.ExecuteAsync() in C:\Projects\EventManager\Api\Identity\src\EventManager.Identity.STS.Identity\Views\Shared\Common\SelectLanguage.cshtml:line 18
   at Microsoft.AspNetCore.Mvc.Razor.RazorView.RenderPageCoreAsync(IRazorPage page, ViewContext context)
   at Microsoft.AspNetCore.Mvc.Razor.RazorView.RenderPageAsync(IRazorPage page, ViewContext context, Boolean invokeViewStarts)
   at Microsoft.AspNetCore.Mvc.Razor.RazorView.RenderAsync(ViewContext context)
   at Microsoft.AspNetCore.Mvc.ViewFeatures.HtmlHelper.RenderPartialCoreAsync(String partialViewName, Object model, ViewDataDictionary viewData, TextWriter writer)
   at Microsoft.AspNetCore.Mvc.ViewFeatures.HtmlHelper.PartialAsync(String partialViewName, Object model, ViewDataDictionary viewData)
   at AspNetCore.Views_Shared__Layout.<>c__DisplayClass35_0.<<ExecuteAsync>b__1>d.MoveNext() in C:\Projects\EventManager\Api\Identity\src\EventManager.Identity.STS.Identity\Views\Shared\_Layout.cshtml:line 104
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.AspNetCore.Razor.Runtime.TagHelpers.TagHelperExecutionContext.SetOutputContentAsync()
   at AspNetCore.Views_Shared__Layout.ExecuteAsync() in C:\Projects\EventManager\Api\Identity\src\EventManager.Identity.STS.Identity\Views\Shared\_Layout.cshtml:line 18
   at Microsoft.AspNetCore.Mvc.Razor.RazorView.RenderPageCoreAsync(IRazorPage page, ViewContext context)
   at Microsoft.AspNetCore.Mvc.Razor.RazorView.RenderPageAsync(IRazorPage page, ViewContext context, Boolean invokeViewStarts)
   at Microsoft.AspNetCore.Mvc.Razor.RazorView.RenderLayoutAsync(ViewContext context, ViewBufferTextWriter bodyWriter)
   at Microsoft.AspNetCore.Mvc.Razor.RazorView.RenderAsync(ViewContext context)
   at Microsoft.AspNetCore.Mvc.ViewFeatures.ViewExecutor.ExecuteAsync(ViewContext viewContext, String contentType, Nullable`1 statusCode)
   at Microsoft.AspNetCore.Mvc.ViewFeatures.ViewExecutor.ExecuteAsync(ViewContext viewContext, String contentType, Nullable`1 statusCode)
   at Microsoft.AspNetCore.Mvc.ViewFeatures.ViewEx[2020-12-16T11:58:10.3455391+00:00][INFO][1][Microsoft.EntityFrameworkCore.Infrastructure] Entity Framework Core "3.1.9" initialized '"IdentityServerDataProtectionDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=EventManager.Identity.Admin.EntityFramework.SqlServer "
[2020-12-16T11:58:12.6612720+00:00][INFO][1][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("64"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [d].[Xml]
FROM [DataProtectionKeys] AS [d]"
[2020-12-16T11:58:12.8667738+00:00][INFO][1][IdentityServer4.Startup] Starting IdentityServer4 version "4.1.1+cebd52f5bc61bdefc262fd20739d4d087c6f961f"
[2020-12-16T11:58:12.9229835+00:00][INFO][1][IdentityServer4.Startup] Using the default authentication scheme "Identity.Application" for IdentityServer
[2020-12-16T11:58:13.6142744+00:00][INFO][1][Microsoft.Hosting.Lifetime] Now listening on: "http://[::]:80"
[2020-12-16T11:58:13.6155210+00:00][INFO][1][Microsoft.Hosting.Lifetime] Application started. Press Ctrl+C to shut down.
[2020-12-16T11:58:13.6169539+00:00][INFO][1][Microsoft.Hosting.Lifetime] Hosting environment: "Development"
[2020-12-16T11:58:13.6384984+00:00][INFO][1][Microsoft.Hosting.Lifetime] Content root path: "/app"
[2020-12-16T12:11:27.0751752+00:00][INFO][23][Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 GET http://id.em.local/  
[2020-12-16T12:11:27.2155073+00:00][INFO][23][Microsoft.AspNetCore.Routing.EndpointMiddleware] Executing endpoint '"EventManager.Identity.STS.Identity.Controllers.HomeController.Index (EventManager.Identity.STS.Identity)"'
[2020-12-16T12:11:27.2558586+00:00][INFO][23][Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Route matched with "{action = \"Index\", controller = \"Home\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult Index()" on controller "EventManager.Identity.STS.Identity.Controllers.HomeController" ("EventManager.Identity.STS.Identity").
[2020-12-16T12:11:27.3403399+00:00][INFO][23][Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor] Executing ViewResult, running view "Index".
[2020-12-16T12:11:28.4970176+00:00][INFO][23][Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor] Executed ViewResult - view "Index" executed in 1154.9289ms.
[2020-12-16T12:11:28.5055595+00:00][INFO][23][Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Executed action "EventManager.Identity.STS.Identity.Controllers.HomeController.Index (EventManager.Identity.STS.Identity)" in 1247.8422ms
[2020-12-16T12:11:28.5074394+00:00][INFO][23][Microsoft.AspNetCore.Routing.EndpointMiddleware] Executed endpoint '"EventManager.Identity.STS.Identity.Controllers.HomeController.Index (EventManager.Identity.STS.Identity)"'
[2020-12-16T12:11:28.5335746+00:00][INFO][23][Microsoft.AspNetCore.Hosting.Diagnostics] Request finished in 1448.039ms 200 text/html; charset=utf-8
[2020-12-16T12:11:28.6758917+00:00][INFO][29][Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 GET http://id.em.local/dist/css/web.css?v=gzbQ_J4PfKys2r0KpTe01uKRO7lnqK_lEp7OvIB7ZAA  
[2020-12-16T12:11:28.6758916+00:00][INFO][26][Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 GET http://id.em.local/dist/css/bundle.min.css?v=6Y8xGSDMhkjYMZuaFSdp3fqA3xdNX-Q6_xp14ExGbY8  
[2020-12-16T12:11:28.7968023+00:00][INFO][23][Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware] Sending file. Request path: '"/dist/css/web.css"'. Physical path: '"/app/wwwroot/dist/css/web.css"'
[2020-12-16T12:11:28.8304653+00:00][INFO][23][Microsoft.AspNetCore.Hosting.Diagnostics] Request finished in 154.57ms 200 text/css
[2020-12-16T12:11:28.8508331+00:00][INFO][25][Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware] Sending file. Request path: '"/dist/css/bundle.min.css"'. Physical path: '"/app/wwwroot/dist/css/bundle.min.css"'
[2020-12-16T12:11:28.8589653+00:00][INFO][25][Microsoft.AspNetCore.Hosting.Diagnostics] Request finished in 175.9855ms 200 text/css
[2020-12-16T12:11:28.9095656+00:00][INFO][25][Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 GET http://id.em.local/dist/js/bundle.min.js?v=11Fw87BWmEIjIw_LrA_JwvJM5t0w9WbTFIog6ElarB0  
[2020-12-16T12:11:28.9603168+00:00][INFO][23][Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 GET http://id.em.local/images/skoruba-icon.png  
[2020-12-16T12:11:29.0139836+00:00][INFO][29][Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware] Sending file. Request path: '"/images/skoruba-icon.png"'. Physical path: '"/app/wwwroot/images/skoruba-icon.png"'
[2020-12-16T12:11:29.0148662+00:00][INFO][29][Microsoft.AspNetCore.Hosting.Diagnostics] Request finished in 54.4877ms 200 image/png
[2020-12-16T12:11:29.0943755+00:00][INFO][23][Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 GET http://id.em.local/dist/fonts/open-iconic.woff  
[2020-12-16T12:11:29.1208756+00:00][INFO][29][Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware] Sending file. Request path: '"/dist/js/bundle.min.js"'. Physical path: '"/app/wwwroot/dist/js/bundle.min.js"'
[2020-12-16T12:11:29.1382865+00:00][INFO][29][Microsoft.AspNetCore.Hosting.Diagnostics] Request finished in 229.1836ms 200 application/javascript
[2020-12-16T12:11:29.2392738+00:00][INFO][26][Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware] Sending file. Request path: '"/dist/fonts/open-iconic.woff"'. Physical path: '"/app/wwwroot/dist/fonts/open-iconic.woff"'
[2020-12-16T12:11:29.2418259+00:00][INFO][26][Microsoft.AspNetCore.Hosting.Diagnostics] Request finished in 147.669ms 200 application/font-woff
[2020-12-16T12:11:29.4138367+00:00][INFO][29][Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 GET http://id.em.local/favicon.ico  
[2020-12-16T12:11:29.4646830+00:00][INFO][23][Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware] Sending file. Request path: '"/favicon.ico"'. Physical path: '"/app/wwwroot/favicon.ico"'
[2020-12-16T12:11:29.4658846+00:00][INFO][23][Microsoft.AspNetCore.Hosting.Diagnostics] Request finished in 52.0334ms 200 image/x-icon
[2020-12-16T12:11:54.1294075+00:00][INFO][26][Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 GET http://id.em.local/.well-known/openid-configuration  
[2020-12-16T12:11:54.1538372+00:00][INFO][26][IdentityServer4.Hosting.IdentityServerMiddleware] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.DiscoveryEndpoint" for "/.well-known/openid-configuration"
[2020-12-16T12:11:54.1852282+00:00][INFO][26][Microsoft.EntityFrameworkCore.Infrastructure] Entity Framework Core "3.1.9" initialized '"IdentityServerConfigurationDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=EventManager.Identity.Admin.EntityFramework.SqlServer "
[2020-12-16T12:11:54.6618316+00:00][INFO][25][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("102"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [i].[Id], [i].[Created], [i].[Description], [i].[DisplayName], [i].[Emphasize], [i].[Enabled], [i].[Name], [i].[NonEditable], [i].[Required], [i].[ShowInDiscoveryDocument], [i].[Updated], [i0].[Id], [i0].[IdentityResourceId], [i0].[Type], [i1].[Id], [i1].[IdentityResourceId], [i1].[Key], [i1].[Value]
FROM [IdentityResources] AS [i]
LEFT JOIN [IdentityResourceClaims] AS [i0] ON [i].[Id] = [i0].[IdentityResourceId]
LEFT JOIN [IdentityResourceProperties] AS [i1] ON [i].[Id] = [i1].[IdentityResourceId]
ORDER BY [i].[Id], [i0].[Id], [i1].[Id]"
[2020-12-16T12:11:55.0346699+00:00][INFO][26][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("16"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [a].[Id], [a].[AllowedAccessTokenSigningAlgorithms], [a].[Created], [a].[Description], [a].[DisplayName], [a].[Enabled], [a].[LastAccessed], [a].[Name], [a].[NonEditable], [a].[ShowInDiscoveryDocument], [a].[Updated], [a0].[Id], [a0].[ApiResourceId], [a0].[Created], [a0].[Description], [a0].[Expiration], [a0].[Type], [a0].[Value], [a1].[Id], [a1].[ApiResourceId], [a1].[Scope], [a2].[Id], [a2].[ApiResourceId], [a2].[Type], [a3].[Id], [a3].[ApiResourceId], [a3].[Key], [a3].[Value]
FROM [ApiResources] AS [a]
LEFT JOIN [ApiResourceSecrets] AS [a0] ON [a].[Id] = [a0].[ApiResourceId]
LEFT JOIN [ApiResourceScopes] AS [a1] ON [a].[Id] = [a1].[ApiResourceId]
LEFT JOIN [ApiResourceClaims] AS [a2] ON [a].[Id] = [a2].[ApiResourceId]
LEFT JOIN [ApiResourceProperties] AS [a3] ON [a].[Id] = [a3].[ApiResourceId]
ORDER BY [a].[Id], [a0].[Id], [a1].[Id], [a2].[Id], [a3].[Id]"
[2020-12-16T12:11:55.0969363+00:00][INFO][26][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("6"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [a].[Id], [a].[Description], [a].[DisplayName], [a].[Emphasize], [a].[Enabled], [a].[Name], [a].[Required], [a].[ShowInDiscoveryDocument], [a0].[Id], [a0].[ScopeId], [a0].[Type], [a1].[Id], [a1].[Key], [a1].[ScopeId], [a1].[Value]
FROM [ApiScopes] AS [a]
LEFT JOIN [ApiScopeClaims] AS [a0] ON [a].[Id] = [a0].[ScopeId]
LEFT JOIN [ApiScopeProperties] AS [a1] ON [a].[Id] = [a1].[ScopeId]
ORDER BY [a].[Id], [a0].[Id], [a1].[Id]"
[2020-12-16T12:11:56.0052704+00:00][INFO][26][Microsoft.AspNetCore.Hosting.Diagnostics] Request finished in 1875.7868ms 200 application/json; charset=UTF-8
[2020-12-16T12:12:21.3392309+00:00][INFO][29][Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 GET http://id.em.local/  
[2020-12-16T12:12:21.3511862+00:00][INFO][29][Microsoft.AspNetCore.Routing.EndpointMiddleware] Executing endpoint '"EventManager.Identity.STS.Identity.Controllers.HomeController.Index (EventManager.Identity.STS.Identity)"'
[2020-12-16T12:12:21.3546139+00:00][INFO][29][Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Route matched with "{action = \"Index\", controller = \"Home\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult Index()" on controller "EventManager.Identity.STS.Identity.Controllers.HomeController" ("EventManager.Identity.STS.Identity").
[2020-12-16T12:12:21.3598570+00:00][INFO][29][Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor] Executing ViewResult, running view "Index".
[2020-12-16T12:12:21.4005048+00:00][INFO][29][Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor] Executed ViewResult - view "Index" executed in 42.4957ms.
[2020-12-16T12:12:21.4019580+00:00][INFO][29][Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Executed action "EventManager.Identity.STS.Identity.Controllers.HomeController.Index (EventManager.Identity.STS.Identity)" in 45.4537ms
[2020-12-16T12:12:21.4032836+00:00][INFO][29][Microsoft.AspNetCore.Routing.EndpointMiddleware] Executed endpoint '"EventManager.Identity.STS.Identity.Controllers.HomeController.Index (EventManager.Identity.STS.Identity)"'
[2020-12-16T12:12:21.4151158+00:00][INFO][29][Microsoft.AspNetCore.Hosting.Diagnostics] Request finished in 76.0186ms 200 text/html; charset=utf-8
[2020-12-16T12:12:32.1047087+00:00][INFO][26][Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 GET http://id.em.local/Account/Login  
[2020-12-16T12:12:32.1223765+00:00][INFO][26][Microsoft.AspNetCore.Routing.EndpointMiddleware] Executing endpoint '"EventManager.Identity.STS.Identity.Controllers.AccountController<EventManager.Identity.Admin.EntityFramework.Shared.Entities.Identity.UserIdentity, string>.Login (EventManager.Identity.STS.Identity)"'
[2020-12-16T12:12:32.1663015+00:00][INFO][26][Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Route matched with "{action = \"Login\", controller = \"Account\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(System.String)" on controller "EventManager.Identity.STS.Identity.Controllers.AccountController<EventManager.Identity.Admin.EntityFramework.Shared.Entities.Identity.UserIdentity, string>" ("EventManager.Identity.STS.Identity").
[2020-12-16T12:12:32.2097209+00:00][INFO][26][Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor] Executing ViewResult, running view "Login".
[2020-12-16T12:12:32.2805205+00:00][INFO][26][Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor] Executed ViewResult - view "Login" executed in 72.3593ms.
[2020-12-16T12:12:32.2817546+00:00][INFO][26][Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Executed action "EventManager.Identity.STS.Identity.Controllers.AccountController<EventManager.Identity.Admin.EntityFramework.Shared.Entities.Identity.UserIdentity, string>.Login (EventManager.Identity.STS.Identity)" in 114.5381ms
[2020-12-16T12:12:32.2831174+00:00][INFO][26][Microsoft.AspNetCore.Routing.EndpointMiddleware] Executed endpoint '"EventManager.Identity.STS.Identity.Controllers.AccountController<EventManager.Identity.Admin.EntityFramework.Shared.Entities.Identity.UserIdentity, string>.Login (EventManager.Identity.STS.Identity)"'
[2020-12-16T12:12:32.2847250+00:00][INFO][26][Microsoft.AspNetCore.Hosting.Diagnostics] Request finished in 180.0149ms 200 text/html; charset=utf-8
[2020-12-16T12:12:32.7268243+00:00][INFO][26][Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 GET http://id.em.local/dist/fonts/fontawesome-webfont.woff2?v=4.7.0  
[2020-12-16T12:12:32.7855461+00:00][INFO][29][Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware] Sending file. Request path: '"/dist/fonts/fontawesome-webfont.woff2"'. Physical path: '"/app/wwwroot/dist/fonts/fontawesome-webfont.woff2"'
[2020-12-16T12:12:32.7888548+00:00][INFO][29][Microsoft.AspNetCore.Hosting.Diagnostics] Request finished in 59.6665ms 200 font/woff2
[2020-12-16T12:13:39.2906408+00:00][INFO][24][Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 POST http://id.em.local/Account/Login application/x-www-form-urlencoded 261
[2020-12-16T12:13:39.3070995+00:00][INFO][24][Microsoft.AspNetCore.Cors.Infrastructure.CorsMiddleware] No CORS policy found for the specified request.
[2020-12-16T12:13:39.3155432+00:00][INFO][24][Microsoft.AspNetCore.Routing.EndpointMiddleware] Executing endpoint '"EventManager.Identity.STS.Identity.Controllers.AccountController<EventManager.Identity.Admin.EntityFramework.Shared.Entities.Identity.UserIdentity, string>.Login (EventManager.Identity.STS.Identity)"'
[2020-12-16T12:13:39.3364929+00:00][INFO][24][Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Route matched with "{action = \"Login\", controller = \"Account\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(EventManager.Identity.STS.Identity.ViewModels.Account.LoginInputModel, System.String)" on controller "EventManager.Identity.STS.Identity.Controllers.AccountController<EventManager.Identity.Admin.EntityFramework.Shared.Entities.Identity.UserIdentity, string>" ("EventManager.Identity.STS.Identity").
[2020-12-16T12:13:39.4161795+00:00][INFO][24][Microsoft.EntityFrameworkCore.Infrastructure] Entity Framework Core "3.1.9" initialized '"AdminIdentityDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=EventManager.Identity.Admin.EntityFramework.SqlServer "
[2020-12-16T12:13:39.5225611+00:00][INFO][20][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("46"ms) [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0"
[2020-12-16T12:13:39.7247354+00:00][INFO][27][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("4"ms) [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0"
[2020-12-16T12:13:39.8581150+00:00][INFO][24][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("7"ms) [Parameters=["@__user_Id_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [u].[Id], [u].[ClaimType], [u].[ClaimValue], [u].[UserId]
FROM [UserClaims] AS [u]
WHERE [u].[UserId] = @__user_Id_0"
[2020-12-16T12:13:39.9663354+00:00][INFO][27][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("8"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [r].[Name]
FROM [UserRoles] AS [u]
INNER JOIN [Roles] AS [r] ON [u].[RoleId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0"
[2020-12-16T12:13:39.9899455+00:00][INFO][24][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("3"ms) [Parameters=["@__normalizedName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [Roles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0"
[2020-12-16T12:13:40.0249460+00:00][INFO][22][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("4"ms) [Parameters=["@__role_Id_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [r].[ClaimType], [r].[ClaimValue]
FROM [RoleClaims] AS [r]
WHERE [r].[RoleId] = @__role_Id_0"
[2020-12-16T12:13:40.1222059+00:00][INFO][22][Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler] AuthenticationScheme: "Identity.Application" signed in.
[2020-12-16T12:13:40.1443234+00:00][INFO][22][IdentityServer4.Events.DefaultEventService] UserLoginSuccessEvent { Username: "admin", Provider: null, ProviderUserId: null, SubjectId: "33637c03-f123-4e00-a2af-1f780c6badfe", DisplayName: "admin", Endpoint: "UI", ClientId: null, Category: "Authentication", Name: "User Login Success", EventType: Success, Id: 1000, Message: null, ActivityId: "0HM51NERC89US:00000001", TimeStamp: 12/16/2020 12:13:40, ProcessId: 974, LocalIpAddress: "::ffff:172.22.0.7:80", RemoteIpAddress: "172.22.0.1" }
[2020-12-16T12:13:40.1700718+00:00][INFO][22][Microsoft.AspNetCore.Mvc.Infrastructure.RedirectResultExecutor] Executing RedirectResult, redirecting to "/".
[2020-12-16T12:13:40.1755883+00:00][INFO][22][Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Executed action "EventManager.Identity.STS.Identity.Controllers.AccountController<EventManager.Identity.Admin.EntityFramework.Shared.Entities.Identity.UserIdentity, string>.Login (EventManager.Identity.STS.Identity)" in 832.8741ms
[2020-12-16T12:13:40.1778569+00:00][INFO][22][Microsoft.AspNetCore.Routing.EndpointMiddleware] Executed endpoint '"EventManager.Identity.STS.Identity.Controllers.AccountController<EventManager.Identity.Admin.EntityFramework.Shared.Entities.Identity.UserIdentity, string>.Login (EventManager.Identity.STS.Identity)"'
[2020-12-16T12:13:40.1834477+00:00][INFO][22][Microsoft.AspNetCore.Hosting.Diagnostics] Request finished in 892.9136ms 302 
[2020-12-16T12:13:40.2916458+00:00][INFO][20][Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 GET http://id.em.local/  
[2020-12-16T12:13:40.3440668+00:00][INFO][20][Microsoft.AspNetCore.Routing.EndpointMiddleware] Executing endpoint '"EventManager.Identity.STS.Identity.Controllers.HomeController.Index (EventManager.Identity.STS.Identity)"'
[2020-12-16T12:13:40.3457322+00:00][INFO][20][Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Route matched with "{action = \"Index\", controller = \"Home\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult Index()" on controller "EventManager.Identity.STS.Identity.Controllers.HomeController" ("EventManager.Identity.STS.Identity").
[2020-12-16T12:13:40.3487704+00:00][INFO][20][Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor] Executing ViewResult, running view "Index".
[2020-12-16T12:13:40.4121248+00:00][INFO][20][Microsoft.AspNetCore.Authorization.DefaultAuthorizationService] Authorization was successful.
[2020-12-16T12:13:40.4354353+00:00][INFO][20][Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor] Executed ViewResult - view "Index" executed in 86.8753ms.
[2020-12-16T12:13:40.4364111+00:00][INFO][20][Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Executed action "EventManager.Identity.STS.Identity.Controllers.HomeController.Index (EventManager.Identity.STS.Identity)" in 88.5266ms
[2020-12-16T12:13:40.4385128+00:00][INFO][20][Microsoft.AspNetCore.Routing.EndpointMiddleware] Executed endpoint '"EventManager.Identity.STS.Identity.Controllers.HomeController.Index (EventManager.Identity.STS.Identity)"'
[2020-12-16T12:13:40.4399838+00:00][INFO][20][Microsoft.AspNetCore.Hosting.Diagnostics] Request finished in 148.275ms 200 text/html; charset=utf-8
[2020-12-16T12:14:00.9349350+00:00][INFO][22][Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 GET http://id.em.local/Grants  
[2020-12-16T12:14:00.9707090+00:00][INFO][22][Microsoft.AspNetCore.Authorization.DefaultAuthorizationService] Authorization was successful.
[2020-12-16T12:14:00.9736928+00:00][INFO][22][Microsoft.AspNetCore.Routing.EndpointMiddleware] Executing endpoint '"EventManager.Identity.STS.Identity.Controllers.GrantsController.Index (EventManager.Identity.STS.Identity)"'
[2020-12-16T12:14:00.9900422+00:00][INFO][22][Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Route matched with "{action = \"Index\", controller = \"Grants\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Index()" on controller "EventManager.Identity.STS.Identity.Controllers.GrantsController" ("EventManager.Identity.STS.Identity").
[2020-12-16T12:14:01.0381333+00:00][INFO][22][Microsoft.EntityFrameworkCore.Infrastructure] Entity Framework Core "3.1.9" initialized '"IdentityServerPersistedGrantDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=EventManager.Identity.Admin.EntityFramework.SqlServer "
[2020-12-16T12:14:01.0803928+00:00][INFO][27][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("13"ms) [Parameters=["@__filter_SubjectId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [p].[Key], [p].[ClientId], [p].[ConsumedTime], [p].[CreationTime], [p].[Data], [p].[Description], [p].[Expiration], [p].[SessionId], [p].[SubjectId], [p].[Type]
FROM [PersistedGrants] AS [p]
WHERE [p].[SubjectId] = @__filter_SubjectId_0"
[2020-12-16T12:14:01.2807848+00:00][INFO][21][Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor] Executing ViewResult, running view "Index".
[2020-12-16T12:14:01.3046727+00:00][INFO][21][Microsoft.AspNetCore.Authorization.DefaultAuthorizationService] Authorization was successful.
[2020-12-16T12:14:01.3154767+00:00][INFO][21][Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor] Executed ViewResult - view "Index" executed in 35.9444ms.
[2020-12-16T12:14:01.3170348+00:00][INFO][21][Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Executed action "EventManager.Identity.STS.Identity.Controllers.GrantsController.Index (EventManager.Identity.STS.Identity)" in 325.8464ms
[2020-12-16T12:14:01.3184215+00:00][INFO][21][Microsoft.AspNetCore.Routing.EndpointMiddleware] Executed endpoint '"EventManager.Identity.STS.Identity.Controllers.GrantsController.Index (EventManager.Identity.STS.Identity)"'
[2020-12-16T12:14:01.3306673+00:00][INFO][21][Microsoft.AspNetCore.Hosting.Diagnostics] Request finished in 395.7314ms 200 text/html; charset=utf-8
[2020-12-16T12:14:15.6652631+00:00][INFO][20][Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 GET http://id.em.local/Manage  
[2020-12-16T12:14:15.6765906+00:00][INFO][20][Microsoft.AspNetCore.Authorization.DefaultAuthorizationService] Authorization was successful.
[2020-12-16T12:14:15.6835191+00:00][INFO][20][Microsoft.AspNetCor[2020-12-16T12:37:50.5915477+00:00][INFO][1][Microsoft.EntityFrameworkCore.Infrastructure] Entity Framework Core "3.1.9" initialized '"IdentityServerDataProtectionDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=EventManager.Identity.Admin.EntityFramework.SqlServer "
[2020-12-16T12:38:03.0529377+00:00][EROR][1][Microsoft.EntityFrameworkCore.Database.Connection] An error occurred using the connection to database '"IdentityServer4Admin"' on server '"mssql"'.
[2020-12-16T12:38:03.2224148+00:00][EROR][1][Microsoft.EntityFrameworkCore.Query] An exception occurred while iterating over the results of a query for context type '"EventManager.Identity.Admin.EntityFramework.Shared.DbContexts.IdentityServerDataProtectionDbContext"'."
""Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot open database \"IdentityServer4Admin\" requested by the login. The login failed.
Login failed for user 'sa'.
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.TdsParser.Run(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.CompleteLogin(Boolean enlistOK)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.AttemptOneLogin(ServerInfo serverInfo, String newPassword, SecureString newSecurePassword, Boolean ignoreSniOpenTimeout, TimeoutTimer timeout, Boolean withFailover)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.LoginNoFailover(ServerInfo serverInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString connectionOptions, SqlCredential credential, TimeoutTimer timeout)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.OpenLoginEnlist(TimeoutTimer timeout, SqlConnectionString connectionOptions, SqlCredential credential, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds..ctor(DbConnectionPoolIdentity identity, SqlConnectionString connectionOptions, SqlCredential credential, Object providerInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString userConnectionOptions, SessionData reconnectSessionData, Boolean applyTransientFaultHandling, String accessToken, DbConnectionPool pool, SqlAuthenticationProviderManager sqlAuthProviderManager)
   at Microsoft.Data.SqlClient.SqlConnectionFactory.CreateConnection(DbConnectionOptions options, DbConnectionPoolKey poolKey, Object poolGroupProviderInfo, DbConnectionPool pool, DbConnection owningConnection, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionFactory.CreatePooledConnection(DbConnectionPool pool, DbConnection owningObject, DbConnectionOptions options, DbConnectionPoolKey poolKey, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionPool.CreateObject(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.UserCreateRequest(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, UInt32 waitForMultipleObjectsTimeout, Boolean allowCreate, Boolean onlyOneCheckConnection, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, TaskCompletionSource`1 retry, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionFactory.TryGetConnection(DbConnection owningConnection, TaskCompletionSource`1 retry, DbConnectionOptions userOptions, DbConnectionInternal oldConnection, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionInternal.TryOpenConnectionInternal(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionClosed.TryOpenConnection(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)
   at Microsoft.Data.SqlClient.SqlConnection.TryOpen(TaskCompletionSource`1 retry)
   at Microsoft.Data.SqlClient.SqlConnection.Open()
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenDbConnection(Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.Open(Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReader(RelationalCommandParameterObject parameterObject)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryingEnumerable`1.Enumerator.InitializeReader(DbContext _, Boolean result)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryingEnumerable`1.Enumerator.MoveNext()
ClientConnectionId:bd9891ed-f626-4c3d-8b92-9f1a7170f735
Error Number:4060,State:1,Class:11"
Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot open database "IdentityServer4Admin" requested by the login. The login failed.
Login failed for user 'sa'.
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.TdsParser.Run(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.CompleteLogin(Boolean enlistOK)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.AttemptOneLogin(ServerInfo serverInfo, String newPassword, SecureString newSecurePassword, Boolean ignoreSniOpenTimeout, TimeoutTimer timeout, Boolean withFailover)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.LoginNoFailover(ServerInfo serverInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString connectionOptions, SqlCredential credential, TimeoutTimer timeout)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.OpenLoginEnlist(TimeoutTimer timeout, SqlConnectionString connectionOptions, SqlCredential credential, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds..ctor(DbConnectionPoolIdentity identity, SqlConnectionString connectionOptions, SqlCredential credential, Object providerInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString userConnectionOptions, SessionData reconnectSessionData, Boolean applyTransientFaultHandling, String accessToken, DbConnectionPool pool, SqlAuthenticationProviderManager sqlAuthProviderManager)
   at Microsoft.Data.SqlClient.SqlConnectionFactory.CreateConnection(DbConnectionOptions options, DbConnectionPoolKey poolKey, Object poolGroupProviderInfo, DbConnectionPool pool, DbConnection owningConnection, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionFactory.CreatePooledConnection(DbConnectionPool pool, DbConnection owningObject, DbConnectionOptions options, DbConnectionPoolKey poolKey, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionPool.CreateObject(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.UserCreateRequest(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, UInt32 waitForMultipleObjectsTimeout, Boolean allowCreate, Boolean onlyOneCheckConnection, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, TaskCompletionSource`1 retry, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionFactory.TryGetConnection(DbConnection owningConnection, TaskCompletionSource`1 retry, DbConnectionOptions userOptions, DbConnectionInternal oldConnection, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionInternal.TryOpenConnectionInternal(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionClosed.TryOpenConnection(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)
   at Microsoft.Data.SqlClient.SqlConnection.TryOpen(TaskCompletionSource`1 retry)
   at Microsoft.Data.SqlClient.SqlConnection.Open()
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenDbConnection(Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.Open(Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReader(RelationalCommandParameterObject parameterObject)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryingEnumerable`1.Enumerator.InitializeReader(DbContext _, Boolean result)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryingEnumerable`1.Enumerator.MoveNext()
ClientConnectionId:bd9891ed-f626-4c3d-8b92-9f1a7170f735
Error Number:4060,State:1,Class:11
[2020-12-16T12:38:03.3641860+00:00][EROR][1][Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingProvider] An error occurred while reading the key ring.
Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot open database "IdentityServer4Admin" requested by the login. The login failed.
Login failed for user 'sa'.
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.TdsParser.Run(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.CompleteLogin(Boolean enlistOK)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.AttemptOneLogin(ServerInfo serverInfo, String newPassword, SecureString newSecurePassword, Boolean ignoreSniOpenTimeout, TimeoutTimer timeout, Boolean withFailover)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.LoginNoFailover(ServerInfo serverInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString connectionOptions, SqlCredential credential, TimeoutTimer timeout)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.OpenLoginEnlist(TimeoutTimer timeout, SqlConnectionString connectionOptions, SqlCredential credential, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds..ctor(DbConnectionPoolIdentity identity, SqlConnectionString connectionOptions, SqlCredential credential, Object providerInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString userConnectionOptions, SessionData reconnectSessionData, Boolean applyTransientFaultHandling, String accessToken, DbConnectionPool pool, SqlAuthenticationProviderManager sqlAuthProviderManager)
   at Microsoft.Data.SqlClient.SqlConnectionFactory.CreateConnection(DbConnectionOptions options, DbConnectionPoolKey poolKey, Object poolGroupProviderInfo, DbConnectionPool pool, DbConnection owningConnection, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionFactory.CreatePooledConnection(DbConnectionPool pool, DbConnection owningObject, DbConnectionOptions options, DbConnectionPoolKey poolKey, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionPool.CreateObject(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.UserCreateRequest(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, UInt32 waitForMultipleObjectsTimeout, Boolean allowCreate, Boolean onlyOneCheckConnection, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, TaskCompletionSource`1 retry, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionFactory.TryGetConnection(DbConnection owningConnection, TaskCompletionSource`1 retry, DbConnectionOptions userOptions, DbConnectionInternal oldConnection, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionInternal.TryOpenConnectionInternal(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionClosed.TryOpenConnection(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)
   at Microsoft.Data.SqlClient.SqlConnection.TryOpen(TaskCompletionSource`1 retry)
   at Microsoft.Data.SqlClient.SqlConnection.Open()
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenDbConnection(Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.Open(Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReader(RelationalCommandParameterObject parameterObject)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryingEnumerable`1.Enumerator.InitializeReader(DbContext _, Boolean result)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryingEnumerable`1.Enumerator.MoveNext()
   at System.Collections.Generic.List`1..ctor(IEnumerable`1 collection)
   at System.Linq.Enumerable.ToList[TSource](IEnumerable`1 source)
   at Microsoft.AspNetCore.DataProtection.EntityFrameworkCore.EntityFrameworkCoreXmlRepository`1.GetAllElements()
   at Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager.GetAllKeys()
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingProvider.CreateCacheableKeyRingCore(DateTimeOffset now, IKey keyJustAdded)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingProvider.Microsoft.AspNetCore.DataProtection.KeyManagement.Internal.ICacheableKeyRingProvider.GetCacheableKeyRing(DateTimeOffset now)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingProvider.GetCurrentKeyRingCore(DateTime utcNow, Boolean forceRefresh)
ClientConnectionId:bd9891ed-f626-4c3d-8b92-9f1a7170f735
Error Number:4060,State:1,Class:11
[2020-12-16T12:38:03.4659227+00:00][INFO][1][Microsoft.AspNetCore.DataProtection.Internal.DataProtectionHostedService] Key ring failed to load during application startup.
Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot open database "IdentityServer4Admin" requested by the login. The login failed.
Login failed for user 'sa'.
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.TdsParser.Run(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.CompleteLogin(Boolean enlistOK)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.AttemptOneLogin(ServerInfo serverInfo, String newPassword, SecureString newSecurePassword, Boolean ignoreSniOpenTimeout, TimeoutTimer timeout, Boolean withFailover)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.LoginNoFailover(ServerInfo serverInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString connectionOptions, SqlCredential credential, TimeoutTimer timeout)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.OpenLoginEnlist(TimeoutTimer timeout, SqlConnectionString connectionOptions, SqlCredential credential, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds..ctor(DbConnectionPoolIdentity identity, SqlConnectionString connectionOptions, SqlCredential credential, Object providerInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString userConnectionOptions, SessionData reconnectSessionData, Boolean applyTransientFaultHandling, String accessToken, DbConnectionPool pool, SqlAuthenticationProviderManager sqlAuthProviderManager)
   at Microsoft.Data.SqlClient.SqlConnectionFactory.CreateConnection(DbConnectionOptions options, DbConnectionPoolKey poolKey, Object poolGroupProviderInfo, DbConnectionPool pool, DbConnection owningConnection, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionFactory.CreatePooledConnection(DbConnectionPool pool, DbConnection owningObject, DbConnectionOptions options, DbConnectionPoolKey poolKey, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionPool.CreateObject(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.UserCreateRequest(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, UInt32 waitForMultipleObjectsTimeout, Boolean allowCreate, Boolean onlyOneCheckConnection, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, TaskCompletionSource`1 retry, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionFactory.TryGetConnection(DbConnection owningConnection, TaskCompletionSource`1 retry, DbConnectionOptions userOptions, DbConnectionInternal oldConnection, DbCon[2020-12-16T12:57:34.9094680+00:00][INFO][1][Microsoft.EntityFrameworkCore.Infrastructure] Entity Framework Core "3.1.9" initialized '"IdentityServerDataProtectionDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=EventManager.Identity.Admin.EntityFramework.SqlServer "
[2020-12-16T12:57:38.9440025+00:00][INFO][1][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("117"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [d].[Xml]
FROM [DataProtectionKeys] AS [d]"
[2020-12-16T12:57:39.3961502+00:00][INFO][1][IdentityServer4.Startup] Starting IdentityServer4 version "4.1.1+cebd52f5bc61bdefc262fd20739d4d087c6f961f"
[2020-12-16T12:57:39.4578861+00:00][INFO][1][IdentityServer4.Startup] Using the default authentication scheme "Identity.Application" for IdentityServer
[2020-12-16T12:57:40.6895177+00:00][INFO][1][Microsoft.Hosting.Lifetime] Now listening on: "http://[::]:80"
[2020-12-16T12:57:40.6974188+00:00][INFO][1][Microsoft.Hosting.Lifetime] Application started. Press Ctrl+C to shut down.
[2020-12-16T12:57:40.6985503+00:00][INFO][1][Microsoft.Hosting.Lifetime] Hosting environment: "Development"
[2020-12-16T12:57:40.6991682+00:00][INFO][1][Microsoft.Hosting.Lifetime] Content root path: "/app"
[2020-12-16T13:00:39.5352848+00:00][INFO][5][Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 GET http://web.id.em.local/  
[2020-12-16T13:00:39.7237693+00:00][INFO][5][Microsoft.AspNetCore.Routing.EndpointMiddleware] Executing endpoint '"EventManager.Identity.STS.Identity.Controllers.HomeController.Index (EventManager.Identity.STS.Identity)"'
[2020-12-16T13:00:39.7602854+00:00][INFO][5][Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Route matched with "{action = \"Index\", controller = \"Home\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult Index()" on controller "EventManager.Identity.STS.Identity.Controllers.HomeController" ("EventManager.Identity.STS.Identity").
[2020-12-16T13:00:39.8606302+00:00][INFO][5][Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor] Executing ViewResult, running view "Index".
[2020-12-16T13:00:40.6996321+00:00][INFO][5][Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor] Executed ViewResult - view "Index" executed in 846.3805ms.
[2020-12-16T13:00:40.7021617+00:00][INFO][5][Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Executed action "EventManager.Identity.STS.Identity.Controllers.HomeController.Index (EventManager.Identity.STS.Identity)" in 937.8504ms
[2020-12-16T13:00:40.7036369+00:00][INFO][5][Microsoft.AspNetCore.Routing.EndpointMiddleware] Executed endpoint '"EventManager.Identity.STS.Identity.Controllers.HomeController.Index (EventManager.Identity.STS.Identity)"'
[2020-12-16T13:00:40.7333804+00:00][INFO][5][Microsoft.AspNetCore.Hosting.Diagnostics] Request finished in 1200.5183ms 200 text/html; charset=utf-8
[2020-12-16T13:00:40.9928821+00:00][INFO][15][Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 GET http://web.id.em.local/dist/css/web.css?v=gzbQ_J4PfKys2r0KpTe01uKRO7lnqK_lEp7OvIB7ZAA  
[2020-12-16T13:00:40.9928820+00:00][INFO][13][Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 GET http://web.id.em.local/dist/css/bundle.min.css?v=6Y8xGSDMhkjYMZuaFSdp3fqA3xdNX-Q6_xp14ExGbY8  
[2020-12-16T13:00:41.0897337+00:00][INFO][5][Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware] Sending file. Request path: '"/dist/css/web.css"'. Physical path: '"/app/wwwroot/dist/css/web.css"'
[2020-12-16T13:00:41.1367901+00:00][INFO][5][Microsoft.AspNetCore.Hosting.Diagnostics] Request finished in 143.413ms 200 text/css
[2020-12-16T13:00:41.1717054+00:00][INFO][7][Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware] Sending file. Request path: '"/dist/css/bundle.min.css"'. Physical path: '"/app/wwwroot/dist/css/bundle.min.css"'
[2020-12-16T13:00:41.1733374+00:00][INFO][7][Microsoft.AspNetCore.Hosting.Diagnostics] Request finished in 180.6765ms 200 text/css
[2020-12-16T13:00:41.2721602+00:00][INFO][13][Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 GET http://web.id.em.local/dist/js/bundle.min.js?v=11Fw87BWmEIjIw_LrA_JwvJM5t0w9WbTFIog6ElarB0  
[2020-12-16T13:00:41.2930602+00:00][INFO][15][Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 GET http://web.id.em.local/images/skoruba-icon.png  
[2020-12-16T13:00:41.3397274+00:00][INFO][5][Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware] Sending file. Request path: '"/images/skoruba-icon.png"'. Physical path: '"/app/wwwroot/images/skoruba-icon.png"'
[2020-12-16T13:00:41.3625890+00:00][INFO][5][Microsoft.AspNetCore.Hosting.Diagnostics] Request finished in 69.5281ms 200 image/png
[2020-12-16T13:00:41.4329250+00:00][INFO][7][Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware] Sending file. Request path: '"/dist/js/bundle.min.js"'. Physical path: '"/app/wwwroot/dist/js/bundle.min.js"'
[2020-12-16T13:00:41.4336670+00:00][INFO][7][Microsoft.AspNetCore.Hosting.Diagnostics] Request finished in 162.7913ms 200 application/javascript
[2020-12-16T13:00:41.5095886+00:00][INFO][13][Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 GET http://web.id.em.local/dist/fonts/open-iconic.woff  
[2020-12-16T13:00:41.5413324+00:00][INFO][7][Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware] Sending file. Request path: '"/dist/fonts/open-iconic.woff"'. Physical path: '"/app/wwwroot/dist/fonts/open-iconic.woff"'
[2020-12-16T13:00:41.5422227+00:00][INFO][7][Microsoft.AspNetCore.Hosting.Diagnostics] Request finished in 32.6357ms 200 application/font-woff
[2020-12-16T13:00:52.4395044+00:00][INFO][7][Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 GET http://web.id.em.local/Account/Login  
[2020-12-16T13:00:52.4650194+00:00][INFO][7][Microsoft.AspNetCore.Routing.EndpointMiddleware] Executing endpoint '"EventManager.Identity.STS.Identity.Controllers.AccountController<EventManager.Identity.Admin.EntityFramework.Shared.Entities.Identity.UserIdentity, string>.Login (EventManager.Identity.STS.Identity)"'
[2020-12-16T13:00:52.4908963+00:00][INFO][7][Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Route matched with "{action = \"Login\", controller = \"Account\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(System.String)" on controller "EventManager.Identity.STS.Identity.Controllers.AccountController<EventManager.Identity.Admin.EntityFramework.Shared.Entities.Identity.UserIdentity, string>" ("EventManager.Identity.STS.Identity").
[2020-12-16T13:00:52.5338542+00:00][INFO][7][Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor] Executing ViewResult, running view "Login".
[2020-12-16T13:00:52.6001221+00:00][INFO][7][Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor] Executed ViewResult - view "Login" executed in 67.1917ms.
[2020-12-16T13:00:52.6014830+00:00][INFO][7][Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Executed action "EventManager.Identity.STS.Identity.Controllers.AccountController<EventManager.Identity.Admin.EntityFramework.Shared.Entities.Identity.UserIdentity, string>.Login (EventManager.Identity.STS.Identity)" in 109.2163ms
[2020-12-16T13:00:52.6025087+00:00][INFO][7][Microsoft.AspNetCore.Routing.EndpointMiddleware] Executed endpoint '"EventManager.Identity.STS.Identity.Controllers.AccountController<EventManager.Identity.Admin.EntityFramework.Shared.Entities.Identity.UserIdentity, string>.Login (EventManager.Identity.STS.Identity)"'
[2020-12-16T13:00:52.6036422+00:00][INFO][7][Microsoft.AspNetCore.Hosting.Diagnostics] Request finished in 164.1142ms 200 text/html; charset=utf-8
[2020-12-16T13:00:52.6954142+00:00][INFO][14][Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 GET http://web.id.em.local/dist/css/web.css?v=gzbQ_J4PfKys2r0KpTe01uKRO7lnqK_lEp7OvIB7ZAA  
[2020-12-16T13:00:52.6940480+00:00][INFO][19][Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 GET http://web.id.em.local/dist/css/bundle.min.css?v=6Y8xGSDMhkjYMZuaFSdp3fqA3xdNX-Q6_xp14ExGbY8  
[2020-12-16T13:00:52.7706634+00:00][INFO][18][Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware] Sending file. Request path: '"/dist/css/web.css"'. Physical path: '"/app/wwwroot/dist/css/web.css"'
[2020-12-16T13:00:52.8153943+00:00][INFO][18][Microsoft.AspNetCore.Hosting.Diagnostics] Request finished in 119.7772ms 200 text/css
[2020-12-16T13:00:52.8671439+00:00][INFO][15][Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware] Sending file. Request path: '"/dist/css/bundle.min.css"'. Physical path: '"/app/wwwroot/dist/css/bundle.min.css"'
[2020-12-16T13:00:52.8706691+00:00][INFO][15][Microsoft.AspNetCore.Hosting.Diagnostics] Request finished in 177.5511ms 200 text/css
[2020-12-16T13:00:53.0271518+00:00][INFO][18][Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 GET http://web.id.em.local/dist/fonts/fontawesome-webfont.woff2?v=4.7.0  
[2020-12-16T13:00:53.0935178+00:00][INFO][13][Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware] Sending file. Request path: '"/dist/fonts/fontawesome-webfont.woff2"'. Physical path: '"/app/wwwroot/dist/fonts/fontawesome-webfont.woff2"'
[2020-12-16T13:00:53.0955981+00:00][INFO][13][Microsoft.AspNetCore.Hosting.Diagnostics] Request finished in 68.4479ms 200 font/woff2
[2020-12-16T13:00:55.8704127+00:00][INFO][18][Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 POST http://web.id.em.local/Account/Login application/x-www-form-urlencoded 261
[2020-12-16T13:00:55.8831247+00:00][INFO][18][Microsoft.AspNetCore.Cors.Infrastructure.CorsMiddleware] No CORS policy found for the specified request.
[2020-12-16T13:00:55.8965454+00:00][INFO][18][Microsoft.AspNetCore.Routing.EndpointMiddleware] Executing endpoint '"EventManager.Identity.STS.Identity.Controllers.AccountController<EventManager.Identity.Admin.EntityFramework.Shared.Entities.Identity.UserIdentity, string>.Login (EventManager.Identity.STS.Identity)"'
[2020-12-16T13:00:55.9094582+00:00][INFO][18][Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Route matched with "{action = \"Login\", controller = \"Account\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(EventManager.Identity.STS.Identity.ViewModels.Account.LoginInputModel, System.String)" on controller "EventManager.Identity.STS.Identity.Controllers.AccountController<EventManager.Identity.Admin.EntityFramework.Shared.Entities.Identity.UserIdentity, string>" ("EventManager.Identity.STS.Identity").
[2020-12-16T13:00:55.9636379+00:00][INFO][18][Microsoft.EntityFrameworkCore.Infrastructure] Entity Framework Core "3.1.9" initialized '"AdminIdentityDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=EventManager.Identity.Admin.EntityFramework.SqlServer "
[2020-12-16T13:00:56.1411644+00:00][INFO][20][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("58"ms) [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0"
[2020-12-16T13:00:56.3274832+00:00][INFO][18][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("3"ms) [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0"
[2020-12-16T13:00:56.4965993+00:00][INFO][20][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("40"ms) [Parameters=["@__user_Id_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [u].[Id], [u].[ClaimType], [u].[ClaimValue], [u].[UserId]
FROM [UserClaims] AS [u]
WHERE [u].[UserId] = @__user_Id_0"
[2020-12-16T13:00:56.6003663+00:00][INFO][20][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("32"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [r].[Name]
FROM [UserRoles] AS [u]
INNER JOIN [Roles] AS [r] ON [u].[RoleId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0"
[2020-12-16T13:00:56.6179880+00:00][INFO][18][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("2"ms) [Parameters=["@__normalizedName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [Roles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0"
[2020-12-16T13:00:56.6440216+00:00][INFO][14][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("4"ms) [Parameters=["@__role_Id_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [r].[ClaimType], [r].[ClaimValue]
FROM [RoleClaims] AS [r]
WHERE [r].[RoleId] = @__role_Id_0"
[2020-12-16T13:00:56.7207459+00:00][INFO][14][Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler] AuthenticationScheme: "Identity.Application" signed in.
[2020-12-16T13:00:56.7433510+00:00][INFO][14][IdentityServer4.Events.DefaultEventService] UserLoginSuccessEvent { Username: "admin", Provider: null, ProviderUserId: null, SubjectId: "4986fb39-0b1a-416a-8fda-e04706435fc3", DisplayName: "admin", Endpoint: "UI", ClientId: null, Category: "Authentication", Name: "User Login Success", EventType: Success, Id: 1000, Message: null, ActivityId: "0HM51OAB8U584:00000001", TimeStamp: 12/16/2020 13:00:56, ProcessId: 24, LocalIpAddress: "::ffff:172.24.0.8:80", RemoteIpAddress: "172.24.0.1" }
[2020-12-16T13:00:56.7586239+00:00][INFO][14][Microsoft.AspNetCore.Mvc.Infrastructure.RedirectResultExecutor] Executing RedirectResult, redirecting to "/".
[2020-12-16T13:00:56.7619222+00:00][INFO][14][Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Executed action "EventManager.Identity.STS.Identity.Controllers.AccountController<EventManager.Identity.Admin.EntityFramework.Shared.Entities.Identity.UserIdentity, string>.Login (EventManager.Identity.STS.Identity)" in 851.656ms
[2020-12-16T13:00:56.7638538+00:00][INFO][14][Microsoft.AspNetCore.Routing.EndpointMiddleware] Executed endpoint '"EventManager.Identity.STS.Identity.Controllers.AccountController<EventManager.Identity.Admin.EntityFramework.Shared.Entities.Identity.UserIdentity, string>.Login (EventManager.Identity.STS.Identity)"'
[2020-12-16T13:00:56.7763373+00:00][INFO][14][Microsoft.AspNetCore.Hosting.Diagnostics] Request finished in 906.3248ms 302 
[2020-12-16T13:00:56.7864909+00:00][INFO][13][Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 GET http://web.id.em.local/  
[2020-12-16T13:00:56.7959807+00:00][INFO][13][Microsoft.AspNetCore.Routing.EndpointMiddleware] Executing endpoint '"EventManager.Identity.STS.Identity.Controllers.HomeController.Index (EventManager.Identity.STS.Identity)"'
[2020-12-16T13:00:56.7972128+00:00][INFO][13][Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Route matched with "{action = \"Index\", controller = \"Home\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult Index()" on controller "EventManager.Identity.STS.Identity.Controllers.HomeController" ("EventManager.Identity.STS.Identity").
[2020-12-16T13:00:56.7991713+00:00][INFO][13][Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor] Executing ViewResult, running view "Index".
[2020-12-16T13:00:56.8600656+00:00][INFO][13][Microsoft.AspNetCore.Authorization.DefaultAuthorizationService] Authorization was successful.
[2020-12-16T13:00:56.8708862+00:00][INFO][13][Microsoft.As[2020-12-16T13:12:32.7856584+00:00][INFO][1][Microsoft.EntityFrameworkCore.Infrastructure] Entity Framework Core "3.1.9" initialized '"IdentityServerDataProtectionDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=EventManager.Identity.Admin.EntityFramework.SqlServer "
[2020-12-16T13:12:35.5700543+00:00][INFO][1][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("84"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [d].[Xml]
FROM [DataProtectionKeys] AS [d]"
[2020-12-16T13:12:35.8691136+00:00][INFO][1][IdentityServer4.Startup] Starting IdentityServer4 version "4.1.1+cebd52f5bc61bdefc262fd20739d4d087c6f961f"
[2020-12-16T13:12:35.9184986+00:00][INFO][1][IdentityServer4.Startup] Using the default authentication scheme "Identity.Application" for IdentityServer
[2020-12-16T13:12:36.8604734+00:00][INFO][1][Microsoft.Hosting.Lifetime] Now listening on: "http://[::]:80"
[2020-12-16T13:12:36.8631431+00:00][INFO][1][Microsoft.Hosting.Lifetime] Application started. Press Ctrl+C to shut down.
[2020-12-16T13:12:36.8644222+00:00][INFO][1][Microsoft.Hosting.Lifetime] Hosting environment: "Development"
[2020-12-16T13:12:36.8650244+00:00][INFO][1][Microsoft.Hosting.Lifetime] Content root path: "/app"
[2020-12-16T13:19:11.9518714+00:00][INFO][17][Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 GET http://id.em.local/  
[2020-12-16T13:19:12.1145945+00:00][INFO][17][Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler] "Identity.Application" was not authenticated. Failure message: "Unprotect ticket failed"
[2020-12-16T13:19:12.1347320+00:00][INFO][17][Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler] "Identity.Application" was not authenticated. Failure message: "Unprotect ticket failed"
[2020-12-16T13:19:12.2203015+00:00][INFO][17][Microsoft.AspNetCore.Routing.EndpointMiddleware] Executing endpoint '"EventManager.Identity.STS.Identity.Controllers.HomeController.Index (EventManager.Identity.STS.Identity)"'
[2020-12-16T13:19:12.2529438+00:00][INFO][17][Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Route matched with "{action = \"Index\", controller = \"Home\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult Index()" on controller "EventManager.Identity.STS.Identity.Controllers.HomeController" ("EventManager.Identity.STS.Identity").
[2020-12-16T13:19:12.3925434+00:00][INFO][17][Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor] Executing ViewResult, running view "Index".
[2020-12-16T13:19:13.5282686+00:00][EROR][17][Microsoft.AspNetCore.Antiforgery.DefaultAntiforgery] An exception was thrown while deserializing the token.
Microsoft.AspNetCore.Antiforgery.AntiforgeryValidationException: The antiforgery token could not be decrypted.
 ---> System.Security.Cryptography.CryptographicException: The key {7fea2d43-2e72-4d96-9c1b-e4fb48cd6d7c} was not found in the key ring.
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.UnprotectCore(Byte[] protectedData, Boolean allowOperationsOnRevokedKeys, UnprotectStatus& status)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.DangerousUnprotect(Byte[] protectedData, Boolean ignoreRevocationErrors, Boolean& requiresMigration, Boolean& wasRevoked)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.Unprotect(Byte[] protectedData)
   at Microsoft.AspNetCore.Antiforgery.DefaultAntiforgeryTokenSerializer.Deserialize(String serializedToken)
   --- End of inner exception stack trace ---
   at Microsoft.AspNetCore.Antiforgery.DefaultAntiforgeryTokenSerializer.Deserialize(String serializedToken)
   at Microsoft.AspNetCore.Antiforgery.DefaultAntiforgery.GetCookieTokenDoesNotThrow(HttpContext httpContext)
[2020-12-16T13:19:13.7441785+00:00][INFO][17][Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor] Executed ViewResult - view "Index" executed in 1396.3955ms.
[2020-12-16T13:19:13.7481623+00:00][INFO][17][Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Executed action "EventManager.Identity.STS.Identity.Controllers.HomeController.Index (EventManager.Identity.STS.Identity)" in 1493.1482ms
[2020-12-16T13:19:13.7550266+00:00][INFO][17][Microsoft.AspNetCore.Routing.EndpointMiddleware] Executed endpoint '"EventManager.Identity.STS.Identity.Controllers.HomeController.Index (EventManager.Identity.STS.Identity)"'
[2020-12-16T13:19:13.7636908+00:00][INFO][17][Microsoft.AspNetCore.Hosting.Diagnostics] Request finished in 1820.1829ms 200 text/html; charset=utf-8
[2020-12-16T13:19:24.0130303+00:00][INFO][15][Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 GET http://id.em.local/Account/Login  
[2020-12-16T13:19:24.0840674+00:00][INFO][15][Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler] "Identity.Application" was not authenticated. Failure message: "Unprotect ticket failed"
[2020-12-16T13:19:24.0912371+00:00][INFO][15][Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler] "Identity.Application" was not authenticated. Failure message: "Unprotect ticket failed"
[2020-12-16T13:19:24.1093847+00:00][INFO][15][Microsoft.AspNetCore.Routing.EndpointMiddleware] Executing endpoint '"EventManager.Identity.STS.Identity.Controllers.AccountController<EventManager.Identity.Admin.EntityFramework.Shared.Entities.Identity.UserIdentity, string>.Login (EventManager.Identity.STS.Identity)"'
[2020-12-16T13:19:24.1345748+00:00][INFO][15][Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Route matched with "{action = \"Login\", controller = \"Account\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(System.String)" on controller "EventManager.Identity.STS.Identity.Controllers.AccountController<EventManager.Identity.Admin.EntityFramework.Shared.Entities.Identity.UserIdentity, string>" ("EventManager.Identity.STS.Identity").
[2020-12-16T13:19:24.1720025+00:00][INFO][15][Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor] Executing ViewResult, running view "Login".
[2020-12-16T13:19:24.2459014+00:00][INFO][15][Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor] Executed ViewResult - view "Login" executed in 74.7753ms.
[2020-12-16T13:19:24.2471478+00:00][INFO][15][Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Executed action "EventManager.Identity.STS.Identity.Controllers.AccountController<EventManager.Identity.Admin.EntityFramework.Shared.Entities.Identity.UserIdentity, string>.Login (EventManager.Identity.STS.Identity)" in 110.3126ms
[2020-12-16T13:19:24.2481062+00:00][INFO][15][Microsoft.AspNetCore.Routing.EndpointMiddleware] Executed endpoint '"EventManager.Identity.STS.Identity.Controllers.AccountController<EventManager.Identity.Admin.EntityFramework.Shared.Entities.Identity.UserIdentity, string>.Login (EventManager.Identity.STS.Identity)"'
[2020-12-16T13:19:24.2581851+00:00][INFO][15][Microsoft.AspNetCore.Hosting.Diagnostics] Request finished in 245.1277ms 200 text/html; charset=utf-8
[2020-12-16T13:19:29.7514684+00:00][INFO][5][Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 POST http://id.em.local/Account/Login application/x-www-form-urlencoded 261
[2020-12-16T13:19:29.7654835+00:00][INFO][5][Microsoft.AspNetCore.Cors.Infrastructure.CorsMiddleware] No CORS policy found for the specified request.
[2020-12-16T13:19:29.8235942+00:00][INFO][5][Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler] "Identity.Application" was not authenticated. Failure message: "Unprotect ticket failed"
[2020-12-16T13:19:29.8262066+00:00][INFO][5][Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler] "Identity.Application" was not authenticated. Failure message: "Unprotect ticket failed"
[2020-12-16T13:19:29.8389839+00:00][INFO][5][Microsoft.AspNetCore.Routing.EndpointMiddleware] Executing endpoint '"EventManager.Identity.STS.Identity.Controllers.AccountController<EventManager.Identity.Admin.EntityFramework.Shared.Entities.Identity.UserIdentity, string>.Login (EventManager.Identity.STS.Identity)"'
[2020-12-16T13:19:29.8610615+00:00][INFO][5][Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Route matched with "{action = \"Login\", controller = \"Account\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(EventManager.Identity.STS.Identity.ViewModels.Account.LoginInputModel, System.String)" on controller "EventManager.Identity.STS.Identity.Controllers.AccountController<EventManager.Identity.Admin.EntityFramework.Shared.Entities.Identity.UserIdentity, string>" ("EventManager.Identity.STS.Identity").
[2020-12-16T13:19:29.9172988+00:00][INFO][5][Microsoft.EntityFrameworkCore.Infrastructure] Entity Framework Core "3.1.9" initialized '"AdminIdentityDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=EventManager.Identity.Admin.EntityFramework.SqlServer "
[2020-12-16T13:19:30.2473567+00:00][INFO][16][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("50"ms) [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0"
[2020-12-16T13:19:30.4321006+00:00][INFO][18][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("14"ms) [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0"
[2020-12-16T13:19:30.6208131+00:00][INFO][19][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("40"ms) [Parameters=["@__user_Id_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [u].[Id], [u].[ClaimType], [u].[ClaimValue], [u].[UserId]
FROM [UserClaims] AS [u]
WHERE [u].[UserId] = @__user_Id_0"
[2020-12-16T13:19:30.7386004+00:00][INFO][16][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("10"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [r].[Name]
FROM [UserRoles] AS [u]
INNER JOIN [Roles] AS [r] ON [u].[RoleId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0"
[2020-12-16T13:19:30.7604189+00:00][INFO][14][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("2"ms) [Parameters=["@__normalizedName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [Roles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0"
[2020-12-16T13:19:30.7873195+00:00][INFO][18][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("3"ms) [Parameters=["@__role_Id_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [r].[ClaimType], [r].[ClaimValue]
FROM [RoleClaims] AS [r]
WHERE [r].[RoleId] = @__role_Id_0"
[2020-12-16T13:19:30.8647302+00:00][INFO][18][Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler] "Identity.Application" was not authenticated. Failure message: "Unprotect ticket failed"
[2020-12-16T13:19:30.8747062+00:00][INFO][18][Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler] AuthenticationScheme: "Identity.Application" signed in.
[2020-12-16T13:19:30.8925045+00:00][INFO][18][IdentityServer4.Events.DefaultEventService] UserLoginSuccessEvent { Username: "admin", Provider: null, ProviderUserId: null, SubjectId: "4986fb39-0b1a-416a-8fda-e04706435fc3", DisplayName: "admin", Endpoint: "UI", ClientId: null, Category: "Authentication", Name: "User Login Success", EventType: Success, Id: 1000, Message: null, ActivityId: "0HM51OKMPMMN5:00000001", TimeStamp: 12/16/2020 13:19:30, ProcessId: 27, LocalIpAddress: "::ffff:172.24.0.8:80", RemoteIpAddress: "172.24.0.1" }
[2020-12-16T13:19:30.9099088+00:00][INFO][18][Microsoft.AspNetCore.Mvc.Infrastructure.RedirectResultExecutor] Executing RedirectResult, redirecting to "/".
[2020-12-16T13:19:30.9131841+00:00][INFO][18][Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Executed action "EventManager.Identity.STS.Identity.Controllers.AccountController<EventManager.Identity.Admin.EntityFramework.Shared.Entities.Identity.UserIdentity, string>.Login (EventManager.Identity.STS.Identity)" in 1050.3736ms
[2020-12-16T13:19:30.9176364+00:00][INFO][18][Microsoft.AspNetCore.Routing.EndpointMiddleware] Executed endpoint '"EventManager.Identity.STS.Identity.Controllers.AccountController<EventManager.Identity.Admin.EntityFramework.Shared.Entities.Identity.UserIdentity, string>.Login (EventManager.Identity.STS.Identity)"'
[2020-12-16T13:19:30.9313449+00:00][INFO][18][Microsoft.AspNetCore.Hosting.Diagnostics] Request finished in 1180.0024ms 302 
[2020-12-16T13:19:30.9543544+00:00][INFO][4][Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 GET http://id.em.local/  
[2020-12-16T13:19:30.9709180+00:00][INFO][4][Microsoft.AspNetCore.Routing.EndpointMiddleware] Executing endpoint '"EventManager.Identity.STS.Identity.Controllers.HomeController.Index (EventManager.Identity.STS.Identity)"'
[2020-12-16T13:19:30.9730490+00:00][INFO][4][Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Route matched with "{action = \"Index\", controller = \"Home\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult Index()" on controller "EventManager.Identity.STS.Identity.Controllers.HomeController" ("EventManager.Identity.STS.Identity").
[2020-12-16T13:19:30.9794810+00:00][INFO][4][Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor] Executing ViewResult, running view "Index".
[2020-12-16T13:19:31.0406869+00:00][INFO][4][Microsoft.AspNetCore.Authorization.DefaultAuthorizationService] Authorization was successful.
[2020-12-16T13:19:31.0658550+00:00][INFO][4][Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor] Executed ViewResult - view "Index" executed in 90.3655ms.
[2020-12-16T13:19:31.0669480+00:00][INFO][4][Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Executed action "EventManager.Identity.STS.Identity.Controllers.HomeController.Index (EventManager.Identity.STS.Identity)" in 92.1017ms
[2020-12-16T13:19:31.0680250+00:00][INFO][4][Microsoft.AspNetCore.Routing.EndpointMiddleware] Executed endpoint '"EventManager.Identity.STS.Identity.Controllers.HomeController.Index (EventManager.Identity.STS.Identity)"'
[2020-12-16T13:19:31.0740462+00:00][INFO][4][Microsoft.AspNetCore.Hosting.Diagnostics] Request finished in 120.0382ms 200 text/html; charset=utf-8
[2020-12-16T13:19:51.0904176+00:00][INFO][16][Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 GET http://id.em.local/Manage/TwoFactorAuthentication  
[2020-12-16T13:19:51.1330545+00:00][INFO][16][Microsoft.AspNetCore.Authorization.DefaultAuthorizationService] Authorization was successful.
[2020-12-16T13:19:51.1344384+00:00][INFO][16][Microsoft.AspNetCore.Routing.EndpointMiddleware] Executing endpoint '"EventManager.Identity.STS.Identity.Controllers.ManageController<EventManager.Identity.Admin.EntityFramework.Shared.Entities.Identity.UserIdentity, string>.TwoFactorAuthentication (EventManager.Identity.STS.Identity)"'
[2020-12-16T13:19:51.1506172+00:00][INFO][16][Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Route matched with "{action = \"TwoFactorAuthentication\", controller = \"Manage\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] TwoFactorAuthentication()" on controller "EventManager.Identity.STS.Identity.Controllers.ManageController<EventManager.Identity.Admin.EntityFramework.Shared.Entities.Identity.UserIdentity, string>" ("EventManager.Identity.STS.Identity").
[2020-12-16T13:19:51.1628323+00:00][INFO][16][Microsoft.EntityFrameworkCore.Infrastructure] Entity Framework Core "3.1.9" initialized '"AdminIdentityDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=EventManager.Identity.Admin.EntityFramework.SqlServer "
[2020-12-16T13:19:51.1867882+00:00][INFO][21][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("3"ms) [Parameters=["@__p_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[Id] = @__p_0"
[2020-12-16T13:19:51.3227622+00:00][INFO][19][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("4"ms) [Parameters=["@__p_0='?' (Size = 450), @__p_1='?' (Size = 450), @__p_2='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[UserId], [u].[LoginProvider], [u].[Name], [u].[Value]
FROM [UserTokens] AS [u]
WHERE (([u].[UserId] = @__p_0) AND ([u].[LoginProvider] = @__p_1)) AND ([u].[Name] = @__p_2)"
[2020-12-16T13:19:51.3552529+00:00][INFO][22][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("2"ms) [Parameters=["@__p_0='?' (Size = 450), @__p_1='?' (Size = 450), @__p_2='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[UserId], [u].[LoginProvider], [u].[Name], [u].[Value]
FROM [UserTokens] AS [u]
WHERE (([u].[UserId] = @__p_0) AND ([u].[LoginProvider] = @__p_1)) AND ([u].[Name] = @__p_2)"
[2020-12-16T13:19:51.3681340+00:00][INFO][22][Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor] Executing ViewResult, running view "TwoFactorAuthentication".
[2020-12-16T13:19:51.4130536+00:00][INFO][22][Microsoft.AspNetCore.Authorization.DefaultAuthorizationService] Authorization was successful.
[2020-12-16T13:19:51.4292033+00:00][INFO][22][Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor] Executed ViewResult - view "TwoFactorAuthentication" executed in 61.9798ms.
[2020-12-16T13:19:51.4328618+00:00][INFO][22][Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Executed action "EventManager.Identity.STS.Identity.Controllers.ManageController<EventManager.Identity.Admin.EntityFramework.Shared.Entities.Identity.UserIdentity, string>.TwoFactorAuthentication (EventManager.Identity.STS.Identity)" in 281.3342ms
[2020-12-16T13:19:51.4339879+00:00][INFO][22][Microsoft.AspNetCore.Routing.EndpointMiddleware] Executed endpoint '"EventManager.Identity.STS.Identity.Controllers.ManageController<EventManager.Identity.Admin.EntityFramework.Shared.Entities.Identity.UserIdentity, string>.TwoFactorAuthentication (EventManager.Identity.STS.Identity)"'
[2020-12-16T13:19:51.4354739+00:00][INFO][22][Microsoft.AspNetCore.Hosting.Diagnostics] Request finished in 345.0911ms 200 text/html; charset=utf-8
[2020-12-16T13:19:54.7542932+00:00][INFO][22][Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 GET http://id.em.local/Manage/EnableAuthenticator  
[2020-12-16T13:19:54.7879459+00:00][INFO][22][Microsoft.AspNetCore.Authorization.DefaultAuthorizationService] Authorization was successful.
[2020-12-16T13:19:54.7892427+00:00][INFO][22][Microsoft.AspNetCore.Routing.EndpointMiddleware] Executing endpoint '"EventManager.Identity.STS.Identity.Controllers.ManageController<EventManager.Identity.Admin.EntityFramework.Shared.Entities.Identity.UserIdentity, string>.EnableAuthenticator (EventManager.Identity.STS.Identity)"'
[2020-12-16T13:19:54.8172780+00:00][INFO][22][Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Route matched with "{action = \"EnableAuthenticator\", controller = \"Manage\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] EnableAuthenticator()" on controller "EventManager.Identity.STS.Identity.Controllers.ManageController<EventManager.Identity.Admin.EntityFramework.Shared.Entities.Identity.UserIdentity, string>" ("EventManager.Identity.STS.Identity").
[2020-12-16T13:19:54.8342457+00:00][INFO][22][Microsoft.EntityFrameworkCore.Infrastructure] Entity Framework Core "3.1.9" initialized '"AdminIdentityDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=EventManager.Identity.Admin.EntityFramework.SqlServer "
[2020-12-16T13:19:54.8722442+00:00][INFO][21][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("24"ms) [Parameters=["@__p_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[Id] = @__p_0"
[2020-12-16T13:19:54.9433837+00:00][INFO][23][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("29"ms) [Parameters=["@__p_0='?' (Size = 450), @__p_1='?' (Size = 450), @__p_2='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[UserId], [u].[LoginProvider], [u].[Name], [u].[Value]
FROM [UserTokens] AS [u]
WHERE (([u].[UserId] = @__p_0) AND ([u].[LoginProvider] = @__p_1)) AND ([u].[Name] = @__p_2)"
[2020-12-16T13:19:55.0015192+00:00][INFO][25][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("11"ms) [Parameters=["@__p_0='?' (Size = 450), @__p_1='?' (Size = 450), @__p_2='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[UserId], [u].[LoginProvider], [u].[Name], [u].[Value]
FROM [UserTokens] AS [u]
WHERE (([u].[UserId] = @__p_0) AND ([u].[LoginProvider] = @__p_1)) AND ([u].[Name] = @__p_2)"
[2020-12-16T13:19:55.0733014+00:00][INFO][22][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("7"ms) [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0"
[2020-12-16T13:19:55.1178495+00:00][INFO][24][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("1"ms) [Parameters=["@__normalizedEmail_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(2) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[NormalizedEmail] = @__normalizedEmail_0"
[2020-12-16T13:19:55.2610795+00:00][INFO][25][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("5"ms) [Parameters=["@p0='?' (Size = 450), @p1='?' (Size = 450), @p2='?' (Size = 450), @p3='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
INSERT INTO [UserTokens] ([UserId], [LoginProvider], [Name], [Value])
VALUES (@p0, @p1, @p2, @p3);"
[2020-12-16T13:19:55.3931256+00:00][INFO][24][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("7"ms) [Parameters=["@p14='?' (Size = 450), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p15='?' (Size = 4000), @p2='?' (Size = 256), @p3='?' (DbType = Boolean), @p4='?' (DbType = Boolean), @p5='?' (DbType = DateTimeOffset), @p6='?' (Size = 256), @p7='?' (Size = 256), @p8='?' (Size = 4000), @p9='?' (Size = 4000), @p10='?' (DbType = Boolean), @p11='?' (Size = 4000), @p12='?' (DbType = Boolean), @p13='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
UPDATE [Users] SET [AccessFailedCount] = @p0, [ConcurrencyStamp] = @p1, [Email] = @p2, [EmailConfirmed] = @p3, [LockoutEnabled] = @p4, [LockoutEnd] = @p5, [NormalizedEmail] = @p6, [NormalizedUserName] = @p7, [PasswordHash] = @p8, [PhoneNumber] = @p9, [PhoneNumberConfirmed] = @p10, [SecurityStamp] = @p11, [TwoFactorEnabled] = @p12, [UserName] = @p13
WHERE [Id] = @p14 AND [ConcurrencyStamp] = @p15;
SELECT @@ROWCOUNT;"
[2020-12-16T13:19:55.4404265+00:00][INFO][24][Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor] Executing ViewResult, running view "EnableAuthenticator".
[2020-12-16T13:19:55.8758469+00:00][INFO][24][Microsoft.AspNetCore.Authorization.DefaultAuthorizationService] Authorization was successful.
[2020-12-16T13:19:55.8884290+00:00][INFO][24][Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor] Executed ViewResult - view "EnableAuthenticator" executed in 449.1168ms.
[2020-12-16T13:19:55.8900199+00:00][INFO][24][Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Executed action "EventManager.Identity.STS.Identity.Controllers.ManageController<EventManager.Identity.Admin.EntityFramework.Shared.Entities.Identity.UserIdentity, string>.EnableAuthenticator (EventManager.Identity.STS.Identity)" in 1071.2124ms
[2020-12-16T13:19:55.8963969+00:00][INFO][24][Microsoft.AspNetCore.Routing.EndpointMiddleware] Executed endpoint '"EventManager.Identity.STS.Identity.Controllers.ManageController<EventManager.Identity.Admin.EntityFramework.Shared.Entities.Identity.UserIdentity, string>.EnableAuthenticator (EventManager.Identity.STS.Identity)"'
[2020-12-16T13:19:55.8980450+00:00][INFO][24][Microsoft.AspNetCore.Hosting.Diagnostics] Request finished in 1143.788ms 200 text/html; charset=utf-8
[2020-12-16T13:19:56.0084928+00:00][INFO][24][Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 GET http://id.em.local/js/qrcode.min.js  
[2020-12-16T13:19:56.0903081+00:00][INFO][19][Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware] Sending file. Request path: '"/js/qrcode.min.js"'. Physical path: '"/app/wwwroot/js/qrcode.min.js"'
[2020-12-16T13:19:56.0921698+00:00][INFO][19][Microsoft.AspNetCore.Hosting.Diagnostics] Request finished in 83.6854ms 200 application/javascript
[2020-12-16T13:20:00.5842159+00:00][INFO][19][Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 GET http://id.em.local/Manage/TwoFactorAuthentication  
[2020-12-16T13:20:00.5867246+00:00][INFO][19][Microsoft.AspNetCore.Authorization.DefaultAuthorizationService] Authorization was successful.
[2020-12-16T13:20:00.5878768+00:00][INFO][19][Microsoft.AspNetCore.Routing.EndpointMiddleware] Executing endpoint '"EventManager.Identity.STS.Identity.Controllers.ManageController<EventManager.Identity.Admin.EntityFramework.Shared.Entities.Identity.UserIdentity, string>.TwoFactorAuthentication (EventManager.Identity.STS.Identity)"'
[2020-12-16T13:20:00.5891354+00:00][INFO][19][Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Route matched with "{action = \"TwoFactorAuthentication\", controller = \"Manage\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] TwoFactorAuthentication()" on controller "EventManager.Identity.STS.Identity.Controllers.ManageController<EventManager.Identity.Admin.EntityFramework.Shared.Entities.Identity.UserIdentity, string>" ("EventManager.Identity.STS.Identity").
[2020-12-16T13:20:00.5939713+00:00][INFO][19][Microsoft.EntityFrameworkCore.Infrastructure] Entity Framework Core "3.1.9" initialized '"AdminIdentityDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=EventManager.Identity.Admin.EntityFramework.SqlServer "
[2020-12-16T13:20:00.6340829+00:00][INFO][23][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("27"ms) [Parameters=["@__p_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[Id] = @__p_0"
[2020-12-16T13:20:00.7196250+00:00][INFO][21][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("17"ms) [Parameters=["@__p_0='?' (Size = 450), @__p_1='?' (Size = 450), @__p_2='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[UserId], [u].[LoginProvider], [u].[Name], [u].[Value]
FROM [UserTokens] AS [u]
WHERE (([u].[UserId] = @__p_0) AND ([u].[LoginProvider] = @__p_1)) AND ([u].[Name] = @__p_2)"
[2020-12-16T13:20:00.7379947+00:00][INFO][24][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("5"ms) [Parameters=["@__p_0='?' (Size = 450), @__p_1='?' (Size = 450), @__p_2='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[UserId], [u].[LoginProvider], [u].[Name], [u].[Value]
FROM [UserTokens] AS [u]
WHERE (([u].[UserId] = @__p_0) AND ([u].[LoginProvider] = @__p_1)) AND ([u].[Name] = @__p_2)"
[2020-12-16T13:20:00.7407940+00:00][INFO][24][Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor] Executing ViewResult, running view "TwoFactorAuthentication".
[2020-12-16T13:20:00.7566987+00:00][INFO][24][Microsoft.AspNetCore.Authorization.DefaultAuthorizationService] Authorization was successful.
[2020-12-16T13:20:00.7672380+00:00][INFO][24][Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor] Executed ViewResult - view "TwoFactorAuthentication" executed in 26.5295ms.
[2020-12-16T13:20:00.7695520+00:00][INFO][24][Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Executed action "EventManager.Identity.STS.Identity.Controllers.ManageController<EventManager.Identity.Admin.EntityFramework.Shared.Entities.Identity.UserIdentity, string>.TwoFactorAuthentication (EventManager.Identity.STS.Identity)" in 176.5049ms
[2020-12-16T13:20:00.7789377+00:00][INFO][24][Microsoft.AspNetCore.Routing.EndpointMiddleware] Executed endpoint '"EventManager.Identity.STS.Identity.Controllers.ManageController<EventManager.Identity.Admin.EntityFramework.Shared.Entities.Identity.UserIdentity, string>.TwoFactorAuthentication (EventManager.Identity.STS.Identity)"'
[2020-12-16T13:20:00.7826964+00:00][INFO][24][Microsoft.AspNetCore.Hosting.Diagnostics] Request finished in 198.3627ms 200 text/html; charset=utf-8
[2020-12-16T13:20:06.5025788+00:00][INFO][23][Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 GET http://id.em.local/  
[2020-12-16T13:20:06.5054358+00:00][INFO][23][Microsoft.AspNetCore.Routing.EndpointMiddleware] Executing endpoint '"EventManager.Identity.STS.Identity.Controllers.HomeController.Index (EventManager.Identity.STS.Identity)"'
[2020-12-16T13:20:06.5064922+00:00][INFO][23][Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Route matched with "{action = \"Index\", controller = \"Home\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult Index()" on controller "EventManager.Identity.STS.Identity.Controllers.HomeController" ("EventManager.Identity.STS.Identity").
[2020-12-16T13:20:06.5143203+00:00][INFO][23][Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor] Executing ViewResult, running view "Index".
[2020-12-16T13:20:06.5320298+00:00][INFO][23][Microsoft.AspNetCore.Authorization.DefaultAuthorizationService] Authorization was successful.
[2020-12-16T13:20:06.5413459+00:00][INFO][23][Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor] Executed ViewResult - view "Index" executed in 27.0566ms.
[2020-12-16T13:20:06.5425496+00:00][INFO][23][Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Executed action "EventManager.Identity.STS.Identity.Controllers.HomeController.Index (EventManager.Identity.STS.Identity)" in 35.1244ms
[2020-12-16T13:20:06.5437027+00:00][INFO][23][Microsoft.AspNetCore.Routing.EndpointMiddleware] Executed endpoint '"EventManager.Identity.STS.Identity.Controllers.HomeController.Index (EventManager.Identity.STS.Identity)"'
[2020-12-16T13:20:06.5447558+00:00][INFO][23][Microsoft.AspNetCore.Hosting.Diagnostics] Request finished in 42.1644ms 200 text/html; charset=utf-8
[2020-12-16T13:20:10.3691907+00:00][INFO][24][Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 GET http://id.em.local/Manage/PersonalData  
[2020-12-16T13:20:10.3762602+00:00][INFO][24][Microsoft.AspNetCore.Authorization.DefaultAuthorizationService] Authorization was successful.
[2020-12-16T13:20:10.3775257+00:00][INFO][24][Microsoft.AspNetCore.Routing.EndpointMiddleware] Executing endpoint '"EventManager.Identity.STS.Identity.Controllers.ManageController<EventManager.Identity.Admin.EntityFramework.Shared.Entities.Identity.UserIdentity, string>.PersonalData (EventManager.Identity.STS.Identity)"'
[2020-12-16T13:20:10.3870938+00:00][INFO][24][Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Route matched with "{action = \"PersonalData\", controller = \"Manage\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] PersonalData()" on controller "EventManager.Identity.STS.Identity.Controllers.ManageController<EventManager.Identity.Admin.EntityFramework.Shared.Entities.Identity.UserIdentity, string>" ("EventManager.Identity.STS.Identity").
[2020-12-16T13:20:10.3925605+00:00][INFO][24][Microsoft.EntityFrameworkCore.Infrastructure] Entity Framework Core "3.1.9" initialized '"AdminIdentityDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=EventManager.Identity.Admin.EntityFramework.SqlServer "
[2020-12-16T13:20:10.4192730+00:00][INFO][22][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("2"ms) [Parameters=["@__p_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[Id] = @__p_0"
[2020-12-16T13:20:10.5183394+00:00][INFO][22][Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor] Executing ViewResult, running view "PersonalData".
[2020-12-16T13:20:10.5447041+00:00][INFO][22][Microsoft.AspNetCore.Authorization.DefaultAuthorizationService] Authorization was successful.
[2020-12-16T13:20:10.5556520+00:00][INFO][22][Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor] Executed ViewResult - view "PersonalData" executed in 42.9839ms.
[2020-12-16T13:20:10.5574341+00:00][INFO][22][Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Executed action "EventManager.Identity.STS.Identity.Controllers.ManageController<EventManager.Identity.Admin.EntityFramework.Shared.Entities.Identity.UserIdentity, string>.PersonalData (EventManager.Identity.STS.Identity)" in 169.2114ms
[2020-12-16T13:20:10.5582840+00:00][INFO][22][Microsoft.AspNetCore.Routing.EndpointMiddleware] Executed endpoint '"EventManager.Identity.STS.Identity.Controllers.ManageController<EventManager.Identity.Admin.EntityFramework.Shared.Entities.Identity.UserIdentity, string>.PersonalData (EventManager.Identity.STS.Identity)"'
[2020-12-16T13:20:10.5644074+00:00][INFO][22][Microsoft.AspNetCore.Hosting.Diagnostics] Request finished in 195.1681ms 200 text/html; charset=utf-8
[2020-12-16T13:20:14.9306054+00:00][INFO][22][Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 GET http://id.em.local/  
[2020-12-16T13:20:14.9324564+00:00][INFO][22][Microsoft.AspNetCore.Routing.EndpointMiddleware] Executing endpoint '"EventManager.Identity.STS.Identity.Controllers.HomeController.Index (EventManager.Identity.STS.Identity)"'
[2020-12-16T13:20:14.9333645+00:00][INFO][22][Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Route matched with "{action = \"Index\", controller = \"Home\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult Index()" on controller "EventManager.Identity.STS.Identity.Controllers.HomeController" ("EventManager.Identity.STS.Identity").
[2020-12-16T13:20:14.9349623+00:00][INFO][22][Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor] Executing ViewResult, running view "Index".
[2020-12-16T13:20:14.9567319+00:00][INFO][22][Microsoft.AspNetCore.Authorization.DefaultAuthorizationService] Authorization was successful.
[2020-12-16T13:20:14.9639695+00:00][INFO][22][Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor] Executed ViewResult - view "Index" executed in 29.0663ms.
[2020-12-16T13:20:14.9656995+00:00][INFO][22][Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Executed action "EventManager.Identity.STS.Identity.Controllers.HomeController.Index (EventManager.Identity.STS.Identity)" in 31.2504ms
[2020-12-16T13:20:14.9811869+00:00][INFO][22][Microsoft.AspNetCore.Routing.EndpointMiddleware] Executed endpoint '"EventManager.Identity.STS.Identity.Controllers.HomeController.Index (EventManager.Identity.STS.Identity)"'
[2020-12-16T13:20:14.9843929+00:00][INFO][22][Microsoft.AspNetCore.Hosting.Diagnostics] Request finished in 53.7411ms 200 text/html; charset=utf-8
[2020-12-16T13:20:17.6134399+00:00][INFO][24][Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 GET http://id.em.local/Manage  
[2020-12-16T13:20:17.6168807+00:00][INFO][24][Microsoft.AspNetCore.Authorization.DefaultAuthorizationService] Authorization was successful.
[2020-12-16T13:20:17.6186644+00:00][INFO][24][Microsoft.AspNetCore.Routing.EndpointMiddleware] Executing endpoint '"EventManager.Identity.STS.Identity.Controllers.ManageController<EventManager.Identity.Admin.EntityFramework.Shared.Entities.Identity.UserIdentity, string>.Index (EventManager.Identity.STS.Identity)"'
[2020-12-16T13:20:17.6315628+00:00][INFO][24][Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Route matched with "{action = \"Index\", controller = \"Manage\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Index()" on controller "EventManager.Identity.STS.Identity.Controllers.ManageController<EventManager.Identity.Admin.EntityFramework.Shared.Entities.Identity.UserIdentity, string>" ("EventManager.Identity.STS.Identity").
[2020-12-16T13:20:17.6372762+00:00][INFO][24][Microsoft.EntityFrameworkCore.Infrastructure] Entity Framework Core "3.1.9" initialized '"AdminIdentityDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=EventManager.Identity.Admin.EntityFramework.SqlServer "
[2020-12-16T13:20:17.6480045+00:00][INFO][22][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("5"ms) [Parameters=["@__p_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[Id] = @__p_0"
[2020-12-16T13:20:17.7363874+00:00][INFO][25][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("5"ms) [Parameters=["@__user_Id_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [u].[Id], [u].[ClaimType], [u].[ClaimValue], [u].[UserId]
FROM [UserClaims] AS [u]
WHERE [u].[UserId] = @__user_Id_0"
[2020-12-16T13:20:17.7522407+00:00][INFO][25][Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor] Executing ViewResult, running view "Index".
[2020-12-16T13:20:19.1515304+00:00][INFO][25][[2020-12-16T13:40:06.6826959+00:00][INFO][1][Microsoft.EntityFrameworkCore.Infrastructure] Entity Framework Core "3.1.9" initialized '"IdentityServerDataProtectionDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=EventManager.Identity.Admin.EntityFramework.SqlServer "
[2020-12-16T13:40:09.7682722+00:00][INFO][1][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("111"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [d].[Xml]
FROM [DataProtectionKeys] AS [d]"
[2020-12-16T13:40:10.1194007+00:00][INFO][1][IdentityServer4.Startup] Starting IdentityServer4 version "4.1.1+cebd52f5bc61bdefc262fd20739d4d087c6f961f"
[2020-12-16T13:40:10.1789530+00:00][INFO][1][IdentityServer4.Startup] Using the default authentication scheme "Identity.Application" for IdentityServer
[2020-12-16T13:40:11.2124934+00:00][INFO][1][Microsoft.Hosting.Lifetime] Now listening on: "http://[::]:80"
[2020-12-16T13:40:11.2145483+00:00][INFO][1][Microsoft.Hosting.Lifetime] Application started. Press Ctrl+C to shut down.
[2020-12-16T13:40:11.2157583+00:00][INFO][1][Microsoft.Hosting.Lifetime] Hosting environment: "Development"
[2020-12-16T13:40:11.2165364+00:00][INFO][1][Microsoft.Hosting.Lifetime] Content root path: "/app"
[2020-12-16T13:41:46.2964397+00:00][INFO][11][Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 GET http://id.em.local/  
[2020-12-16T13:41:46.5476469+00:00][INFO][11][Microsoft.AspNetCore.Routing.EndpointMiddleware] Executing endpoint '"EventManager.Identity.STS.Identity.Controllers.HomeController.Index (EventManager.Identity.STS.Identity)"'
[2020-12-16T13:41:46.5902178+00:00][INFO][11][Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Route matched with "{action = \"Index\", controller = \"Home\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult Index()" on controller "EventManager.Identity.STS.Identity.Controllers.HomeController" ("EventManager.Identity.STS.Identity").
[2020-12-16T13:41:46.7092423+00:00][INFO][11][Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor] Executing ViewResult, running view "Index".
[2020-12-16T13:41:47.4757576+00:00][INFO][11][Microsoft.AspNetCore.Authorization.DefaultAuthorizationService] Authorization was successful.
[2020-12-16T13:41:48.1844992+00:00][INFO][11][Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor] Executed ViewResult - view "Index" executed in 1484.1576ms.
[2020-12-16T13:41:48.1893919+00:00][INFO][11][Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Executed action "EventManager.Identity.STS.Identity.Controllers.HomeController.Index (EventManager.Identity.STS.Identity)" in 1596.8598ms
[2020-12-16T13:41:48.1913064+00:00][INFO][11][Microsoft.AspNetCore.Routing.EndpointMiddleware] Executed endpoint '"EventManager.Identity.STS.Identity.Controllers.HomeController.Index (EventManager.Identity.STS.Identity)"'
[2020-12-16T13:41:48.2295818+00:00][INFO][11][Microsoft.AspNetCore.Hosting.Diagnostics] Request finished in 1936.7264ms 200 text/html; charset=utf-8
[2020-12-16T13:42:17.8132763+00:00][INFO][6][Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 GET http://id.em.local/  
[2020-12-16T13:42:17.8305683+00:00][INFO][6][Microsoft.AspNetCore.Routing.EndpointMiddleware] Executing endpoint '"EventManager.Identity.STS.Identity.Controllers.HomeController.Index (EventManager.Identity.STS.Identity)"'
[2020-12-16T13:42:17.8328004+00:00][INFO][6][Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Route matched with "{action = \"Index\", controller = \"Home\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult Index()" on controller "EventManager.Identity.STS.Identity.Controllers.HomeController" ("EventManager.Identity.STS.Identity").
[2020-12-16T13:42:17.8490170+00:00][INFO][6][Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor] Executing ViewResult, running view "Index".
[2020-12-16T13:42:17.9044362+00:00][INFO][6][Microsoft.AspNetCore.Authorization.D[2020-12-16T13:50:10.5153546+00:00][INFO][1][Microsoft.EntityFrameworkCore.Infrastructure] Entity Framework Core "3.1.9" initialized '"IdentityServerDataProtectionDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=EventManager.Identity.Admin.EntityFramework.SqlServer "
[2020-12-16T13:50:14.2870099+00:00][INFO][1][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("87"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [d].[Xml]
FROM [DataProtectionKeys] AS [d]"
[2020-12-16T13:50:14.7426496+00:00][INFO][1][IdentityServer4.Startup] Starting IdentityServer4 version "4.1.1+cebd52f5bc61bdefc262fd20739d4d087c6f961f"
[2020-12-16T13:50:14.7980781+00:00][INFO][1][IdentityServer4.Startup] Using the default authentication scheme "Identity.Application" for IdentityServer
[2020-12-16T13:50:17.5382065+00:00][INFO][1][Microsoft.Hosting.Lifetime] Now listening on: "http://[::]:80"
[2020-12-16T13:50:17.5394199+00:00][INFO][1][Microsoft.Hosting.Lifetime] Application started. Press Ctrl+C to shut down.
[2020-12-16T13:50:17.5410317+00:00][INFO][1][Microsoft.Hosting.Lifetime] Hosting environment: "Development"
[2020-12-16T13:50:17.5420477+00:00][INFO][1][Microsoft.Hosting.Lifetime] Content root path: "/app"
[2020-12-16T13:52:47.1961236+00:00][INFO][13][Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 GET http://id.em.local/  
[2020-12-16T13:52:47.3280263+00:00][INFO][13][Microsoft.EntityFrameworkCore.Infrastructure] Entity Framework Core "3.1.9" initialized '"AdminIdentityDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=EventManager.Identity.Admin.EntityFramework.SqlServer "
[2020-12-16T13:52:47.6194104+00:00][INFO][16][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("67"ms) [Parameters=["@__p_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[Id] = @__p_0"
[2020-12-16T13:52:47.8345419+00:00][INFO][16][Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler] AuthenticationScheme: "Identity.Application" signed out.
[2020-12-16T13:52:47.8411909+00:00][INFO][16][Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler] AuthenticationScheme: "Identity.External" signed out.
[2020-12-16T13:52:47.8478285+00:00][INFO][16][Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler] AuthenticationScheme: "Identity.TwoFactorUserId" signed out.
[2020-12-16T13:52:47.8558621+00:00][INFO][16][Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler] "Identity.Application" was not authenticated. Failure message: "No principal."
[2020-12-16T13:52:47.8822027+00:00][INFO][16][Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler] "Identity.Application" was not authenticated. Failure message: "No principal."
[2020-12-16T13:52:48.0641130+00:00][INFO][16][Microsoft.AspNetCore.Routing.EndpointMiddleware] Executing endpoint '"EventManager.Identity.STS.Identity.Controllers.HomeController.Index (EventManager.Identity.STS.Identity)"'
[2020-12-16T13:52:48.1131637+00:00][INFO][16][Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Route matched with "{action = \"Index\", controller = \"Home\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult Index()" on controller "EventManager.Identity.STS.Identity.Controllers.HomeController" ("EventManager.Identity.STS.Identity").
[2020-12-16T13:52:48.2328964+00:00][INFO][16][Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor] Executing ViewResult, running view "Index".
[2020-12-16T13:52:50.1497388+00:00][INFO][16][Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler] "Identity.Application" was not authenticated. Failure message: "No principal."
[2020-12-16T13:52:50.1734754+00:00][INFO][16][Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor] Executed ViewResult - view "Index" executed in 1951.4126ms.
[2020-12-16T13:52:50.1759355+00:00][INFO][16][Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Executed action "EventManager.Identity.STS.Identity.Controllers.HomeController.Index (EventManager.Identity.STS.Identity)" in 2059.2808ms
[2020-12-16T13:52:50.1773282+00:00][INFO][16][Microsoft.AspNetCore.Routing.EndpointMiddleware] Executed endpoint '"EventManager.Identity.STS.Identity.Controllers.HomeController.Index (EventManager.Identity.STS.Identity)"'
[2020-12-16T13:52:50.2000681+00:00][INFO][16][Microsoft.AspNetCore.Hosting.Diagnostics] Request finished in 3006.8665ms 200 text/html; charset=utf-8
[2020-12-16T13:52:53.5292377+00:00][INFO][21][Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 GET http://id.em.local/Account/Login  
[2020-12-16T13:52:53.5533057+00:00][INFO][21][Microsoft.AspNetCore.Routing.EndpointMiddleware] Executing endpoint '"EventManager.Identity.STS.Identity.Controllers.AccountController<EventManager.Identity.Admin.EntityFramework.Shared.Entities.Identity.UserIdentity, string>.Login (EventManager.Identity.STS.Identity)"'
[2020-12-16T13:52:53.5992724+00:00][INFO][21][Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Route matched with "{action = \"Login\", controller = \"Account\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(System.String)" on controller "EventManager.Identity.STS.Identity.Controllers.AccountController<EventManager.Identity.Admin.EntityFramework.Shared.Entities.Identity.UserIdentity, string>" ("EventManager.Identity.STS.Identity").
[2020-12-16T13:52:53.6453606+00:00][INFO][21][Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor] Executing ViewResult, running view "Login".
[2020-12-16T13:52:53.7206901+00:00][INFO][21][Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor] Executed ViewResult - view "Login" executed in 76.863ms.
[2020-12-16T13:52:53.7220163+00:00][INFO][21][Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Executed action "EventManager.Identity.STS.Identity.Controllers.AccountController<EventManager.Identity.Admin.EntityFramework.Shared.Entities.Identity.UserIdentity, string>.Login (EventManager.Identity.STS.Identity)" in 117.1072ms
[2020-12-16T13:52:53.7325689+00:00][INFO][21][Microsoft.AspNetCore.Routing.EndpointMiddleware] Executed endpoint '"EventManager.Identity.STS.Identity.Controllers.AccountController<EventManager.Identity.Admin.EntityFramework.Shared.Entities.Identity.UserIdentity, string>.Login (EventManager.Identity.STS.Identity)"'
[2020-12-16T13:52:53.7340614+00:00][INFO][21][Microsoft.AspNetCore.Hosting.Diagnostics] Request finished in 204.8099ms 200 text/html; charset=utf-8
[2020-12-16T13:52:55.9098377+00:00][INFO][21][Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 POST http://id.em.local/Account/Login application/x-www-form-urlencoded 261
[2020-12-16T13:52:55.9303771+00:00][INFO][21][Microsoft.AspNetCore.Cors.Infrastructure.CorsMiddleware] No CORS policy found for the specified request.
[2020-12-16T13:52:55.9433255+00:00][INFO][21][Microsoft.AspNetCore.Routing.EndpointMiddleware] Executing endpoint '"EventManager.Identity.STS.Identity.Controllers.AccountController<EventManager.Identity.Admin.EntityFramework.Shared.Entities.Identity.UserIdentity, string>.Login (EventManager.Identity.STS.Identity)"'
[2020-12-16T13:52:55.9574421+00:00][INFO][21][Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Route matched with "{action = \"Login\", controller = \"Account\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(EventManager.Identity.STS.Identity.ViewModels.Account.LoginInputModel, System.String)" on controller "EventManager.Identity.STS.Identity.Controllers.AccountController<EventManager.Identity.Admin.EntityFramework.Shared.Entities.Identity.UserIdentity, string>" ("EventManager.Identity.STS.Identity").
[2020-12-16T13:52:56.0532017+00:00][INFO][21][Microsoft.EntityFrameworkCore.Infrastructure] Entity Framework Core "3.1.9" initialized '"AdminIdentityDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=EventManager.Identity.Admin.EntityFramework.SqlServer "
[2020-12-16T13:52:56.0765977+00:00][INFO][22][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("4"ms) [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0"
[2020-12-16T13:52:56.1446293+00:00][INFO][14][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("3"ms) [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0"
[2020-12-16T13:52:56.2686594+00:00][INFO][15][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("7"ms) [Parameters=["@__user_Id_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [u].[Id], [u].[ClaimType], [u].[ClaimValue], [u].[UserId]
FROM [UserClaims] AS [u]
WHERE [u].[UserId] = @__user_Id_0"
[2020-12-16T13:52:56.4595410+00:00][INFO][22][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("7"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [r].[Name]
FROM [UserRoles] AS [u]
INNER JOIN [Roles] AS [r] ON [u].[RoleId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0"
[2020-12-16T13:52:56.5059031+00:00][INFO][17][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("17"ms) [Parameters=["@__normalizedName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [Roles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0"
[2020-12-16T13:52:56.5996664+00:00][INFO][22][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("24"ms) [Parameters=["@__role_Id_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [r].[ClaimType], [r].[ClaimValue]
FROM [RoleClaims] AS [r]
WHERE [r].[RoleId] = @__role_Id_0"
[2020-12-16T13:52:56.6725682+00:00][INFO][22][Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler] AuthenticationScheme: "Identity.Application" signed in.
[2020-12-16T13:52:56.7034102+00:00][INFO][22][IdentityServer4.Events.DefaultEventService] UserLoginSuccessEvent { Username: "admin", Provider: null, ProviderUserId: null, SubjectId: "4986fb39-0b1a-416a-8fda-e04706435fc3", DisplayName: "admin", Endpoint: "UI", ClientId: null, Category: "Authentication", Name: "User Login Success", EventType: Success, Id: 1000, Message: null, ActivityId: "0HM51P7FCNR6T:00000001", TimeStamp: 12/16/2020 13:52:56, ProcessId: 26, LocalIpAddress: "::ffff:172.26.0.8:80", RemoteIpAddress: "172.26.0.1" }
[2020-12-16T13:52:56.7341720+00:00][INFO][22][Microsoft.AspNetCore.Mvc.Infrastructure.RedirectResultExecutor] Executing RedirectResult, redirecting to "/".
[2020-12-16T13:52:56.7411416+00:00][INFO][22][Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Executed action "EventManager.I[2020-12-16T14:03:00.6982879+00:00][INFO][1][Microsoft.EntityFrameworkCore.Infrastructure] Entity Framework Core "3.1.9" initialized '"IdentityServerDataProtectionDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=EventManager.Identity.Admin.EntityFramework.SqlServer "
[2020-12-16T14:03:02.3688217+00:00][INFO][1][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("53"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [d].[Xml]
FROM [DataProtectionKeys] AS [d]"
[2020-12-16T14:03:02.5645153+00:00][INFO][1][IdentityServer4.Startup] Starting IdentityServer4 version "4.1.1+cebd52f5bc61bdefc262fd20739d4d087c6f961f"
[2020-12-16T14:03:02.6070235+00:00][INFO][1][IdentityServer4.Startup] Using the default authentication scheme "Identity.Application" for IdentityServer
[2020-12-16T14:03:03.1991353+00:00][INFO][1][Microsoft.Hosting.Lifetime] Now listening on: "http://[::]:80"
[2020-12-16T14:03:03.2006898+00:00][INFO][1][Microsoft.Hosting.Lifetime] Application started. Press Ctrl+C to shut down.
[2020-12-16T14:03:03.2069088+00:00][INFO][1][Microsoft.Hosting.Lifetime] Hosting environment: "Development"
[2020-12-16T14:03:03.2109477+00:00][INFO][1][Microsoft.Hosting.Lifetime] Content root path: "/app"
[2020-12-16T14:05:43.0825958+00:00][INFO][11][Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 GET http://id.em.local/.well-known/openid-configuration  
[2020-12-16T14:05:43.1692149+00:00][INFO][11][IdentityServer4.Hosting.IdentityServerMiddleware] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.DiscoveryEndpoint" for "/.well-known/openid-configuration"
[2020-12-16T14:05:43.2010425+00:00][INFO][11][Microsoft.EntityFrameworkCore.Infrastructure] Entity Framework Core "3.1.9" initialized '"IdentityServerConfigurationDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=EventManager.Identity.Admin.EntityFramework.SqlServer "
[2020-12-16T14:05:43.5286675+00:00][INFO][13][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("118"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [i].[Id], [i].[Created], [i].[Description], [i].[DisplayName], [i].[Emphasize], [i].[Enabled], [i].[Name], [i].[NonEditable], [i].[Required], [i].[ShowInDiscoveryDocument], [i].[Updated], [i0].[Id], [i0].[IdentityResourceId], [i0].[Type], [i1].[Id], [i1].[IdentityResourceId], [i1].[Key], [i1].[Value]
FROM [IdentityResources] AS [i]
LEFT JOIN [IdentityResourceClaims] AS [i0] ON [i].[Id] = [i0].[IdentityResourceId]
LEFT JOIN [IdentityResourceProperties] AS [i1] ON [i].[Id] = [i1].[IdentityResourceId]
ORDER BY [i].[Id], [i0].[Id], [i1].[Id]"
[2020-12-16T14:05:43.8388725+00:00][INFO][11][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("30"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [a].[Id], [a].[AllowedAccessTokenSigningAlgorithms], [a].[Created], [a].[Description], [a].[DisplayName], [a].[Enabled], [a].[LastAccessed], [a].[Name], [a].[NonEditable], [a].[ShowInDiscoveryDocument], [a].[Updated], [a0].[Id], [a0].[ApiResourceId], [a0].[Created], [a0].[Description], [a0].[Expiration], [a0].[Type], [a0].[Value], [a1].[Id], [a1].[ApiResourceId], [a1].[Scope], [a2].[Id], [a2].[ApiResourceId], [a2].[Type], [a3].[Id], [a3].[ApiResourceId], [a3].[Key], [a3].[Value]
FROM [ApiResources] AS [a]
LEFT JOIN [ApiResourceSecrets] AS [a0] ON [a].[Id] = [a0].[ApiResourceId]
LEFT JOIN [ApiResourceScopes] AS [a1] ON [a].[Id] = [a1].[ApiResourceId]
LEFT JOIN [ApiResourceClaims] AS [a2] ON [a].[Id] = [a2].[ApiResourceId]
LEFT JOIN [ApiResourceProperties] AS [a3] ON [a].[Id] = [a3].[ApiResourceId]
ORDER BY [a].[Id], [a0].[Id], [a1].[Id], [a2].[Id], [a3].[Id]"
[2020-12-16T14:05:43.9147442+00:00][INFO][13][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("9"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [a].[Id], [a].[Description], [a].[DisplayName], [a].[Emphasize], [a].[Enabled], [a].[Name], [a].[Required], [a].[ShowInDiscoveryDocument], [a0].[Id], [a0].[ScopeId], [a0].[Type], [a1].[Id], [a1].[Key], [a1].[ScopeId], [a1].[Value]
FROM [ApiScopes] AS [a]
LEFT JOIN [ApiScopeClaims] AS [a0] ON [a].[Id] = [a0].[ScopeId]
LEFT JOIN [ApiScopeProperties] AS [a1] ON [a].[Id] = [a1].[ScopeId]
ORDER BY [a].[Id], [a0].[Id], [a1].[Id]"
[2020-12-16T14:05:44.5522528+00:00][INFO][13][Microsoft.AspNetCore.Hosting.Diagnostics] Request finished in 1472.623ms 200 application/json; charset=UTF-8
[2020-12-16T14:05:44.6760390+00:00][INFO][15][Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 GET http://id.em.local/.well-known/openid-configuration/jwks  
[2020-12-16T14:05:44.6833092+00:00][INFO][15][IdentityServer4.Hosting.IdentityServerMiddleware] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.DiscoveryKeyEndpoint" for "/.well-known/openid-configuration/jwks"
[2020-12-16T14:05:44.7536960+00:00][INFO][15][Microsoft.AspNetCore.Hosting.Diagnostics] Request finished in 77.6769ms 200 application/json; charset=UTF-8
[2020-12-16T14:06:20.4752149+00:00][INFO][16][Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 GET http://id.em.local/connect/authorize?client_id=urn%3Aem%3Aclient&redirect_uri=http%3A%2F%2Fid-web.em.local%2Fsignin-oidc&response_type=code&scope=openid%20profile%20email%20roles&code_challenge=74-O8EC86DLYKvqXrWRC7msUCf7Gv_p75JC8biwqtpk&code_challenge_method=S256&response_mode=form_post&nonce=637437243447915365.ZmM3NmUzMjAtZWFiMy00ZTRkLWI4ZGMtZDE5ZmUyMzMzOTU1MzQwYjQ2YWItMWJiZi00YWFmLWFiNWEtYzU3YWViYzcxM2Uz&state=CfDJ8MPRbAevb1dLpUBHAVWjYkRIMh_9Nir-YVpxw0u-U4cOyqu-5scaLtBGUVOVzeZ6JtvaGtWs2NABfMUlsVKL6w2ukLffxVAxOUl1Se5g1psIMwJyHAAfHModuUxK2IoSPc2O6zY94y6c2zxYpVzI8OEhudoeqZ5ZNntRN4nVYOgZ4TTt9gOICIueKf3zpJqDYjZP2BVJ36JztbaJOwoWfwQcQxH_95_yuoQn8odvK-Bqj1orD6WZ8UiZQ6quJcuDRkw0BSL2KOzAQZBUCtgSCRyC4Yj6BYWrpWcCyugVhFv9nxoOGG7QsnINAy0eS-2isEl4syyC-Fe1oXaonFw44eJ_TLFEHt7YIIHzoJNS8ciyLhccfmRCPZlqgYxNqOUMLQ&x-client-SKU=ID_NETSTANDARD2_0&x-client-ver=5.6.0.0  
[2020-12-16T14:06:20.5431358+00:00][INFO][16][IdentityServer4.Hosting.IdentityServerMiddleware] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize"
[2020-12-16T14:06:20.5785706+00:00][INFO][16][Microsoft.EntityFrameworkCore.Infrastructure] Entity Framework Core "3.1.9" initialized '"IdentityServerConfigurationDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=EventManager.Identity.Admin.EntityFramework.SqlServer "
[2020-12-16T14:06:20.6634860+00:00][INFO][15][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("38"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c].[Id], [c].[AbsoluteRefreshTokenLifetime], [c].[AccessTokenLifetime], [c].[AccessTokenType], [c].[AllowAccessTokensViaBrowser], [c].[AllowOfflineAccess], [c].[AllowPlainTextPkce], [c].[AllowRememberConsent], [c].[AllowedIdentityTokenSigningAlgorithms], [c].[AlwaysIncludeUserClaimsInIdToken], [c].[AlwaysSendClientClaims], [c].[AuthorizationCodeLifetime], [c].[BackChannelLogoutSessionRequired], [c].[BackChannelLogoutUri], [c].[ClientClaimsPrefix], [c].[ClientId], [c].[ClientName], [c].[ClientUri], [c].[ConsentLifetime], [c].[Created], [c].[Description], [c].[DeviceCodeLifetime], [c].[EnableLocalLogin], [c].[Enabled], [c].[FrontChannelLogoutSessionRequired], [c].[FrontChannelLogoutUri], [c].[IdentityTokenLifetime], [c].[IncludeJwtId], [c].[LastAccessed], [c].[LogoUri], [c].[NonEditable], [c].[PairWiseSubjectSalt], [c].[ProtocolType], [c].[RefreshTokenExpiration], [c].[RefreshTokenUsage], [c].[RequireClientSecret], [c].[RequireConsent], [c].[RequirePkce], [c].[RequireRequestObject], [c].[SlidingRefreshTokenLifetime], [c].[UpdateAccessTokenClaimsOnRefresh], [c].[Updated], [c].[UserCodeType], [c].[UserSsoLifetime]
FROM [Clients] AS [c]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-16T14:06:20.8037138+00:00][INFO][17][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("16"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[Origin]
FROM [Clients] AS [c]
INNER JOIN [ClientCorsOrigins] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-16T14:06:20.8441027+00:00][INFO][17][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("11"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[GrantType]
FROM [Clients] AS [c]
INNER JOIN [ClientGrantTypes] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-16T14:06:20.8816794+00:00][INFO][17][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("12"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[Scope]
FROM [Clients] AS [c]
INNER JOIN [ClientScopes] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-16T14:06:20.9141551+00:00][INFO][13][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("4"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[Type], [c0].[Value]
FROM [Clients] AS [c]
INNER JOIN [ClientClaims] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-16T14:06:20.9419254+00:00][INFO][13][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("10"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[Created], [c0].[Description], [c0].[Expiration], [c0].[Type], [c0].[Value]
FROM [Clients] AS [c]
INNER JOIN [ClientSecrets] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-16T14:06:20.9817226+00:00][INFO][17][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("4"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[Provider]
FROM [Clients] AS [c]
INNER JOIN [ClientIdPRestrictions] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-16T14:06:21.0162811+00:00][INFO][17][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("13"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[PostLogoutRedirectUri]
FROM [Clients] AS [c]
INNER JOIN [ClientPostLogoutRedirectUris] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-16T14:06:21.0456589+00:00][INFO][17][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("5"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[Key], [c0].[Value]
FROM [Clients] AS [c]
INNER JOIN [ClientProperties] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-16T14:06:21.0737763+00:00][INFO][17][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("10"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[RedirectUri]
FROM [Clients] AS [c]
INNER JOIN [ClientRedirectUris] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-16T14:06:21.2655570+00:00][EROR][17][IdentityServer4.Validation.AuthorizeRequestValidator] Invalid redirect_uri: "http://id-web.em.local/signin-oidc"
AuthorizeRequestValidationLog { ClientId: "urn:em:client", ClientName: "urn:em:client", RedirectUri: null, AllowedRedirectUris: ["https://idweb.em.local/signin-oidc"], SubjectId: "4986fb39-0b1a-416a-8fda-e04706435fc3", ResponseType: null, ResponseMode: null, GrantType: null, RequestedScopes: "", State: null, UiLocales: null, Nonce: null, AuthenticationContextReferenceClasses: null, DisplayMode: null, PromptMode: "", MaxAge: null, LoginHint: null, SessionId: null, Raw: [("client_id": "urn:em:client"), ("redirect_uri": "http://id-web.em.local/signin-oidc"), ("response_type": "code"), ("scope": "openid profile email roles"), ("code_challenge": "74-O8EC86DLYKvqXrWRC7msUCf7Gv_p75JC8biwqtpk"), ("code_challenge_method": "S256"), ("response_mode": "form_post"), ("nonce": "637437243447915365.ZmM3NmUzMjAtZWFiMy00ZTRkLWI4ZGMtZDE5ZmUyMzMzOTU1MzQwYjQ2YWItMWJiZi00YWFmLWFiNWEtYzU3YWViYzcxM2Uz"), ("state": "CfDJ8MPRbAevb1dLpUBHAVWjYkRIMh_9Nir-YVpxw0u-U4cOyqu-5scaLtBGUVOVzeZ6JtvaGtWs2NABfMUlsVKL6w2ukLffxVAxOUl1Se5g1psIMwJyHAAfHModuUxK2IoSPc2O6zY94y6c2zxYpVzI8OEhudoeqZ5ZNntRN4nVYOgZ4TTt9gOICIueKf3zpJqDYjZP2BVJ36JztbaJOwoWfwQcQxH_95_yuoQn8odvK-Bqj1orD6WZ8UiZQ6quJcuDRkw0BSL2KOzAQZBUCtgSCRyC4Yj6BYWrpWcCyugVhFv9nxoOGG7QsnINAy0eS-2isEl4syyC-Fe1oXaonFw44eJ_TLFEHt7YIIHzoJNS8ciyLhccfmRCPZlqgYxNqOUMLQ"), ("x-client-SKU": "ID_NETSTANDARD2_0"), ("x-client-ver": "5.6.0.0")] }
[2020-12-16T14:06:21.2818936+00:00][EROR][17][IdentityServer4.Endpoints.AuthorizeEndpoint] Request validation failed
[2020-12-16T14:06:21.2841080+00:00][INFO][17][IdentityServer4.Endpoints.AuthorizeEndpoint] AuthorizeRequestValidationLog { ClientId: "urn:em:client", ClientName: "urn:em:client", RedirectUri: null, AllowedRedirectUris: ["https://idweb.em.local/signin-oidc"], SubjectId: "4986fb39-0b1a-416a-8fda-e04706435fc3", ResponseType: null, ResponseMode: null, GrantType: null, RequestedScopes: "", State: null, UiLocales: null, Nonce: null, AuthenticationContextReferenceClasses: null, DisplayMode: null, PromptMode: "", MaxAge: null, LoginHint: null, SessionId: null, Raw: [("client_id": "urn:em:client"), ("redirect_uri": "http://id-web.em.local/signin-oidc"), ("response_type": "code"), ("scope": "openid profile email roles"), ("code_challenge": "74-O8EC86DLYKvqXrWRC7msUCf7Gv_p75JC8biwqtpk"), ("code_challenge_method": "S256"), ("response_mode": "form_post"), ("nonce": "637437243447915365.ZmM3NmUzMjAtZWFiMy00ZTRkLWI4ZGMtZDE5ZmUyMzMzOTU1MzQwYjQ2YWItMWJiZi00YWFmLWFiNWEtYzU3YWViYzcxM2Uz"), ("state": "CfDJ8MPRbAevb1dLpUBHAVWjYkRIMh_9Nir-YVpxw0u-U4cOyqu-5scaLtBGUVOVzeZ6JtvaGtWs2NABfMUlsVKL6w2ukLffxVAxOUl1Se5g1psIMwJyHAAfHModuUxK2IoSPc2O6zY94y6c2zxYpVzI8OEhudoeqZ5ZNntRN4nVYOgZ4TTt9gOICIueKf3zpJqDYjZP2BVJ36JztbaJOwoWfwQcQxH_95_yuoQn8odvK-Bqj1orD6WZ8UiZQ6quJcuDRkw0BSL2KOzAQZBUCtgSCRyC4Yj6BYWrpWcCyugVhFv9nxoOGG7QsnINAy0eS-2isEl4syyC-Fe1oXaonFw44eJ_TLFEHt7YIIHzoJNS8ciyLhccfmRCPZlqgYxNqOUMLQ"), ("x-client-SKU": "ID_NETSTANDARD2_0"), ("x-client-ver": "5.6.0.0")] }
[2020-12-16T14:06:21.3034434+00:00][INFO][17][IdentityServer4.Events.DefaultEventService] TokenIssuedFailureEvent { ClientId: "urn:em:client", ClientName: "urn:em:client", RedirectUri: null, Endpoint: "Authorize", SubjectId: "4986fb39-0b1a-416a-8fda-e04706435fc3", Scopes: "", GrantType: null, Error: "invalid_request", ErrorDescription: "Invalid redirect_uri", Category: "Token", Name: "Token Issued Failure", EventType: Failure, Id: 2001, Message: null, ActivityId: "0HM51PEMK5GK1:00000001", TimeStamp: 12/16/2020 14:06:21, ProcessId: 1061, LocalIpAddress: "::ffff:172.26.0.8:80", RemoteIpAddress: "172.26.0.1" }
[2020-12-16T14:06:21.3535714+00:00][INFO][17][Microsoft.AspNetCore.Hosting.Diagnostics] Request finished in 878.4483ms 302 
[2020-12-16T14:06:21.4426852+00:00][INFO][15][Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 GET http://id.em.local/home/error?errorId=CfDJ8MPRbAevb1dLpUBHAVWjYkSGC_3DNHSZ1dH8ScoXcRqfHHhA-3JRfgdye1meKTXtNxkYTU5b0UdQtdVdu2PTzkZT0-hEx6iyfdcubHc5T9bylLDdRKbUqA9ngbgpppRh-mVvRzYE3lLOvPsIlR-6ixy67xT_amZudY2z5yHiXnhiZYOLcoElfGR-crxvMLDT2H2IyDhMojsk9eQ0uynznoR5Si9lGQHPnW4a51isTmY6OnZ7xmZa68a2RgejyqpoaoLNHBA9p2ZVHoY-ZbWBDE-_0fRx9mlKXNw93e5XbCjdXnKPMpCBxZYdB7IZZA-_cvRHXCVqT630B0J0wuCcATI  
[2020-12-16T14:06:21.6044926+00:00][INFO][15][Microsoft.AspNetCore.Routing.EndpointMiddleware] Executing endpoint '"EventManager.Identity.STS.Identity.Controllers.HomeController.Error (EventManager.Identity.STS.Identity)"'
[2020-12-16T14:06:21.6756548+00:00][INFO][15][Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Route matched with "{action = \"Error\", controller = \"Home\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Error(System.String)" on controller "EventManager.Identity.STS.Identity.Controllers.HomeController" ("EventManager.Identity.STS.Identity").
[2020-12-16T14:06:21.9027114+00:00][INFO][15][Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor] Executing ViewResult, running view "Error".
[2020-12-16T14:06:22.4509317+00:00][INFO][15][Microsoft.AspNetCore.Authorization.DefaultAuthorizationService] Authorization was successful.
[2020-12-16T14:06:22.7814276+00:00][INFO][15][Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor] Executed ViewResult - view "Error" executed in 896.3969ms.
[2020-12-16T14:06:22.7846971+00:00][INFO][15][Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Executed action "EventManager.Identity.STS.Identity.Controllers.HomeController.Error (EventManager.Identity.STS.Identity)" in 1104.7307ms
[2020-12-16T14:06:22.7857084+00:00][INFO][15][Microsoft.AspNetCore.Routing.EndpointMiddleware] Executed endpoint '"EventManager.Identity.STS.Identity.Controllers.HomeController.Error (EventManager.Identity.STS.Identity)"'
[2020-12-16T14:06:22.8036530+00:00][INFO][15][Microsoft.AspNetCore.Hosting.Diagnostics] Request finished in 1360.9578ms 200 text/html; charset=utf-8
[2020-12-16T14:06:57.3999211+00:00][INFO][5][Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 GET http://id.em.local/connect/authorize?client_id=urn%3Aem%3Aclient&redirect_uri=https%3A%2F%2Fid-web.em.local%2Fsignin-oidc&response_type=code&scope=openid%20profile%20email%20roles&code_challenge=PB8WBEnQPzrjAeZ2jDR0T41orTAmspr5zCGCJ4E2h4A&code_challenge_method=S256&response_mode=form_post&nonce=637437244001351682.YWRjYTJjMDctMWFhYS00YzFmLTlmYzEtMzIxZjEwM2UzN2I0YzM5NjY2MGYtMWYzZS00MzY1LTg0MDQtYjUxMDE2ZjIxNDcy&state=CfDJ8MPRbAevb1dLpUBHAVWjYkQF4-GSkxGM-GQC_deho281I-MuMEwQZhfdds8JYCqBNWUl2ToOirvfjryXlR5dUxxpng_Ko0YmX7JUhDSBVHR11l_3cNxNRszcvxhYaXDccsLtkH0QqjYs1aiWe44x_xHmAy0p9miz1OcDbe7AWIJ08k9Ka8Dh6071BOuSzGatPwr3mN5n24-yCMDEdHFaJwagPo7Miqqm_5kml8XfpVxtgDJ0pcP4vt4vd36TdaKgB5qbqsKZYpKHwDe0AAQ5pr8JUE5_x3DStPHYFyWfh6148dWokJgEldJUf5Holc-xayBTPisZOEjUeCziZPKHjAODuLbvPI-edjeD3HompiKGwyvfgsTNNTldHYucvLbI6Q&x-client-SKU=ID_NETSTANDARD2_0&x-client-ver=5.6.0.0  
[2020-12-16T14:06:57.4212005+00:00][INFO][5][IdentityServer4.Hosting.IdentityServerMiddleware] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize"
[2020-12-16T14:06:57.4241733+00:00][INFO][5][Microsoft.EntityFrameworkCore.Infrastructure] Entity Framework Core "3.1.9" initialized '"IdentityServerConfigurationDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=EventManager.Identity.Admin.EntityFramework.SqlServer "
[2020-12-16T14:06:57.4669386+00:00][INFO][9][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("14"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c].[Id], [c].[AbsoluteRefreshTokenLifetime], [c].[AccessTokenLifetime], [c].[AccessTokenType], [c].[AllowAccessTokensViaBrowser], [c].[AllowOfflineAccess], [c].[AllowPlainTextPkce], [c].[AllowRememberConsent], [c].[AllowedIdentityTokenSigningAlgorithms], [c].[AlwaysIncludeUserClaimsInIdToken], [c].[AlwaysSendClientClaims], [c].[AuthorizationCodeLifetime], [c].[BackChannelLogoutSessionRequired], [c].[BackChannelLogoutUri], [c].[ClientClaimsPrefix], [c].[ClientId], [c].[ClientName], [c].[ClientUri], [c].[ConsentLifetime], [c].[Created], [c].[Description], [c].[DeviceCodeLifetime], [c].[EnableLocalLogin], [c].[Enabled], [c].[FrontChannelLogoutSessionRequired], [c].[FrontChannelLogoutUri], [c].[IdentityTokenLifetime], [c].[IncludeJwtId], [c].[LastAccessed], [c].[LogoUri], [c].[NonEditable], [c].[PairWiseSubjectSalt], [c].[ProtocolType], [c].[RefreshTokenExpiration], [c].[RefreshTokenUsage], [c].[RequireClientSecret], [c].[RequireConsent], [c].[RequirePkce], [c].[RequireRequestObject], [c].[SlidingRefreshTokenLifetime], [c].[UpdateAccessTokenClaimsOnRefresh], [c].[Updated], [c].[UserCodeType], [c].[UserSsoLifetime]
FROM [Clients] AS [c]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-16T14:06:57.4943696+00:00][INFO][5][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("11"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[Origin]
FROM [Clients] AS [c]
INNER JOIN [ClientCorsOrigins] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-16T14:06:57.5281885+00:00][INFO][15][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("6"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[GrantType]
FROM [Clients] AS [c]
INNER JOIN [ClientGrantTypes] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-16T14:06:57.5545095+00:00][INFO][19][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("2"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[Scope]
FROM [Clients] AS [c]
INNER JOIN [ClientScopes] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-16T14:06:57.5834514+00:00][INFO][9][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("6"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[Type], [c0].[Value]
FROM [Clients] AS [c]
INNER JOIN [ClientClaims] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-16T14:06:57.6030799+00:00][INFO][19][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("14"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[Created], [c0].[Description], [c0].[Expiration], [c0].[Type], [c0].[Value]
FROM [Clients] AS [c]
INNER JOIN [ClientSecrets] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-16T14:06:57.6207788+00:00][INFO][19][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("3"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[Provider]
FROM [Clients] AS [c]
INNER JOIN [ClientIdPRestrictions] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-16T14:06:57.6564496+00:00][INFO][5][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("15"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[PostLogoutRedirectUri]
FROM [Clients] AS [c]
INNER JOIN [ClientPostLogoutRedirectUris] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-16T14:06:57.6793995+00:00][INFO][19][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("16"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[Key], [c0].[Value]
FROM [Clients] AS [c]
INNER JOIN [ClientProperties] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-16T14:06:57.6972482+00:00][INFO][15][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("15"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[RedirectUri]
FROM [Clients] AS [c]
INNER JOIN [ClientRedirectUris] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-16T14:06:57.7322107+00:00][EROR][19][IdentityServer4.Validation.AuthorizeRequestValidator] Invalid redirect_uri: "https://id-web.em.local/signin-oidc"
AuthorizeRequestValidationLog { ClientId: "urn:em:client", ClientName: "urn:em:client", RedirectUri: null, AllowedRedirectUris: ["https://idweb.em.local/signin-oidc"], SubjectId: "4986fb39-0b1a-416a-8fda-e04706435fc3", ResponseType: null, ResponseMode: null, GrantType: null, RequestedScopes: "", State: null, UiLocales: null, Nonce: null, AuthenticationContextReferenceClasses: null, DisplayMode: null, PromptMode: "", MaxAge: null, LoginHint: null, SessionId: null, Raw: [("client_id": "urn:em:client"), ("redirect_uri": "https://id-web.em.local/signin-oidc"), ("response_type": "code"), ("scope": "openid profile email roles"), ("code_challenge": "PB8WBEnQPzrjAeZ2jDR0T41orTAmspr5zCGCJ4E2h4A"), ("code_challenge_method": "S256"), ("response_mode": "form_post"), ("nonce": "637437244001351682.YWRjYTJjMDctMWFhYS00YzFmLTlmYzEtMzIxZjEwM2UzN2I0YzM5NjY2MGYtMWYzZS00MzY1LTg0MDQtYjUxMDE2ZjIxNDcy"), ("state": "CfDJ8MPRbAevb1dLpUBHAVWjYkQF4-GSkxGM-GQC_deho281I-MuMEwQZhfdds8JYCqBNWUl2ToOirvfjryXlR5dUxxpng_Ko0YmX7JUhDSBVHR11l_3cNxNRszcvxhYaXDccsLtkH0QqjYs1aiWe44x_xHmAy0p9miz1OcDbe7AWIJ08k9Ka8Dh6071BOuSzGatPwr3mN5n24-yCMDEdHFaJwagPo7Miqqm_5kml8XfpVxtgDJ0pcP4vt4vd36TdaKgB5qbqsKZYpKHwDe0AAQ5pr8JUE5_x3DStPHYFyWfh6148dWokJgEldJUf5Holc-xayBTPisZOEjUeCziZPKHjAODuLbvPI-edjeD3HompiKGwyvfgsTNNTldHYucvLbI6Q"), ("x-client-SKU": "ID_NETSTANDARD2_0"), ("x-client-ver": "5.6.0.0")] }
[2020-12-16T14:06:57.7458148+00:00][EROR][19][IdentityServer4.Endpoints.AuthorizeEndpoint] Request validation failed
[2020-12-16T14:06:57.7586983+00:00][INFO][19][IdentityServer4.Endpoints.AuthorizeEndpoint] AuthorizeRequestValidationLog { ClientId: "urn:em:client", ClientName: "urn:em:client", RedirectUri: null, AllowedRedirectUris: ["https://idweb.em.local/signin-oidc"], SubjectId: "4986fb39-0b1a-416a-8fda-e04706435fc3", ResponseType: null, ResponseMode: null, GrantType: null, RequestedScopes: "", State: null, UiLocales: null, Nonce: null, AuthenticationContextReferenceClasses: null, DisplayMode: null, PromptMode: "", MaxAge: null, LoginHint: null, SessionId: null, Raw: [("client_id": "urn:em:client"), ("redirect_uri": "https://id-web.em.local/signin-oidc"), ("response_type": "code"), ("scope": "openid profile email roles"), ("code_challenge": "PB8WBEnQPzrjAeZ2jDR0T41orTAmspr5zCGCJ4E2h4A"), ("code_challenge_method": "S256"), ("response_mode": "form_post"), ("nonce": "637437244001351682.YWRjYTJjMDctMWFhYS00YzFmLTlmYzEtMzIxZjEwM2UzN2I0YzM5NjY2MGYtMWYzZS00MzY1LTg0MDQtYjUxMDE2ZjIxNDcy"), ("state": "CfDJ8MPRbAevb1dLpUBHAVWjYkQF4-GSkxGM-GQC_deho281I-MuMEwQZhfdds8JYCqBNWUl2ToOirvfjryXlR5dUxxpng_Ko0YmX7JUhDSBVHR11l_3cNxNRszcvxhYaXDccsLtkH0QqjYs1aiWe44x_xHmAy0p9miz1OcDbe7AWIJ08k9Ka8Dh6071BOuSzGatPwr3mN5n24-yCMDEdHFaJwagPo7Miqqm_5kml8XfpVxtgDJ0pcP4vt4vd36TdaKgB5qbqsKZYpKHwDe0AAQ5pr8JUE5_x3DStPHYFyWfh6148dWokJgEldJUf5Holc-xayBTPisZOEjUeCziZPKHjAODuLbvPI-edjeD3HompiKGwyvfgsTNNTldHYucvLbI6Q"), ("x-client-SKU": "ID_NETSTANDARD2_0"), ("x-client-ver": "5.6.0.0")] }
[2020-12-16T14:06:57.7603702+00:00][INFO][19][IdentityServer4.Events.DefaultEventService] TokenIssuedFailureEvent { ClientId: "urn:em:client", ClientName: "urn:em:client", RedirectUri: null, Endpoint: "Authorize", SubjectId: "4986fb39-0b1a-416a-8fda-e04706435fc3", Scopes: "", GrantType: null, Error: "invalid_request", ErrorDescription: "Invalid redirect_uri", Category: "Token", Name: "Token Issued Failure", EventType: Failure, Id: 2001, Message: null, ActivityId: "0HM51PEMK5GK3:00000001", TimeStamp: 12/16/2020 14:06:57, ProcessId: 1061, LocalIpAddress: "::ffff:172.26.0.8:80", RemoteIpAddress: "172.26.0.1" }
[2020-12-16T14:06:57.7628253+00:00][INFO][19][Microsoft.AspNetCore.Hosting.Diagnostics] Request finished in 363.074ms 302 
[2020-12-16T14:06:57.7991225+00:00][INFO][5][Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 GET http://id.em.local/home/error?errorId=CfDJ8MPRbAevb1dLpUBHAVWjYkRzUDLioo55HGlIBE1YAA4aOueESq1f8XybyqKoCUhIRYeyHKTMbgeaJO8lvGl1xMWNXpePtNOjAArpSatxk2QhNGm9dq8pyMGGaFOwxO6nOlhgz5PFYoZCsfaXYZi4LLKsbHuLkRIrP66uAduXypDpScKUDl_TunCjzU3SCjWvZzOitG0jvhOz15u_jJXE32-Mrqfkdx2kJlmdF_ctvbCMr6hvd6HceKpIKFvxyDXnrZ822KP1qDMZzO-Ev-eCdfIYSur3FXW3AmvLXwaFE_YKfSlU9h2jlZSxh-WEUe8K0fuaghILzFMtgJjTSOCcfjw  
[2020-12-16T14:06:57.8133737+00:00][INFO][5][Microsoft.AspNetCore.Routing.EndpointMiddleware] Executing endpoint '"EventManager.Identity.STS.Identity.Controllers.HomeController.Error (EventManager.Identity.STS.Identity)"'
[2020-12-16T14:06:57.8212625+00:00][INFO][5][Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Route matched with "{action = \"Error\", controller = \"Home\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Error(System.String)" on controller "EventManager.Identity.STS.Identity.Controllers.HomeController" ("EventManager.Identity.STS.Identity").
[2020-12-16T14:06:57.8368463+00:00][INFO][5][Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor] Executing ViewResult, running view "Error".
[2020-12-16T14:06:57.8663960+00:00][INFO][5][Microsoft.AspNetCore.Authorization.DefaultAuthorizationService] Authorization was successful.
[2020-12-16T14:06:57.8840067+00:00][INFO][5][Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor] Executed ViewResult - view "Error" executed in 47.5516ms.
[2020-12-16T14:06:57.9167139+00:00][INFO][5][Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Executed action "EventManager.Identity.STS.Identity.Controllers.HomeController.Error (EventManager.Identity.STS.Identity)" in 94.3854ms
[2020-12-16T14:06:57.9176353+00:00][INFO][5][Microsoft.AspNetCore.Routing.EndpointMiddleware] Executed endpoint '"EventManager.Identity.STS.Identity.Controllers.HomeController.Error (EventManager.Identity.STS.Identity)"'
[2020-12-16T14:06:57.9186189+00:00][INFO][5][Microsoft.AspNetCore.Hosting.Diagnostics] Request finished in 119.4901ms 200 text/html; charset=utf-8
[2020-12-16T14:07:02.6510734+00:00][INFO][5][Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 GET http://id.em.local/Account/Logout  
[2020-12-16T14:07:02.6618851+00:00][INFO][5][Microsoft.AspNetCore.Routing.EndpointMiddleware] Executing endpoint '"EventManager.Identity.STS.Identity.Controllers.AccountController<EventManager.Identity.Admin.EntityFramework.Shared.Entities.Identity.UserIdentity, string>.Logout (EventManager.Identity.STS.Identity)"'
[2020-12-16T14:07:02.6743976+00:00][INFO][5][Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Route matched with "{action = \"Logout\", controller = \"Account\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Logout(System.String)" on controller "EventManager.Identity.STS.Identity.Controllers.AccountController<EventManager.Identity.Admin.EntityFramework.Shared.Entities.Identity.UserIdentity, string>" ("EventManager.Identity.STS.Identity").
[2020-12-16T14:07:02.6960511+00:00][INFO][5][Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor] Executing ViewResult, running view "Logout".
[2020-12-16T14:07:02.7247431+00:00][INFO][5][Microsoft.AspNetCore.Authorization.DefaultAuthorizationService] Authorization was successful.
[2020-12-16T14:07:02.7456737+00:00][INFO][5][Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor] Executed ViewResult - view "Logout" executed in 51.3773ms.
[2020-12-16T14:07:02.7468423+00:00][INFO][5][Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Executed action "EventManager.Identity.STS.Identity.Controllers.AccountController<EventManager.Identity.Admin.EntityFramework.Shared.Entities.Identity.UserIdentity, string>.Logout (EventManager.Identity.STS.Identity)" in 71.5961ms
[2020-12-16T14:07:02.7479655+00:00][INFO][5][Microsoft.AspNetCore.Routing.EndpointMiddleware] Executed endpoint '"EventManager.Identity.STS.Identity.Controllers.AccountController<EventManager.Identity.Admin.EntityFramework.Shared.Entities.Identity.UserIdentity, string>.Logout (EventManager.Identity.STS.Identity)"'
[2020-12-16T14:07:02.7490017+00:00][INFO][5][Microsoft.AspNetCore.Hosting.Diagnostics] Request finished in 98.4942ms 200 text/html; charset=utf-8
[2020-12-16T14:07:05.4770194+00:00][INFO][5][Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 POST http://id.em.local/Account/Logout application/x-www-form-urlencoded 235
[2020-12-16T14:07:05.4946520+00:00][INFO][5][Microsoft.AspNetCore.Cors.Infrastructure.CorsMiddleware] No CORS policy found for the specified request.
[2020-12-16T14:07:05.5058639+00:00][INFO][5][Microsoft.AspNetCore.Authorization.DefaultAuthorizationService] Authorization was successful.
[2020-12-16T14:07:05.5069415+00:00][INFO][5][Microsoft.AspNetCore.Routing.EndpointMiddleware] Executing endpoint '"EventManager.Identity.STS.Identity.Controllers.AccountController<EventManager.Identity.Admin.EntityFramework.Shared.Entities.Identity.UserIdentity, string>.Logout (EventManager.Identity.STS.Identity)"'
[2020-12-16T14:07:05.5282752+00:00][INFO][5][Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Route matched with "{action = \"Logout\", controller = \"Account\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Logout(EventManager.Identity.STS.Identity.ViewModels.Account.LogoutInputModel)" on controller "EventManager.Identity.STS.Identity.Controllers.AccountController<EventManager.Identity.Admin.EntityFramework.Shared.Entities.Identity.UserIdentity, string>" ("EventManager.Identity.STS.Identity").
[2020-12-16T14:07:05.5793977+00:00][INFO][5][Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler] AuthenticationScheme: "Identity.Application" signed out.
[2020-12-16T14:07:05.5870319+00:00][INFO][5][Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler] AuthenticationScheme: "Identity.External" signed out.
[2020-12-16T14:07:05.5890317+00:00][INFO][5][Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler] AuthenticationScheme: "Identity.TwoFactorUserId" signed out.
[2020-12-16T14:07:05.5913812+00:00][INFO][5][IdentityServer4.Events.DefaultEventService] UserLogoutSuccessEvent { SubjectId: "4986fb39-0b1a-416a-8fda-e04706435fc3", DisplayName: "admin", Category: "Authentication", Name: "User Logout Success", EventType: Success, Id: 1002, Message: null, ActivityId: "0HM51PEMK5GK6:00000001", TimeStamp: 12/16/2020 14:07:05, ProcessId: 1061, LocalIpAddress: "::ffff:172.26.0.8:80", RemoteIpAddress: "172.26.0.1" }
[2020-12-16T14:07:05.6014203+00:00][INFO][5][Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor] Executing ViewResult, running view "LoggedOut".
[2020-12-16T14:07:05.6241757+00:00][INFO][5][Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor] Executed ViewResult - view "LoggedOut" executed in 26.8982ms.
[2020-12-16T14:07:05.6253456+00:00][INFO][5][Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Executed action "EventManager.Identity.STS.Identity.Controllers.AccountController<EventManager.Identity.Admin.EntityFramework.Shared.Entities.Identity.UserIdentity, string>.Logout (EventManager.Identity.STS.Identity)" in 95.5609ms
[2020-12-16T14:07:05.6265822+00:00][INFO][5][Microsoft.AspNetCore.Routing.EndpointMiddleware] Executed endpoint '"EventManager.Identity.STS.Identity.Controllers.AccountController<EventManager.Identity.Admin.EntityFramework.Shared.Entities.Identity.UserIdentity, string>.Logout (EventManager.Identity.STS.Identity)"'
[2020-12-16T14:07:05.6278870+00:00][INFO][5][Microsoft.AspNetCore.Hosting.Diagnostics] Request finished in 150.9952ms 200 text/html; charset=utf-8
[2020-12-16T14:07:14.4487060+00:00][INFO][22][Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 GET http://id.em.local/Account/login  
[2020-12-16T14:07:14.4513502+00:00][INFO][22][Microsoft.AspNetCore.Routing.EndpointMiddleware] Executing endpoint '"EventManager.Identity.STS.Identity.Controllers.AccountController<EventManager.Identity.Admin.EntityFramework.Shared.Entities.Identity.UserIdentity, string>.Login (EventManager.Identity.STS.Identity)"'
[2020-12-16T14:07:14.4605398+00:00][INFO][22][Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Route matched with "{action = \"Login\", controller = \"Account\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(System.String)" on controller "EventManager.Identity.STS.Identity.Controllers.AccountController<EventManager.Identity.Admin.EntityFramework.Shared.Entities.Identity.UserIdentity, string>" ("EventManager.Identity.STS.Identity").
[2020-12-16T14:07:14.4841780+00:00][INFO][22][Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor] Executing ViewResult, running view "Login".
[2020-12-16T14:07:14.5429759+00:00][INFO][22][Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor] Executed ViewResult - view "Login" executed in 59.3444ms.
[2020-12-16T14:07:14.5490602+00:00][INFO][22][Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Executed action "EventManager.Identity.STS.Identity.Controllers.AccountController<EventManager.Identity.Admin.EntityFramework.Shared.Entities.Identity.UserIdentity, string>.Login (EventManager.Identity.STS.Identity)" in 84.3543ms
[2020-12-16T14:07:14.5501368+00:00][INFO][22][Microsoft.AspNetCore.Routing.EndpointMiddleware] Executed endpoint '"EventManager.Identity.STS.Identity.Controllers.AccountController<EventManager.Identity.Admin.EntityFramework.Shared.Entities.Identity.UserIdentity, string>.Login (EventManager.Identity.STS.Identity)"'
[2020-12-16T14:07:14.5570859+00:00][INFO][22][Microsoft.AspNetCore.Hosting.Diagnostics] Request finished in 108.3531ms 200 text/html; charset=utf-8
[2020-12-16T14:07:16.5300807+00:00][INFO][15][Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 POST http://id.em.local/Account/login application/x-www-form-urlencoded 261
[2020-12-16T14:07:16.5310500+00:00][INFO][15][Microsoft.AspNetCore.Cors.Infrastructure.CorsMiddleware] No CORS policy found for the specified request.
[2020-12-16T14:07:16.5327398+00:00][INFO][15][Microsoft.AspNetCore.Routing.EndpointMiddleware] Executing endpoint '"EventManager.Identity.STS.Identity.Controllers.AccountController<EventManager.Identity.Admin.EntityFramework.Shared.Entities.Identity.UserIdentity, string>.Login (EventManager.Identity.STS.Identity)"'
[2020-12-16T14:07:16.5600712+00:00][INFO][15][Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Route matched with "{action = \"Login\", controller = \"Account\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(EventManager.Identity.STS.Identity.ViewModels.Account.LoginInputModel, System.String)" on controller "EventManager.Identity.STS.Identity.Controllers.AccountController<EventManager.Identity.Admin.EntityFramework.Shared.Entities.Identity.UserIdentity, string>" ("EventManager.Identity.STS.Identity").
[2020-12-16T14:07:16.5862418+00:00][INFO][15][Microsoft.EntityFrameworkCore.Infrastructure] Entity Framework Core "3.1.9" initialized '"AdminIdentityDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=EventManager.Identity.Admin.EntityFramework.SqlServer "
[2020-12-16T14:07:16.6167325+00:00][INFO][22][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("2"ms) [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0"
[2020-12-16T14:07:16.7247902+00:00][INFO][5][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("3"ms) [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0"
[2020-12-16T14:07:16.8089323+00:00][INFO][9][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("1"ms) [Parameters=["@__user_Id_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [u].[Id], [u].[ClaimType], [u].[ClaimValue], [u].[UserId]
FROM [UserClaims] AS [u]
WHERE [u].[UserId] = @__user_Id_0"
[2020-12-16T14:07:16.8751224+00:00][INFO][15][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("2"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [r].[Name]
FROM [UserRoles] AS [u]
INNER JOIN [Roles] AS [r] ON [u].[RoleId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0"
[2020-12-16T14:07:16.9429660+00:00][INFO][15][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("2"ms) [Parameters=["@__normalizedName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [Roles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0"
[2020-12-16T14:07:16.9974705+00:00][INFO][9][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("5"ms) [Parameters=["@__role_Id_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [r].[ClaimType], [r].[ClaimValue]
FROM [RoleClaims] AS [r]
WHERE [r].[RoleId] = @__role_Id_0"
[2020-12-16T14:07:17.0308068+00:00][INFO][9][Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler] AuthenticationScheme: "Identity.Application" signed in.
[2020-12-16T14:07:17.0379795+00:00][INFO][9][IdentityServer4.Events.DefaultEventService] UserLoginSuccessEvent { Username: "admin", Provider: null, ProviderUserId: null, SubjectId: "4986fb39-0b1a-416a-8fda-e04706435fc3", DisplayName: "admin", Endpoint: "UI", ClientId: null, Category: "Authentication", Name: "User Login Success", EventType: Success, Id: 1000, Message: null, ActivityId: "0HM51PEMK5GK8:00000001", TimeStamp: 12/16/2020 14:07:17, ProcessId: 1061, LocalIpAddress: "::ffff:172.26.0.8:80", RemoteIpAddress: "172.26.0.1" }
[2020-12-16T14:07:17.0578551+00:00][INFO][9][Microsoft.AspNetCore.Mvc.Infrastructure.RedirectResultExecutor] Executing RedirectResult, redirecting to "/".
[2020-12-16T14:07:17.0668434+00:00][INFO][9][Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Executed action "EventManager.Identity.STS.Identity.Controllers.AccountController<EventManager.Identity.Admin.EntityFramework.Shared.Entities.Identity.UserIdentity, string>.Login (EventManager.Identity.STS.Identity)" in 505.957ms
[2020-12-16T14:07:17.0692858+00:00][INFO][9][Microsoft.AspNetCore.Routing.EndpointMiddleware] Executed endpoint '"EventManager.Identity.STS.Identity.Controllers.AccountController<EventManager.Identity.Admin.EntityFramework.Shared.Entities.Identity.UserIdentity, string>.Login (EventManager.Identity.STS.Identity)"'
[2020-12-16T14:07:17.0814326+00:00][INFO][9][Microsoft.AspNetCore.Hosting.Diagnostics] Request finished in 551.4411ms 302 
[2020-12-16T14:07:17.1040295+00:00][INFO][22][Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 GET http://id.em.local/  
[2020-12-16T14:07:17.1282387+00:00][INFO][22][Microsoft.AspNetCore.Routing.EndpointMiddleware] Executing endpoint '"EventManager.Identity.STS.Identity.Controllers.HomeController.Index (EventManager.Identity.STS.Identity)"'
[2020-12-16T14:07:17.1317729+00:00][INFO][22][Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Route matched with "{action = \"Index\", controller = \"Home\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult Index()" on controller "EventManager.Identity.STS.Identity.Controllers.HomeController" ("EventManager.Identity.STS.Identity").
[2020-12-16T14:07:17.1351140+00:00][INFO][22][Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor] Executing ViewResult, running view "Index".
[2020-12-16T14:07:17.1706932+00:00][INFO][22][Microsoft.AspNetCore.Authorization.DefaultAuthorizationService] Authorization was successful.
[2020-12-16T14:07:17.1814727+00:00][INFO][22][Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor] Executed ViewResult - view "Index" executed in 47.5892ms.
[2020-12-16T14:07:17.1830279+00:00][INFO][22][Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Executed action "EventManager.Identity.STS.Identity.Controllers.HomeController.Index (EventManager.Identity.STS.Identity)" in 50.1439ms
[2020-12-16T14:07:17.1842529+00:00][INFO][22][Microsoft.AspNetCore.Routing.EndpointMiddleware] Executed endpoint '"EventManager.Identity.STS.Identity.Controllers.HomeController.Index (EventManager.Identity.STS.Identity)"'
[2020-12-16T14:07:17.1852592+00:00][INFO][22][Microsoft.AspNetCore.Hosting.Diagnostics] Request finished in 81.1009ms 200 text/html; charset=utf-8
[2020-12-16T14:07:35.3986637+00:00][INFO][5][Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 GET http://id.em.local/connect/authorize?client_id=urn%3Aem%3Aclient&redirect_uri=http%3A%2F%2Fid-web.em.local%2Fsignin-oidc&response_type=code&scope=openid%20profile%20email%20roles&code_challenge=MEyV3SRYVAi68Y0TEtkdg2D6nwB2mlEdsryH_VwfrN8&code_challenge_method=S256&response_mode=form_post&nonce=637437244405266826.YjFlMzA2YmEtNjRhNS00OWY3LTkwMzktNzBjYmEyZGNlZTBlMTljMWRmMmYtMWFkYi00MzYzLTlmYTUtZWEzOWU5ZmE0NzY2&state=CfDJ8MPRbAevb1dLpUBHAVWjYkS1aBkhBts3U6aXymgZ_515ogfwy8BWu3-ixk166oYzDbZreUOxvoDRBUFOgVakEZso-61IvXLZ60tGYEgv_2kQXSgsM5UyFa1mpN51pIpmXBVDU7tAdgG_ySbB4Ccpa1mI6FfDgF6E8yerhxSwp3yHE8dBDhM5axoLRZI-uPnAJovEGutetHMYaHCMxqjnSEUBsGZM-4PTQmWLR6zCjr6yQEq7fnAgI6ziT9CTMAvXJMkXFgjg_dJ5cAEB8wBtYUaTMUjMNFz_2C_Aq2GoCAz1u6x1Oa_cKgphkUBUPNhPPBdma9iIuBKaFZ9FEoOnzpc2iHhPQGU1A1r0PxVTmfLks-cU2DO1yagN3QTCZEHV1g&x-client-SKU=ID_NETSTANDARD2_0&x-client-ver=5.6.0.0  
[2020-12-16T14:07:35.4136296+00:00][INFO][5][IdentityServer4.Hosting.IdentityServerMiddleware] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize"
[2020-12-16T14:07:35.4163151+00:00][INFO][5][Microsoft.EntityFrameworkCore.Infrastructure] Entity Framework Core "3.1.9" initialized '"IdentityServerConfigurationDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=EventManager.Identity.Admin.EntityFramework.SqlServer "
[2020-12-16T14:07:35.4301418+00:00][INFO][9][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("11"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c].[Id], [c].[AbsoluteRefreshTokenLifetime], [c].[AccessTokenLifetime], [c].[AccessTokenType], [c].[AllowAccessTokensViaBrowser], [c].[AllowOfflineAccess], [c].[AllowPlainTextPkce], [c].[AllowRememberConsent], [c].[AllowedIdentityTokenSigningAlgorithms], [c].[AlwaysIncludeUserClaimsInIdToken], [c].[AlwaysSendClientClaims], [c].[AuthorizationCodeLifetime], [c].[BackChannelLogoutSessionRequired], [c].[BackChannelLogoutUri], [c].[ClientClaimsPrefix], [c].[ClientId], [c].[ClientName], [c].[ClientUri], [c].[ConsentLifetime], [c].[Created], [c].[Description], [c].[DeviceCodeLifetime], [c].[EnableLocalLogin], [c].[Enabled], [c].[FrontChannelLogoutSessionRequired], [c].[FrontChannelLogoutUri], [c].[IdentityTokenLifetime], [c].[IncludeJwtId], [c].[LastAccessed], [c].[LogoUri], [c].[NonEditable], [c].[PairWiseSubjectSalt], [c].[ProtocolType], [c].[RefreshTokenExpiration], [c].[RefreshTokenUsage], [c].[RequireClientSecret], [c].[RequireConsent], [c].[RequirePkce], [c].[RequireRequestObject], [c].[SlidingRefreshTokenLifetime], [c].[UpdateAccessTokenClaimsOnRefresh], [c].[Updated], [c].[UserCodeType], [c].[UserSsoLifetime]
FROM [Clients] AS [c]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-16T14:07:35.4480171+00:00][INFO][15][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("10"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[Origin]
FROM [Clients] AS [c]
INNER JOIN [ClientCorsOrigins] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-16T14:07:35.5102652+00:00][INFO][9][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("3"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[GrantType]
FROM [Clients] AS [c]
INNER JOIN [ClientGrantTypes] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-16T14:07:35.5170004+00:00][INFO][23][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("4"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[Scope]
FROM [Clients] AS [c]
INNER JOIN [ClientScopes] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-16T14:07:35.5275408+00:00][INFO][9][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("6"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[Type], [c0].[Value]
FROM [Clients] AS [c]
INNER JOIN [ClientClaims] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-16T14:07:35.5568356+00:00][INFO][23][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("24"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[Created], [c0].[Description], [c0].[Expiration], [c0].[Type], [c0].[Value]
FROM [Clients] AS [c]
INNER JOIN [ClientSecrets] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-16T14:07:35.5634097+00:00][INFO][22][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("4"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[Provider]
FROM [Clients] AS [c]
INNER JOIN [ClientIdPRestrictions] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-16T14:07:35.5768387+00:00][INFO][24][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("4"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[PostLogoutRedirectUri]
FROM [Clients] AS [c]
INNER JOIN [ClientPostLogoutRedirectUris] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-16T14:07:35.5840496+00:00][INFO][24][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("3"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[Key], [c0].[Value]
FROM [Clients] AS [c]
INNER JOIN [ClientProperties] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-16T14:07:35.5907487+00:00][INFO][22][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("4"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[RedirectUri]
FROM [Clients] AS [c]
INNER JOIN [ClientRedirectUris] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-16T14:07:35.5951726+00:00][EROR][22][IdentityServer4.Validation.AuthorizeRequestValidator] Invalid redirect_uri: "http://id-web.em.local/signin-oidc"
AuthorizeRequestValidationLog { ClientId: "urn:em:client", ClientName: "urn:em:client", RedirectUri: null, AllowedRedirectUris: ["https://idweb.em.local/signin-oidc"], SubjectId: "4986fb39-0b1a-416a-8fda-e04706435fc3", ResponseType: null, ResponseMode: null, GrantType: null, RequestedScopes: "", State: null, UiLocales: null, Nonce: null, AuthenticationContextReferenceClasses: null, DisplayMode: null, PromptMode: "", MaxAge: null, LoginHint: null, SessionId: null, Raw: [("client_id": "urn:em:client"), ("redirect_uri": "http://id-web.em.local/signin-oidc"), ("response_type": "code"), ("scope": "openid profile email roles"), ("code_challenge": "MEyV3SRYVAi68Y0TEtkdg2D6nwB2mlEdsryH_VwfrN8"), ("code_challenge_method": "S256"), ("response_mode": "form_post"), ("nonce": "637437244405266826.YjFlMzA2YmEtNjRhNS00OWY3LTkwMzktNzBjYmEyZGNlZTBlMTljMWRmMmYtMWFkYi00MzYzLTlmYTUtZWEzOWU5ZmE0NzY2"), ("state": "CfDJ8MPRbAevb1dLpUBHAVWjYkS1aBkhBts3U6aXymgZ_515ogfwy8BWu3-ixk166oYzDbZreUOxvoDRBUFOgVakEZso-61IvXLZ60tGYEgv_2kQXSgsM5UyFa1mpN51pIpmXBVDU7tAdgG_ySbB4Ccpa1mI6FfDgF6E8yerhxSwp3yHE8dBDhM5axoLRZI-uPnAJovEGutetHMYaHCMxqjnSEUBsGZM-4PTQmWLR6zCjr6yQEq7fnAgI6ziT9CTMAvXJMkXFgjg_dJ5cAEB8wBtYUaTMUjMNFz_2C_Aq2GoCAz1u6x1Oa_cKgphkUBUPNhPPBdma9iIuBKaFZ9FEoOnzpc2iHhPQGU1A1r0PxVTmfLks-cU2DO1yagN3QTCZEHV1g"), ("x-client-SKU": "ID_NETSTANDARD2_0"), ("x-client-ver": "5.6.0.0")] }
[2020-12-16T14:07:35.5991994+00:00][EROR][22][IdentityServer4.Endpoints.AuthorizeEndpoint] Request validation failed
[2020-12-16T14:07:35.6025835+00:00][INFO][22][IdentityServer4.Endpoints.AuthorizeEndpoint] AuthorizeRequestValidationLog { ClientId: "urn:em:client", ClientName: "urn:em:client", RedirectUri: null, AllowedRedirectUris: ["https://idweb.em.local/signin-oidc"], SubjectId: "4986fb39-0b1a-416a-8fda-e04706435fc3", ResponseType: null, ResponseMode: null, GrantType: null, RequestedScopes: "", State: null, UiLocales: null, Nonce: null, AuthenticationContextReferenceClasses: null, DisplayMode: null, PromptMode: "", MaxAge: null, LoginHint: null, SessionId: null, Raw: [("client_id": "urn:em:client"), ("redirect_uri": "http://id-web.em.local/signin-oidc"), ("response_type": "code"), ("scope": "openid profile email roles"), ("code_challenge": "MEyV3SRYVAi68Y0TEtkdg2D6nwB2mlEdsryH_VwfrN8"), ("code_challenge_method": "S256"), ("response_mode": "form_post"), ("nonce": "637437244405266826.YjFlMzA2YmEtNjRhNS00OWY3LTkwMzktNzBjYmEyZGNlZTBlMTljMWRmMmYtMWFkYi00MzYzLTlmYTUtZWEzOWU5ZmE0NzY2"), ("state": "CfDJ8MPRbAevb1dLpUBHAVWjYkS1aBkhBts3U6aXymgZ_515ogfwy8BWu3-ixk166oYzDbZreUOxvoDRBUFOgVakEZso-61IvXLZ60tGYEgv_2kQXSgsM5UyFa1mpN51pIpmXBVDU7tAdgG_ySbB4Ccpa1mI6FfDgF6E8yerhxSwp3yHE8dBDhM5axoLRZI-uPnAJovEGutetHMYaHCMxqjnSEUBsGZM-4PTQmWLR6zCjr6yQEq7fnAgI6ziT9CTMAvXJMkXFgjg_dJ5cAEB8wBtYUaTMUjMNFz_2C_Aq2GoCAz1u6x1Oa_cKgphkUBUPNhPPBdma9iIuBKaFZ9FEoOnzpc2iHhPQGU1A1r0PxVTmfLks-cU2DO1yagN3QTCZEHV1g"), ("x-client-SKU": "ID_NETSTANDARD2_0"), ("x-client-ver": "5.6.0.0")] }
[2020-12-16T14:07:35.6121142+00:00][INFO][22][IdentityServer4.Events.DefaultEventService] TokenIssuedFailureEvent { ClientId: "urn:em:client", ClientName: "urn:em:client", RedirectUri: null, Endpoint: "Authorize", SubjectId: "4986fb39-0b1a-416a-8fda-e04706435fc3", Scopes: "", GrantType: null, Error: "invalid_request", ErrorDescription: "Invalid redirect_uri", Category: "Token", Name: "Token Issued Failure", EventType: Failure, Id: 2001, Message: null, ActivityId: "0HM51PEMK5GKA:00000001", TimeStamp: 12/16/2020 14:07:35, ProcessId: 1061, LocalIpAddress: "::ffff:172.26.0.8:80", RemoteIpAddress: "172.26.0.1" }
[2020-12-16T14:07:35.6196531+00:00][INFO][22][Microsoft.AspNetCore.Hosting.Diagnostics] Request finished in 221.0064ms 302 
[2020-12-16T14:07:35.6420543+00:00][INFO][22][Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 GET http://id.em.local/home/error?errorId=CfDJ8MPRbAevb1dLpUBHAVWjYkQp7-Pzwyozqw1s-nQt2-87s7P0MSQlmsJlViKAx8c3tOwLGDp_1oJKU3OMpPPWKniu1Np2GiZFqsXSgac73BzyyFlACZapr21pSgQroUnt_hSJpBm43p-iT0xarOECsD-IqZ6qnRAiEaOGUPlSUpv4bFumDLeOgEkBtI_wR0cn1DpBv5MG3rQeGDukdvRfrzM38QSAFKF72OtToa1fvSOhfeubsXB1TpOjoX-_h-ThMxSZ9CFZgjpoDjUTc1PHheGAv6BfTJseBfqdYbWT1P_vZPkVnwJyVaAQZASaXG4TZ3GBDa-lvYheadBXjcXu3yY  
[2020-12-16T14:07:35.6447265+00:00][INFO][22][Microsoft.AspNetCore.Routing.EndpointMiddleware] Executing endpoint '"EventManager.Identity.STS.Identity.Controllers.HomeController.Error (EventManager.Identity.STS.Identity)"'
[2020-12-16T14:07:35.6463576+00:00][INFO][22][Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Route matched with "{action = \"Error\", controller = \"Home\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Error(System.String)" on controller "EventManager.Identity.STS.Identity.Controllers.HomeController" ("EventManager.Identity.STS.Identity").
[2020-12-16T14:07:35.6580854+00:00][INFO][22][Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor] Executing ViewResult, running view "Error".
[2020-12-16T14:07:35.6691990+00:00][INFO][22][Microsoft.AspNetCore.Authorization.DefaultAuthorizationService] Authorization was successful.
[2020-12-16T14:07:35.6836894+00:00][INFO][22][Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor] Executed ViewResult - view "Error" executed in 25.6839ms.
[2020-12-16T14:07:35.6855414+00:00][INFO][22][Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Executed action "EventManager.Identity.STS.Identity.Controllers.HomeController.Error (EventManager.Identity.STS.Identity)" in 28.6689ms
[2020-12-16T14:07:35.6869080+00:00][INFO][22][Microsoft.AspNetCore.Routing.EndpointMiddleware] Executed endpoint '"EventManager.Identity.STS.Identity.Controllers.HomeController.Error (EventManager.Identity.STS.Identity)"'
[2020-12-16T14:07:35.6878895+00:00][INFO][22][Microsoft.AspNetCore.Hosting.Diagnostics] Request finished in 45.8262ms 200 text/html; charset=utf-8
[2020-12-16T14:07:49.1989834+00:00][INFO][23][Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 GET http://id.em.local/  
[2020-12-16T14:07:49.2014506+00:00][INFO][23][Microsoft.AspNetCore.Routing.EndpointMiddleware] Executing endpoint '"EventManager.Identity.STS.Identity.Controllers.HomeController.Index (EventManager.Identity.STS.Identity)"'
[2020-12-16T14:07:49.2026593+00:00][INFO][23][Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Route matched with "{action = \"Index\", controller = \"Home\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult Index()" on controller "EventManager.Identity.STS.Identity.Controllers.HomeController" ("EventManager.Identity.STS.Identity").
[2020-12-16T14:07:49.2042613+00:00][INFO][23][Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor] Executing ViewResult, running view "Index".
[2020-12-16T14:07:49.2101168+00:00][INFO][23][Microsoft.AspNetCore.Authorization.DefaultAuthorizationService] Authorization was successful.
[2020-12-16T14:07:49.2170634+00:00][INFO][23][Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor] Executed ViewResult - view "Index" executed in 12.7409ms.
[2020-12-16T14:07:49.2184273+00:00][INFO][23][Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Executed action "EventManager.Identity.STS.Identity.Controllers.HomeController.Index (EventManager.Identity.STS.Identity)" in 14.7026ms
[2020-12-16T14:07:49.2193732+00:00][INFO][23][Microsoft.AspNetCore.Routing.EndpointMiddleware] Executed endpoint '"EventManager.Identity.STS.Identity.Controllers.HomeController.Index (EventManager.Identity.STS.Identity)"'
[2020-12-16T14:07:49.2202972+00:00][INFO][23][Microsoft.AspNetCore.Hosting.Diagnostics] Request finished in 21.3018ms 200 text/html; charset=utf-8
[2020-12-16T14:15:59.0459927+00:00][INFO][33][Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 GET http://id.em.local/connect/authorize?client_id=urn%3Aem%3Aclient&redirect_uri=http%3A%2F%2Fid-web.em.local%2Fsignin-oidc&response_type=code&scope=openid%20profile%20email%20roles&code_challenge=FNpdl01o_chA_I7As8wUQQPKMA4V3Vw_UR7X333L23g&code_challenge_method=S256&response_mode=form_post&nonce=637437249528202247.YmUzNWNiOWUtYjMzYS00MDMyLWJiNGUtNzhmMjRjNjUwMTA2NjhhZWQwMzEtYmE1NC00OTA3LWJjOTItZmIxMzYyNGRjYmMz&state=CfDJ8MPRbAevb1dLpUBHAVWjYkQWY6Txkavdbf_8gP7Tw5Bet3oFi-RUELlSjZeyLjQYb1KHG41rT6L0i0G75X_MiSZQkyacGU3z0_dPttySJjLOFzNUWbUKNGns5r6jOVMVYKzvd95nxCwkdFKaExPzpBlCrpg7cs6jUNrnuSuS0126mBwzjfVyK4AuinwOxYYpyjgfzW0I4Y3f2RwTFXokTKPnf20OWx0hz3WPlHC2MvurySHxUbfgg3q93CPiBkpmS7UlTdRiP4GmSp5C_pUAUCQmjNbGMwfXvSxGGStj8lo-Qukr1Nok40gOBP2blBLkQWaZEhhcoGym4iQvBNRDtuaN3d2S2B-eErfQFLCk1ZsryBskK-rXGr2Li4WYPy50iw&x-client-SKU=ID_NETSTANDARD2_0&x-client-ver=5.6.0.0  
[2020-12-16T14:15:59.0510560+00:00][INFO][33][IdentityServer4.Hosting.IdentityServerMiddleware] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize"
[2020-12-16T14:15:59.0679992+00:00][INFO][33][Microsoft.EntityFrameworkCore.Infrastructure] Entity Framework Core "3.1.9" initialized '"IdentityServerConfigurationDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=EventManager.Identity.Admin.EntityFramework.SqlServer "
[2020-12-16T14:15:59.2650394+00:00][INFO][33][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("2"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c].[Id], [c].[AbsoluteRefreshTokenLifetime], [c].[AccessTokenLifetime], [c].[AccessTokenType], [c].[AllowAccessTokensViaBrowser], [c].[AllowOfflineAccess], [c].[AllowPlainTextPkce], [c].[AllowRememberConsent], [c].[AllowedIdentityTokenSigningAlgorithms], [c].[AlwaysIncludeUserClaimsInIdToken], [c].[AlwaysSendClientClaims], [c].[AuthorizationCodeLifetime], [c].[BackChannelLogoutSessionRequired], [c].[BackChannelLogoutUri], [c].[ClientClaimsPrefix], [c].[ClientId], [c].[ClientName], [c].[ClientUri], [c].[ConsentLifetime], [c].[Created], [c].[Description], [c].[DeviceCodeLifetime], [c].[EnableLocalLogin], [c].[Enabled], [c].[FrontChannelLogoutSessionRequired], [c].[FrontChannelLogoutUri], [c].[IdentityTokenLifetime], [c].[IncludeJwtId], [c].[LastAccessed], [c].[LogoUri], [c].[NonEditable], [c].[PairWiseSubjectSalt], [c].[ProtocolType], [c].[RefreshTokenExpiration], [c].[RefreshTokenUsage], [c].[RequireClientSecret], [c].[RequireConsent], [c].[RequirePkce], [c].[RequireRequestObject], [c].[SlidingRefreshTokenLifetime], [c].[UpdateAccessTokenClaimsOnRefresh], [c].[Updated], [c].[UserCodeType], [c].[UserSsoLifetime]
FROM [Clients] AS [c]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-16T14:15:59.2801317+00:00][INFO][36][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("7"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[Origin]
FROM [Clients] AS [c]
INNER JOIN [ClientCorsOrigins] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-16T14:15:59.3646493+00:00][INFO][34][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("57"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[GrantType]
FROM [Clients] AS [c]
INNER JOIN [ClientGrantTypes] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-16T14:15:59.3782053+00:00][INFO][39][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("8"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[Scope]
FROM [Clients] AS [c]
INNER JOIN [ClientScopes] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-16T14:15:59.4140566+00:00][INFO][41][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("28"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[Type], [c0].[Value]
FROM [Clients] AS [c]
INNER JOIN [ClientClaims] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-16T14:15:59.4208262+00:00][INFO][34][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("4"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[Created], [c0].[Description], [c0].[Expiration], [c0].[Type], [c0].[Value]
FROM [Clients] AS [c]
INNER JOIN [ClientSecrets] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-16T14:15:59.4373783+00:00][INFO][37][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("2"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[Provider]
FROM [Clients] AS [c]
INNER JOIN [ClientIdPRestrictions] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-16T14:15:59.4617399+00:00][INFO][41][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("13"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[PostLogoutRedirectUri]
FROM [Clients] AS [c]
INNER JOIN [ClientPostLogoutRedirectUris] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-16T14:15:59.4901176+00:00][INFO][40][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("24"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[Key], [c0].[Value]
FROM [Clients] AS [c]
INNER JOIN [ClientProperties] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-16T14:15:59.5378043+00:00][INFO][41][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("3"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[RedirectUri]
FROM [Clients] AS [c]
INNER JOIN [ClientRedirectUris] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-16T14:15:59.5426197+00:00][EROR][41][IdentityServer4.Validation.AuthorizeRequestValidator] Invalid redirect_uri: "http://id-web.em.local/signin-oidc"
AuthorizeRequestValidationLog { ClientId: "urn:em:client", ClientName: "urn:em:client", RedirectUri: null, AllowedRedirectUris: ["https://idweb.em.local/signin-oidc"], SubjectId: "4986fb39-0b1a-416a-8fda-e04706435fc3", ResponseType: null, ResponseMode: null, GrantType: null, RequestedScopes: "", State: null, UiLocales: null, Nonce: null, AuthenticationContextReferenceClasses: null, DisplayMode: null, PromptMode: "", MaxAge: null, LoginHint: null, SessionId: null, Raw: [("client_id": "urn:em:client"), ("redirect_uri": "http://id-web.em.local/signin-oidc"), ("response_type": "code"), ("scope": "openid profile email roles"), ("code_challenge": "FNpdl01o_chA_I7As8wUQQPKMA4V3Vw_UR7X333L23g"), ("code_challenge_method": "S256"), ("response_mode": "form_post"), ("nonce": "637437249528202247.YmUzNWNiOWUtYjMzYS00MDMyLWJiNGUtNzhmMjRjNjUwMTA2NjhhZWQwMzEtYmE1NC00OTA3LWJjOTItZmIxMzYyNGRjYmMz"), ("state": "CfDJ8MPRbAevb1dLpUBHAVWjYkQWY6Txkavdbf_8gP7Tw5Bet3oFi-RUELlSjZeyLjQYb1KHG41rT6L0i0G75X_MiSZQkyacGU3z0_dPttySJjLOFzNUWbUKNGns5r6jOVMVYKzvd95nxCwkdFKaExPzpBlCrpg7cs6jUNrnuSuS0126mBwzjfVyK4AuinwOxYYpyjgfzW0I4Y3f2RwTFXokTKPnf20OWx0hz3WPlHC2MvurySHxUbfgg3q93CPiBkpmS7UlTdRiP4GmSp5C_pUAUCQmjNbGMwfXvSxGGStj8lo-Qukr1Nok40gOBP2blBLkQWaZEhhcoGym4iQvBNRDtuaN3d2S2B-eErfQFLCk1ZsryBskK-rXGr2Li4WYPy50iw"), ("x-client-SKU": "ID_NETSTANDARD2_0"), ("x-client-ver": "5.6.0.0")] }
[2020-12-16T14:15:59.5445411+00:00][EROR][41][IdentityServer4.Endpoints.AuthorizeEndpoint] Request validation failed
[2020-12-16T14:15:59.5456258+00:00][INFO][41][IdentityServer4.Endpoints.AuthorizeEndpoint] AuthorizeRequestValidationLog { ClientId: "urn:em:client", ClientName: "urn:em:client", RedirectUri: null, AllowedRedirectUris: ["https://idweb.em.local/signin-oidc"], SubjectId: "4986fb39-0b1a-416a-8fda-e04706435fc3", ResponseType: null, ResponseMode: null, GrantType: null, RequestedScopes: "", State: null, UiLocales: null, Nonce: null, AuthenticationContextReferenceClasses: null, DisplayMode: null, PromptMode: "", MaxAge: null, LoginHint: null, SessionId: null, Raw: [("client_id": "urn:em:client"), ("redirect_uri": "http://id-web.em.local/signin-oidc"), ("response_type": "code"), ("scope": "openid profile email roles"), ("code_challenge": "FNpdl01o_chA_I7As8wUQQPKMA4V3Vw_UR7X333L23g"), ("code_challenge_method": "S256"), ("response_mode": "form_post"), ("nonce": "637437249528202247.YmUzNWNiOWUtYjMzYS00MDMyLWJiNGUtNzhmMjRjNjUwMTA2NjhhZWQwMzEtYmE1NC00OTA3LWJjOTItZmIxMzYyNGRjYmMz"), ("state": "CfDJ8MPRbAevb1dLpUBHAVWjYkQWY6Txkavdbf_8gP7Tw5Bet3oFi-RUELlSjZeyLjQYb1KHG41rT6L0i0G75X_MiSZQkyacGU3z0_dPttySJjLOFzNUWbUKNGns5r6jOVMVYKzvd95nxCwkdFKaExPzpBlCrpg7cs6jUNrnuSuS0126mBwzjfVyK4AuinwOxYYpyjgfzW0I4Y3f2RwTFXokTKPnf20OWx0hz3WPlHC2MvurySHxUbfgg3q93CPiBkpmS7UlTdRiP4GmSp5C_pUAUCQmjNbGMwfXvSxGGStj8lo-Qukr1Nok40gOBP2blBLkQWaZEhhcoGym4iQvBNRDtuaN3d2S2B-eErfQFLCk1ZsryBskK-rXGr2Li4WYPy50iw"), ("x-client-SKU": "ID_NETSTANDARD2_0"), ("x-client-ver": "5.6.0.0")] }
[2020-12-16T14:15:59.5469814+00:00][INFO][41][IdentityServer4.Events.DefaultEventService] TokenIssuedFailureEvent { ClientId: "urn:em:client", ClientName: "urn:em:client", RedirectUri: null, Endpoint: "Authorize", SubjectId: "4986fb39-0b1a-416a-8fda-e04706435fc3", Scopes: "", GrantType: null, Error: "invalid_request", ErrorDescription: "Invalid redirect_uri", Category: "Token", Name: "Token Issued Failure", EventType: Failure, Id: 2001, Message: null, ActivityId: "0HM51PEMK5GKD:00000001", TimeStamp: 12/16/2020 14:15:59, ProcessId: 1061, LocalIpAddress: "::ffff:172.26.0.8:80", RemoteIpAddress: "172.26.0.1" }
[2020-12-16T14:15:59.5554150+00:00][INFO][41][Microsoft.AspNetCore.Hosting.Diagnostics] Request finished in 509.5933ms 302 
[2020-12-16T14:15:59.6090918+00:00][INFO][34][Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 GET http://id.em.local/home/error?errorId=CfDJ8MPRbAevb1dLpUBHAVWjYkTr98TAmvDFv0xbuogPHIb03Uja96Z6CwVhONH3MLKdYRBGG7-aMPPVapcSZM-nh690Uzi3UGkDzG21UidNUkJJAw7wRPU--fXLvjh1Q1rhEa78zqiKcaq1PiIPjgIoNm-llRJRzTIDAckbCWMlntS96nsQKFh4e6RCu_Uw0cejDNhhVmEBKQOETNTZLr9TLPYNXoa7Aw7Uvw3s17Eat3Gd7q-wZ6XeVBbCwHROJhBIIvYiEXyGwHE-iQM48MuWYFhK-rhZ7tVI9X9LB5OocOU-E3qvX9tF175QA6u-D2aiKKAquQLRKv2jnG_3r5vttgE  
[2020-12-16T14:15:59.6189836+00:00][INFO][34][Microsoft.AspNetCore.Routing.EndpointMiddleware] Executing endpoint '"EventManager.Identity.STS.Identity.Controllers.HomeController.Error (EventManager.Identity.STS.Identity)"'
[2020-12-16T14:15:59.6238052+00:00][INFO][34][Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Route matched with "{action = \"Error\", controller = \"Home\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Error(System.String)" on controller "EventManager.Identity.STS.Identity.Controllers.HomeController" ("EventManager.Identity.STS.Identity").
[2020-12-16T14:15:59.6285385+00:00][INFO][34][Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor] Executing ViewResult, running view "Error".
[2020-12-16T14:15:59.6557510+00:00][INFO][34][Microsoft.AspNetCore.Authorization.DefaultAuthorizationService] Authorization was successful.
[2020-12-16T14:15:59.6728807+00:00][INFO][34][Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor] Executed ViewResult - view "Error" executed in 44.3566ms.
[2020-12-16T14:15:59.6739658+00:00][INFO][34][Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Executed action "EventManager.Identity.STS.Identity.Controllers.HomeController.Error (EventManager.Identity.STS.Identity)" in 48.0433ms
[2020-12-16T14:15:59.6749084+00:00][INFO][34][Microsoft.AspNetCore.Routing.EndpointMiddleware] Executed endpoint '"EventManager.Identity.STS.Identity.Controllers.HomeController.Error (EventManager.Identity.STS.Identity)"'
[2020-12-16T14:15:59.6758772+00:00][INFO][34][Microsoft.AspNetCore.Hosting.Diagnostics] Request finished in 66.7438ms 200 text/html; charset=utf-8
[2020-12-16T14:16:02.7447732+00:00][INFO][32][Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 GET http://id.em.local/connect/authorize?client_id=urn%3Aem%3Aclient&redirect_uri=http%3A%2F%2Fid-web.em.local%2Fsignin-oidc&response_type=code&scope=openid%20profile%20email%20roles&code_challenge=VxZmU97YVn1Ue-5xLvksgoWiji2nlpIjC0A-4FYQ08U&code_challenge_method=S256&response_mode=form_post&nonce=637437249626979292.YTE0ZGI1N2MtZTdlZS00NDAxLTk3NmYtMGU2Y2U4ZjliYzdkY2E0OWQxZTctMzU3NC00ZjIxLTk3ZTYtODIxN2Y1ZDlhNzI1&state=CfDJ8MPRbAevb1dLpUBHAVWjYkRJRzkOLjEclCLYGAR2r8lLO6EZYjAr2TH1-ajQxGdQFHbQUk2Au3AzXNMhca88D7qWIZoG-__BMPoPma6A9F3clRcVQXK4cA6qfqLeyqJiouyb6DVLWbpqGddoTB-bkAmPgpA8wIL5ezMDIVC0tS6TFyAYYcVX250UtIit_TxlJrjg22uwRwowqzYGMX-PpZmP6f7UF_CjZzUGUPsDOXGQMD7I1NHGAB3gKvzXa-wB4m6tudTWTe-DUxgi3FDgUIbXELlP1WniKqkRPdyOvABy_9mFKaVIPyhhBwKVp3nQc0Q1r-4y_e4wMIELBNc6AyHyXXi9HnsGVGjPtoBARIUOd020WSQ0DawkPv5Gb29uDQ&x-client-SKU=ID_NETSTANDARD2_0&x-client-ver=5.6.0.0  
[2020-12-16T14:16:02.7534945+00:00][INFO][32][IdentityServer4.Hosting.IdentityServerMiddleware] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize"
[2020-12-16T14:16:02.7564523+00:00][INFO][32][Microsoft.EntityFrameworkCore.Infrastructure] Entity Framework Core "3.1.9" initialized '"IdentityServerConfigurationDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=EventManager.Identity.Admin.EntityFramework.SqlServer "
[2020-12-16T14:16:02.8058619+00:00][INFO][36][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("6"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c].[Id], [c].[AbsoluteRefreshTokenLifetime], [c].[AccessTokenLifetime], [c].[AccessTokenType], [c].[AllowAccessTokensViaBrowser], [c].[AllowOfflineAccess], [c].[AllowPlainTextPkce], [c].[AllowRememberConsent], [c].[AllowedIdentityTokenSigningAlgorithms], [c].[AlwaysIncludeUserClaimsInIdToken], [c].[AlwaysSendClientClaims], [c].[AuthorizationCodeLifetime], [c].[BackChannelLogoutSessionRequired], [c].[BackChannelLogoutUri], [c].[ClientClaimsPrefix], [c].[ClientId], [c].[ClientName], [c].[ClientUri], [c].[ConsentLifetime], [c].[Created], [c].[Description], [c].[DeviceCodeLifetime], [c].[EnableLocalLogin], [c].[Enabled], [c].[FrontChannelLogoutSessionRequired], [c].[FrontChannelLogoutUri], [c].[IdentityTokenLifetime], [c].[IncludeJwtId], [c].[LastAccessed], [c].[LogoUri], [c].[NonEditable], [c].[PairWiseSubjectSalt], [c].[ProtocolType], [c].[RefreshTokenExpiration], [c].[RefreshTokenUsage], [c].[RequireClientSecret], [c].[RequireConsent], [c].[RequirePkce], [c].[RequireRequestObject], [c].[SlidingRefreshTokenLifetime], [c].[UpdateAccessTokenClaimsOnRefresh], [c].[Updated], [c].[UserCodeType], [c].[UserSsoLifetime]
FROM [Clients] AS [c]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-16T14:16:02.9232305+00:00][INFO][33][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("4"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[Origin]
FROM [Clients] AS [c]
INNER JOIN [ClientCorsOrigins] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-16T14:16:02.9364611+00:00][INFO][38][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("7"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[GrantType]
FROM [Clients] AS [c]
INNER JOIN [ClientGrantTypes] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-16T14:16:02.9525048+00:00][INFO][38][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("5"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[Scope]
FROM [Clients] AS [c]
INNER JOIN [ClientScopes] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-16T14:16:02.9649751+00:00][INFO][39][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("4"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[Type], [c0].[Value]
FROM [Clients] AS [c]
INNER JOIN [ClientClaims] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-16T14:16:02.9936846+00:00][INFO][38][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("26"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[Created], [c0].[Description], [c0].[Expiration], [c0].[Type], [c0].[Value]
FROM [Clients] AS [c]
INNER JOIN [ClientSecrets] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-16T14:16:02.9993966+00:00][INFO][33][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("3"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[Provider]
FROM [Clients] AS [c]
INNER JOIN [ClientIdPRestrictions] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-16T14:16:03.0124369+00:00][INFO][38][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("10"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[PostLogoutRedirectUri]
FROM [Clients] AS [c]
INNER JOIN [ClientPostLogoutRedirectUris] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-16T14:16:03.0389232+00:00][INFO][32][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("23"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[Key], [c0].[Value]
FROM [Clients] AS [c]
INNER JOIN [ClientProperties] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-16T14:16:03.0471485+00:00][INFO][41][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("3"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[RedirectUri]
FROM [Clients] AS [c]
INNER JOIN [ClientRedirectUris] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-16T14:16:03.0534544+00:00][EROR][32][IdentityServer4.Validation.AuthorizeRequestValidator] Invalid redirect_uri: "http://id-web.em.local/signin-oidc"
AuthorizeRequestValidationLog { ClientId: "urn:em:client", ClientName: "urn:em:client", RedirectUri: null, AllowedRedirectUris: ["https://idweb.em.local/signin-oidc"], SubjectId: "4986fb39-0b1a-416a-8fda-e04706435fc3", ResponseType: null, ResponseMode: null, GrantType: null, RequestedScopes: "", State: null, UiLocales: null, Nonce: null, AuthenticationContextReferenceClasses: null, DisplayMode: null, PromptMode: "", MaxAge: null, LoginHint: null, SessionId: null, Raw: [("client_id": "urn:em:client"), ("redirect_uri": "http://id-web.em.local/signin-oidc"), ("response_type": "code"), ("scope": "openid profile email roles"), ("code_challenge": "VxZmU97YVn1Ue-5xLvksgoWiji2nlpIjC0A-4FYQ08U"), ("code_challenge_method": "S256"), ("response_mode": "form_post"), ("nonce": "637437249626979292.YTE0ZGI1N2MtZTdlZS00NDAxLTk3NmYtMGU2Y2U4ZjliYzdkY2E0OWQxZTctMzU3NC00ZjIxLTk3ZTYtODIxN2Y1ZDlhNzI1"), ("state": "CfDJ8MPRbAevb1dLpUBHAVWjYkRJRzkOLjEclCLYGAR2r8lLO6EZYjAr2TH1-ajQxGdQFHbQUk2Au3AzXNMhca88D7qWIZoG-__BMPoPma6A9F3clRcVQXK4cA6qfqLeyqJiouyb6DVLWbpqGddoTB-bkAmPgpA8wIL5ezMDIVC0tS6TFyAYYcVX250UtIit_TxlJrjg22uwRwowqzYGMX-PpZmP6f7UF_CjZzUGUPsDOXGQMD7I1NHGAB3gKvzXa-wB4m6tudTWTe-DUxgi3FDgUIbXELlP1WniKqkRPdyOvABy_9mFKaVIPyhhBwKVp3nQc0Q1r-4y_e4wMIELBNc6AyHyXXi9HnsGVGjPtoBARIUOd020WSQ0DawkPv5Gb29uDQ"), ("x-client-SKU": "ID_NETSTANDARD2_0"), ("x-client-ver": "5.6.0.0")] }
[2020-12-16T14:16:03.0586667+00:00][EROR][32][IdentityServer4.Endpoints.AuthorizeEndpoint] Request validation failed
[2020-12-16T14:16:03.0631225+00:00][INFO][32][IdentityServer4.Endpoints.AuthorizeEndpoint] AuthorizeRequestValidationLog { ClientId: "urn:em:client", ClientName: "urn:em:client", RedirectUri: null, AllowedRedirectUris: ["https://idweb.em.local/signin-oidc"], SubjectId: "4986fb39-0b1a-416a-8fda-e04706435fc3", ResponseType: null, ResponseMode: null, GrantType: null, RequestedScopes: "", State: null, UiLocales: null, Nonce: null, AuthenticationContextReferenceClasses: null, DisplayMode: null, PromptMode: "", MaxAge: null, LoginHint: null, SessionId: null, Raw: [("client_id": "urn:em:client"), ("redirect_uri": "http://id-web.em.local/signin-oidc"), ("response_type": "code"), ("scope": "openid profile email roles"), ("code_challenge": "VxZmU97YVn1Ue-5xLvksgoWiji2nlpIjC0A-4FYQ08U"), ("code_challenge_method": "S256"), ("response_mode": "form_post"), ("nonce": "637437249626979292.YTE0ZGI1N2MtZTdlZS00NDAxLTk3NmYtMGU2Y2U4ZjliYzdkY2E0OWQxZTctMzU3NC00ZjIxLTk3ZTYtODIxN2Y1ZDlhNzI1"), ("state": "CfDJ8MPRbAevb1dLpUBHAVWjYkRJRzkOLjEclCLYGAR2r8lLO6EZYjAr2TH1-ajQxGdQFHbQUk2Au3AzXNMhca88D7qWIZoG-__BMPoPma6A9F3clRcVQXK4cA6qfqLeyqJiouyb6DVLWbpqGddoTB-bkAmPgpA8wIL5ezMDIVC0tS6TFyAYYcVX250UtIit_TxlJrjg22uwRwowqzYGMX-PpZmP6f7UF_CjZzUGUPsDOXGQMD7I1NHGAB3gKvzXa-wB4m6tudTWTe-DUxgi3FDgUIbXELlP1WniKqkRPdyOvABy_9mFKaVIPyhhBwKVp3nQc0Q1r-4y_e4wMIELBNc6AyHyXXi9HnsGVGjPtoBARIUOd020WSQ0DawkPv5Gb29uDQ"), ("x-client-SKU": "ID_NETSTANDARD2_0"), ("x-client-ver": "5.6.0.0")] }
[2020-12-16T14:16:03.0667020+00:00][INFO][32][IdentityServer4.Events.DefaultEventService] TokenIssuedFailureEvent { ClientId: "urn:em:client", ClientName: "urn:em:client", RedirectUri: null, Endpoint: "Authorize", SubjectId: "4986fb39-0b1a-416a-8fda-e04706435fc3", Scopes: "", GrantType: null, Error: "invalid_request", ErrorDescription: "Invalid redirect_uri", Category: "Token", Name: "Token Issued Failure", EventType: Failure, Id: 2001, Message: null, ActivityId: "0HM51PEMK5GKF:00000001", TimeStamp: 12/16/2020 14:16:03, ProcessId: 1061, LocalIpAddress: "::ffff:172.26.0.8:80", RemoteIpAddress: "172.26.0.1" }
[2020-12-16T14:16:03.0777810+00:00][INFO][32][Microsoft.AspNetCore.Hosting.Diagnostics] Request finished in 332.999ms 302 
[2020-12-16T14:16:03.1178727+00:00][INFO][41][Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 GET http://id.em.local/home/error?errorId=CfDJ8MPRbAevb1dLpUBHAVWjYkRMNE326flPUORDwmRKj5p8nYgVSNtnr-sJnLIZZJ8m1XipfCFtEnnaRWSK3sljukE4579TzIZIyNTAZ1sWaBk4sOV6Lg3LErWE0tFgmsBO4-1p7E7qLjmvFAq-Eg5MPwpJIf5kLoWBqeyeM9cFeB_pl_L6T0DBLsdqHLrpNP1Bfk8MUEyDJFfkhYCf6zixA85N4yc_pxN_Ph1TNcb57_J_DoDKSnvzHFAYRHPZn6Okz839gRljiE3ud2eex7J4JBXCpXnaGCqFrzuNvdZpe7qIoMh_xu_0L-e2NOt37HcK5piF58KWCY3Ud73J6WKzZpo  
[2020-12-16T14:16:03.1208812+00:00][INFO][41][Microsoft.AspNetCore.Routing.EndpointMiddleware] Executing endpoint '"EventManager.Identity.STS.Identity.Controllers.HomeController.Error (EventManager.Identity.STS.Identity)"'
[2020-12-16T14:16:03.1221243+00:00][INFO][41][Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Route matched with "{action = \"Error\", controller = \"Home\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Error(System.String)" on controller "EventManager.Identity.STS.Identity.Controllers.HomeController" ("EventManager.Identity.STS.Identity").
[2020-12-16T14:16:03.1319792+00:00][INFO][41][Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor] Executing ViewResult, running view "Error".
[2020-12-16T14:16:03.1377775+00:00][INFO][41][Microsoft.AspNetCore.Authorization.DefaultAuthorizationService] Authorization was successful.
[2020-12-16T14:16:03.1472701+00:00][INFO][41][Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor] Executed ViewResult - view "Error" executed in 15.2961ms.
[2020-12-16T14:16:03.1484864+00:00][INFO][41][Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Executed action "EventManager.Identity.STS.Identity.Controllers.HomeController.Error (EventManager.Identity.STS.Identity)" in 21.4194ms
[2020-12-16T14:16:03.1592497+00:00][INFO][41][Microsoft.AspNetCore.Routing.EndpointMiddleware] Executed endpoint '"EventManager.Identity.STS.Identity.Controllers.HomeController.Error (EventManager.Identity.STS.Identity)"'
[2020-12-16T14:16:03.1702339+00:00][INFO][41][Microsoft.AspNetCore.Hosting.Diagnostics] Request finished in 42.9214ms 200 text/html; charset=utf-8
[2020-12-16T14:16:07.1530749+00:00][INFO][33][Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 GET http://id.em.local/Manage  
[2020-12-16T14:16:07.1583666+00:00][INFO][33][Microsoft.AspNetCore.Authorization.DefaultAuthorizationService] Authorization was successful.
[2020-12-16T14:16:07.1594859+00:00][INFO][33][Microsoft.AspNetCore.Routing.EndpointMiddleware] Executing endpoint '"EventManager.Identity.STS.Identity.Controllers.ManageController<EventManager.Identity.Admin.EntityFramework.Shared.Entities.Identity.UserIdentity, string>.Index (EventManager.Identity.STS.Identity)"'
[2020-12-16T14:16:07.1767058+00:00][INFO][33][Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Route matched with "{action = \"Index\", controller = \"Manage\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Index()" on controller "EventManager.Identity.STS.Identity.Controllers.ManageController<EventManager.Identity.Admin.EntityFramework.Shared.Entities.Identity.UserIdentity, string>" ("EventManager.Identity.STS.Identity").
[2020-12-16T14:16:07.1940800+00:00][INFO][33][Microsoft.EntityFrameworkCore.Infrastructure] Entity Framework Core "3.1.9" initialized '"AdminIdentityDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=EventManager.Identity.Admin.EntityFramework.SqlServer "
[2020-12-16T14:16:07.2478655+00:00][INFO][41][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("27"ms) [Parameters=["@__p_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[Id] = @__p_0"
[2020-12-16T14:16:07.3817568+00:00][INFO][36][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("4"ms) [Parameters=["@__user_Id_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [u].[Id], [u].[ClaimType], [u].[ClaimValue], [u].[UserId]
FROM [UserClaims] AS [u]
WHERE [u].[UserId] = @__user_Id_0"
[2020-12-16T14:16:07.4160918+00:00][INFO][36][Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor] Executing ViewResult, running view "Index".
[2020-12-16T14:16:08.6727690+00:00][INFO][36][Microsoft.AspNetCore.Authorization.DefaultAuthorizationService] Authorization was successful.
[2020-12-16T14:16:08.6820828+00:00][INFO][36][Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor] Executed ViewResult - view "Index" executed in 1272.475ms.
[2020-12-16T14:16:08.6889362+00:00][INFO][36][Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Executed action "EventManager.Identity.STS.Identity.Controllers.ManageController<EventManager.Identity.Admin.EntityFramework.Shared.Entities.Identity.UserIdentity, string>.Index (EventManager.Identity.STS.Identity)" in 1511.1736ms
[2020-12-16T14:16:08.6900782+00:00][INFO][36][Microsoft.AspNetCore.Routing.EndpointMiddleware] Executed endpoint '"EventManager.Identity.STS.Identity.Controllers.ManageController<EventManager.Identity.Admin.EntityFramework.Shared.Entities.Identity.UserIdentity, string>.Index (EventManager.Identity.STS.Identity)"'
[2020-12-16T14:16:08.6912635+00:00][INFO][36][Microsoft.AspNetCore.Hosting.Diagnostics] Request finished in 1538.1391ms 200 text/html; charset=utf-8
[2020-12-16T14:16:10.7230071+00:00][INFO][39][Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 GET http://id.em.local/connect/authorize?client_id=urn%3Aem%3Aclient&redirect_uri=http%3A%2F%2Fid-web.em.local%2Fsignin-oidc&response_type=code&scope=openid%20profile%20email%20roles&code_challenge=0vUUKpycYnXocnLj51_I4qc3VJ-4K522V5Fo4C1d3Z0&code_challenge_method=S256&response_mode=form_post&nonce=637437249706654995.Nzg3YTE2YmEtOTU5OS00MTRjLTgyOGMtZmM1ZTRiZDAxNWIwN2U3MzgzMDgtODk2MS00ZmY5LWExMDMtY2UxZTE3MzI4NzIx&state=CfDJ8MPRbAevb1dLpUBHAVWjYkSN3hvw1INF2RRHV_kpSV9mNdZAmV6h_iHGyPee-O8IZuIs4yWWcU4RoCQNTMeDjPT9_jy4irAkvgE3CxPJsMwKAkYHoE8Kn4TPXCwONNr3zOe-4WmjU4Xd4dN-IfVCP_E5h5rboJuUD_yAlQGQ9nOoSD0HBX303la1UxEpLvx5HIldjYjEyYaMsp7UWtyTPrU_CvYJMI9j3DHLvuN_4EBcuyiepz0AOkNMCpv1FjjXKV8awrQu8wxvjACJw74DTne31NlNiG_nQa2m4uNUB-BpLpLgr56g68nYlK76VGkEb7KkWoui_qlFKkape7BKqnYSMLU-1txbPXCpMDKKGDglqfBGvId_Y14lyCoMmDsAWw&x-client-SKU=ID_NETSTANDARD2_0&x-client-ver=5.6.0.0  
[2020-12-16T14:16:10.7369316+00:00][INFO][39][IdentityServer4.Hosting.IdentityServerMiddleware] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize"
[2020-12-16T14:16:10.7449477+00:00][INFO][39][Microsoft.EntityFrameworkCore.Infrastructure] Entity Framework Core "3.1.9" initialized '"IdentityServerConfigurationDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=EventManager.Identity.Admin.EntityFramework.SqlServer "
[2020-12-16T14:16:10.7624031+00:00][INFO][32][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("3"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c].[Id], [c].[AbsoluteRefreshTokenLifetime], [c].[AccessTokenLifetime], [c].[AccessTokenType], [c].[AllowAccessTokensViaBrowser], [c].[AllowOfflineAccess], [c].[AllowPlainTextPkce], [c].[AllowRememberConsent], [c].[AllowedIdentityTokenSigningAlgorithms], [c].[AlwaysIncludeUserClaimsInIdToken], [c].[AlwaysSendClientClaims], [c].[AuthorizationCodeLifetime], [c].[BackChannelLogoutSessionRequired], [c].[BackChannelLogoutUri], [c].[ClientClaimsPrefix], [c].[ClientId], [c].[ClientName], [c].[ClientUri], [c].[ConsentLifetime], [c].[Created], [c].[Description], [c].[DeviceCodeLifetime], [c].[EnableLocalLogin], [c].[Enabled], [c].[FrontChannelLogoutSessionRequired], [c].[FrontChannelLogoutUri], [c].[IdentityTokenLifetime], [c].[IncludeJwtId], [c].[LastAccessed], [c].[LogoUri], [c].[NonEditable], [c].[PairWiseSubjectSalt], [c].[ProtocolType], [c].[RefreshTokenExpiration], [c].[RefreshTokenUsage], [c].[RequireClientSecret], [c].[RequireConsent], [c].[RequirePkce], [c].[RequireRequestObject], [c].[SlidingRefreshTokenLifetime], [c].[UpdateAccessTokenClaimsOnRefresh], [c].[Updated], [c].[UserCodeType], [c].[UserSsoLifetime]
FROM [Clients] AS [c]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-16T14:16:10.8088608+00:00][INFO][39][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("3"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[Origin]
FROM [Clients] AS [c]
INNER JOIN [ClientCorsOrigins] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-16T14:16:10.8197623+00:00][INFO][32][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("2"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[GrantType]
FROM [Clients] AS [c]
INNER JOIN [ClientGrantTypes] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-16T14:16:10.8333520+00:00][INFO][34][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("9"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[Scope]
FROM [Clients] AS [c]
INNER JOIN [ClientScopes] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-16T14:16:10.8571569+00:00][INFO][34][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("4"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[Type], [c0].[Value]
FROM [Clients] AS [c]
INNER JOIN [ClientClaims] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-16T14:16:10.8674849+00:00][INFO][32][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("5"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[Created], [c0].[Description], [c0].[Expiration], [c0].[Type], [c0].[Value]
FROM [Clients] AS [c]
INNER JOIN [ClientSecrets] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-16T14:16:10.8815220+00:00][INFO][33][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("12"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[Provider]
FROM [Clients] AS [c]
INNER JOIN [ClientIdPRestrictions] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-16T14:16:10.9131275+00:00][INFO][34][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("4"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[PostLogoutRedirectUri]
FROM [Clients] AS [c]
INNER JOIN [ClientPostLogoutRedirectUris] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-16T14:16:10.9396549+00:00][INFO][32][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("3"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[Key], [c0].[Value]
FROM [Clients] AS [c]
INNER JOIN [ClientProperties] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-16T14:16:10.9589803+00:00][INFO][34][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("14"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[RedirectUri]
FROM [Clients] AS [c]
INNER JOIN [ClientRedirectUris] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-16T14:16:10.9662682+00:00][EROR][34][IdentityServer4.Validation.AuthorizeRequestValidator] Invalid redirect_uri: "http://id-web.em.local/signin-oidc"
AuthorizeRequestValidationLog { ClientId: "urn:em:client", ClientName: "urn:em:client", RedirectUri: null, AllowedRedirectUris: ["https://idweb.em.local/signin-oidc"], SubjectId: "4986fb39-0b1a-416a-8fda-e04706435fc3", ResponseType: null, ResponseMode: null, GrantType: null, RequestedScopes: "", State: null, UiLocales: null, Nonce: null, AuthenticationContextReferenceClasses: null, DisplayMode: null, PromptMode: "", MaxAge: null, LoginHint: null, SessionId: null, Raw: [("client_id": "urn:em:client"), ("redirect_uri": "http://id-web.em.local/signin-oidc"), ("response_type": "code"), ("scope": "openid profile email roles"), ("code_challenge": "0vUUKpycYnXocnLj51_I4qc3VJ-4K522V5Fo4C1d3Z0"), ("code_challenge_method": "S256"), ("response_mode": "form_post"), ("nonce": "637437249706654995.Nzg3YTE2YmEtOTU5OS00MTRjLTgyOGMtZmM1ZTRiZDAxNWIwN2U3MzgzMDgtODk2MS00ZmY5LWExMDMtY2UxZTE3MzI4NzIx"), ("state": "CfDJ8MPRbAevb1dLpUBHAVWjYkSN3hvw1INF2RRHV_kpSV9mNdZAmV6h_iHGyPee-O8IZuIs4yWWcU4RoCQNTMeDjPT9_jy4irAkvgE3CxPJsMwKAkYHoE8Kn4TPXCwONNr3zOe-4WmjU4Xd4dN-IfVCP_E5h5rboJuUD_yAlQGQ9nOoSD0HBX303la1UxEpLvx5HIldjYjEyYaMsp7UWtyTPrU_CvYJMI9j3DHLvuN_4EBcuyiepz0AOkNMCpv1FjjXKV8awrQu8wxvjACJw74DTne31NlNiG_nQa2m4uNUB-BpLpLgr56g68nYlK76VGkEb7KkWoui_qlFKkape7BKqnYSMLU-1txbPXCpMDKKGDglqfBGvId_Y14lyCoMmDsAWw"), ("x-client-SKU": "ID_NETSTANDARD2_0"), ("x-client-ver": "5.6.0.0")] }
[2020-12-16T14:16:10.9679622+00:00][EROR][34][IdentityServer4.Endpoints.AuthorizeEndpoint] Request validation failed
[2020-12-16T14:16:10.9702294+00:00][INFO][34][IdentityServer4.Endpoints.AuthorizeEndpoint] AuthorizeRequestValidationLog { ClientId: "urn:em:client", ClientName: "urn:em:client", RedirectUri: null, AllowedRedirectUris: ["https://idweb.em.local/signin-oidc"], SubjectId: "4986fb39-0b1a-416a-8fda-e04706435fc3", ResponseType: null, ResponseMode: null, GrantType: null, RequestedScopes: "", State: null, UiLocales: null, Nonce: null, AuthenticationContextReferenceClasses: null, DisplayMode: null, PromptMode: "", MaxAge: null, LoginHint: null, SessionId: null, Raw: [("client_id": "urn:em:client"), ("redirect_uri": "http://id-web.em.local/signin-oidc"), ("response_type": "code"), ("scope": "openid profile email roles"), ("code_challenge": "0vUUKpycYnXocnLj51_I4qc3VJ-4K522V5Fo4C1d3Z0"), ("code_challenge_method": "S256"), ("response_mode": "form_post"), ("nonce": "637437249706654995.Nzg3YTE2YmEtOTU5OS00MTRjLTgyOGMtZmM1ZTRiZDAxNWIwN2U3MzgzMDgtODk2MS00ZmY5LWExMDMtY2UxZTE3MzI4NzIx"), ("state": "CfDJ8MPRbAevb1dLpUBHAVWjYkSN3hvw1INF2RRHV_kpSV9mNdZAmV6h_iHGyPee-O8IZuIs4yWWcU4RoCQNTMeDjPT9_jy4irAkvgE3CxPJsMwKAkYHoE8Kn4TPXCwONNr3zOe-4WmjU4Xd4dN-IfVCP_E5h5rboJuUD_yAlQGQ9nOoSD0HBX303la1UxEpLvx5HIldjYjEyYaMsp7UWtyTPrU_CvYJMI9j3DHLvuN_4EBcuyiepz0AOkNMCpv1FjjXKV8awrQu8wxvjACJw74DTne31NlNiG_nQa2m4uNUB-BpLpLgr56g68nYlK76VGkEb7KkWoui_qlFKkape7BKqnYSMLU-1txbPXCpMDKKGDglqfBGvId_Y14lyCoMmDsAWw"), ("x-client-SKU": "ID_NETSTANDARD2_0"), ("x-client-ver": "5.6.0.0")] }
[2020-12-16T14:16:10.9725631+00:00][INFO][34][IdentityServer4.Events.DefaultEventService] TokenIssuedFailureEvent { ClientId: "urn:em:client", ClientName: "urn:em:client", RedirectUri: null, Endpoint: "Authorize", SubjectId: "4986fb39-0b1a-416a-8fda-e04706435fc3", Scopes: "", GrantType: null, Error: "invalid_request", ErrorDescription: "Invalid redirect_uri", Category: "Token", Name: "Token Issued Failure", EventType: Failure, Id: 2001, Message: null, ActivityId: "0HM51PEMK5GKI:00000001", TimeStamp: 12/16/2020 14:16:10, ProcessId: 1061, LocalIpAddress: "::ffff:172.26.0.8:80", RemoteIpAddress: "172.26.0.1" }
[2020-12-16T14:16:10.9903962+00:00][INFO][34][Microsoft.AspNetCore.Hosting.Diagnostics] Request finished in 267.3863ms 302 
[2020-12-16T14:16:11.0167609+00:00][INFO][34][Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 GET http://id.em.local/home/error?errorId=CfDJ8MPRbAevb1dLpUBHAVWjYkQyTbeLwKUMDV1Qmsr8j_N0vmgGDH8ypusu6yXrmMbvcRUN8aqZXQBKOyOiYiO56v819vxiLmX-QIetIFoLRE9H8-AZTufhVi5k71_dHKV4Frr7gYauGAJs8rFC9cEU2_GQVrzs_UIlh8HvN131eG4oEnMGAuO6PZnhaIFboZlE2NN8mscNslGozOP1PWUJYViSKOHw_wMIxL96yh6tNZi1L8n-pt6-mFycXzYXMd1BCQKsLrhXS6K47hrPA1xG8_ivSx-Rll3VrP92qP7yupSQxXIZmbMI0dEsT7rh8zeFFKInvXZmL7eg22jR7QuoF1E  
[2020-12-16T14:16:11.0209196+00:00][INFO][34][Microsoft.AspNetCore.Routing.EndpointMiddleware] Executing endpoint '"EventManager.Identity.STS.Identity.Controllers.HomeController.Error (EventManager.Identity.STS.Identity)"'
[2020-12-16T14:16:11.0220801+00:00][INFO][34][Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Route matched with "{action = \"Error\", controller = \"Home\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Error(System.String)" on controller "EventManager.Identity.STS.Identity.Controllers.HomeController" ("EventManager.Identity.STS.Identity").
[2020-12-16T14:16:11.0242910+00:00][INFO][34][Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor] Executing ViewResult, running view "Error".
[2020-12-16T14:16:11.0386931+00:00][INFO][34][Microsoft.AspNetCore.Authorization.DefaultAuthorizationService] Authorization was successful.
[2020-12-16T14:16:11.0497061+00:00][INFO][34][Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor] Executed ViewResult - view "Error" executed in 25.412ms.
[2020-12-16T14:16:11.0560951+00:00][INFO][34][Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Executed action "EventManager.Identity.STS.Identity.Controllers.HomeController.Error (EventManager.Identity.STS.Identity)" in 32.7616ms
[2020-12-16T14:16:11.0574709+00:00][INFO][34][Microsoft.AspNetCore.Routing.EndpointMiddleware] Executed endpoint '"EventManager.Identity.STS.Identity.Controllers.HomeController.Error (EventManager.Identity.STS.Identity)"'
[2020-12-16T14:16:11.0752328+00:00][INFO][34][Microsoft.AspNetCore.Hosting.Diagnostics] Request finished in 58.4545ms 200 text/html; charset=utf-8
[2020-12-16T14:21:40.3894512+00:00][INFO][34][Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 GET http://id.em.local/connect/authorize?client_id=urn%3Aem%3Aclient&redirect_uri=http%3A%2F%2Fid-web.em.local%2Fsignin-oidc&response_type=code&scope=openid%20profile%20email%20roles&code_challenge=3UJkA9EZ9pDRTiEsl3Aqf5SfWsZmaIcsHQo3fQU6EB4&code_challenge_method=S256&response_mode=form_post&nonce=637437253003509030.MWY0NjZhOGItNTZjYy00N2ZkLTkyNTMtYmE0NmFjMmEzNTk1NWUyMjFmMGMtZDMzYy00NDA2LTk0ZDctYmUwZGNjNTdiOGVi&state=CfDJ8MPRbAevb1dLpUBHAVWjYkQbW8icSpUln5svbEvC1bMdn1OTIsPBdxgHHPgj5HZp3NajBSRiXfid9w6A9ecgSci0rjH4Rt8zZnJAz_3Qp3Hf8nQVwcLoaxPCGtr7kyXMGGs66anj_S6l01iP9GRuxE_REIn3Gq21grE1KKC51Zvq7hu5oa-GEC0u8GiE_rz_Lyb5hcy1e9cuFuZRGneR9n0tA-ZYPhEG4UfS2hEP1by29iwZNxHXIgLKTKZ81QV5bCMVOQ7Iz3-xQfj2QjM7KejvtEblVX2Q4sfIj46efFpj0kawdvKbWTn5cMYoWR7JhckDgZwoQH-L6xAFYYMjMlaIP82zkORExVrHYU8CzhqgBhiaLgbjZzJrwZQq3n-dWg&x-client-SKU=ID_NETSTANDARD2_0&x-client-ver=5.6.0.0  
[2020-12-16T14:21:40.4010435+00:00][INFO][34][IdentityServer4.Hosting.IdentityServerMiddleware] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize"
[2020-12-16T14:21:40.4068185+00:00][INFO][34][Microsoft.EntityFrameworkCore.Infrastructure] Entity Framework Core "3.1.9" initialized '"IdentityServerConfigurationDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=EventManager.Identity.Admin.EntityFramework.SqlServer "
[2020-12-16T14:21:40.4273749+00:00][INFO][43][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("18"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c].[Id], [c].[AbsoluteRefreshTokenLifetime], [c].[AccessTokenLifetime], [c].[AccessTokenType], [c].[AllowAccessTokensViaBrowser], [c].[AllowOfflineAccess], [c].[AllowPlainTextPkce], [c].[AllowRememberConsent], [c].[AllowedIdentityTokenSigningAlgorithms], [c].[AlwaysIncludeUserClaimsInIdToken], [c].[AlwaysSendClientClaims], [c].[AuthorizationCodeLifetime], [c].[BackChannelLogoutSessionRequired], [c].[BackChannelLogoutUri], [c].[ClientClaimsPrefix], [c].[ClientId], [c].[ClientName], [c].[ClientUri], [c].[ConsentLifetime], [c].[Created], [c].[Description], [c].[DeviceCodeLifetime], [c].[EnableLocalLogin], [c].[Enabled], [c].[FrontChannelLogoutSessionRequired], [c].[FrontChannelLogoutUri], [c].[IdentityTokenLifetime], [c].[IncludeJwtId], [c].[LastAccessed], [c].[LogoUri], [c].[NonEditable], [c].[PairWiseSubjectSalt], [c].[ProtocolType], [c].[RefreshTokenExpiration], [c].[RefreshTokenUsage], [c].[RequireClientSecret], [c].[RequireConsent], [c].[RequirePkce], [c].[RequireRequestObject], [c].[SlidingRefreshTokenLifetime], [c].[UpdateAccessTokenClaimsOnRefresh], [c].[Updated], [c].[UserCodeType], [c].[UserSsoLifetime]
FROM [Clients] AS [c]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-16T14:21:40.5055190+00:00][INFO][34][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("28"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[Origin]
FROM [Clients] AS [c]
INNER JOIN [ClientCorsOrigins] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-16T14:21:40.5392210+00:00][INFO][34][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("27"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[GrantType]
FROM [Clients] AS [c]
INNER JOIN [ClientGrantTypes] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-16T14:21:40.5463662+00:00][INFO][34][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("4"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[Scope]
FROM [Clients] AS [c]
INNER JOIN [ClientScopes] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-16T14:21:40.5564219+00:00][INFO][34][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("7"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[Type], [c0].[Value]
FROM [Clients] AS [c]
INNER JOIN [ClientClaims] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-16T14:21:40.5867931+00:00][INFO][46][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("28"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[Created], [c0].[Description], [c0].[Expiration], [c0].[Type], [c0].[Value]
FROM [Clients] AS [c]
INNER JOIN [ClientSecrets] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-16T14:21:40.5945898+00:00][INFO][46][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("5"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[Provider]
FROM [Clients] AS [c]
INNER JOIN [ClientIdPRestrictions] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-16T14:21:40.6072651+00:00][INFO][49][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("7"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[PostLogoutRedirectUri]
FROM [Clients] AS [c]
INNER JOIN [ClientPostLogoutRedirectUris] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-16T14:21:40.6195467+00:00][INFO][34][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("5"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[Key], [c0].[Value]
FROM [Clients] AS [c]
INNER JOIN [ClientProperties] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-16T14:21:40.6290956+00:00][INFO][44][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("7"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[RedirectUri]
FROM [Clients] AS [c]
INNER JOIN [ClientRedirectUris] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-16T14:21:40.6530015+00:00][EROR][44][IdentityServer4.Validation.AuthorizeRequestValidator] Invalid redirect_uri: "http://id-web.em.local/signin-oidc"
AuthorizeRequestValidationLog { ClientId: "urn:em:client", ClientName: "urn:em:client", RedirectUri: null, AllowedRedirectUris: ["https://idweb.em.local/signin-oidc"], SubjectId: "4986fb39-0b1a-416a-8fda-e04706435fc3", ResponseType: null, ResponseMode: null, GrantType: null, RequestedScopes: "", State: null, UiLocales: null, Nonce: null, AuthenticationContextReferenceClasses: null, DisplayMode: null, PromptMode: "", MaxAge: null, LoginHint: null, SessionId: null, Raw: [("client_id": "urn:em:client"), ("redirect_uri": "http://id-web.em.local/signin-oidc"), ("response_type": "code"), ("scope": "openid profile email roles"), ("code_challenge": "3UJkA9EZ9pDRTiEsl3Aqf5SfWsZmaIcsHQo3fQU6EB4"), ("code_challenge_method": "S256"), ("response_mode": "form_post"), ("nonce": "637437253003509030.MWY0NjZhOGItNTZjYy00N2ZkLTkyNTMtYmE0NmFjMmEzNTk1NWUyMjFmMGMtZDMzYy00NDA2LTk0ZDctYmUwZGNjNTdiOGVi"), ("state": "CfDJ8MPRbAevb1dLpUBHAVWjYkQbW8icSpUln5svbEvC1bMdn1OTIsPBdxgHHPgj5HZp3NajBSRiXfid9w6A9ecgSci0rjH4Rt8zZnJAz_3Qp3Hf8nQVwcLoaxPCGtr7kyXMGGs66anj_S6l01iP9GRuxE_REIn3Gq21grE1KKC51Zvq7hu5oa-GEC0u8GiE_rz_Lyb5hcy1e9cuFuZRGneR9n0tA-ZYPhEG4UfS2hEP1by29iwZNxHXIgLKTKZ81QV5bCMVOQ7Iz3-xQfj2QjM7KejvtEblVX2Q4sfIj46efFpj0kawdvKbWTn5cMYoWR7JhckDgZwoQH-L6xAFYYMjMlaIP82zkORExVrHYU8CzhqgBhiaLgbjZzJrwZQq3n-dWg"), ("x-client-SKU": "ID_NETSTANDARD2_0"), ("x-client-ver": "5.6.0.0")] }
[2020-12-16T14:21:40.6543873+00:00][EROR][44][IdentityServer4.Endpoints.AuthorizeEndpoint] Request validation failed
[2020-12-16T14:21:40.6556305+00:00][INFO][44][IdentityServer4.Endpoints.AuthorizeEndpoint] AuthorizeRequestValidationLog { ClientId: "urn:em:client", ClientName: "urn:em:client", RedirectUri: null, AllowedRedirectUris: ["https://idweb.em.local/signin-oidc"], SubjectId: "4986fb39-0b1a-416a-8fda-e04706435fc3", ResponseType: null, ResponseMode: null, GrantType: null, RequestedScopes: "", State: null, UiLocales: null, Nonce: null, AuthenticationContextReferenceClasses: null, DisplayMode: null, PromptMode: "", MaxAge: null, LoginHint: null, SessionId: null, Raw: [("client_id": "urn:em:client"), ("redirect_uri": "http://id-web.em.local/signin-oidc"), ("response_type": "code"), ("scope": "openid profile email roles"), ("code_challenge": "3UJkA9EZ9pDRTiEsl3Aqf5SfWsZmaIcsHQo3fQU6EB4"), ("code_challenge_method": "S256"), ("response_mode": "form_post"), ("nonce": "637437253003509030.MWY0NjZhOGItNTZjYy00N2ZkLTkyNTMtYmE0NmFjMmEzNTk1NWUyMjFmMGMtZDMzYy00NDA2LTk0ZDctYmUwZGNjNTdiOGVi"), ("state": "CfDJ8MPRbAevb1dLpUBHAVWjYkQbW8icSpUln5svbEvC1bMdn1OTIsPBdxgHHPgj5HZp3NajBSRiXfid9w6A9ecgSci0rjH4Rt8zZnJAz_3Qp3Hf8nQVwcLoaxPCGtr7kyXMGGs66anj_S6l01iP9GRuxE_REIn3Gq21grE1KKC51Zvq7hu5oa-GEC0u8GiE_rz_Lyb5hcy1e9cuFuZRGneR9n0tA-ZYPhEG4UfS2hEP1by29iwZNxHXIgLKTKZ81QV5bCMVOQ7Iz3-xQfj2QjM7KejvtEblVX2Q4sfIj46efFpj0kawdvKbWTn5cMYoWR7JhckDgZwoQH-L6xAFYYMjMlaIP82zkORExVrHYU8CzhqgBhiaLgbjZzJrwZQq3n-dWg"), ("x-client-SKU": "ID_NETSTANDARD2_0"), ("x-client-ver": "5.6.0.0")] }
[2020-12-16T14:21:40.6571964+00:00][INFO][44][IdentityServer4.Events.DefaultEventService] TokenIssuedFailureEvent { ClientId: "urn:em:client", ClientName: "urn:em:client", RedirectUri: null, Endpoint: "Authorize", SubjectId: "4986fb39-0b1a-416a-8fda-e04706435fc3", Scopes: "", GrantType: null, Error: "invalid_request", ErrorDescription: "Invalid redirect_uri", Category: "Token", Name: "Token Issued Failure", EventType: Failure, Id: 2001, Message: null, ActivityId: "0HM51PEMK5GKK:00000001", TimeStamp: 12/16/2020 14:21:40, ProcessId: 1061, LocalIpAddress: "::ffff:172.26.0.8:80", RemoteIpAddress: "172.26.0.1" }
[2020-12-16T14:21:40.6679185+00:00][INFO][44][Microsoft.AspNetCore.Hosting.Diagnostics] Request finished in 278.48ms 302 
[2020-12-16T14:21:40.7077510+00:00][INFO][46][Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 GET http://id.em.local/home/error?errorId=CfDJ8MPRbAevb1dLpUBHAVWjYkSWxsUGhD9Hw8J7cDh2ayqjnYMTBl1OwCO5isymU2jgj7eIJKRC5cjrdMxhx41XwTHQ2CUlPxGIP6rnL7Qo-avl2LhC7e4Uo76NrqxaLtnWWHtVXOz8BBhkD7-P30EwBOstxVwDIb7O6fpPfk6b59sCFXpkFiPyKIpeG83BPQWE12F3dbEq52ftk2TE1hoqBbBLdeC2yCgg9VAcFwK1SPsjz3ijyGQPg5gdYpF3kdMknn1OX1FKfwu5njyymci641l4GL8EEXC-M5eZ8A4rXUKKcyrbCuN2BLjwfFqd_uJ7L0tnSuWywZTYvDR_8q6lwL0  
[2020-12-16T14:21:40.7142500+00:00][INFO][46][Microsoft.AspNetCore.Routing.EndpointMiddleware] Executing endpoint '"EventManager.Identity.STS.Identity.Controllers.HomeController.Error (EventManager.Identity.STS.Identity)"'
[2020-12-16T14:21:40.7184139+00:00][INFO][46][Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Route matched with "{action = \"Error\", controller = \"Home\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Error(System.String)" on controller "EventManager.Identity.STS.Identity.Controllers.HomeController" ("EventManager.Identity.STS.Identity").
[2020-12-16T14:21:40.7209846+00:00][INFO][46][Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor] Executing ViewResult, running view "Error".
[2020-12-16T14:21:40.7486357+00:00][INFO][46][Microsoft.AspNetCore.Authorization.DefaultAuthorizationService] Authorization was successful.
[2020-12-16T14:21:40.7587828+00:00][INFO][46][Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor] Executed ViewResult - view "Error" executed in 37.8493ms.
[2020-12-16T14:21:40.7609069+00:00][INFO][46][Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Executed action "EventManager.Identity.STS.Identity.Controllers.HomeController.Error (EventManager.Identity.STS.Identity)" in 41.0792ms
[2020-12-16T14:21:40.7637811+00:00][INFO][46][Microsoft.AspNetCore.Routing.EndpointMiddleware] Executed endpoint '"EventManager.Identity.STS.Identity.Controllers.HomeController.Error (EventManager.Identity.STS.Identity)"'
[2020-12-16T14:21:40.7664699+00:00][INFO][46][Microsoft.AspNetCore.Hosting.Diagnostics] Request finished in 58.8171ms 200 text/html; charset=utf-8
[2020-12-16T14:21:45.7423303+00:00][INFO][34][Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 GET http://id.em.local/Account/Logout  
[2020-12-16T14:21:45.7470657+00:00][INFO][34][Microsoft.AspNetCore.Routing.EndpointMiddleware] Executing endpoint '"EventManager.Identity.STS.Identity.Controllers.AccountController<EventManager.Identity.Admin.EntityFramework.Shared.Entities.Identity.UserIdentity, string>.Logout (EventManager.Identity.STS.Identity)"'
[2020-12-16T14:21:45.7481532+00:00][INFO][34][Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Route matched with "{action = \"Logout\", controller = \"Account\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Logout(System.String)" on controller "EventManager.Identity.STS.Identity.Controllers.AccountController<EventManager.Identity.Admin.EntityFramework.Shared.Entities.Identity.UserIdentity, string>" ("EventManager.Identity.STS.Identity").
[2020-12-16T14:21:45.7560349+00:00][INFO][34][Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor] Executing ViewResult, running view "Logout".
[2020-12-16T14:21:45.7797883+00:00][INFO][34][Microsoft.AspNetCore.Authorization.DefaultAuthorizationService] Authorization was successful.
[2020-12-16T14:21:45.7979515+00:00][INFO][34][Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor] Executed ViewResult - view "Logout" executed in 42.0031ms.
[2020-12-16T14:21:45.8039613+00:00][INFO][34][Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Executed action "EventManager.Identity.STS.Identity.Controllers.AccountController<EventManager.Identity.Admin.EntityFramework.Shared.Entities.Identity.UserIdentity, string>.Logout (EventManager.Identity.STS.Identity)" in 54.6078ms
[2020-12-16T14:21:45.8061060+00:00][INFO][34][Microsoft.AspNetCore.Routing.EndpointMiddleware] Executed endpoint '"EventManager.Identity.STS.Identity.Controllers.AccountController<EventManager.Identity.Admin.EntityFramework.Shared.Entities.Identity.UserIdentity, string>.Logout (EventManager.Identity.STS.Identity)"'
[2020-12-16T14:21:45.8095840+00:00][INFO][34][Microsoft.AspNetCore.Hosting.Diagnostics] Request finished in 67.258ms 200 text/html; charset=utf-8
[2020-12-16T14:21:48.3284660+00:00][INFO][44][Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 POST http://id.em.local/Account/Logout application/x-www-form-urlencoded 235
[2020-12-16T14:21:48.3292119+00:00][INFO][44][Microsoft.AspNetCore.Cors.Infrastructure.CorsMiddleware] No CORS policy found for the specified request.
[2020-12-16T14:21:48.3316112+00:00][INFO][44][Microsoft.AspNetCore.Authorization.DefaultAuthorizationService] Authorization was successful.
[2020-12-16T14:21:48.3326552+00:00][INFO][44][Microsoft.AspNetCore.Routing.EndpointMiddleware] Executing endpoint '"EventManager.Identity.STS.Identity.Controllers.AccountController<EventManager.Identity.Admin.EntityFramework.Shared.Entities.Identity.UserIdentity, string>.Logout (EventManager.Identity.STS.Identity)"'
[2020-12-16T14:21:48.3342034+00:00][INFO][44][Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Route matched with "{action = \"Logout\", controller = \"Account\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Logout(EventManager.Identity.STS.Identity.ViewModels.Account.LogoutInputModel)" on controller "EventManager.Identity.STS.Identity.Controllers.AccountController<EventManager.Identity.Admin.EntityFramework.Shared.Entities.Identity.UserIdentity, string>" ("EventManager.Identity.STS.Identity").
[2020-12-16T14:21:48.3449018+00:00][INFO][44][Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler] AuthenticationScheme: "Identity.Application" signed out.
[2020-12-16T14:21:48.3478851+00:00][INFO][44][Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler] AuthenticationScheme: "Identity.External" signed out.
[2020-12-16T14:21:48.3495170+00:00][INFO][44][Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler] AuthenticationScheme: "Identity.TwoFactorUserId" signed out.
[2020-12-16T14:21:48.3507769+00:00][INFO][44][IdentityServer4.Events.DefaultEventService] UserLogoutSuccessEvent { SubjectId: "4986fb39-0b1a-416a-8fda-e04706435fc3", DisplayName: "admin", Category: "Authentication", Name: "User Logout Success", EventType: Success, Id: 1002, Message: null, ActivityId: "0HM51PEMK5GKN:00000001", TimeStamp: 12/16/2020 14:21:48, ProcessId: 1061, LocalIpAddress: "::ffff:172.26.0.8:80", RemoteIpAddress: "172.26.0.1" }
[2020-12-16T14:21:48.3522230+00:00][INFO][44][Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor] Executing ViewResult, running view "LoggedOut".
[2020-12-16T14:21:48.3607009+00:00][INFO][44][Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor] Executed ViewResult - view "LoggedOut" executed in 8.5273ms.
[2020-12-16T14:21:48.3641823+00:00][INFO][44][Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Executed action "EventManager.Identity.STS.Identity.Controllers.AccountController<EventManager.Identity.Admin.EntityFramework.Shared.Entities.Identity.UserIdentity, string>.Logout (EventManager.Identity.STS.Identity)" in 28.3511ms
[2020-12-16T14:21:48.3662481+00:00][INFO][44][Microsoft.AspNetCore.Routing.EndpointMiddleware] Executed endpoint '"EventManager.Identity.STS.Identity.Controllers.AccountController<EventManager.Identity.Admin.EntityFramework.Shared.Entities.Identity.UserIdentity, string>.Logout (EventManager.Identity.STS.Identity)"'
[2020-12-16T14:21:48.3683551+00:00][INFO][44][Microsoft.AspNetCore.Hosting.Diagnostics] Request finished in 39.8966ms 200 text/html; charset=utf-8
[2020-12-16T14:21:55.7177240+00:00][INFO][47][Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 GET http://id.em.local/connect/authorize?client_id=urn%3Aem%3Aclient&redirect_uri=http%3A%2F%2Fid-web.em.local%2Fsignin-oidc&response_type=code&scope=openid%20profile%20email%20roles&code_challenge=u5-MXknF2zRebL6bomKuI2Fb1qKMl8g2amPgBKVRcvM&code_challenge_method=S256&response_mode=form_post&nonce=637437253156749391.YzBmYjQyZjctMzc2MC00MjY4LWE5NTgtNTZhNWExOWQyMzIxODA0NTZjYTktNDI3NS00OGY2LTkyZDMtZjA1YzcxMTI5YTQ1&state=CfDJ8MPRbAevb1dLpUBHAVWjYkQTCghuDa0VElHkNIu0DdAotTwiVbk24Kj0ZNrauvBIfw9TULakT2hxlui55uI1HqAlswEQmYe9oKMoqH_nt_R3VnEgHfgsMGU9AhZbz3zcW4x5ICcPQ7ok75ZyfW5DTuLs5ZBKLk2OfDwaSUIOc8VC8Bqqgh2FibD9K7CB0DhvYT1_vl8y6lb5yXugyhgJ3D7lyvCofSFA1FYnRJC4Fp3IuzlsTDTTaxQ5KlJUMGEDB8a8vePUSiaVnNgdJXp-NaKqEdzhnZOUGn7B_Sw6XuDVZUU-DcQ7EXQ0yFc0KCzspa61ykXE_ZzNjC0oFTZCTeGoknFq1QIQiGDIUddRH2gtCBZx7721Bn7LSlUs5PGIJQ&x-client-SKU=ID_NETSTANDARD2_0&x-client-ver=5.6.0.0  
[2020-12-16T14:21:55.7338394+00:00][INFO][47][IdentityServer4.Hosting.IdentityServerMiddleware] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize"
[2020-12-16T14:21:55.7424514+00:00][INFO][47][Microsoft.EntityFrameworkCore.Infrastructure] Entity Framework Core "3.1.9" initialized '"IdentityServerConfigurationDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=EventManager.Identity.Admin.EntityFramework.SqlServer "
[2020-12-16T14:21:55.7709501+00:00][INFO][43][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("3"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c].[Id], [c].[AbsoluteRefreshTokenLifetime], [c].[AccessTokenLifetime], [c].[AccessTokenType], [c].[AllowAccessTokensViaBrowser], [c].[AllowOfflineAccess], [c].[AllowPlainTextPkce], [c].[AllowRememberConsent], [c].[AllowedIdentityTokenSigningAlgorithms], [c].[AlwaysIncludeUserClaimsInIdToken], [c].[AlwaysSendClientClaims], [c].[AuthorizationCodeLifetime], [c].[BackChannelLogoutSessionRequired], [c].[BackChannelLogoutUri], [c].[ClientClaimsPrefix], [c].[ClientId], [c].[ClientName], [c].[ClientUri], [c].[ConsentLifetime], [c].[Created], [c].[Description], [c].[DeviceCodeLifetime], [c].[EnableLocalLogin], [c].[Enabled], [c].[FrontChannelLogoutSessionRequired], [c].[FrontChannelLogoutUri], [c].[IdentityTokenLifetime], [c].[IncludeJwtId], [c].[LastAccessed], [c].[LogoUri], [c].[NonEditable], [c].[PairWiseSubjectSalt], [c].[ProtocolType], [c].[RefreshTokenExpiration], [c].[RefreshTokenUsage], [c].[RequireClientSecret], [c].[RequireConsent], [c].[RequirePkce], [c].[RequireRequestObject], [c].[SlidingRefreshTokenLifetime], [c].[UpdateAccessTokenClaimsOnRefresh], [c].[Updated], [c].[UserCodeType], [c].[UserSsoLifetime]
FROM [Clients] AS [c]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-16T14:21:55.8695853+00:00][INFO][47][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("2"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[Origin]
FROM [Clients] AS [c]
INNER JOIN [ClientCorsOrigins] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-16T14:21:55.8753760+00:00][INFO][43][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("3"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[GrantType]
FROM [Clients] AS [c]
INNER JOIN [ClientGrantTypes] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-16T14:21:55.8883256+00:00][INFO][45][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("9"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[Scope]
FROM [Clients] AS [c]
INNER JOIN [ClientScopes] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-16T14:21:55.8980288+00:00][INFO][46][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("3"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[Type], [c0].[Value]
FROM [Clients] AS [c]
INNER JOIN [ClientClaims] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-16T14:21:55.9292674+00:00][INFO][46][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("26"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[Created], [c0].[Description], [c0].[Expiration], [c0].[Type], [c0].[Value]
FROM [Clients] AS [c]
INNER JOIN [ClientSecrets] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-16T14:21:55.9355275+00:00][INFO][43][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("2"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[Provider]
FROM [Clients] AS [c]
INNER JOIN [ClientIdPRestrictions] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-16T14:21:55.9469413+00:00][INFO][47][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("8"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[PostLogoutRedirectUri]
FROM [Clients] AS [c]
INNER JOIN [ClientPostLogoutRedirectUris] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-16T14:21:55.9524905+00:00][INFO][46][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("3"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[Key], [c0].[Value]
FROM [Clients] AS [c]
INNER JOIN [ClientProperties] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-16T14:21:55.9796184+00:00][INFO][49][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("3"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[RedirectUri]
FROM [Clients] AS [c]
INNER JOIN [ClientRedirectUris] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-16T14:21:55.9832472+00:00][EROR][49][IdentityServer4.Validation.AuthorizeRequestValidator] Invalid redirect_uri: "http://id-web.em.local/signin-oidc"
AuthorizeRequestValidationLog { ClientId: "urn:em:client", ClientName: "urn:em:client", RedirectUri: null, AllowedRedirectUris: ["https://idweb.em.local/signin-oidc"], SubjectId: "anonymous", ResponseType: null, ResponseMode: null, GrantType: null, RequestedScopes: "", State: null, UiLocales: null, Nonce: null, AuthenticationContextReferenceClasses: null, DisplayMode: null, PromptMode: "", MaxAge: null, LoginHint: null, SessionId: null, Raw: [("client_id": "urn:em:client"), ("redirect_uri": "http://id-web.em.local/signin-oidc"), ("response_type": "code"), ("scope": "openid profile email roles"), ("code_challenge": "u5-MXknF2zRebL6bomKuI2Fb1qKMl8g2amPgBKVRcvM"), ("code_challenge_method": "S256"), ("response_mode": "form_post"), ("nonce": "637437253156749391.YzBmYjQyZjctMzc2MC00MjY4LWE5NTgtNTZhNWExOWQyMzIxODA0NTZjYTktNDI3NS00OGY2LTkyZDMtZjA1YzcxMTI5YTQ1"), ("state": "CfDJ8MPRbAevb1dLpUBHAVWjYkQTCghuDa0VElHkNIu0DdAotTwiVbk24Kj0ZNrauvBIfw9TULakT2hxlui55uI1HqAlswEQmYe9oKMoqH_nt_R3VnEgHfgsMGU9AhZbz3zcW4x5ICcPQ7ok75ZyfW5DTuLs5ZBKLk2OfDwaSUIOc8VC8Bqqgh2FibD9K7CB0DhvYT1_vl8y6lb5yXugyhgJ3D7lyvCofSFA1FYnRJC4Fp3IuzlsTDTTaxQ5KlJUMGEDB8a8vePUSiaVnNgdJXp-NaKqEdzhnZOUGn7B_Sw6XuDVZUU-DcQ7EXQ0yFc0KCzspa61ykXE_ZzNjC0oFTZCTeGoknFq1QIQiGDIUddRH2gtCBZx7721Bn7LSlUs5PGIJQ"), ("x-client-SKU": "ID_NETSTANDARD2_0"), ("x-client-ver": "5.6.0.0")] }
[2020-12-16T14:21:55.9872936+00:00][EROR][49][IdentityServer4.Endpoints.AuthorizeEndpoint] Request validation failed
[2020-12-16T14:21:55.9950629+00:00][INFO][49][IdentityServer4.Endpoints.AuthorizeEndpoint] AuthorizeRequestValidationLog { ClientId: "urn:em:client", ClientName: "urn:em:client", RedirectUri: null, AllowedRedirectUris: ["https://idweb.em.local/signin-oidc"], SubjectId: "anonymous", ResponseType: null, ResponseMode: null, GrantType: null, RequestedScopes: "", State: null, UiLocales: null, Nonce: null, AuthenticationContextReferenceClasses: null, DisplayMode: null, PromptMode: "", MaxAge: null, LoginHint: null, SessionId: null, Raw: [("client_id": "urn:em:client"), ("redirect_uri": "http://id-web.em.local/signin-oidc"), ("response_type": "code"), ("scope": "openid profile email roles"), ("code_challenge": "u5-MXknF2zRebL6bomKuI2Fb1qKMl8g2amPgBKVRcvM"), ("code_challenge_method": "S256"), ("response_mode": "form_post"), ("nonce": "637437253156749391.YzBmYjQyZjctMzc2MC00MjY4LWE5NTgtNTZhNWExOWQyMzIxODA0NTZjYTktNDI3NS00OGY2LTkyZDMtZjA1YzcxMTI5YTQ1"), ("state": "CfDJ8MPRbAevb1dLpUBHAVWjYkQTCghuDa0VElHkNIu0DdAotTwiVbk24Kj0ZNrauvBIfw9TULakT2hxlui55uI1HqAlswEQmYe9oKMoqH_nt_R3VnEgHfgsMGU9AhZbz3zcW4x5ICcPQ7ok75ZyfW5DTuLs5ZBKLk2OfDwaSUIOc8VC8Bqqgh2FibD9K7CB0DhvYT1_vl8y6lb5yXugyhgJ3D7lyvCofSFA1FYnRJC4Fp3IuzlsTDTTaxQ5KlJUMGEDB8a8vePUSiaVnNgdJXp-NaKqEdzhnZOUGn7B_Sw6XuDVZUU-DcQ7EXQ0yFc0KCzspa61ykXE_ZzNjC0oFTZCTeGoknFq1QIQiGDIUddRH2gtCBZx7721Bn7LSlUs5PGIJQ"), ("x-client-SKU": "ID_NETSTANDARD2_0"), ("x-client-ver": "5.6.0.0")] }
[2020-12-16T14:21:55.9966171+00:00][INFO][49][IdentityServer4.Events.DefaultEventService] TokenIssuedFailureEvent { ClientId: "urn:em:client", ClientName: "urn:em:client", RedirectUri: null, Endpoint: "Authorize", SubjectId: null, Scopes: "", GrantType: null, Error: "invalid_request", ErrorDescription: "Invalid redirect_uri", Category: "Token", Name: "Token Issued Failure", EventType: Failure, Id: 2001, Message: null, ActivityId: "0HM51PEMK5GKO:00000001", TimeStamp: 12/16/2020 14:21:55, ProcessId: 1061, LocalIpAddress: "::ffff:172.26.0.8:80", RemoteIpAddress: "172.26.0.1" }
[2020-12-16T14:21:55.9984865+00:00][INFO][49][Microsoft.AspNetCore.Hosting.Diagnostics] Request finished in 280.7755ms 302 
[2020-12-16T14:21:56.0192566+00:00][INFO][49][Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 GET http://id.em.local/home/error?errorId=CfDJ8MPRbAevb1dLpUBHAVWjYkSNZT0lY8Vwf_tPX40UJ2fU1uSREfpTuUlCcfuFDgDxmTPqFC7i8R8ejmlynLr9OE6syFdTO1cL7m1ympr4vNJ6Zgnj-TTiA_EILiocs1ZNgW-BSEqTt5_ljOT7o7yjLoADncqSk533pLDEyES-7FqgU6TlDgImfxLpez759c8k00MLeVlC9IBpmh_Bz1l7u9pxLCz6phcL9AZToULa__4tzxqWtV3YTMkSF59-fB7HHYi-lU9DfWfPT0aaj4kkZSnqnFBlhvvo1Y0d8HMzqbh9Y3GyuDLVXT4x_SJFT3hhY8e8PwcFCEINWizZykFQddQ  
[2020-12-16T14:21:56.0211820+00:00][INFO][49][Microsoft.AspNetCore.Routing.EndpointMiddleware] Executing endpoint '"EventManager.Identity.STS.Identity.Controllers.HomeController.Error (EventManager.Identity.STS.Identity)"'
[2020-12-16T14:21:56.0263068+00:00][INFO][49][Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Route matched with "{action = \"Error\", controller = \"Home\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Error(System.String)" on controller "EventManager.Identity.STS.Identity.Controllers.HomeController" ("EventManager.Identity.STS.Identity").
[2020-12-16T14:21:56.0296767+00:00][INFO][49][Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor] Executing ViewResult, running view "Error".
[2020-12-16T14:21:56.0353801+00:00][INFO][49][Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor] Executed ViewResult - view "Error" executed in 5.7875ms.
[2020-12-16T14:21:56.0367679+00:00][INFO][49][Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Executed action "EventManager.Identity.STS.Identity.Controllers.HomeController.Error (EventManager.Identity.STS.Identity)" in 8.3436ms
[2020-12-16T14:21:56.0570872+00:00][INFO][49][Microsoft.AspNetCore.Routing.EndpointMiddleware] Executed endpoint '"EventManager.Identity.STS.Identity.Controllers.HomeController.Error (EventManager.Identity.STS.Identity)"'
[2020-12-16T14:21:56.0581919+00:00][INFO][49][Microsoft.AspNetCore.Hosting.Diagnostics] Request finished in 38.938ms 200 text/html; charset=utf-8
[2020-12-16T14:22:41.1338697+00:00][INFO][49][Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 GET http://id.em.local/connect/authorize?client_id=urn%3Aem%3Aclient&redirect_uri=http%3A%2F%2Fid-web.em.local%2Fsignin-oidc&response_type=code&scope=openid%20profile%20email%20roles&code_challenge=OkuHI2ia_IlZrdM12FVeFEDTLiWrpVN1yrfdlzDRFeU&code_challenge_method=S256&response_mode=form_post&nonce=637437253609774000.YzhjNTRkMmQtYzg0MS00NzQ1LWI4NjQtZjNlYzRjYmRmYWFjMjU3MTcyZTAtODRhZi00NTRhLWIxN2UtZTM1Mzg0MTMxZGIx&state=CfDJ8MPRbAevb1dLpUBHAVWjYkSHk-7E1dxt8V0c6e1MeARGoheso6FYniDJP439XbodVhJwcgfOZVqWR6k8VO11DC6FO0-fe8v4-rK-I2jvKLg7-DOqe6cLQ7CCpgL2DMN1kUX9-p2eRixWLSbpff--XpkzXoHSpOde0vPVh3vamss-RW7dEFFJOd1Dg5FOzaU927xm6oA-cPQBNEHo4MaKEQJq6tg6vmZS1JfeGcuDYLVeCD-qXfELsLuuzIEXLJWuXbXpet7N6BpejiUgzsZfZx--0exoqzh8_5cUhisquzfKxHAuRS7gClnPXbkB6YlYBW3Zo17Pu6Y_6v_7nPzs--oxQgGl6vibonua9RIP3qPiBze2Vsy2L8PPHo-pk9znvQ&x-client-SKU=ID_NETSTANDARD2_0&x-client-ver=5.6.0.0  
[2020-12-16T14:22:41.1368071+00:00][INFO][49][IdentityServer4.Hosting.IdentityServerMiddleware] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize"
[2020-12-16T14:22:41.1401258+00:00][INFO][49][Microsoft.EntityFrameworkCore.Infrastructure] Entity Framework Core "3.1.9" initialized '"IdentityServerConfigurationDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=EventManager.Identity.Admin.EntityFramework.SqlServer "
[2020-12-16T14:22:41.1826014+00:00][INFO][48][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("15"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c].[Id], [c].[AbsoluteRefreshTokenLifetime], [c].[AccessTokenLifetime], [c].[AccessTokenType], [c].[AllowAccessTokensViaBrowser], [c].[AllowOfflineAccess], [c].[AllowPlainTextPkce], [c].[AllowRememberConsent], [c].[AllowedIdentityTokenSigningAlgorithms], [c].[AlwaysIncludeUserClaimsInIdToken], [c].[AlwaysSendClientClaims], [c].[AuthorizationCodeLifetime], [c].[BackChannelLogoutSessionRequired], [c].[BackChannelLogoutUri], [c].[ClientClaimsPrefix], [c].[ClientId], [c].[ClientName], [c].[ClientUri], [c].[ConsentLifetime], [c].[Created], [c].[Description], [c].[DeviceCodeLifetime], [c].[EnableLocalLogin], [c].[Enabled], [c].[FrontChannelLogoutSessionRequired], [c].[FrontChannelLogoutUri], [c].[IdentityTokenLifetime], [c].[IncludeJwtId], [c].[LastAccessed], [c].[LogoUri], [c].[NonEditable], [c].[PairWiseSubjectSalt], [c].[ProtocolType], [c].[RefreshTokenExpiration], [c].[RefreshTokenUsage], [c].[RequireClientSecret], [c].[RequireConsent], [c].[RequirePkce], [c].[RequireRequestObject], [c].[SlidingRefreshTokenLifetime], [c].[UpdateAccessTokenClaimsOnRefresh], [c].[Updated], [c].[UserCodeType], [c].[UserSsoLifetime]
FROM [Clients] AS [c]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-16T14:22:41.2648587+00:00][INFO][46][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("37"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[Origin]
FROM [Clients] AS [c]
INNER JOIN [ClientCorsOrigins] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-16T14:22:41.2809675+00:00][INFO][49][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("14"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[GrantType]
FROM [Clients] AS [c]
INNER JOIN [ClientGrantTypes] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-16T14:22:41.3210194+00:00][INFO][49][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("7"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[Scope]
FROM [Clients] AS [c]
INNER JOIN [ClientScopes] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-16T14:22:41.3527566+00:00][INFO][53][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("11"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[Type], [c0].[Value]
FROM [Clients] AS [c]
INNER JOIN [ClientClaims] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-16T14:22:41.3722945+00:00][INFO][51][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("18"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[Created], [c0].[Description], [c0].[Expiration], [c0].[Type], [c0].[Value]
FROM [Clients] AS [c]
INNER JOIN [ClientSecrets] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-16T14:22:41.4274297+00:00][INFO][53][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("38"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[Provider]
FROM [Clients] AS [c]
INNER JOIN [ClientIdPRestrictions] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-16T14:22:41.4477734+00:00][INFO][53][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("18"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[PostLogoutRedirectUri]
FROM [Clients] AS [c]
INNER JOIN [ClientPostLogoutRedirectUris] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-16T14:22:41.4779221+00:00][INFO][50][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("27"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[Key], [c0].[Value]
FROM [Clients] AS [c]
INNER JOIN [ClientProperties] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-16T14:22:41.4971755+00:00][INFO][52][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("14"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[RedirectUri]
FROM [Clients] AS [c]
INNER JOIN [ClientRedirectUris] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-16T14:22:41.5207104+00:00][EROR][50][IdentityServer4.Validation.AuthorizeRequestValidator] Invalid redirect_uri: "http://id-web.em.local/signin-oidc"
AuthorizeRequestValidationLog { ClientId: "urn:em:client", ClientName: "urn:em:client", RedirectUri: null, AllowedRedirectUris: ["https://idweb.em.local/signin-oidc"], SubjectId: "anonymous", ResponseType: null, ResponseMode: null, GrantType: null, RequestedScopes: "", State: null, UiLocales: null, Nonce: null, AuthenticationContextReferenceClasses: null, DisplayMode: null, PromptMode: "", MaxAge: null, LoginHint: null, SessionId: null, Raw: [("client_id": "urn:em:client"), ("redirect_uri": "http://id-web.em.local/signin-oidc"), ("response_type": "code"), ("scope": "openid profile email roles"), ("code_challenge": "OkuHI2ia_IlZrdM12FVeFEDTLiWrpVN1yrfdlzDRFeU"), ("code_challenge_method": "S256"), ("response_mode": "form_post"), ("nonce": "637437253609774000.YzhjNTRkMmQtYzg0MS00NzQ1LWI4NjQtZjNlYzRjYmRmYWFjMjU3MTcyZTAtODRhZi00NTRhLWIxN2UtZTM1Mzg0MTMxZGIx"), ("state": "CfDJ8MPRbAevb1dLpUBHAVWjYkSHk-7E1dxt8V0c6e1MeARGoheso6FYniDJP439XbodVhJwcgfOZVqWR6k8VO11DC6FO0-fe8v4-rK-I2jvKLg7-DOqe6cLQ7CCpgL2DMN1kUX9-p2eRixWLSbpff--XpkzXoHSpOde0vPVh3vamss-RW7dEFFJOd1Dg5FOzaU927xm6oA-cPQBNEHo4MaKEQJq6tg6vmZS1JfeGcuDYLVeCD-qXfELsLuuzIEXLJWuXbXpet7N6BpejiUgzsZfZx--0exoqzh8_5cUhisquzfKxHAuRS7gClnPXbkB6YlYBW3Zo17Pu6Y_6v_7nPzs--oxQgGl6vibonua9RIP3qPiBze2Vsy2L8PPHo-pk9znvQ"), ("x-client-SKU": "ID_NETSTANDARD2_0"), ("x-client-ver": "5.6.0.0")] }
[2020-12-16T14:22:41.5436008+00:00][EROR][50][IdentityServer4.Endpoints.AuthorizeEndpoint] Request validation failed
[2020-12-16T14:22:41.5453808+00:00][INFO][50][IdentityServer4.Endpoints.AuthorizeEndpoint] AuthorizeRequestValidationLog { ClientId: "urn:em:client", ClientName: "urn:em:client", RedirectUri: null, AllowedRedirectUris: ["https://idweb.em.local/signin-oidc"], SubjectId: "anonymous", ResponseType: null, ResponseMode: null, GrantType: null, RequestedScopes: "", State: null, UiLocales: null, Nonce: null, AuthenticationContextReferenceClasses: null, DisplayMode: null, PromptMode: "", MaxAge: null, LoginHint: null, SessionId: null, Raw: [("client_id": "urn:em:client"), ("redirect_uri": "http://id-web.em.local/signin-oidc"), ("response_type": "code"), ("scope": "openid profile email roles"), ("code_challenge": "OkuHI2ia_IlZrdM12FVeFEDTLiWrpVN1yrfdlzDRFeU"), ("code_challenge_method": "S256"), ("response_mode": "form_post"), ("nonce": "637437253609774000.YzhjNTRkMmQtYzg0MS00NzQ1LWI4NjQtZjNlYzRjYmRmYWFjMjU3MTcyZTAtODRhZi00NTRhLWIxN2UtZTM1Mzg0MTMxZGIx"), ("state": "CfDJ8MPRbAevb1dLpUBHAVWjYkSHk-7E1dxt8V0c6e1MeARGoheso6FYniDJP439XbodVhJwcgfOZVqWR6k8VO11DC6FO0-fe8v4-rK-I2jvKLg7-DOqe6cLQ7CCpgL2DMN1kUX9-p2eRixWLSbpff--XpkzXoHSpOde0vPVh3vamss-RW7dEFFJOd1Dg5FOzaU927xm6oA-cPQBNEHo4MaKEQJq6tg6vmZS1JfeGcuDYLVeCD-qXfELsLuuzIEXLJWuXbXpet7N6BpejiUgzsZfZx--0exoqzh8_5cUhisquzfKxHAuRS7gClnPXbkB6YlYBW3Zo17Pu6Y_6v_7nPzs--oxQgGl6vibonua9RIP3qPiBze2Vsy2L8PPHo-pk9znvQ"), ("x-client-SKU": "ID_NETSTANDARD2_0"), ("x-client-ver": "5.6.0.0")] }
[2020-12-16T14:22:41.5474361+00:00][INFO][50][IdentityServer4.Events.DefaultEventService] TokenIssuedFailureEvent { ClientId: "urn:em:client", ClientName: "urn:em:client", RedirectUri: null, Endpoint: "Authorize", SubjectId: null, Scopes: "", GrantType: null, Error: "invalid_request", ErrorDescription: "Invalid redirect_uri", Category: "Token", Name: "Token Issued Failure", EventType: Failure, Id: 2001, Message: null, ActivityId: "0HM51PEMK5GKQ:00000001", TimeStamp: 12/16/2020 14:22:41, ProcessId: 1061, LocalIpAddress: "::ffff:172.26.0.8:80", RemoteIpAddress: "172.26.0.1" }
[2020-12-16T14:22:41.5632821+00:00][INFO][50][Microsoft.AspNetCore.Hosting.Diagnostics] Request finished in 429.2961ms 302 
[2020-12-16T14:22:41.6600124+00:00][INFO][52][Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 GET http://id.em.local/home/error?errorId=CfDJ8MPRbAevb1dLpUBHAVWjYkTdCOfhXJyQX8JFIlVdiUPlCnyR-yslrAmZIfP7uVcNfuyruSWIwdfBPWMFUshWUPBMmHWHJsxOfaD_V-q_m9zh4QXWtwY5CfKFpuV81TQvCWLbuPa7OmcfZNwy1Cq-DRtXAohdfMGJmTLXrX7TOkhYQZttEWzloR_gZDajllOy-z-jKzL4adUzY-vM7AfVgNofEicu38v0fZXxkPwpI1cZJf25aPJJw47DoWBhoMj4wOMZtYb1PwGiqvGmIO963n6Y2JE6am8GjMYPmKtBt9RQwW_-I23S-5krwOO-pBwJGhKQjgyfJc95w-prkFjb2Bw  
[2020-12-16T14:22:41.6621319+00:00][INFO][52][Microsoft.AspNetCore.Routing.EndpointMiddleware] Executing endpoint '"EventManager.Identity.STS.Identity.Controllers.HomeController.Error (EventManager.Identity.STS.Identity)"'
[2020-12-16T14:22:41.6629782+00:00][INFO][52][Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Route matched with "{action = \"Error\", controller = \"Home\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Error(System.String)" on controller "EventManager.Identity.STS.Identity.Controllers.HomeController" ("EventManager.Identity.STS.Identity").
[2020-12-16T14:22:41.6756881+00:00][INFO][52][Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor] Executing ViewResult, running view "Error".
[2020-12-16T14:22:41.6995125+00:00][INFO][52][Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor] Executed ViewResult - view "Error" executed in 23.863ms.
[2020-12-16T14:22:41.7056193+00:00][INFO][52][Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Executed action "EventManager.Identity.STS.Identity.Controllers.HomeController.Error (EventManager.Identity.STS.Identity)" in 31.5134ms
[2020-12-16T14:22:41.7234482+00:00][INFO][52][Microsoft.AspNetCore.Routing.EndpointMiddleware] Executed endpoint '"EventManager.Identity.STS.Identity.Controllers.HomeController.Error (EventManager.Identity.STS.Identity)"'
[2020-12-16T14:22:41.7247237+00:00][INFO][52][Microsoft.AspNetCore.Hosting.Diagnostics] Request finished in 64.6514ms 200 text/html; charset=utf-8
[2020-12-16T14:22:41.9270729+00:00][INFO][46][Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 GET http://id.em.local/dist/css/bundle.min.css?v=6Y8xGSDMhkjYMZuaFSdp3fqA3xdNX-Q6_xp14ExGbY8  
[2020-12-16T14:22:41.9514524+00:00][INFO][51][Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 GET http://id.em.local/dist/css/web.css?v=gzbQ_J4PfKys2r0KpTe01uKRO7lnqK_lEp7OvIB7ZAA  
[2020-12-16T14:22:41.9533533+00:00][INFO][50][Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 GET http://id.em.local/dist/js/bundle.min.js?v=11Fw87BWmEIjIw_LrA_JwvJM5t0w9WbTFIog6ElarB0  
[2020-12-16T14:22:42.1615439+00:00][INFO][49][Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware] Sending file. Request path: '"/dist/css/web.css"'. Physical path: '"/app/wwwroot/dist/css/web.css"'
[2020-12-16T14:22:42.1724004+00:00][INFO][49][Microsoft.AspNetCore.Hosting.Diagnostics] Request finished in 211.901ms 200 text/css
[2020-12-16T14:22:42.2154081+00:00][INFO][53][Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware] Sending file. Request path: '"/dist/css/bundle.min.css"'. Physical path: '"/app/wwwroot/dist/css/bundle.min.css"'
[2020-12-16T14:22:42.2163330+00:00][INFO][53][Microsoft.AspNetCore.Hosting.Diagnostics] Request finished in 289.806ms 200 text/css
[2020-12-16T14:22:42.2485148+00:00][INFO][46][Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware] Sending file. Request path: '"/dist/js/bundle.min.js"'. Physical path: '"/app/wwwroot/dist/js/bundle.min.js"'
[2020-12-16T14:22:42.2493980+00:00][INFO][46][Microsoft.AspNetCore.Hosting.Diagnostics] Request finished in 296.0305ms 200 application/javascript
[2020-12-16T14:22:42.6637087+00:00][INFO][46][Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 GET http://id.em.local/favicon.ico  
[2020-12-16T14:22:42.6972113+00:00][INFO][52][Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware] Sending file. Request path: '"/favicon.ico"'. Physical path: '"/app/wwwroot/favicon.ico"'
[2020-12-16T14:22:42.7247201+00:00][INFO][56][Microsoft.AspNetCore.Hosting.Diagnostics] Request finished in 39.853ms 200 image/x-icon
[2020-12-16T14:23:37.5132130+00:00][INFO][52][Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 GET http://id.em.local/connect/authorize?client_id=urn%3Aem%3Aclient&redirect_uri=http%3A%2F%2Fid-web.em.local%2Fsignin-oidc&response_type=code&scope=openid%20profile%20email%20roles&code_challenge=D_10HC2KXh-1NIiuJ-_0oEtBNjLj_IkRdVWW0xJCyN0&code_challenge_method=S256&response_mode=form_post&nonce=637437254174763957.ZWI3YTIyMmEtZjU3Ny00NzRiLWFhMDEtOTU4MWYxNjViZTQ4NGMxMDM1MWYtZTMxOC00NTBkLThhNTItZGM2YTI5Yzk4NmYz&state=CfDJ8MPRbAevb1dLpUBHAVWjYkTcG-UZe7uczdmX-V3fk1Zv_pHtc81PxeBsHQBIh_sEeNsyCIL6VDiceAmXvIs0fXZefBsfap6UxrCpz2kY0qK3315XJAghY0FImkTBt8cJyxka2dfEHtyGQKJKL8niBGyVA_8cKc5XL49YutZ3ybP8pPAV31It5LNoQ4pISUGTFUgIxM-NYpOwhgmxDDRbSNX-_6QXKrbfHCFlebaXtPsitvEb78x805xY4ozxY5gy915lJcnHjmJrbPEH2eBSigNQzBbsNSX4eSt_e9k1uf3Oc6u0llwDko9w05HQ7tV75N8L-iIOsowdKzgtFYHE0RrYtrYNgu5TDak_eiJg2CIyrHGbedvroQXUvpOd0iNZNg&x-client-SKU=ID_NETSTANDARD2_0&x-client-ver=5.6.0.0  
[2020-12-16T14:23:37.5198975+00:00][INFO][52][IdentityServer4.Hosting.IdentityServerMiddleware] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize"
[2020-12-16T14:23:37.5215683+00:00][INFO][52][Microsoft.EntityFrameworkCore.Infrastructure] Entity Framework Core "3.1.9" initialized '"IdentityServerConfigurationDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=EventManager.Identity.Admin.EntityFramework.SqlServer "
[2020-12-16T14:23:37.5604388+00:00][INFO][56][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("28"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c].[Id], [c].[AbsoluteRefreshTokenLifetime], [c].[AccessTokenLifetime], [c].[AccessTokenType], [c].[AllowAccessTokensViaBrowser], [c].[AllowOfflineAccess], [c].[AllowPlainTextPkce], [c].[AllowRememberConsent], [c].[AllowedIdentityTokenSigningAlgorithms], [c].[AlwaysIncludeUserClaimsInIdToken], [c].[AlwaysSendClientClaims], [c].[AuthorizationCodeLifetime], [c].[BackChannelLogoutSessionRequired], [c].[BackChannelLogoutUri], [c].[ClientClaimsPrefix], [c].[ClientId], [c].[ClientName], [c].[ClientUri], [c].[ConsentLifetime], [c].[Created], [c].[Description], [c].[DeviceCodeLifetime], [c].[EnableLocalLogin], [c].[Enabled], [c].[FrontChannelLogoutSessionRequired], [c].[FrontChannelLogoutUri], [c].[IdentityTokenLifetime], [c].[IncludeJwtId], [c].[LastAccessed], [c].[LogoUri], [c].[NonEditable], [c].[PairWiseSubjectSalt], [c].[ProtocolType], [c].[RefreshTokenExpiration], [c].[RefreshTokenUsage], [c].[RequireClientSecret], [c].[RequireConsent], [c].[RequirePkce], [c].[RequireRequestObject], [c].[SlidingRefreshTokenLifetime], [c].[UpdateAccessTokenClaimsOnRefresh], [c].[Updated], [c].[UserCodeType], [c].[UserSsoLifetime]
FROM [Clients] AS [c]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-16T14:23:37.6609433+00:00][INFO][58][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("49"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[Origin]
FROM [Clients] AS [c]
INNER JOIN [ClientCorsOrigins] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-16T14:23:37.6677867+00:00][INFO][60][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("3"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[GrantType]
FROM [Clients] AS [c]
INNER JOIN [ClientGrantTypes] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-16T14:23:37.6800403+00:00][INFO][56][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("3"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[Scope]
FROM [Clients] AS [c]
INNER JOIN [ClientScopes] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-16T14:23:37.7121824+00:00][INFO][60][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("8"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[Type], [c0].[Value]
FROM [Clients] AS [c]
INNER JOIN [ClientClaims] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-16T14:23:37.7409633+00:00][INFO][56][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("4"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[Created], [c0].[Description], [c0].[Expiration], [c0].[Type], [c0].[Value]
FROM [Clients] AS [c]
INNER JOIN [ClientSecrets] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-16T14:23:37.7545589+00:00][INFO][52][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("6"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[Provider]
FROM [Clients] AS [c]
INNER JOIN [ClientIdPRestrictions] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-16T14:23:37.7849060+00:00][INFO][63][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("26"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[PostLogoutRedirectUri]
FROM [Clients] AS [c]
INNER JOIN [ClientPostLogoutRedirectUris] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-16T14:23:37.8124700+00:00][INFO][62][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("4"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[Key], [c0].[Value]
FROM [Clients] AS [c]
INNER JOIN [ClientProperties] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-16T14:23:37.8182063+00:00][INFO][63][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("3"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[RedirectUri]
FROM [Clients] AS [c]
INNER JOIN [ClientRedirectUris] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-16T14:23:37.8413329+00:00][EROR][63][IdentityServer4.Validation.AuthorizeRequestValidator] Invalid redirect_uri: "http://id-web.em.local/signin-oidc"
AuthorizeRequestValidationLog { ClientId: "urn:em:client", ClientName: "urn:em:client", RedirectUri: null, AllowedRedirectUris: ["https://idweb.em.local/signin-oidc"], SubjectId: "anonymous", ResponseType: null, ResponseMode: null, GrantType: null, RequestedScopes: "", State: null, UiLocales: null, Nonce: null, AuthenticationContextReferenceClasses: null, DisplayMode: null, PromptMode: "", MaxAge: null, LoginHint: null, SessionId: null, Raw: [("client_id": "urn:em:client"), ("redirect_uri": "http://id-web.em.local/signin-oidc"), ("response_type": "code"), ("scope": "openid profile email roles"), ("code_challenge": "D_10HC2KXh-1NIiuJ-_0oEtBNjLj_IkRdVWW0xJCyN0"), ("code_challenge_method": "S256"), ("response_mode": "form_post"), ("nonce": "637437254174763957.ZWI3YTIyMmEtZjU3Ny00NzRiLWFhMDEtOTU4MWYxNjViZTQ4NGMxMDM1MWYtZTMxOC00NTBkLThhNTItZGM2YTI5Yzk4NmYz"), ("state": "CfDJ8MPRbAevb1dLpUBHAVWjYkTcG-UZe7uczdmX-V3fk1Zv_pHtc81PxeBsHQBIh_sEeNsyCIL6VDiceAmXvIs0fXZefBsfap6UxrCpz2kY0qK3315XJAghY0FImkTBt8cJyxka2dfEHtyGQKJKL8niBGyVA_8cKc5XL49YutZ3ybP8pPAV31It5LNoQ4pISUGTFUgIxM-NYpOwhgmxDDRbSNX-_6QXKrbfHCFlebaXtPsitvEb78x805xY4ozxY5gy915lJcnHjmJrbPEH2eBSigNQzBbsNSX4eSt_e9k1uf3Oc6u0llwDko9w05HQ7tV75N8L-iIOsowdKzgtFYHE0RrYtrYNgu5TDak_eiJg2CIyrHGbedvroQXUvpOd0iNZNg"), ("x-client-SKU": "ID_NETSTANDARD2_0"), ("x-client-ver": "5.6.0.0")] }
[2020-12-16T14:23:37.8428009+00:00][EROR][63][IdentityServer4.Endpoints.AuthorizeEndpoint] Request validation failed
[2020-12-16T14:23:37.8440343+00:00][INFO][63][IdentityServer4.Endpoints.AuthorizeEndpoint] AuthorizeRequestValidationLog { ClientId: "urn:em:client", ClientName: "urn:em:client", RedirectUri: null, AllowedRedirectUris: ["https://idweb.em.local/signin-oidc"], SubjectId: "anonymous", ResponseType: null, ResponseMode: null, GrantType: null, RequestedScopes: "", State: null, UiLocales: null, Nonce: null, AuthenticationContextReferenceClasses: null, DisplayMode: null, P[2020-12-16T16:22:52.9135049-08:00][INFO][1][Microsoft.EntityFrameworkCore.Infrastructure] Entity Framework Core "3.1.9" initialized '"IdentityServerDataProtectionDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=EventManager.Identity.Admin.EntityFramework.SqlServer "
[2020-12-16T16:22:54.3688898-08:00][INFO][1][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("51"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [d].[Xml]
FROM [DataProtectionKeys] AS [d]"
[2020-12-16T16:22:54.6934109-08:00][INFO][1][IdentityServer4.Startup] Starting IdentityServer4 version "4.1.1+cebd52f5bc61bdefc262fd20739d4d087c6f961f"
[2020-12-16T16:22:54.7557310-08:00][INFO][1][IdentityServer4.Startup] Using the default authentication scheme "Identity.Application" for IdentityServer
[2020-12-16T16:22:55.6626747-08:00][INFO][1][Microsoft.Hosting.Lifetime] Now listening on: "https://localhost:44310"
[2020-12-16T16:22:55.6927094-08:00][INFO][1][Microsoft.Hosting.Lifetime] Application started. Press Ctrl+C to shut down.
[2020-12-16T16:22:55.7029276-08:00][INFO][1][Microsoft.Hosting.Lifetime] Hosting environment: "Development"
[2020-12-16T16:22:55.7153074-08:00][INFO][1][Microsoft.Hosting.Lifetime] Content root path: "C:\Projects\EventManager\Api\Identity\src\EventManager.Identity.STS.Identity"
[2020-12-16T16:23:05.7242991-08:00][INFO][9][Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:44310/  
[2020-12-16T16:23:06.8889404-08:00][INFO][9][Microsoft.AspNetCore.Routing.EndpointMiddleware] Executing endpoint '"EventManager.Identity.STS.Identity.Controllers.HomeController.Index (EventManager.Identity.STS.Identity)"'
[2020-12-16T16:23:10.1800670-08:00][INFO][9][Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Route matched with "{action = \"Index\", controller = \"Home\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult Index()" on controller "EventManager.Identity.STS.Identity.Controllers.HomeController" ("EventManager.Identity.STS.Identity").
[2020-12-16T16:23:10.3889730-08:00][INFO][9][Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor] Executing ViewResult, running view "Index".
[2020-12-16T16:23:11.2849612-08:00][INFO][9][Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor] Executed ViewResult - view "Index" executed in 908.3861ms.
[2020-12-16T16:23:11.3960420-08:00][INFO][12][Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:44310/images/skoruba-icon.png  
[2020-12-16T16:23:11.3937092-08:00][INFO][14][Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:44310/dist/css/web.css?v=gzbQ_J4PfKys2r0KpTe01uKRO7lnqK_lEp7OvIB7ZAA  
[2020-12-16T16:23:11.3922483-08:00][INFO][15][Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:44310/dist/css/bundle.min.css?v=6Y8xGSDMhkjYMZuaFSdp3fqA3xdNX-Q6_xp14ExGbY8  
[2020-12-16T16:23:11.4213144-08:00][INFO][13][Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:44310/dist/js/bundle.min.js?v=11Fw87BWmEIjIw_LrA_JwvJM5t0w9WbTFIog6ElarB0  
[2020-12-16T16:23:11.4333533-08:00][INFO][9][Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Executed action "EventManager.Identity.STS.Identity.Controllers.HomeController.Index (EventManager.Identity.STS.Identity)" in 1206.4016ms
[2020-12-16T16:23:11.4581034-08:00][INFO][14][Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware] Sending file. Request path: '"/dist/css/web.css"'. Physical path: '"C:\Projects\EventManager\Api\Identity\src\EventManager.Identity.STS.Identity\wwwroot\dist\css\web.css"'
[2020-12-16T16:23:11.4664597-08:00][INFO][9][Microsoft.AspNetCore.Routing.EndpointMiddleware] Executed endpoint '"EventManager.Identity.STS.Identity.Controllers.HomeController.Index (EventManager.Identity.STS.Identity)"'
[2020-12-16T16:23:11.5892735-08:00][INFO][12][Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware] Sending file. Request path: '"/images/skoruba-icon.png"'. Physical path: '"C:\Projects\EventManager\Api\Identity\src\EventManager.Identity.STS.Identity\wwwroot\images\skoruba-icon.png"'
[2020-12-16T16:23:11.6240253-08:00][INFO][13][Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware] Sending file. Request path: '"/dist/css/bundle.min.css"'. Physical path: '"C:\Projects\EventManager\Api\Identity\src\EventManager.Identity.STS.Identity\wwwroot\dist\css\bundle.min.css"'
[2020-12-16T16:23:11.6317399-08:00][INFO][8][Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware] Sending file. Request path: '"/dist/js/bundle.min.js"'. Physical path: '"C:\Projects\EventManager\Api\Identity\src\EventManager.Identity.STS.Identity\wwwroot\dist\js\bundle.min.js"'
[2020-12-16T16:23:11.6809278-08:00][INFO][14][Microsoft.AspNetCore.Hosting.Diagnostics] Request finished in 286.6311ms 200 text/css
[2020-12-16T16:23:11.7054562-08:00][INFO][9][Microsoft.AspNetCore.Hosting.Diagnostics] Request finished in 5985.9418ms 200 text/html; charset=utf-8
[2020-12-16T16:23:11.7422399-08:00][INFO][8][Microsoft.AspNetCore.Hosting.Diagnostics] Request finished in 320.9189ms 200 application/javascript
[2020-12-16T16:23:11.7126419-08:00][INFO][12][Microsoft.AspNetCore.Hosting.Diagnostics] Request finished in 316.6025ms 200 image/png
[2020-12-16T16:23:11.7272636-08:00][INFO][13][Microsoft.AspNetCore.Hosting.Diagnostics] Request finished in 334.6332ms 200 text/css
[2020-12-16T16:23:11.8861250-08:00][INFO][15][Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:44310/dist/fonts/open-iconic.woff  
[2020-12-16T16:23:11.9057521-08:00][INFO][15][Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware] Sending file. Request path: '"/dist/fonts/open-iconic.woff"'. Physical path: '"C:\Projects\EventManager\Api\Identity\src\EventManager.Identity.STS.Identity\wwwroot\dist\fonts\open-iconic.woff"'
[2020-12-16T16:23:11.9123745-08:00][INFO][15][Microsoft.AspNetCore.Hosting.Diagnostics] Request finished in 26.243ms 200 application/font-woff
[2020-12-16T16:23:12.1474799-08:00][INFO][17][Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:44310/favicon.ico  
[2020-12-16T16:23:12.1873183-08:00][INFO][17][Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware] Sending file. Request path: '"/favicon.ico"'. Physical path: '"C:\Projects\EventManager\Api\Identity\src\EventManager.Identity.STS.Identity\wwwroot\favicon.ico"'
[2020-12-16T16:23:12.2544711-08:00][INFO][17][Microsoft.AspNetCore.Hosting.Diagnostics] Request finished in 106.9879ms 200 image/x-icon
[2020-12-16T16:23:12.2929624-08:00][INFO][16][Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:44310/favicon.ico  
[2020-12-16T16:23:12.3523932-08:00][INFO][16][Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware] Sending file. Request path: '"/favicon.ico"'. Physical path: '"C:\Projects\EventManager\Api\Identity\src\EventManager.Identity.STS.Identity\wwwroot\favicon.ico"'
[2020-12-16T16:23:12.3603857-08:00][INFO][16][Microsoft.AspNetCore.Hosting.Diagnostics] Request finished in 67.5291ms 200 image/x-icon
[2020-12-16T16:23:30.9755817-08:00][INFO][9][Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 GET https://localhost:44310/.well-known/openid-configuration  
[2020-12-16T16:23:31.0378760-08:00][INFO][9][IdentityServer4.Hosting.IdentityServerMiddleware] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.DiscoveryEndpoint" for "/.well-known/openid-configuration"
[2020-12-16T16:23:31.1110161-08:00][INFO][9][Microsoft.EntityFrameworkCore.Infrastructure] Entity Framework Core "3.1.9" initialized '"IdentityServerConfigurationDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=EventManager.Identity.Admin.EntityFramework.SqlServer "
[2020-12-16T16:23:31.6145407-08:00][INFO][4][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("52"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [i].[Id], [i].[Created], [i].[Description], [i].[DisplayName], [i].[Emphasize], [i].[Enabled], [i].[Name], [i].[NonEditable], [i].[Required], [i].[ShowInDiscoveryDocument], [i].[Updated], [i0].[Id], [i0].[IdentityResourceId], [i0].[Type], [i1].[Id], [i1].[IdentityResourceId], [i1].[Key], [i1].[Value]
FROM [IdentityResources] AS [i]
LEFT JOIN [IdentityResourceClaims] AS [i0] ON [i].[Id] = [i0].[IdentityResourceId]
LEFT JOIN [IdentityResourceProperties] AS [i1] ON [i].[Id] = [i1].[IdentityResourceId]
ORDER BY [i].[Id], [i0].[Id], [i1].[Id]"
[2020-12-16T16:23:32.2544243-08:00][INFO][14][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("43"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [a].[Id], [a].[AllowedAccessTokenSigningAlgorithms], [a].[Created], [a].[Description], [a].[DisplayName], [a].[Enabled], [a].[LastAccessed], [a].[Name], [a].[NonEditable], [a].[ShowInDiscoveryDocument], [a].[Updated], [a0].[Id], [a0].[ApiResourceId], [a0].[Created], [a0].[Description], [a0].[Expiration], [a0].[Type], [a0].[Value], [a1].[Id], [a1].[ApiResourceId], [a1].[Scope], [a2].[Id], [a2].[ApiResourceId], [a2].[Type], [a3].[Id], [a3].[ApiResourceId], [a3].[Key], [a3].[Value]
FROM [ApiResources] AS [a]
LEFT JOIN [ApiResourceSecrets] AS [a0] ON [a].[Id] = [a0].[ApiResourceId]
LEFT JOIN [ApiResourceScopes] AS [a1] ON [a].[Id] = [a1].[ApiResourceId]
LEFT JOIN [ApiResourceClaims] AS [a2] ON [a].[Id] = [a2].[ApiResourceId]
LEFT JOIN [ApiResourceProperties] AS [a3] ON [a].[Id] = [a3].[ApiResourceId]
ORDER BY [a].[Id], [a0].[Id], [a1].[Id], [a2].[Id], [a3].[Id]"
[2020-12-16T16:23:32.5334394-08:00][INFO][14][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("55"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [a].[Id], [a].[Description], [a].[DisplayName], [a].[Emphasize], [a].[Enabled], [a].[Name], [a].[Required], [a].[ShowInDiscoveryDocument], [a0].[Id], [a0].[ScopeId], [a0].[Type], [a1].[Id], [a1].[Key], [a1].[ScopeId], [a1].[Value]
FROM [ApiScopes] AS [a]
LEFT JOIN [ApiScopeClaims] AS [a0] ON [a].[Id] = [a0].[ScopeId]
LEFT JOIN [ApiScopeProperties] AS [a1] ON [a].[Id] = [a1].[ScopeId]
ORDER BY [a].[Id], [a0].[Id], [a1].[Id]"
[2020-12-16T16:23:33.9379853-08:00][INFO][14][Microsoft.AspNetCore.Hosting.Diagnostics] Request finished in 2961.9422ms 200 application/json; charset=UTF-8
[2020-12-16T16:23:34.2295629-08:00][INFO][14][Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 GET https://localhost:44310/.well-known/openid-configuration/jwks  
[2020-12-16T16:23:34.2547322-08:00][INFO][14][IdentityServer4.Hosting.IdentityServerMiddleware] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.DiscoveryKeyEndpoint" for "/.well-known/openid-configuration/jwks"
[2020-12-16T16:23:34.3435655-08:00][INFO][14][Microsoft.AspNetCore.Hosting.Diagnostics] Request finished in 114.6268ms 200 application/json; charset=UTF-8
[2020-12-16T16:23:36.3010627-08:00][INFO][12][Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:44310/connect/authorize?client_id=urn%3Aem%3Aclient&redirect_uri=https%3A%2F%2Flocalhost%3A44303%2Fsignin-oidc&response_type=code&scope=openid%20profile%20email%20roles&code_challenge=nryo16PfmNoRH04pLGSvRfOlXKMIeGqPdQVi4tmXKrU&code_challenge_method=S256&response_mode=form_post&nonce=637437614144435401.MTIyOGRkZjQtMTExNS00Y2MzLWFhZGEtMGYyMDA5NmY4YTE4ZDUwZDVlMGItNmM5YS00YzAzLTk5MGItOGFlZmM2Y2RhOTk3&state=CfDJ8MPRbAevb1dLpUBHAVWjYkRkfe0v8hAjWLrLgygXnEJwUkMl9SxiOsfCQJuKSb3d4gONtrbuMym5mJp5XjvSp9gIMHx5PhvMr6aRSxm-N_tXeeTOuNTTEToKFHHJqHMqvDWJ_GHBb-qdC4nT5xu4XYAhbIXVNfHFfqw0KXk3mE4DZ_XinLsc6baGP3ikGsqlOLOqeBYHxt8s7TEEDRZWrfOi_FL0EcaDLOalyBms_Nt8sJ_s6cxGwz1P0hw7OdF4H3c4FopnL2ZOTKndVBCnQSOqPPkOaI49OP00PiDW1J3AZtrOwjC6F6YYWDfy4yVQ_ELjuRxrlhID1wOhAVGoc269IVLdgwE9HYUklrkSn2h2rWupgzpB-69xPG_OkqMpPw&x-client-SKU=ID_NETSTANDARD2_0&x-client-ver=5.6.0.0  
[2020-12-16T16:23:36.4964802-08:00][INFO][12][IdentityServer4.Hosting.IdentityServerMiddleware] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize"
[2020-12-16T16:23:36.5687688-08:00][INFO][12][Microsoft.EntityFrameworkCore.Infrastructure] Entity Framework Core "3.1.9" initialized '"IdentityServerConfigurationDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=EventManager.Identity.Admin.EntityFramework.SqlServer "
[2020-12-16T16:23:36.9725995-08:00][INFO][13][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("78"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c].[Id], [c].[AbsoluteRefreshTokenLifetime], [c].[AccessTokenLifetime], [c].[AccessTokenType], [c].[AllowAccessTokensViaBrowser], [c].[AllowOfflineAccess], [c].[AllowPlainTextPkce], [c].[AllowRememberConsent], [c].[AllowedIdentityTokenSigningAlgorithms], [c].[AlwaysIncludeUserClaimsInIdToken], [c].[AlwaysSendClientClaims], [c].[AuthorizationCodeLifetime], [c].[BackChannelLogoutSessionRequired], [c].[BackChannelLogoutUri], [c].[ClientClaimsPrefix], [c].[ClientId], [c].[ClientName], [c].[ClientUri], [c].[ConsentLifetime], [c].[Created], [c].[Description], [c].[DeviceCodeLifetime], [c].[EnableLocalLogin], [c].[Enabled], [c].[FrontChannelLogoutSessionRequired], [c].[FrontChannelLogoutUri], [c].[IdentityTokenLifetime], [c].[IncludeJwtId], [c].[LastAccessed], [c].[LogoUri], [c].[NonEditable], [c].[PairWiseSubjectSalt], [c].[ProtocolType], [c].[RefreshTokenExpiration], [c].[RefreshTokenUsage], [c].[RequireClientSecret], [c].[RequireConsent], [c].[RequirePkce], [c].[RequireRequestObject], [c].[SlidingRefreshTokenLifetime], [c].[UpdateAccessTokenClaimsOnRefresh], [c].[Updated], [c].[UserCodeType], [c].[UserSsoLifetime]
FROM [Clients] AS [c]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-16T16:23:37.4761454-08:00][INFO][13][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("205"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[Origin]
FROM [Clients] AS [c]
INNER JOIN [ClientCorsOrigins] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-16T16:23:37.8296093-08:00][INFO][13][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("56"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[GrantType]
FROM [Clients] AS [c]
INNER JOIN [ClientGrantTypes] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-16T16:23:38.0374662-08:00][INFO][13][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("72"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[Scope]
FROM [Clients] AS [c]
INNER JOIN [ClientScopes] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-16T16:23:38.6014289-08:00][INFO][13][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("10"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[Type], [c0].[Value]
FROM [Clients] AS [c]
INNER JOIN [ClientClaims] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-16T16:23:38.6819701-08:00][INFO][13][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("29"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[Created], [c0].[Description], [c0].[Expiration], [c0].[Type], [c0].[Value]
FROM [Clients] AS [c]
INNER JOIN [ClientSecrets] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-16T16:23:38.7809111-08:00][INFO][13][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("15"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[Provider]
FROM [Clients] AS [c]
INNER JOIN [ClientIdPRestrictions] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-16T16:23:38.8697692-08:00][INFO][12][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("15"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[PostLogoutRedirectUri]
FROM [Clients] AS [c]
INNER JOIN [ClientPostLogoutRedirectUris] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-16T16:23:39.0042262-08:00][INFO][4][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("10"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[Key], [c0].[Value]
FROM [Clients] AS [c]
INNER JOIN [ClientProperties] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-16T16:23:39.2969037-08:00][INFO][4][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("11"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[RedirectUri]
FROM [Clients] AS [c]
INNER JOIN [ClientRedirectUris] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-16T16:23:39.7458066-08:00][EROR][4][IdentityServer4.Validation.AuthorizeRequestValidator] Invalid redirect_uri: "https://localhost:44303/signin-oidc"
AuthorizeRequestValidationLog { ClientId: "urn:em:client", ClientName: "urn:em:client", RedirectUri: null, AllowedRedirectUris: ["https://idweb.em.local/signin-oidc"], SubjectId: "anonymous", ResponseType: null, ResponseMode: null, GrantType: null, RequestedScopes: "", State: null, UiLocales: null, Nonce: null, AuthenticationContextReferenceClasses: null, DisplayMode: null, PromptMode: "", MaxAge: null, LoginHint: null, SessionId: null, Raw: [("client_id": "urn:em:client"), ("redirect_uri": "https://localhost:44303/signin-oidc"), ("response_type": "code"), ("scope": "openid profile email roles"), ("code_challenge": "nryo16PfmNoRH04pLGSvRfOlXKMIeGqPdQVi4tmXKrU"), ("code_challenge_method": "S256"), ("response_mode": "form_post"), ("nonce": "637437614144435401.MTIyOGRkZjQtMTExNS00Y2MzLWFhZGEtMGYyMDA5NmY4YTE4ZDUwZDVlMGItNmM5YS00YzAzLTk5MGItOGFlZmM2Y2RhOTk3"), ("state": "CfDJ8MPRbAevb1dLpUBHAVWjYkRkfe0v8hAjWLrLgygXnEJwUkMl9SxiOsfCQJuKSb3d4gONtrbuMym5mJp5XjvSp9gIMHx5PhvMr6aRSxm-N_tXeeTOuNTTEToKFHHJqHMqvDWJ_GHBb-qdC4nT5xu4XYAhbIXVNfHFfqw0KXk3mE4DZ_XinLsc6baGP3ikGsqlOLOqeBYHxt8s7TEEDRZWrfOi_FL0EcaDLOalyBms_Nt8sJ_s6cxGwz1P0hw7OdF4H3c4FopnL2ZOTKndVBCnQSOqPPkOaI49OP00PiDW1J3AZtrOwjC6F6YYWDfy4yVQ_ELjuRxrlhID1wOhAVGoc269IVLdgwE9HYUklrkSn2h2rWupgzpB-69xPG_OkqMpPw"), ("x-client-SKU": "ID_NETSTANDARD2_0"), ("x-client-ver": "5.6.0.0")] }
[2020-12-16T16:23:40.2261674-08:00][EROR][4][IdentityServer4.Endpoints.AuthorizeEndpoint] Request validation failed
[2020-12-16T16:23:40.2326695-08:00][INFO][4][IdentityServer4.Endpoints.AuthorizeEndpoint] AuthorizeRequestValidationLog { ClientId: "urn:em:client", ClientName: "urn:em:client", RedirectUri: null, AllowedRedirectUris: ["https://idweb.em.local/signin-oidc"], SubjectId: "anonymous", ResponseType: null, ResponseMode: null, GrantType: null, RequestedScopes: "", State: null, UiLocales: null, Nonce: null, AuthenticationContextReferenceClasses: null, DisplayMode: null, PromptMode: "", MaxAge: null, LoginHint: null, SessionId: null, Raw: [("client_id": "urn:em:client"), ("redirect_uri": "https://localhost:44303/signin-oidc"), ("response_type": "code"), ("scope": "openid profile email roles"), ("code_challenge": "nryo16PfmNoRH04pLGSvRfOlXKMIeGqPdQVi4tmXKrU"), ("code_challenge_method": "S256"), ("response_mode": "form_post"), ("nonce": "637437614144435401.MTIyOGRkZjQtMTExNS00Y2MzLWFhZGEtMGYyMDA5NmY4YTE4ZDUwZDVlMGItNmM5YS00YzAzLTk5MGItOGFlZmM2Y2RhOTk3"), ("state": "CfDJ8MPRbAevb1dLpUBHAVWjYkRkfe0v8hAjWLrLgygXnEJwUkMl9SxiOsfCQJuKSb3d4gONtrbuMym5mJp5XjvSp9gIMHx5PhvMr6aRSxm-N_tXeeTOuNTTEToKFHHJqHMqvDWJ_GHBb-qdC4nT5xu4XYAhbIXVNfHFfqw0KXk3mE4DZ_XinLsc6baGP3ikGsqlOLOqeBYHxt8s7TEEDRZWrfOi_FL0EcaDLOalyBms_Nt8sJ_s6cxGwz1P0hw7OdF4H3c4FopnL2ZOTKndVBCnQSOqPPkOaI49OP00PiDW1J3AZtrOwjC6F6YYWDfy4yVQ_ELjuRxrlhID1wOhAVGoc269IVLdgwE9HYUklrkSn2h2rWupgzpB-69xPG_OkqMpPw"), ("x-client-SKU": "ID_NETSTANDARD2_0"), ("x-client-ver": "5.6.0.0")] }
[2020-12-16T16:23:40.3612927-08:00][INFO][4][IdentityServer4.Events.DefaultEventService] TokenIssuedFailureEvent { ClientId: "urn:em:client", ClientName: "urn:em:client", RedirectUri: null, Endpoint: "Authorize", SubjectId: null, Scopes: "", GrantType: null, Error: "invalid_request", ErrorDescription: "Invalid redirect_uri", Category: "Token", Name: "Token Issued Failure", EventType: Failure, Id: 2001, Message: null, ActivityId: "0HM5247JAC582:00000001", TimeStamp: 12/17/2020 00:23:40, ProcessId: 24284, LocalIpAddress: "::1:44310", RemoteIpAddress: "::1" }
[2020-12-16T16:23:40.4678538-08:00][INFO][4][Microsoft.AspNetCore.Hosting.Diagnostics] Request finished in 4166.8937ms 302 
[2020-12-16T16:23:40.4994269-08:00][INFO][12][Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:44310/home/error?errorId=CfDJ8MPRbAevb1dLpUBHAVWjYkS8ZsXdFRDP9rOuSv45awIBVKfWCtQWchcv8_E_iqBY5f53JyfVHnMXhPpczzRU_3h3QG4oKacSJlCuk7g_jc1D-s5c4F_jRGyZfimuaHW_6M-O5bHPTXo3qKA234sa_INJs-a17fCbyEby5dZiMy2AJiY0SRt0dp0-PfCYIEGqNBdfHEAL4jRTZAl9MpUkdmw8dHMisWfcAQDGZYrsK2WyFKF6II8-NAE2xUivD9ozgio1rK7XQ1Uk1D-wiwUYzAk7Q8HU5CVlOUCyorgTRlFP5drEl0UxDc0mZw8EKQHKgg8bcIjofWOLkgBlDbTfgeU  
[2020-12-16T16:23:40.5454827-08:00][INFO][12][Microsoft.AspNetCore.Routing.EndpointMiddleware] Executing endpoint '"EventManager.Identity.STS.Identity.Controllers.HomeController.Error (EventManager.Identity.STS.Identity)"'
[2020-12-16T16:23:40.5865246-08:00][INFO][12][Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Route matched with "{action = \"Error\", controller = \"Home\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Error(System.String)" on controller "EventManager.Identity.STS.Identity.Controllers.HomeController" ("EventManager.Identity.STS.Identity").
[2020-12-16T16:23:40.6950856-08:00][INFO][12][Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor] Executing ViewResult, running view "Error".
[2020-12-16T16:23:40.8100400-08:00][INFO][12][Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor] Executed ViewResult - view "Error" executed in 116.6723ms.
[2020-12-16T16:23:41.0502945-08:00][INFO][12][Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Executed action "EventManager.Identity.STS.Identity.Controllers.HomeController.Error (EventManager.Identity.STS.Identity)" in 429.0397ms
[2020-12-16T16:23:41.0703835-08:00][INFO][12][Microsoft.AspNetCore.Routing.EndpointMiddleware] Executed endpoint '"EventManager.Identity.STS.Identity.Controllers.HomeController.Error (EventManager.Identity.STS.Identity)"'
[2020-12-16T16:23:41.0860738-08:00][INFO][12][Microsoft.AspNetCore.Hosting.Diagnostics] Request finished in 582.2419ms 200 text/html; charset=utf-8
[2020-12-16T16:23:41.5506945-08:00][INFO][4][Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:44310/dist/css/bundle.min.css?v=6Y8xGSDMhkjYMZuaFSdp3fqA3xdNX-Q6_xp14ExGbY8  
[2020-12-16T16:23:41.5753845-08:00][INFO][25][Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware] Sending file. Request path: '"/dist/css/bundle.min.css"'. Physical path: '"C:\Projects\EventManager\Api\Identity\src\EventManager.Identity.STS.Identity\wwwroot\dist\css\bundle.min.css"'
[2020-12-16T16:23:41.6003052-08:00][INFO][25][Microsoft.AspNetCore.Hosting.Diagnostics] Request finished in 49.4814ms 200 text/css
[2020-12-16T16:23:41.6150344-08:00][INFO][25][Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:44310/dist/css/web.css?v=gzbQ_J4PfKys2r0KpTe01uKRO7lnqK_lEp7OvIB7ZAA  
[2020-12-16T16:23:41.6265020-08:00][INFO][25][Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware] Sending file. Request path: '"/dist/css/web.css"'. Physical path: '"C:\Projects\EventManager\Api\Identity\src\EventManager.Identity.STS.Identity\wwwroot\dist\css\web.css"'
[2020-12-16T16:23:41.6345368-08:00][INFO][12][Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:44310/dist/js/bundle.min.js?v=11Fw87BWmEIjIw_LrA_JwvJM5t0w9WbTFIog6ElarB0  
[2020-12-16T16:23:41.6402085-08:00][INFO][25][Microsoft.AspNetCore.Hosting.Diagnostics] Request finished in 25.2637ms 200 text/css
[2020-12-16T16:23:41.6556582-08:00][INFO][24][Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware] Sending file. Request path: '"/dist/js/bundle.min.js"'. Physical path: '"C:\Projects\EventManager\Api\Identity\src\EventManager.Identity.STS.Identity\wwwroot\dist\js\bundle.min.js"'
[2020-12-16T16:23:41.6651505-08:00][INFO][24][Microsoft.AspNetCore.Hosting.Diagnostics] Request finished in 30.5667ms 200 application/javascript
[2020-12-16T16:23:43.3577877-08:00][INFO][4][Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:44310/favicon.ico  
[2020-12-16T16:23:43.3772913-08:00][INFO][4][Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware] Sending file. Request path: '"/favicon.ico"'. Physical path: '"C:\Projects\EventManager\Api\Identity\src\EventManager.Identity.STS.Identity\wwwroot\favicon.ico"'
[2020-12-16T16:23:43.3965237-08:00][INFO][4][Microsoft.AspNetCore.Hosting.Diagnostics] Request finished in 38.7305ms 200 image/x-icon
[2020-12-16T16:23:43.4106975-08:00][INFO][13][Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:44310/favicon.ico  
[2020-12-16T16:23:43.4268072-08:00][INFO][13][Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware] Sending file. Request path: '"/favicon.ico"'. Physical path: '"C:\Projects\EventManager\Api\Identity\src\EventManager.Identity.STS.Identity\wwwroot\favicon.ico"'
[2020-12-16T16:23:43.4396370-08:00][INFO][13][Microsoft.AspNetCore.Hosting.Diagnostics] Request finished in 28.9576ms 200 image/x-icon
[2020-12-16T16:24:06.2113796-08:00][INFO][12][Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:44310/Account/Login  
[2020-12-16T16:24:06.2290128-08:00][INFO][12][Microsoft.AspNetCore.Routing.EndpointMiddleware] Executing endpoint '"EventManager.Identity.STS.Identity.Controllers.AccountController<EventManager.Identity.Admin.EntityFramework.Shared.Entities.Identity.UserIdentity, string>.Login (EventManager.Identity.STS.Identity)"'
[2020-12-16T16:24:06.2415005-08:00][INFO][12][Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Route matched with "{action = \"Login\", controller = \"Account\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(System.String)" on controller "EventManager.Identity.STS.Identity.Controllers.AccountController<EventManager.Identity.Admin.EntityFramework.Shared.Entities.Identity.UserIdentity, string>" ("EventManager.Identity.STS.Identity").
[2020-12-16T16:24:06.2840861-08:00][INFO][12][Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor] Executing ViewResult, running view "Login".
[2020-12-16T16:24:06.3788993-08:00][INFO][12][Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor] Executed ViewResult - view "Login" executed in 96.3233ms.
[2020-12-16T16:24:06.3944515-08:00][INFO][12][Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Executed action "EventManager.Identity.STS.Identity.Controllers.AccountController<EventManager.Identity.Admin.EntityFramework.Shared.Entities.Identity.UserIdentity, string>.Login (EventManager.Identity.STS.Identity)" in 136.8555ms
[2020-12-16T16:24:06.4382885-08:00][INFO][12][Microsoft.AspNetCore.Routing.EndpointMiddleware] Executed endpoint '"EventManager.Identity.STS.Identity.Controllers.AccountController<EventManager.Identity.Admin.EntityFramework.Shared.Entities.Identity.UserIdentity, string>.Login (EventManager.Identity.STS.Identity)"'
[2020-12-16T16:24:06.4458902-08:00][INFO][13][Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:44310/dist/css/web.css?v=gzbQ_J4PfKys2r0KpTe01uKRO7lnqK_lEp7OvIB7ZAA  
[2020-12-16T16:24:06.4461758-08:00][INFO][14][Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:44310/dist/js/bundle.min.js?v=11Fw87BWmEIjIw_LrA_JwvJM5t0w9WbTFIog6ElarB0  
[2020-12-16T16:24:06.4490062-08:00][INFO][5][Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:44310/dist/css/bundle.min.css?v=6Y8xGSDMhkjYMZuaFSdp3fqA3xdNX-Q6_xp14ExGbY8  
[2020-12-16T16:24:06.4557520-08:00][INFO][12][Microsoft.AspNetCore.Hosting.Diagnostics] Request finished in 244.4124ms 200 text/html; charset=utf-8
[2020-12-16T16:24:06.4622377-08:00][INFO][13][Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware] Sending file. Request path: '"/dist/css/web.css"'. Physical path: '"C:\Projects\EventManager\Api\Identity\src\EventManager.Identity.STS.Identity\wwwroot\dist\css\web.css"'
[2020-12-16T16:24:06.4820631-08:00][INFO][14][Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware] Sending file. Request path: '"/dist/js/bundle.min.js"'. Physical path: '"C:\Projects\EventManager\Api\Identity\src\EventManager.Identity.STS.Identity\wwwroot\dist\js\bundle.min.js"'
[2020-12-16T16:24:06.5089467-08:00][INFO][13][Microsoft.AspNetCore.Hosting.Diagnostics] Request finished in 63.1057ms 200 text/css
[2020-12-16T16:24:06.5205939-08:00][INFO][14][Microsoft.AspNetCore.Hosting.Diagnostics] Request finished in 74.478ms 200 application/javascript
[2020-12-16T16:24:06.5256757-08:00][INFO][4][Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware] Sending file. Request path: '"/dist/css/bundle.min.css"'. Physical path: '"C:\Projects\EventManager\Api\Identity\src\EventManager.Identity.STS.Identity\wwwroot\dist\css\bundle.min.css"'
[2020-12-16T16:24:06.5414199-08:00][INFO][4][Microsoft.AspNetCore.Hosting.Diagnostics] Request finished in 95.7096ms 200 text/css
[2020-12-16T16:24:06.5754628-08:00][INFO][9][Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:44310/dist/fonts/fontawesome-webfont.woff2?v=4.7.0  
[2020-12-16T16:24:06.5787176-08:00][INFO][4][Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:44310/dist/fonts/open-iconic.woff  
[2020-12-16T16:24:06.5908932-08:00][INFO][9][Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware] Sending file. Request path: '"/dist/fonts/fontawesome-webfont.woff2"'. Physical path: '"C:\Projects\EventManager\Api\Identity\src\EventManager.Identity.STS.Identity\wwwroot\dist\fonts\fontawesome-webfont.woff2"'
[2020-12-16T16:24:06.5956334-08:00][INFO][4][Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware] Sending file. Request path: '"/dist/fonts/open-iconic.woff"'. Physical path: '"C:\Projects\EventManager\Api\Identity\src\EventManager.Identity.STS.Identity\wwwroot\dist\fonts\open-iconic.woff"'
[2020-12-16T16:24:06.6069880-08:00][INFO][9][Microsoft.AspNetCore.Hosting.Diagnostics] Request finished in 32.4805ms 200 font/woff2
[2020-12-16T16:24:06.6170252-08:00][INFO][4][Microsoft.AspNetCore.Hosting.Diagnostics] Request finished in 38.3091ms 200 application/font-woff
[2020-12-16T16:24:14.3489487-08:00][INFO][13][Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 POST https://localhost:44310/Account/Login application/x-www-form-urlencoded 261
[2020-12-16T16:24:14.3677204-08:00][INFO][13][Microsoft.AspNetCore.Cors.Infrastructure.CorsMiddleware] No CORS policy found for the specified request.
[2020-12-16T16:24:14.3820402-08:00][INFO][13][Microsoft.AspNetCore.Routing.EndpointMiddleware] Executing endpoint '"EventManager.Identity.STS.Identity.Controllers.AccountController<EventManager.Identity.Admin.EntityFramework.Shared.Entities.Identity.UserIdentity, string>.Login (EventManager.Identity.STS.Identity)"'
[2020-12-16T16:24:14.4073925-08:00][INFO][13][Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Route matched with "{action = \"Login\", controller = \"Account\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(EventManager.Identity.STS.Identity.ViewModels.Account.LoginInputModel, System.String)" on controller "EventManager.Identity.STS.Identity.Controllers.AccountController<EventManager.Identity.Admin.EntityFramework.Shared.Entities.Identity.UserIdentity, string>" ("EventManager.Identity.STS.Identity").
[2020-12-16T16:24:14.4679509-08:00][INFO][13][Microsoft.EntityFrameworkCore.Infrastructure] Entity Framework Core "3.1.9" initialized '"AdminIdentityDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=EventManager.Identity.Admin.EntityFramework.SqlServer "
[2020-12-16T16:24:14.5150405-08:00][INFO][4][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("3"ms) [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0"
[2020-12-16T16:24:14.5923000-08:00][INFO][5][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("7"ms) [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0"
[2020-12-16T16:24:14.7012489-08:00][INFO][4][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("15"ms) [Parameters=["@__user_Id_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [u].[Id], [u].[ClaimType], [u].[ClaimValue], [u].[UserId]
FROM [UserClaims] AS [u]
WHERE [u].[UserId] = @__user_Id_0"
[2020-12-16T16:24:14.7609727-08:00][INFO][5][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("9"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [r].[Name]
FROM [UserRoles] AS [u]
INNER JOIN [Roles] AS [r] ON [u].[RoleId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0"
[2020-12-16T16:24:14.7805497-08:00][INFO][5][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("3"ms) [Parameters=["@__normalizedName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [Roles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0"
[2020-12-16T16:24:14.8058902-08:00][INFO][5][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("5"ms) [Parameters=["@__role_Id_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [r].[ClaimType], [r].[ClaimValue]
FROM [RoleClaims] AS [r]
WHERE [r].[RoleId] = @__role_Id_0"
[2020-12-16T16:24:14.8350560-08:00][INFO][5][Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler] AuthenticationScheme: "Identity.Application" signed in.
[2020-12-16T16:24:14.8460710-08:00][INFO][5][IdentityServer4.Events.DefaultEventService] UserLoginSuccessEvent { Username: "admin", Provider: null, ProviderUserId: null, SubjectId: "4986fb39-0b1a-416a-8fda-e04706435fc3", DisplayName: "admin", Endpoint: "UI", ClientId: null, Category: "Authentication", Name: "User Login Success", EventType: Success, Id: 1000, Message: null, ActivityId: "0HM5247JAC580:0000001D", TimeStamp: 12/17/2020 00:24:14, ProcessId: 24284, LocalIpAddress: "::1:44310", RemoteIpAddress: "::1" }
[2020-12-16T16:24:14.8866100-08:00][INFO][5][Microsoft.AspNetCore.Mvc.Infrastructure.RedirectResultExecutor] Executing RedirectResult, redirecting to "/".
[2020-12-16T16:24:14.8965847-08:00][INFO][5][Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Executed action "EventManager.Identity.STS.Identity.Controllers.AccountController<EventManager.Identity.Admin.EntityFramework.Shared.Entities.Identity.UserIdentity, string>.Login (EventManager.Identity.STS.Identity)" in 478.5464ms
[2020-12-16T16:24:14.9028772-08:00][INFO][5][Microsoft.AspNetCore.Routing.EndpointMiddleware] Executed endpoint '"EventManager.Identity.STS.Identity.Controllers.AccountController<EventManager.Identity.Admin.EntityFramework.Shared.Entities.Identity.UserIdentity, string>.Login (EventManager.Identity.STS.Identity)"'
[2020-12-16T16:24:14.9120920-08:00][INFO][5][Microsoft.AspNetCore.Hosting.Diagnostics] Request finished in 563.9931ms 302 
[2020-12-16T16:24:14.9192423-08:00][INFO][4][Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:44310/  
[2020-12-16T16:24:14.9366195-08:00][INFO][4][Microsoft.AspNetCore.Routing.EndpointMiddleware] Executing endpoint '"EventManager.Identity.STS.Identity.Controllers.HomeController.Index (EventManager.Identity.STS.Identity)"'
[2020-12-16T16:24:14.9469752-08:00][INFO][4][Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Route matched with "{action = \"Index\", controller = \"Home\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult Index()" on controller "EventManager.Identity.STS.Identity.Controllers.HomeController" ("EventManager.Identity.STS.Identity").
[2020-12-16T16:24:14.9610710-08:00][INFO][4][Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor] Executing ViewResult, running view "Index".
[2020-12-16T16:24:15.0023550-08:00][INFO][4][Microsoft.AspNetCore.Authorization.DefaultAuthorizationService] Authorization was successful.
[2020-12-16T16:24:15.0172093-08:00][INFO][4][Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor] Executed ViewResult - view "Index" executed in 56.2231ms.
[2020-12-16T16:24:15.0329562-08:00][INFO][4][Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Executed action "EventManager.Identity.STS.Identity.Controllers.HomeController.Index (EventManager.Identity.STS.Identity)" in 72.4471ms
[2020-12-16T16:24:15.0437701-08:00][INFO][4][Microsoft.AspNetCore.Routing.EndpointMiddleware] Executed endpoint '"EventManager.Identity.STS.Identity.Controllers.HomeController.Index (EventManager.Identity.STS.Identity)"'
[2020-12-16T16:24:15.0497874-08:00][INFO][4][Microsoft.AspNetCore.Hosting.Diagnostics] Request finished in 130.5776ms 200 text/html; charset=utf-8
[2020-12-16T16:24:15.0923652-08:00][INFO][5][Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:44310/dist/css/web.css?v=gzbQ_J4PfKys2r0KpTe01uKRO7lnqK_lEp7OvIB7ZAA  
[2020-12-16T16:24:15.0872008-08:00][INFO][13][Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:44310/dist/css/bundle.min.css?v=6Y8xGSDMhkjYMZuaFSdp3fqA3xdNX-Q6_xp14ExGbY8  
[2020-12-16T16:24:15.0938786-08:00][INFO][21][Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:44310/images/skoruba-icon.png  
[2020-12-16T16:24:15.1185542-08:00][INFO][5][Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware] Sending file. Request path: '"/dist/css/web.css"'. Physical path: '"C:\Projects\EventManager\Api\Identity\src\EventManager.Identity.STS.Identity\wwwroot\dist\css\web.css"'
[2020-12-16T16:24:15.1745706-08:00][INFO][4][Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware] Sending file. Request path: '"/images/skoruba-icon.png"'. Physical path: '"C:\Projects\EventManager\Api\Identity\src\EventManager.Identity.STS.Identity\wwwroot\images\skoruba-icon.png"'
[2020-12-16T16:24:15.0933866-08:00][INFO][26][Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:44310/dist/js/bundle.min.js?v=11Fw87BWmEIjIw_LrA_JwvJM5t0w9WbTFIog6ElarB0  
[2020-12-16T16:24:15.2017654-08:00][INFO][27][Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware] Sending file. Request path: '"/dist/css/bundle.min.css"'. Physical path: '"C:\Projects\EventManager\Api\Identity\src\EventManager.Identity.STS.Identity\wwwroot\dist\css\bundle.min.css"'
[2020-12-16T16:24:15.2122777-08:00][INFO][4][Microsoft.AspNetCore.Hosting.Diagnostics] Request finished in 118.2474ms 200 image/png
[2020-12-16T16:24:15.2034483-08:00][INFO][5][Microsoft.AspNetCore.Hosting.Diagnostics] Request finished in 110.7451ms 200 text/css
[2020-12-16T16:24:15.2298485-08:00][INFO][27][Microsoft.AspNetCore.Hosting.Diagnostics] Request finished in 142.7317ms 200 text/css
[2020-12-16T16:24:15.2751885-08:00][INFO][27][Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware] Sending file. Request path: '"/dist/js/bundle.min.js"'. Physical path: '"C:\Projects\EventManager\Api\Identity\src\EventManager.Identity.STS.Identity\wwwroot\dist\js\bundle.min.js"'
[2020-12-16T16:24:15.2806858-08:00][INFO][5][Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:44310/dist/fonts/open-iconic.woff  
[2020-12-16T16:24:15.2922651-08:00][INFO][27][Microsoft.AspNetCore.Hosting.Diagnostics] Request finished in 198.8706ms 200 application/javascript
[2020-12-16T16:24:15.3018787-08:00][INFO][5][Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware] Sending file. Request path: '"/dist/fonts/open-iconic.woff"'. Physical path: '"C:\Projects\EventManager\Api\Identity\src\EventManager.Identity.STS.Identity\wwwroot\dist\fonts\open-iconic.woff"'
[2020-12-16T16:24:15.3406063-08:00][INFO][5][Microsoft.AspNetCore.Hosting.Diagnostics] Request finished in 59.8732ms 200 application/font-woff
[2020-12-16T16:24:20.2653295-08:00][INFO][13][Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:44310/Grants  
[2020-12-16T16:24:20.2773134-08:00][INFO][13][Microsoft.AspNetCore.Authorization.DefaultAuthorizationService] Authorization was successful.
[2020-12-16T16:24:20.2813891-08:00][INFO][13][Microsoft.AspNetCore.Routing.EndpointMiddleware] Executing endpoint '"EventManager.Identity.STS.Identity.Controllers.GrantsController.Index (EventManager.Identity.STS.Identity)"'
[2020-12-16T16:24:20.2953566-08:00][INFO][13][Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Route matched with "{action = \"Index\", controller = \"Grants\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Index()" on controller "EventManager.Identity.STS.Identity.Controllers.GrantsController" ("EventManager.Identity.STS.Identity").
[2020-12-16T16:24:20.3225698-08:00][INFO][13][Microsoft.EntityFrameworkCore.Infrastructure] Entity Framework Core "3.1.9" initialized '"IdentityServerPersistedGrantDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=EventManager.Identity.Admin.EntityFramework.SqlServer "
[2020-12-16T16:24:20.3417336-08:00][INFO][4][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("5"ms) [Parameters=["@__filter_SubjectId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [p].[Key], [p].[ClientId], [p].[ConsumedTime], [p].[CreationTime], [p].[Data], [p].[Description], [p].[Expiration], [p].[SessionId], [p].[SubjectId], [p].[Type]
FROM [PersistedGrants] AS [p]
WHERE [p].[SubjectId] = @__filter_SubjectId_0"
[2020-12-16T16:24:20.3740051-08:00][INFO][4][Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor] Executing ViewResult, running view "Index".
[2020-12-16T16:24:20.4079812-08:00][INFO][4][Microsoft.AspNetCore.Authorization.DefaultAuthorizationService] Authorization was successful.
[2020-12-16T16:24:20.4153764-08:00][INFO][4][Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor] Executed ViewResult - view "Index" executed in 42.8485ms.
[2020-12-16T16:24:20.4277117-08:00][INFO][4][Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Executed action "EventManager.Identity.STS.Identity.Controllers.GrantsController.Index (EventManager.Identity.STS.Identity)" in 120.1601ms
[2020-12-16T16:24:20.4366344-08:00][INFO][4][Microsoft.AspNetCore.Routing.EndpointMiddleware] Executed endpoint '"EventManager.Identity.STS.Identity.Controllers.GrantsController.Index (EventManager.Identity.STS.Identity)"'
[2020-12-16T16:24:20.4414949-08:00][INFO][4][Microsoft.AspNetCore.Hosting.Diagnostics] Request finished in 176.2554ms 200 text/html; charset=utf-8
[2020-12-16T16:24:20.4640131-08:00][INFO][4][Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:44310/dist/css/bundle.min.css?v=6Y8xGSDMhkjYMZuaFSdp3fqA3xdNX-Q6_xp14ExGbY8  
[2020-12-16T16:24:20.4644816-08:00][INFO][12][Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:44310/dist/js/bundle.min.js?v=11Fw87BWmEIjIw_LrA_JwvJM5t0w9WbTFIog6ElarB0  
[2020-12-16T16:24:20.4641960-08:00][INFO][9][Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:44310/dist/css/web.css?v=gzbQ_J4PfKys2r0KpTe01uKRO7lnqK_lEp7OvIB7ZAA  
[2020-12-16T16:24:20.4894593-08:00][INFO][9][Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware] Sending file. Request path: '"/dist/css/web.css"'. Physical path: '"C:\Projects\EventManager\Api\Identity\src\EventManager.Identity.STS.Identity\wwwroot\dist\css\web.css"'
[2020-12-16T16:24:20.5066507-08:00][INFO][4][Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware] Sending file. Request path: '"/dist/js/bundle.min.js"'. Physical path: '"C:\Projects\EventManager\Api\Identity\src\EventManager.Identity.STS.Identity\wwwroot\dist\js\bundle.min.js"'
[2020-12-16T16:24:20.5077381-08:00][INFO][26][Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware] Sending file. Request path: '"/dist/css/bundle.min.css"'. Physical path: '"C:\Projects\EventManager\Api\Identity\src\EventManager.Identity.STS.Identity\wwwroot\dist\css\bundle.min.css"'
[2020-12-16T16:24:20.5209054-08:00][INFO][9][Microsoft.AspNetCore.Hosting.Diagnostics] Request finished in 56.3758ms 200 text/css
[2020-12-16T16:24:20.5276322-08:00][INFO][4][Microsoft.AspNetCore.Hosting.Diagnostics] Request finished in 63.184ms 200 application/javascript
[2020-12-16T16:24:20.5374077-08:00][INFO][26][Microsoft.AspNetCore.Hosting.Diagnostics] Request finished in 73.434ms 200 text/css
[2020-12-16T16:24:33.0700022-08:00][INFO][27][Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:44310/Manage  
[2020-12-16T16:24:33.1183599-08:00][INFO][27][Microsoft.AspNetCore.Authorization.DefaultAuthorizationService] Authorization was successful.
[2020-12-16T16:24:33.1458438-08:00][INFO][27][Microsoft.AspNetCore.Routing.EndpointMiddleware] Executing endpoint '"EventManager.Identity.STS.Identity.Controllers.ManageController<EventManager.Identity.Admin.EntityFramework.Shared.Entities.Identity.UserIdentity, string>.Index (EventManager.Identity.STS.Identity)"'
[2020-12-16T16:24:33.1661215-08:00][INFO][27][Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Route matched with "{action = \"Index\", controller = \"Manage\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Index()" on controller "EventManager.Identity.STS.Identity.Controllers.ManageController<EventManager.Identity.Admin.EntityFramework.Shared.Entities.Identity.UserIdentity, string>" ("EventManager.Identity.STS.Identity").
[2020-12-16T16:24:33.2002748-08:00][INFO][27][Microsoft.EntityFrameworkCore.Infrastructure] Entity Framework Core "3.1.9" initialized '"AdminIdentityDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=EventManager.Identity.Admin.EntityFramework.SqlServer "
[2020-12-16T16:24:33.2639797-08:00][INFO][27][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("5"ms) [Parameters=["@__p_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[Id] = @__p_0"
[2020-12-16T16:24:33.2907019-08:00][INFO][13][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("3"ms) [Parameters=["@__user_Id_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [u].[Id], [u].[ClaimType], [u].[ClaimValue], [u].[UserId]
FROM [UserClaims] AS [u]
WHERE [u].[UserId] = @__user_Id_0"
[2020-12-16T16:24:33.3115397-08:00][INFO][13][Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor] Executing ViewResult, running view "Index".
[2020-12-16T16:24:35.6125797-08:00][INFO][13][Microsoft.AspNetCore.Authorization.DefaultAuthorizationService] Authorization was successful.
[2020-12-16T16:24:35.6232003-08:00][INFO][13][Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor] Executed ViewResult - view "Index" executed in 2313.747ms.
[2020-12-16T16:24:35.6421435-08:00][INFO][13][Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Executed action "EventManager.Identity.STS.Identity.Controllers.ManageController<EventManager.Identity.Admin.EntityFramework.Shared.Entities.Identity.UserIdentity, string>.Index (EventManager.Identity.STS.Identity)" in 2450.3851ms
[2020-12-16T16:24:35.6544229-08:00][INFO][13][Microsoft.AspNetCore.Routing.EndpointMiddleware] Executed endpoint '"EventManager.Identity.STS.Identity.Controllers.ManageController<EventManager.Identity.Admin.EntityFramework.Shared.Entities.Identity.UserIdentity, string>.Index (EventManager.Identity.STS.Identity)"'
[2020-12-16T16:24:35.6620565-08:00][INFO][13][Microsoft.AspNetCore.Hosting.Diagnostics] Request finished in 2592.0758ms 200 text/html; charset=utf-8
[2020-12-16T16:24:35.7273993-08:00][INFO][29][Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:44310/dist/js/bundle.min.js?v=11Fw87BWmEIjIw_LrA_JwvJM5t0w9WbTFIog6ElarB0  
[2020-12-16T16:24:35.7273993-08:00][INFO][28][Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:44310/dist/css/web.css?v=gzbQ_J4PfKys2r0KpTe01uKRO7lnqK_lEp7OvIB7ZAA  
[2020-12-16T16:24:35.7231958-08:00][INFO][13][Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:44310/dist/css/bundle.min.css?v=6Y8xGSDMhkjYMZuaFSdp3fqA3xdNX-Q6_xp14ExGbY8  
[2020-12-16T16:24:35.7673763-08:00][INFO][28][Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware] Sending file. Request path: '"/dist/css/web.css"'. Physical path: '"C:\Projects\EventManager\Api\Identity\src\EventManager.Identity.STS.Identity\wwwroot\dist\css\web.css"'
[2020-12-16T16:24:35.7912045-08:00][INFO][13][Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware] Sending file. Request path: '"/dist/css/bundle.min.css"'. Physical path: '"C:\Projects\EventManager\Api\Identity\src\EventManager.Identity.STS.Identity\wwwroot\dist\css\bundle.min.css"'
[2020-12-16T16:24:35.8215509-08:00][INFO][28][Microsoft.AspNetCore.Hosting.Diagnostics] Request finished in 94.0695ms 200 text/css
[2020-12-16T16:24:35.8278121-08:00][INFO][13][Microsoft.AspNetCore.Hosting.Diagnostics] Request finished in 104.6186ms 200 text/css
[2020-12-16T16:24:35.8281291-08:00][INFO][26][Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware] Sending file. Request path: '"/dist/js/bundle.min.js"'. Physical path: '"C:\Projects\EventManager\Api\Identity\src\EventManager.Identity.STS.Identity\wwwroot\dist\js\bundle.min.js"'
[2020-12-16T16:24:35.8587169-08:00][INFO][26][Microsoft.AspNetCore.Hosting.Diagnostics] Request finished in 131.3182ms 200 application/javascript
[2020-12-16T16:24:53.9650522-08:00][INFO][13][Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:44310/  
[2020-12-16T16:24:53.9766884-08:00][INFO][13][Microsoft.AspNetCore.Routing.EndpointMiddleware] Executing endpoint '"EventManager.Identity.STS.Identity.Controllers.HomeController.Index (EventManager.Identity.STS.Identity)"'
[2020-12-16T16:24:53.9814452-08:00][INFO][13][Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Route matched with "{action = \"Index\", controller = \"Home\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult Index()" on controller "EventManager.Identity.STS.Identity.Controllers.HomeController" ("EventManager.Identity.STS.Identity").
[2020-12-16T16:24:53.9953722-08:00][INFO][13][Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor] Executing ViewResult, running view "Index".
[2020-12-16T16:24:54.0043090-08:00][INFO][13][Microsoft.AspNetCore.Authorization.DefaultAuthorizationService] Authorization was successful.
[2020-12-16T16:24:54.0096363-08:00][INFO][13][Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor] Executed ViewResult - view "Index" executed in 14.296ms.
[2020-12-16T16:24:54.0228600-08:00][INFO][13][Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Executed action "EventManager.Identity.STS.Identity.Controllers.HomeController.Index (EventManager.Identity.STS.Identity)" in 27.8139ms
[2020-12-16T16:24:54.0363040-08:00][INFO][13][Microsoft.AspNetCore.Routing.EndpointMiddleware] Executed endpoint '"EventManager.Identity.STS.Identity.Controllers.HomeController.Index (EventManager.Identity.STS.Identity)"'
[2020-12-16T16:24:54.0678817-08:00][INFO][14][Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:44310/dist/css/bundle.min.css?v=6Y8xGSDMhkjYMZuaFSdp3fqA3xdNX-Q6_xp14ExGbY8  
[2020-12-16T16:24:54.0641069-08:00][INFO][27][Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:44310/dist/css/web.css?v=gzbQ_J4PfKys2r0KpTe01uKRO7lnqK_lEp7OvIB7ZAA  
[2020-12-16T16:24:54.0786512-08:00][INFO][13][Microsoft.AspNetCore.Hosting.Diagnostics] Request finished in 113.5522ms 200 text/html; charset=utf-8
[2020-12-16T16:24:54.0918239-08:00][INFO][27][Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware] Sending file. Request path: '"/dist/css/web.css"'. Physical path: '"C:\Projects\EventManager\Api\Identity\src\EventManager.Identity.STS.Identity\wwwroot\dist\css\web.css"'
[2020-12-16T16:24:54.0736833-08:00][INFO][28][Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:44310/images/skoruba-icon.png  
[2020-12-16T16:24:54.0650211-08:00][INFO][29][Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:44310/dist/js/bundle.min.js?v=11Fw87BWmEIjIw_LrA_JwvJM5t0w9WbTFIog6ElarB0  
[2020-12-16T16:24:54.1082301-08:00][INFO][21][Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware] Sending file. Request path: '"/dist/css/bundle.min.css"'. Physical path: '"C:\Projects\EventManager\Api\Identity\src\EventManager.Identity.STS.Identity\wwwroot\dist\css\bundle.min.css"'
[2020-12-16T16:24:54.1098652-08:00][INFO][27][Microsoft.AspNetCore.Hosting.Diagnostics] Request finished in 45.3247ms 200 text/css
[2020-12-16T16:24:54.1212847-08:00][INFO][28][Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware] Sending file. Request path: '"/images/skoruba-icon.png"'. Physical path: '"C:\Projects\EventManager\Api\Identity\src\EventManager.Identity.STS.Identity\wwwroot\images\skoruba-icon.png"'
[2020-12-16T16:24:54.1559026-08:00][INFO][35][Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware] Sending file. Request path: '"/dist/js/bundle.min.js"'. Physical path: '"C:\Projects\EventManager\Api\Identity\src\EventManager.Identity.STS.Identity\wwwroot\dist\js\bundle.min.js"'
[2020-12-16T16:24:54.1766640-08:00][INFO][21][Microsoft.AspNetCore.Hosting.Diagnostics] Request finished in 112.5507ms 200 text/css
[2020-12-16T16:24:54.1904164-08:00][INFO][28][Microsoft.AspNetCore.Hosting.Diagnostics] Request finished in 116.7614ms 200 image/png
[2020-12-16T16:24:54.1981234-08:00][INFO][35][Microsoft.AspNetCore.Hosting.Diagnostics] Request finished in 133.0885ms 200 application/javascript
[2020-12-16T16:24:54.2194535-08:00][INFO][35][Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:44310/dist/fonts/open-iconic.woff  
[2020-12-16T16:24:54.2280092-08:00][INFO][35][Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware] Sending file. Request path: '"/dist/fonts/open-iconic.woff"'. Physical path: '"C:\Projects\EventManager\Api\Identity\src\EventManager.Identity.STS.Identity\wwwroot\dist\fonts\open-iconic.woff"'
[2020-12-16T16:24:54.2372186-08:00][INFO][35][Microsoft.AspNetCore.Hosting.Diagnostics] Request finished in 17.7505ms 200 application/font-woff
[2020-12-16T16:27:54.9420133-08:00][INFO][43][Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:44310/connect/authorize?response_type=code&client_id=urn%3Aem%3Aclient_api_swaggerui&redirect_uri=https%3A%2F%2Flocalhost%3A44302%2Fswagger%2Foauth2-redirect.html&state=V2VkIERlYyAxNiAyMDIwIDE2OjI3OjU0IEdNVC0wODAwIChQYWNpZmljIFN0YW5kYXJkIFRpbWUp&code_challenge=Z9eVqG4Lh-4idsmrUBmGYEvZLDzYToLPgyaeboySRlo&code_challenge_method=S256  
[2020-12-16T16:27:54.9698634-08:00][INFO][43][IdentityServer4.Hosting.IdentityServerMiddleware] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize"
[2020-12-16T16:27:54.9812681-08:00][INFO][43][Microsoft.EntityFrameworkCore.Infrastructure] Entity Framework Core "3.1.9" initialized '"IdentityServerConfigurationDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=EventManager.Identity.Admin.EntityFramework.SqlServer "
[2020-12-16T16:27:55.0160687-08:00][INFO][44][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("10"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c].[Id], [c].[AbsoluteRefreshTokenLifetime], [c].[AccessTokenLifetime], [c].[AccessTokenType], [c].[AllowAccessTokensViaBrowser], [c].[AllowOfflineAccess], [c].[AllowPlainTextPkce], [c].[AllowRememberConsent], [c].[AllowedIdentityTokenSigningAlgorithms], [c].[AlwaysIncludeUserClaimsInIdToken], [c].[AlwaysSendClientClaims], [c].[AuthorizationCodeLifetime], [c].[BackChannelLogoutSessionRequired], [c].[BackChannelLogoutUri], [c].[ClientClaimsPrefix], [c].[ClientId], [c].[ClientName], [c].[ClientUri], [c].[ConsentLifetime], [c].[Created], [c].[Description], [c].[DeviceCodeLifetime], [c].[EnableLocalLogin], [c].[Enabled], [c].[FrontChannelLogoutSessionRequired], [c].[FrontChannelLogoutUri], [c].[IdentityTokenLifetime], [c].[IncludeJwtId], [c].[LastAccessed], [c].[LogoUri], [c].[NonEditable], [c].[PairWiseSubjectSalt], [c].[ProtocolType], [c].[RefreshTokenExpiration], [c].[RefreshTokenUsage], [c].[RequireClientSecret], [c].[RequireConsent], [c].[RequirePkce], [c].[RequireRequestObject], [c].[SlidingRefreshTokenLifetime], [c].[UpdateAccessTokenClaimsOnRefresh], [c].[Updated], [c].[UserCodeType], [c].[UserSsoLifetime]
FROM [Clients] AS [c]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-16T16:27:55.0381943-08:00][INFO][44][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("3"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[Origin]
FROM [Clients] AS [c]
INNER JOIN [ClientCorsOrigins] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-16T16:27:55.0555710-08:00][INFO][44][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("3"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[GrantType]
FROM [Clients] AS [c]
INNER JOIN [ClientGrantTypes] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-16T16:27:55.0709274-08:00][INFO][44][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("3"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[Scope]
FROM [Clients] AS [c]
INNER JOIN [ClientScopes] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-16T16:27:55.0880509-08:00][INFO][44][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("3"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[Type], [c0].[Value]
FROM [Clients] AS [c]
INNER JOIN [ClientClaims] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-16T16:27:55.1097144-08:00][INFO][44][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("8"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[Created], [c0].[Description], [c0].[Expiration], [c0].[Type], [c0].[Value]
FROM [Clients] AS [c]
INNER JOIN [ClientSecrets] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-16T16:27:55.1293468-08:00][INFO][44][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("3"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[Provider]
FROM [Clients] AS [c]
INNER JOIN [ClientIdPRestrictions] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-16T16:27:55.1458146-08:00][INFO][13][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("3"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[PostLogoutRedirectUri]
FROM [Clients] AS [c]
INNER JOIN [ClientPostLogoutRedirectUris] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-16T16:27:55.1587631-08:00][INFO][13][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("3"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[Key], [c0].[Value]
FROM [Clients] AS [c]
INNER JOIN [ClientProperties] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-16T16:27:55.1709430-08:00][INFO][35][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("3"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[RedirectUri]
FROM [Clients] AS [c]
INNER JOIN [ClientRedirectUris] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-16T16:27:55.1845506-08:00][EROR][35][IdentityServer4.Validation.AuthorizeRequestValidator] Invalid redirect_uri: "https://localhost:44302/swagger/oauth2-redirect.html"
AuthorizeRequestValidationLog { ClientId: "urn:em:client_api_swaggerui", ClientName: "urn:em:client_api_swaggerui", RedirectUri: null, AllowedRedirectUris: ["https://idapi.em.local/swagger/oauth2-redirect.html"], SubjectId: "anonymous", ResponseType: null, ResponseMode: null, GrantType: null, RequestedScopes: "", State: null, UiLocales: null, Nonce: null, AuthenticationContextReferenceClasses: null, DisplayMode: null, PromptMode: "", MaxAge: null, LoginHint: null, SessionId: null, Raw: [("response_type": "code"), ("client_id": "urn:em:client_api_swaggerui"), ("redirect_uri": "https://localhost:44302/swagger/oauth2-redirect.html"), ("state": "V2VkIERlYyAxNiAyMDIwIDE2OjI3OjU0IEdNVC0wODAwIChQYWNpZmljIFN0YW5kYXJkIFRpbWUp"), ("code_challenge": "Z9eVqG4Lh-4idsmrUBmGYEvZLDzYToLPgyaeboySRlo"), ("code_challenge_method": "S256")] }
[2020-12-16T16:27:55.2213828-08:00][EROR][35][IdentityServer4.Endpoints.AuthorizeEndpoint] Request validation failed
[2020-12-16T16:27:55.2296553-08:00][INFO][35][IdentityServer4.Endpoints.AuthorizeEndpoint] AuthorizeRequestValidationLog { ClientId: "urn:em:client_api_swaggerui", ClientName: "urn:em:client_api_swaggerui", RedirectUri: null, AllowedRedirectUris: ["https://idapi.em.local/swagger/oauth2-redirect.html"], SubjectId: "anonymous", ResponseType: null, ResponseMode: null, GrantType: null, RequestedScopes: "", State: null, UiLocales: null, Nonce: null, AuthenticationContextReferenceClasses: null, DisplayMode: null, PromptMode: "", MaxAge: null, LoginHint: null, SessionId: null, Raw: [("response_type": "code"), ("client_id": "urn:em:client_api_swaggerui"), ("redirect_uri": "https://localhost:44302/swagger/oauth2-redirect.html"), ("state": "V2VkIERlYyAxNiAyMDIwIDE2OjI3OjU0IEdNVC0wODAwIChQYWNpZmljIFN0YW5kYXJkIFRpbWUp"), ("code_challenge": "Z9eVqG4Lh-4idsmrUBmGYEvZLDzYToLPgyaeboySRlo"), ("code_challenge_method": "S256")] }
[2020-12-16T16:27:55.2587800-08:00][INFO][35][IdentityServer4.Events.DefaultEventService] TokenIssuedFailureEvent { ClientId: "urn:em:client_api_swaggerui", ClientName: "urn:em:client_api_swaggerui", RedirectUri: null, Endpoint: "Authorize", SubjectId: null, Scopes: "", GrantType: null, Error: "invalid_request", ErrorDescription: "Invalid redirect_uri", Category: "Token", Name: "Token Issued Failure", EventType: Failure, Id: 2001, Message: null, ActivityId: "0HM5247JAC583:00000001", TimeStamp: 12/17/2020 00:27:55, ProcessId: 24284, LocalIpAddress: "::1:44310", RemoteIpAddress: "::1" }
[2020-12-16T16:27:55.2836106-08:00][INFO][35][Microsoft.AspNetCore.Hosting.Diagnostics] Request finished in 341.9076ms 302 
[2020-12-16T16:27:55.2953665-08:00][INFO][21][Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:44310/home/error?errorId=CfDJ8MPRbAevb1dLpUBHAVWjYkTjFhwAP63lGCEwGt2mRVZ73KVjQX572dZ_E4vjGI4XbA7_KgFXY7Hki8Rh7DRgFUsUNHAxNuqEpPMvXalkWyI0L7y0trHVW2blrNH9TyGhdXwbIDqqXKLpdY_VBII0b1Td0v4Yd58Ud9TnyH-tSBMLutyAzrkwP1mzd0zEzRIaJGgomyp_4gTveCQZmM0iPNDcXho3Jffa4lL8achLl6xv4DgnGMwZA4qnGTm0uYfQMxiQvJmCSZ8A0WWYIjFkaVdykgk-F5x6rCXD-6rxlpqbTCXBdjCUbo_vA5QT3Avm7uL3H31vK7xkm_QVT-Q0j-N9ZNCaUbogw49gKUmdj8Vr  
[2020-12-16T16:27:55.3022376-08:00][INFO][21][Microsoft.AspNetCore.Routing.EndpointMiddleware] Executing endpoint '"EventManager.Identity.STS.Identity.Controllers.HomeController.Error (EventManager.Identity.STS.Identity)"'
[2020-12-16T16:27:55.3143536-08:00][INFO][21][Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Route matched with "{action = \"Error\", controller = \"Home\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Error(System.String)" on controller "EventManager.Identity.STS.Identity.Controllers.HomeController" ("EventManager.Identity.STS.Identity").
[2020-12-16T16:27:55.3283373-08:00][INFO][21][Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor] Executing ViewResult, running view "Error".
[2020-12-16T16:27:55.3354919-08:00][INFO][21][Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor] Executed ViewResult - view "Error" executed in 7.2219ms.
[2020-12-16T16:27:55.3529502-08:00][INFO][21][Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Executed action "EventManager.Identity.STS.Identity.Controllers.HomeController.Error (EventManager.Identity.STS.Identity)" in 25.8695ms
[2020-12-16T16:27:55.3700809-08:00][INFO][21][Microsoft.AspNetCore.Routing.EndpointMiddleware] Executed endpoint '"EventManager.Identity.STS.Identity.Controllers.HomeController.Error (EventManager.Identity.STS.Identity)"'
[2020-12-16T16:27:55.3855464-08:00][INFO][21][Microsoft.AspNetCore.Hosting.Diagnostics] Request finished in 89.2825ms 200 text/html; charset=utf-8
[2020-12-16T16:27:55.3977271-08:00][INFO][37][Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:44310/dist/css/web.css?v=gzbQ_J4PfKys2r0KpTe01uKRO7lnqK_lEp7OvIB7ZAA  
[2020-12-16T16:27:55.3987447-08:00][INFO][13][Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:44310/dist/js/bundle.min.js?v=11Fw87BWmEIjIw_LrA_JwvJM5t0w9WbTFIog6ElarB0  
[2020-12-16T16:27:55.3976646-08:00][INFO][35][Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:44310/dist/css/bundle.min.css?v=6Y8xGSDMhkjYMZuaFSdp3fqA3xdNX-Q6_xp14ExGbY8  
[2020-12-16T16:27:55.4105633-08:00][INFO][37][Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware] Sending file. Request path: '"/dist/css/web.css"'. Physical path: '"C:\Projects\EventManager\Api\Identity\src\EventManager.Identity.STS.Identity\wwwroot\dist\css\web.css"'
[2020-12-16T16:27:55.4353315-08:00][INFO][35][Microsoft.AspNe[2020-12-16T18:33:22.0063087-08:00][INFO][1][Microsoft.EntityFrameworkCore.Infrastructure] Entity Framework Core "3.1.9" initialized '"IdentityServerDataProtectionDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=EventManager.Identity.Admin.EntityFramework.SqlServer "
[2020-12-16T18:33:23.3428254-08:00][INFO][1][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("55"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [d].[Xml]
FROM [DataProtectionKeys] AS [d]"
[2020-12-16T18:33:23.5886035-08:00][INFO][1][IdentityServer4.Startup] Starting IdentityServer4 version "4.1.1+cebd52f5bc61bdefc262fd20739d4d087c6f961f"
[2020-12-16T18:33:23.6489093-08:00][INFO][1][IdentityServer4.Startup] Using the default authentication scheme "Identity.Application" for IdentityServer
[2020-12-16T18:33:25.9944688-08:00][INFO][1][Microsoft.Hosting.Lifetime] Now listening on: "https://localhost:44310"
[2020-12-16T18:33:26.1774357-08:00][INFO][1][Microsoft.Hosting.Lifetime] Application started. Press Ctrl+C to shut down.
[2020-12-16T18:33:26.1848270-08:00][INFO][1][Microsoft.Hosting.Lifetime] Hosting environment: "Development"
[2020-12-16T18:33:26.1910498-08:00][INFO][1][Microsoft.Hosting.Lifetime] Content root path: "C:\Projects\EventManager\Api\Identity\src\EventManager.Identity.STS.Identity"
[2020-12-16T18:33:38.5124620-08:00][INFO][10][Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:44310/  
[2020-12-16T18:33:39.0733751-08:00][INFO][10][Microsoft.AspNetCore.Routing.EndpointMiddleware] Executing endpoint '"EventManager.Identity.STS.Identity.Controllers.HomeController.Index (EventManager.Identity.STS.Identity)"'
[2020-12-16T18:33:39.1234559-08:00][INFO][10][Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Route matched with "{action = \"Index\", controller = \"Home\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult Index()" on controller "EventManager.Identity.STS.Identity.Controllers.HomeController" ("EventManager.Identity.STS.Identity").
[2020-12-16T18:33:39.2882829-08:00][INFO][10][Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor] Executing ViewResult, running view "Index".
[2020-12-16T18:33:40.0894446-08:00][INFO][10][Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor] Executed ViewResult - view "Index" executed in 819.4453ms.
[2020-12-16T18:33:40.1271833-08:00][INFO][10][Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Executed action "EventManager.Identity.STS.Identity.Controllers.HomeController.Index (EventManager.Identity.STS.Identity)" in 979.0366ms
[2020-12-16T18:33:40.1564981-08:00][INFO][10][Microsoft.AspNetCore.Routing.EndpointMiddleware] Executed endpoint '"EventManager.Identity.STS.Identity.Controllers.HomeController.Index (EventManager.Identity.STS.Identity)"'
[2020-12-16T18:33:40.1801848-08:00][INFO][10][Microsoft.AspNetCore.Hosting.Diagnostics] Request finished in 1678.1047ms 200 text/html; charset=utf-8
[2020-12-16T18:33:40.2564889-08:00][INFO][12][Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:44310/dist/css/web.css?v=gzbQ_J4PfKys2r0KpTe01uKRO7lnqK_lEp7OvIB7ZAA  
[2020-12-16T18:33:40.2564600-08:00][INFO][10][Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:44310/dist/css/bundle.min.css?v=6Y8xGSDMhkjYMZuaFSdp3fqA3xdNX-Q6_xp14ExGbY8  
[2020-12-16T18:33:40.2674534-08:00][INFO][5][Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:44310/dist/js/bundle.min.js?v=11Fw87BWmEIjIw_LrA_JwvJM5t0w9WbTFIog6ElarB0  
[2020-12-16T18:33:40.3404689-08:00][INFO][4][Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware] Sending file. Request path: '"/dist/css/web.css"'. Physical path: '"C:\Projects\EventManager\Api\Identity\src\EventManager.Identity.STS.Identity\wwwroot\dist\css\web.css"'
[2020-12-16T18:33:40.3415997-08:00][INFO][12][Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware] Sending file. Request path: '"/dist/css/bundle.min.css"'. Physical path: '"C:\Projects\EventManager\Api\Identity\src\EventManager.Identity.STS.Identity\wwwroot\dist\css\bundle.min.css"'
[2020-12-16T18:33:40.3640978-08:00][INFO][4][Microsoft.AspNetCore.Hosting.Diagnostics] Request finished in 107.5041ms 200 text/css
[2020-12-16T18:33:40.3418427-08:00][INFO][5][Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware] Sending file. Request path: '"/dist/js/bundle.min.js"'. Physical path: '"C:\Projects\EventManager\Api\Identity\src\EventManager.Identity.STS.Identity\wwwroot\dist\js\bundle.min.js"'
[2020-12-16T18:33:40.3804813-08:00][INFO][12][Microsoft.AspNetCore.Hosting.Diagnostics] Request finished in 124.415ms 200 text/css
[2020-12-16T18:33:40.3800226-08:00][INFO][10][Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:44310/images/skoruba-icon.png  
[2020-12-16T18:33:40.4119451-08:00][INFO][5][Microsoft.AspNetCore.Hosting.Diagnostics] Request finished in 144.4896ms 200 application/javascript
[2020-12-16T18:33:40.4345576-08:00][INFO][10][Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware] Sending file. Request path: '"/images/skoruba-icon.png"'. Physical path: '"C:\Projects\EventManager\Api\Identity\src\EventManager.Identity.STS.Identity\wwwroot\images\skoruba-icon.png"'
[2020-12-16T18:33:40.4577858-08:00][INFO][10][Microsoft.AspNetCore.Hosting.Diagnostics] Request finished in 77.7542ms 200 image/png
[2020-12-16T18:33:40.7730446-08:00][INFO][4][Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:44310/dist/fonts/open-iconic.woff  
[2020-12-16T18:33:40.7799847-08:00][INFO][4][Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware] Sending file. Request path: '"/dist/fonts/open-iconic.woff"'. Physical path: '"C:\Projects\EventManager\Api\Identity\src\EventManager.Identity.STS.Identity\wwwroot\dist\fonts\open-iconic.woff"'
[2020-12-16T18:33:40.7907768-08:00][INFO][4][Microsoft.AspNetCore.Hosting.Diagnostics] Request finished in 17.7729ms 200 application/font-woff
[2020-12-16T18:33:43.1499574-08:00][INFO][12][Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 GET https://localhost:44310/.well-known/openid-configuration  
[2020-12-16T18:33:43.1817356-08:00][INFO][12][IdentityServer4.Hosting.IdentityServerMiddleware] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.DiscoveryEndpoint" for "/.well-known/openid-configuration"
[2020-12-16T18:33:43.2146995-08:00][INFO][12][Microsoft.EntityFrameworkCore.Infrastructure] Entity Framework Core "3.1.9" initialized '"IdentityServerConfigurationDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=EventManager.Identity.Admin.EntityFramework.SqlServer "
[2020-12-16T18:33:43.5343620-08:00][INFO][8][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("62"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [i].[Id], [i].[Created], [i].[Description], [i].[DisplayName], [i].[Emphasize], [i].[Enabled], [i].[Name], [i].[NonEditable], [i].[Required], [i].[ShowInDiscoveryDocument], [i].[Updated], [i0].[Id], [i0].[IdentityResourceId], [i0].[Type], [i1].[Id], [i1].[IdentityResourceId], [i1].[Key], [i1].[Value]
FROM [IdentityResources] AS [i]
LEFT JOIN [IdentityResourceClaims] AS [i0] ON [i].[Id] = [i0].[IdentityResourceId]
LEFT JOIN [IdentityResourceProperties] AS [i1] ON [i].[Id] = [i1].[IdentityResourceId]
ORDER BY [i].[Id], [i0].[Id], [i1].[Id]"
[2020-12-16T18:33:43.8397737-08:00][INFO][14][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("14"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [a].[Id], [a].[AllowedAccessTokenSigningAlgorithms], [a].[Created], [a].[Description], [a].[DisplayName], [a].[Enabled], [a].[LastAccessed], [a].[Name], [a].[NonEditable], [a].[ShowInDiscoveryDocument], [a].[Updated], [a0].[Id], [a0].[ApiResourceId], [a0].[Created], [a0].[Description], [a0].[Expiration], [a0].[Type], [a0].[Value], [a1].[Id], [a1].[ApiResourceId], [a1].[Scope], [a2].[Id], [a2].[ApiResourceId], [a2].[Type], [a3].[Id], [a3].[ApiResourceId], [a3].[Key], [a3].[Value]
FROM [ApiResources] AS [a]
LEFT JOIN [ApiResourceSecrets] AS [a0] ON [a].[Id] = [a0].[ApiResourceId]
LEFT JOIN [ApiResourceScopes] AS [a1] ON [a].[Id] = [a1].[ApiResourceId]
LEFT JOIN [ApiResourceClaims] AS [a2] ON [a].[Id] = [a2].[ApiResourceId]
LEFT JOIN [ApiResourceProperties] AS [a3] ON [a].[Id] = [a3].[ApiResourceId]
ORDER BY [a].[Id], [a0].[Id], [a1].[Id], [a2].[Id], [a3].[Id]"
[2020-12-16T18:33:43.9157605-08:00][INFO][5][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("9"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [a].[Id], [a].[Description], [a].[DisplayName], [a].[Emphasize], [a].[Enabled], [a].[Name], [a].[Required], [a].[ShowInDiscoveryDocument], [a0].[Id], [a0].[ScopeId], [a0].[Type], [a1].[Id], [a1].[Key], [a1].[ScopeId], [a1].[Value]
FROM [ApiScopes] AS [a]
LEFT JOIN [ApiScopeClaims] AS [a0] ON [a].[Id] = [a0].[ScopeId]
LEFT JOIN [ApiScopeProperties] AS [a1] ON [a].[Id] = [a1].[ScopeId]
ORDER BY [a].[Id], [a0].[Id], [a1].[Id]"
[2020-12-16T18:33:44.8212533-08:00][INFO][5][Microsoft.AspNetCore.Hosting.Diagnostics] Request finished in 1671.2348ms 200 application/json; charset=UTF-8
[2020-12-16T18:33:45.0517694-08:00][INFO][4][Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 GET https://localhost:44310/.well-known/openid-configuration/jwks  
[2020-12-16T18:33:45.0770977-08:00][INFO][4][IdentityServer4.Hosting.IdentityServerMiddleware] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.DiscoveryKeyEndpoint" for "/.well-known/openid-configuration/jwks"
[2020-12-16T18:33:45.1415779-08:00][INFO][4][Microsoft.AspNetCore.Hosting.Diagnostics] Request finished in 89.9126ms 200 application/json; charset=UTF-8
[2020-12-16T18:33:45.2954241-08:00][INFO][11][Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:44310/connect/authorize?client_id=urn%3Aem%3Aclient&redirect_uri=https%3A%2F%2Flocalhost%3A44303%2Fsignin-oidc&response_type=code&scope=openid%20profile%20email%20roles&code_challenge=dWnvalyMZIIS1pe5ltIGwrYZPB2RK1UKh__fiuDnBCk&code_challenge_method=S256&response_mode=form_post&nonce=637437692252089014.Y2FkMzczNGMtZGUyMS00MzA3LTk4YWMtMjQ1OTgxYjM0OTViZjc4N2U5NTctYmM5ZS00OGZhLWIwNzMtZjM1MmJlM2Y3NWRj&state=CfDJ8MPRbAevb1dLpUBHAVWjYkRfNlglUq-55aR_RbalOiLqkXc9PYcYWj_CdohlkukZMzr-f4BpLTgK8Z3fVOM8BRgSZxISrH5uiBDETQAXYbF2ANcA3eRTPfIftf38MA6PwyymJJ8sD0ZW97f80Iq9CVnvyLeeHPlOyf21evI1M7LQZHEAYZgJse2jM5iO_CKyImSGFzcT_oQikQAe7VWKGD7ovL_eH09t6kPyMUoO7NLeoSp5OGgK7kYghQ233EEhvFo4ZZgC2sRNJ13BdvoqgllM92c7Au2GsoBB1HujHNSHik3NIdxJ-YBqtefRPAZwvX8ZYaAsVyJlClq7n0z_XUPlYYuso3_h38HYtTdlx4pVjCtI86K37OrHCJ42m2zGaQ&x-client-SKU=ID_NETSTANDARD2_0&x-client-ver=5.6.0.0  
[2020-12-16T18:33:45.3193340-08:00][INFO][11][IdentityServer4.Hosting.IdentityServerMiddleware] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize"
[2020-12-16T18:33:45.3636492-08:00][INFO][11][Microsoft.EntityFrameworkCore.Infrastructure] Entity Framework Core "3.1.9" initialized '"IdentityServerConfigurationDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=EventManager.Identity.Admin.EntityFramework.SqlServer "
[2020-12-16T18:33:45.4789238-08:00][INFO][8][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("40"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c].[Id], [c].[AbsoluteRefreshTokenLifetime], [c].[AccessTokenLifetime], [c].[AccessTokenType], [c].[AllowAccessTokensViaBrowser], [c].[AllowOfflineAccess], [c].[AllowPlainTextPkce], [c].[AllowRememberConsent], [c].[AllowedIdentityTokenSigningAlgorithms], [c].[AlwaysIncludeUserClaimsInIdToken], [c].[AlwaysSendClientClaims], [c].[AuthorizationCodeLifetime], [c].[BackChannelLogoutSessionRequired], [c].[BackChannelLogoutUri], [c].[ClientClaimsPrefix], [c].[ClientId], [c].[ClientName], [c].[ClientUri], [c].[ConsentLifetime], [c].[Created], [c].[Description], [c].[DeviceCodeLifetime], [c].[EnableLocalLogin], [c].[Enabled], [c].[FrontChannelLogoutSessionRequired], [c].[FrontChannelLogoutUri], [c].[IdentityTokenLifetime], [c].[IncludeJwtId], [c].[LastAccessed], [c].[LogoUri], [c].[NonEditable], [c].[PairWiseSubjectSalt], [c].[ProtocolType], [c].[RefreshTokenExpiration], [c].[RefreshTokenUsage], [c].[RequireClientSecret], [c].[RequireConsent], [c].[RequirePkce], [c].[RequireRequestObject], [c].[SlidingRefreshTokenLifetime], [c].[UpdateAccessTokenClaimsOnRefresh], [c].[Updated], [c].[UserCodeType], [c].[UserSsoLifetime]
FROM [Clients] AS [c]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-16T18:33:45.5955919-08:00][INFO][13][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("5"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[Origin]
FROM [Clients] AS [c]
INNER JOIN [ClientCorsOrigins] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-16T18:33:45.6397367-08:00][INFO][10][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("3"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[GrantType]
FROM [Clients] AS [c]
INNER JOIN [ClientGrantTypes] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-16T18:33:45.6881962-08:00][INFO][5][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("3"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[Scope]
FROM [Clients] AS [c]
INNER JOIN [ClientScopes] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-16T18:33:45.7284623-08:00][INFO][8][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("3"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[Type], [c0].[Value]
FROM [Clients] AS [c]
INNER JOIN [ClientClaims] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-16T18:33:45.7683554-08:00][INFO][8][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("8"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[Created], [c0].[Description], [c0].[Expiration], [c0].[Type], [c0].[Value]
FROM [Clients] AS [c]
INNER JOIN [ClientSecrets] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-16T18:33:45.8205506-08:00][INFO][14][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("9"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[Provider]
FROM [Clients] AS [c]
INNER JOIN [ClientIdPRestrictions] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-16T18:33:45.8585143-08:00][INFO][5][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("3"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[PostLogoutRedirectUri]
FROM [Clients] AS [c]
INNER JOIN [ClientPostLogoutRedirectUris] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-16T18:33:45.9021974-08:00][INFO][8][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("3"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[Key], [c0].[Value]
FROM [Clients] AS [c]
INNER JOIN [ClientProperties] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-16T18:33:45.9330239-08:00][INFO][14][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("6"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[RedirectUri]
FROM [Clients] AS [c]
INNER JOIN [ClientRedirectUris] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-16T18:33:46.3697807-08:00][INFO][8][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("27"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [i].[Id], [i].[Created], [i].[Description], [i].[DisplayName], [i].[Emphasize], [i].[Enabled], [i].[Name], [i].[NonEditable], [i].[Required], [i].[ShowInDiscoveryDocument], [i].[Updated], [i0].[Id], [i0].[IdentityResourceId], [i0].[Type], [i1].[Id], [i1].[IdentityResourceId], [i1].[Key], [i1].[Value]
FROM [IdentityResources] AS [i]
LEFT JOIN [IdentityResourceClaims] AS [i0] ON [i].[Id] = [i0].[IdentityResourceId]
LEFT JOIN [IdentityResourceProperties] AS [i1] ON [i].[Id] = [i1].[IdentityResourceId]
WHERE [i].[Name] IN (N'openid', N'profile', N'email', N'roles')
ORDER BY [i].[Id], [i0].[Id], [i1].[Id]"
[2020-12-16T18:33:46.4694688-08:00][INFO][5][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("20"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [a].[Id], [a].[AllowedAccessTokenSigningAlgorithms], [a].[Created], [a].[Description], [a].[DisplayName], [a].[Enabled], [a].[LastAccessed], [a].[Name], [a].[NonEditable], [a].[ShowInDiscoveryDocument], [a].[Updated], [a0].[Id], [a0].[ApiResourceId], [a0].[Created], [a0].[Description], [a0].[Expiration], [a0].[Type], [a0].[Value], [a1].[Id], [a1].[ApiResourceId], [a1].[Scope], [a2].[Id], [a2].[ApiResourceId], [a2].[Type], [a3].[Id], [a3].[ApiResourceId], [a3].[Key], [a3].[Value]
FROM [ApiResources] AS [a]
LEFT JOIN [ApiResourceSecrets] AS [a0] ON [a].[Id] = [a0].[ApiResourceId]
LEFT JOIN [ApiResourceScopes] AS [a1] ON [a].[Id] = [a1].[ApiResourceId]
LEFT JOIN [ApiResourceClaims] AS [a2] ON [a].[Id] = [a2].[ApiResourceId]
LEFT JOIN [ApiResourceProperties] AS [a3] ON [a].[Id] = [a3].[ApiResourceId]
WHERE EXISTS (
    SELECT 1
    FROM [ApiResourceScopes] AS [a4]
    WHERE ([a].[Id] = [a4].[ApiResourceId]) AND [a4].[Scope] IN (N'openid', N'profile', N'email', N'roles'))
ORDER BY [a].[Id], [a0].[Id], [a1].[Id], [a2].[Id], [a3].[Id]"
[2020-12-16T18:33:46.5303161-08:00][INFO][8][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("13"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [a].[Id], [a].[Description], [a].[DisplayName], [a].[Emphasize], [a].[Enabled], [a].[Name], [a].[Required], [a].[ShowInDiscoveryDocument], [a0].[Id], [a0].[ScopeId], [a0].[Type], [a1].[Id], [a1].[Key], [a1].[ScopeId], [a1].[Value]
FROM [ApiScopes] AS [a]
LEFT JOIN [ApiScopeClaims] AS [a0] ON [a].[Id] = [a0].[ScopeId]
LEFT JOIN [ApiScopeProperties] AS [a1] ON [a].[Id] = [a1].[ScopeId]
WHERE [a].[Name] IN (N'openid', N'profile', N'email', N'roles')
ORDER BY [a].[Id], [a0].[Id], [a1].[Id]"
[2020-12-16T18:33:46.5700227-08:00][INFO][8][IdentityServer4.ResponseHandling.AuthorizeInteractionResponseGenerator] Showing login: User is not authenticated
[2020-12-16T18:33:46.5831870-08:00][INFO][8][Microsoft.AspNetCore.Hosting.Diagnostics] Request finished in 1287.8139ms 302 
[2020-12-16T18:33:46.5939554-08:00][INFO][14][Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:44310/Account/Login?ReturnUrl=%2Fconnect%2Fauthorize%2Fcallback%3Fclient_id%3Durn%253Aem%253Aclient%26redirect_uri%3Dhttps%253A%252F%252Flocalhost%253A44303%252Fsignin-oidc%26response_type%3Dcode%26scope%3Dopenid%2520profile%2520email%2520roles%26code_challenge%3DdWnvalyMZIIS1pe5ltIGwrYZPB2RK1UKh__fiuDnBCk%26code_challenge_method%3DS256%26response_mode%3Dform_post%26nonce%3D637437692252089014.Y2FkMzczNGMtZGUyMS00MzA3LTk4YWMtMjQ1OTgxYjM0OTViZjc4N2U5NTctYmM5ZS00OGZhLWIwNzMtZjM1MmJlM2Y3NWRj%26state%3DCfDJ8MPRbAevb1dLpUBHAVWjYkRfNlglUq-55aR_RbalOiLqkXc9PYcYWj_CdohlkukZMzr-f4BpLTgK8Z3fVOM8BRgSZxISrH5uiBDETQAXYbF2ANcA3eRTPfIftf38MA6PwyymJJ8sD0ZW97f80Iq9CVnvyLeeHPlOyf21evI1M7LQZHEAYZgJse2jM5iO_CKyImSGFzcT_oQikQAe7VWKGD7ovL_eH09t6kPyMUoO7NLeoSp5OGgK7kYghQ233EEhvFo4ZZgC2sRNJ13BdvoqgllM92c7Au2GsoBB1HujHNSHik3NIdxJ-YBqtefRPAZwvX8ZYaAsVyJlClq7n0z_XUPlYYuso3_h38HYtTdlx4pVjCtI86K37OrHCJ42m2zGaQ%26x-client-SKU%3DID_NETSTANDARD2_0%26x-client-ver%3D5.6.0.0  
[2020-12-16T18:33:46.6175834-08:00][INFO][14][Microsoft.AspNetCore.Routing.EndpointMiddleware] Executing endpoint '"EventManager.Identity.STS.Identity.Controllers.AccountController<EventManager.Identity.Admin.EntityFramework.Shared.Entities.Identity.UserIdentity, string>.Login (EventManager.Identity.STS.Identity)"'
[2020-12-16T18:33:46.6435717-08:00][INFO][14][Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Route matched with "{action = \"Login\", controller = \"Account\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(System.String)" on controller "EventManager.Identity.STS.Identity.Controllers.AccountController<EventManager.Identity.Admin.EntityFramework.Shared.Entities.Identity.UserIdentity, string>" ("EventManager.Identity.STS.Identity").
[2020-12-16T18:33:46.6951412-08:00][INFO][14][Microsoft.EntityFrameworkCore.Infrastructure] Entity Framework Core "3.1.9" initialized '"IdentityServerConfigurationDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=EventManager.Identity.Admin.EntityFramework.SqlServer "
[2020-12-16T18:33:46.7108582-08:00][INFO][5][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("3"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c].[Id], [c].[AbsoluteRefreshTokenLifetime], [c].[AccessTokenLifetime], [c].[AccessTokenType], [c].[AllowAccessTokensViaBrowser], [c].[AllowOfflineAccess], [c].[AllowPlainTextPkce], [c].[AllowRememberConsent], [c].[AllowedIdentityTokenSigningAlgorithms], [c].[AlwaysIncludeUserClaimsInIdToken], [c].[AlwaysSendClientClaims], [c].[AuthorizationCodeLifetime], [c].[BackChannelLogoutSessionRequired], [c].[BackChannelLogoutUri], [c].[ClientClaimsPrefix], [c].[ClientId], [c].[ClientName], [c].[ClientUri], [c].[ConsentLifetime], [c].[Created], [c].[Description], [c].[DeviceCodeLifetime], [c].[EnableLocalLogin], [c].[Enabled], [c].[FrontChannelLogoutSessionRequired], [c].[FrontChannelLogoutUri], [c].[IdentityTokenLifetime], [c].[IncludeJwtId], [c].[LastAccessed], [c].[LogoUri], [c].[NonEditable], [c].[PairWiseSubjectSalt], [c].[ProtocolType], [c].[RefreshTokenExpiration], [c].[RefreshTokenUsage], [c].[RequireClientSecret], [c].[RequireConsent], [c].[RequirePkce], [c].[RequireRequestObject], [c].[SlidingRefreshTokenLifetime], [c].[UpdateAccessTokenClaimsOnRefresh], [c].[Updated], [c].[UserCodeType], [c].[UserSsoLifetime]
FROM [Clients] AS [c]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-16T18:33:46.7297776-08:00][INFO][5][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("4"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[Origin]
FROM [Clients] AS [c]
INNER JOIN [ClientCorsOrigins] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-16T18:33:46.7442934-08:00][INFO][5][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("3"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[GrantType]
FROM [Clients] AS [c]
INNER JOIN [ClientGrantTypes] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-16T18:33:46.7657766-08:00][INFO][13][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("5"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[Scope]
FROM [Clients] AS [c]
INNER JOIN [ClientScopes] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-16T18:33:46.7852932-08:00][INFO][13][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("6"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[Type], [c0].[Value]
FROM [Clients] AS [c]
INNER JOIN [ClientClaims] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-16T18:33:46.8015390-08:00][INFO][13][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("3"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[Created], [c0].[Description], [c0].[Expiration], [c0].[Type], [c0].[Value]
FROM [Clients] AS [c]
INNER JOIN [ClientSecrets] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-16T18:33:46.8152650-08:00][INFO][13][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("4"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[Provider]
FROM [Clients] AS [c]
INNER JOIN [ClientIdPRestrictions] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-16T18:33:46.8287281-08:00][INFO][5][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("3"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[PostLogoutRedirectUri]
FROM [Clients] AS [c]
INNER JOIN [ClientPostLogoutRedirectUris] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-16T18:33:46.8442668-08:00][INFO][5][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("3"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[Key], [c0].[Value]
FROM [Clients] AS [c]
INNER JOIN [ClientProperties] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-16T18:33:46.8606567-08:00][INFO][5][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("3"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[RedirectUri]
FROM [Clients] AS [c]
INNER JOIN [ClientRedirectUris] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-16T18:33:46.8775604-08:00][INFO][5][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [i].[Id], [i].[Created], [i].[Description], [i].[DisplayName], [i].[Emphasize], [i].[Enabled], [i].[Name], [i].[NonEditable], [i].[Required], [i].[ShowInDiscoveryDocument], [i].[Updated], [i0].[Id], [i0].[IdentityResourceId], [i0].[Type], [i1].[Id], [i1].[IdentityResourceId], [i1].[Key], [i1].[Value]
FROM [IdentityResources] AS [i]
LEFT JOIN [IdentityResourceClaims] AS [i0] ON [i].[Id] = [i0].[IdentityResourceId]
LEFT JOIN [IdentityResourceProperties] AS [i1] ON [i].[Id] = [i1].[IdentityResourceId]
WHERE [i].[Name] IN (N'openid', N'profile', N'email', N'roles')
ORDER BY [i].[Id], [i0].[Id], [i1].[Id]"
[2020-12-16T18:33:46.8981516-08:00][INFO][8][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("4"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [a].[Id], [a].[AllowedAccessTokenSigningAlgorithms], [a].[Created], [a].[Description], [a].[DisplayName], [a].[Enabled], [a].[LastAccessed], [a].[Name], [a].[NonEditable], [a].[ShowInDiscoveryDocument], [a].[Updated], [a0].[Id], [a0].[ApiResourceId], [a0].[Created], [a0].[Description], [a0].[Expiration], [a0].[Type], [a0].[Value], [a1].[Id], [a1].[ApiResourceId], [a1].[Scope], [a2].[Id], [a2].[ApiResourceId], [a2].[Type], [a3].[Id], [a3].[ApiResourceId], [a3].[Key], [a3].[Value]
FROM [ApiResources] AS [a]
LEFT JOIN [ApiResourceSecrets] AS [a0] ON [a].[Id] = [a0].[ApiResourceId]
LEFT JOIN [ApiResourceScopes] AS [a1] ON [a].[Id] = [a1].[ApiResourceId]
LEFT JOIN [ApiResourceClaims] AS [a2] ON [a].[Id] = [a2].[ApiResourceId]
LEFT JOIN [ApiResourceProperties] AS [a3] ON [a].[Id] = [a3].[ApiResourceId]
WHERE EXISTS (
    SELECT 1
    FROM [ApiResourceScopes] AS [a4]
    WHERE ([a].[Id] = [a4].[ApiResourceId]) AND [a4].[Scope] IN (N'openid', N'profile', N'email', N'roles'))
ORDER BY [a].[Id], [a0].[Id], [a1].[Id], [a2].[Id], [a3].[Id]"
[2020-12-16T18:33:46.9281941-08:00][INFO][5][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("5"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [a].[Id], [a].[Description], [a].[DisplayName], [a].[Emphasize], [a].[Enabled], [a].[Name], [a].[Required], [a].[ShowInDiscoveryDocument], [a0].[Id], [a0].[ScopeId], [a0].[Type], [a1].[Id], [a1].[Key], [a1].[ScopeId], [a1].[Value]
FROM [ApiScopes] AS [a]
LEFT JOIN [ApiScopeClaims] AS [a0] ON [a].[Id] = [a0].[ScopeId]
LEFT JOIN [ApiScopeProperties] AS [a1] ON [a].[Id] = [a1].[ScopeId]
WHERE [a].[Name] IN (N'openid', N'profile', N'email', N'roles')
ORDER BY [a].[Id], [a0].[Id], [a1].[Id]"
[2020-12-16T18:33:46.9567487-08:00][INFO][8][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("5"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c].[Id], [c].[AbsoluteRefreshTokenLifetime], [c].[AccessTokenLifetime], [c].[AccessTokenType], [c].[AllowAccessTokensViaBrowser], [c].[AllowOfflineAccess], [c].[AllowPlainTextPkce], [c].[AllowRememberConsent], [c].[AllowedIdentityTokenSigningAlgorithms], [c].[AlwaysIncludeUserClaimsInIdToken], [c].[AlwaysSendClientClaims], [c].[AuthorizationCodeLifetime], [c].[BackChannelLogoutSessionRequired], [c].[BackChannelLogoutUri], [c].[ClientClaimsPrefix], [c].[ClientId], [c].[ClientName], [c].[ClientUri], [c].[ConsentLifetime], [c].[Created], [c].[Description], [c].[DeviceCodeLifetime], [c].[EnableLocalLogin], [c].[Enabled], [c].[FrontChannelLogoutSessionRequired], [c].[FrontChannelLogoutUri], [c].[IdentityTokenLifetime], [c].[IncludeJwtId], [c].[LastAccessed], [c].[LogoUri], [c].[NonEditable], [c].[PairWiseSubjectSalt], [c].[ProtocolType], [c].[RefreshTokenExpiration], [c].[RefreshTokenUsage], [c].[RequireClientSecret], [c].[RequireConsent], [c].[RequirePkce], [c].[RequireRequestObject], [c].[SlidingRefreshTokenLifetime], [c].[UpdateAccessTokenClaimsOnRefresh], [c].[Updated], [c].[UserCodeType], [c].[UserSsoLifetime]
FROM [Clients] AS [c]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-16T18:33:46.9835534-08:00][INFO][8][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("8"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[Origin]
FROM [Clients] AS [c]
INNER JOIN [ClientCorsOrigins] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-16T18:33:47.0007272-08:00][INFO][13][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("6"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[GrantType]
FROM [Clients] AS [c]
INNER JOIN [ClientGrantTypes] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-16T18:33:47.0184834-08:00][INFO][13][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("7"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[Scope]
FROM [Clients] AS [c]
INNER JOIN [ClientScopes] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-16T18:33:47.0357502-08:00][INFO][8][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("3"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[Type], [c0].[Value]
FROM [Clients] AS [c]
INNER JOIN [ClientClaims] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-16T18:33:47.0554004-08:00][INFO][14][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("8"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[Created], [c0].[Description], [c0].[Expiration], [c0].[Type], [c0].[Value]
FROM [Clients] AS [c]
INNER JOIN [ClientSecrets] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-16T18:33:47.0857178-08:00][INFO][8][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("15"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[Provider]
FROM [Clients] AS [c]
INNER JOIN [ClientIdPRestrictions] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-16T18:33:47.1034999-08:00][INFO][8][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("4"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[PostLogoutRedirectUri]
FROM [Clients] AS [c]
INNER JOIN [ClientPostLogoutRedirectUris] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-16T18:33:47.1326277-08:00][INFO][14][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("10"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[Key], [c0].[Value]
FROM [Clients] AS [c]
INNER JOIN [ClientProperties] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-16T18:33:47.1492716-08:00][INFO][14][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("7"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[RedirectUri]
FROM [Clients] AS [c]
INNER JOIN [ClientRedirectUris] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-16T18:33:47.1710048-08:00][INFO][14][Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor] Executing ViewResult, running view "Login".
[2020-12-16T18:33:47.2607489-08:00][INFO][14][Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor] Executed ViewResult - view "Login" executed in 90.8351ms.
[2020-12-16T18:33:47.2908633-08:00][INFO][14][Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Executed action "EventManager.Identity.STS.Identity.Controllers.AccountController<EventManager.Identity.Admin.EntityFramework.Shared.Entities.Identity.UserIdentity, string>.Login (EventManager.Identity.STS.Identity)" in 634.8859ms
[2020-12-16T18:33:47.3072989-08:00][INFO][14][Microsoft.AspNetCore.Routing.EndpointMiddleware] Executed endpoint '"EventManager.Identity.STS.Identity.Controllers.AccountController<EventManager.Identity.Admin.EntityFramework.Shared.Entities.Identity.UserIdentity, string>.Login (EventManager.Identity.STS.Identity)"'
[2020-12-16T18:33:47.3412227-08:00][INFO][14][Microsoft.AspNetCore.Hosting.Diagnostics] Request finished in 746.775ms 200 text/html; charset=utf-8
[2020-12-16T18:33:47.3448283-08:00][INFO][13][Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:44310/dist/js/bundle.min.js?v=11Fw87BWmEIjIw_LrA_JwvJM5t0w9WbTFIog6ElarB0  
[2020-12-16T18:33:47.3449549-08:00][INFO][5][Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:44310/dist/css/web.css?v=gzbQ_J4PfKys2r0KpTe01uKRO7lnqK_lEp7OvIB7ZAA  
[2020-12-16T18:33:47.3431330-08:00][INFO][8][Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:44310/dist/css/bundle.min.css?v=6Y8xGSDMhkjYMZuaFSdp3fqA3xdNX-Q6_xp14ExGbY8  
[2020-12-16T18:33:47.3640075-08:00][INFO][5][Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware] Sending file. Request path: '"/dist/css/web.css"'. Physical path: '"C:\Projects\EventManager\Api\Identity\src\EventManager.Identity.STS.Identity\wwwroot\dist\css\web.css"'
[2020-12-16T18:33:47.3846208-08:00][INFO][14][Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware] Sending file. Request path: '"/dist/css/bundle.min.css"'. Physical path: '"C:\Projects\EventManager\Api\Identity\src\EventManager.Identity.STS.Identity\wwwroot\dist\css\bundle.min.css"'
[2020-12-16T18:33:47.3933331-08:00][INFO][5][Microsoft.AspNetCore.Hosting.Diagnostics] Request finished in 48.4586ms 200 text/css
[2020-12-16T18:33:47.4033163-08:00][INFO][8][Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware] Sending file. Request path: '"/dist/js/bundle.min.js"'. Physical path: '"C:\Projects\EventManager\Api\Identity\src\EventManager.Identity.STS.Identity\wwwroot\dist\js\bundle.min.js"'
[2020-12-16T18:33:47.4104916-08:00][INFO][14][Microsoft.AspNetCore.Hosting.Diagnostics] Request finished in 67.4375ms 200 text/css
[2020-12-16T18:33:47.4250207-08:00][INFO][8][Microsoft.AspNetCore.Hosting.Diagnostics] Request finished in 80.1509ms 200 application/javascript
[2020-12-16T18:33:47.4814475-08:00][INFO][8][Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:44310/dist/fonts/open-iconic.woff  
[2020-12-16T18:33:47.4820431-08:00][INFO][14][Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:44310/dist/fonts/fontawesome-webfont.woff2?v=4.7.0  
[2020-12-16T18:33:47.4897063-08:00][INFO][8][Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware] Sending file. Request path: '"/dist/fonts/open-iconic.woff"'. Physical path: '"C:\Projects\EventManager\Api\Identity\src\EventManager.Identity.STS.Identity\wwwroot\dist\fonts\open-iconic.woff"'
[2020-12-16T18:33:47.5000390-08:00][INFO][14][Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware] Sending file. Request path: '"/dist/fonts/fontawesome-webfont.woff2"'. Physical path: '"C:\Projects\EventManager\Api\Identity\src\EventManager.Identity.STS.Identity\wwwroot\dist\fonts\fontawesome-webfont.woff2"'
[2020-12-16T18:33:47.5045926-08:00][INFO][8][Microsoft.AspNetCore.Hosting.Diagnostics] Request finished in 23.0163ms 200 application/font-woff
[2020-12-16T18:33:47.5183833-08:00][INFO][14][Microsoft.AspNetCore.Hosting.Diagnostics] Request finished in 39.9454ms 200 font/woff2
[2020-12-16T18:41:46.8179116-08:00][INFO][14][Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 POST https://localhost:44310/Account/Login?ReturnUrl=%2Fconnect%2Fauthorize%2Fcallback%3Fclient_id%3Durn%253Aem%253Aclient%26redirect_uri%3Dhttps%253A%252F%252Flocalhost%253A44303%252Fsignin-oidc%26response_type%3Dcode%26scope%3Dopenid%2520profile%2520email%2520roles%26code_challenge%3DdWnvalyMZIIS1pe5ltIGwrYZPB2RK1UKh__fiuDnBCk%26code_challenge_method%3DS256%26response_mode%3Dform_post%26nonce%3D637437692252089014.Y2FkMzczNGMtZGUyMS00MzA3LTk4YWMtMjQ1OTgxYjM0OTViZjc4N2U5NTctYmM5ZS00OGZhLWIwNzMtZjM1MmJlM2Y3NWRj%26state%3DCfDJ8MPRbAevb1dLpUBHAVWjYkRfNlglUq-55aR_RbalOiLqkXc9PYcYWj_CdohlkukZMzr-f4BpLTgK8Z3fVOM8BRgSZxISrH5uiBDETQAXYbF2ANcA3eRTPfIftf38MA6PwyymJJ8sD0ZW97f80Iq9CVnvyLeeHPlOyf21evI1M7LQZHEAYZgJse2jM5iO_CKyImSGFzcT_oQikQAe7VWKGD7ovL_eH09t6kPyMUoO7NLeoSp5OGgK7kYghQ233EEhvFo4ZZgC2sRNJ13BdvoqgllM92c7Au2GsoBB1HujHNSHik3NIdxJ-YBqtefRPAZwvX8ZYaAsVyJlClq7n0z_XUPlYYuso3_h38HYtTdlx4pVjCtI86K37OrHCJ42m2zGaQ%26x-client-SKU%3DID_NETSTANDARD2_0%26x-client-ver%3D5.6.0.0 application/x-www-form-urlencoded 1184
[2020-12-16T18:41:46.8545311-08:00][INFO][14][Microsoft.AspNetCore.Cors.Infrastructure.CorsMiddleware] No CORS policy found for the specified request.
[2020-12-16T18:41:46.8663614-08:00][INFO][14][Microsoft.AspNetCore.Routing.EndpointMiddleware] Executing endpoint '"EventManager.Identity.STS.Identity.Controllers.AccountController<EventManager.Identity.Admin.EntityFramework.Shared.Entities.Identity.UserIdentity, string>.Login (EventManager.Identity.STS.Identity)"'
[2020-12-16T18:41:46.8835390-08:00][INFO][14][Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Route matched with "{action = \"Login\", controller = \"Account\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(EventManager.Identity.STS.Identity.ViewModels.Account.LoginInputModel, System.String)" on controller "EventManager.Identity.STS.Identity.Controllers.AccountController<EventManager.Identity.Admin.EntityFramework.Shared.Entities.Identity.UserIdentity, string>" ("EventManager.Identity.STS.Identity").
[2020-12-16T18:41:46.9330862-08:00][INFO][14][Microsoft.EntityFrameworkCore.Infrastructure] Entity Framework Core "3.1.9" initialized '"IdentityServerConfigurationDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=EventManager.Identity.Admin.EntityFramework.SqlServer "
[2020-12-16T18:41:47.0016871-08:00][INFO][18][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("5"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c].[Id], [c].[AbsoluteRefreshTokenLifetime], [c].[AccessTokenLifetime], [c].[AccessTokenType], [c].[AllowAccessTokensViaBrowser], [c].[AllowOfflineAccess], [c].[AllowPlainTextPkce], [c].[AllowRememberConsent], [c].[AllowedIdentityTokenSigningAlgorithms], [c].[AlwaysIncludeUserClaimsInIdToken], [c].[AlwaysSendClientClaims], [c].[AuthorizationCodeLifetime], [c].[BackChannelLogoutSessionRequired], [c].[BackChannelLogoutUri], [c].[ClientClaimsPrefix], [c].[ClientId], [c].[ClientName], [c].[ClientUri], [c].[ConsentLifetime], [c].[Created], [c].[Description], [c].[DeviceCodeLifetime], [c].[EnableLocalLogin], [c].[Enabled], [c].[FrontChannelLogoutSessionRequired], [c].[FrontChannelLogoutUri], [c].[IdentityTokenLifetime], [c].[IncludeJwtId], [c].[LastAccessed], [c].[LogoUri], [c].[NonEditable], [c].[PairWiseSubjectSalt], [c].[ProtocolType], [c].[RefreshTokenExpiration], [c].[RefreshTokenUsage], [c].[RequireClientSecret], [c].[RequireConsent], [c].[RequirePkce], [c].[RequireRequestObject], [c].[SlidingRefreshTokenLifetime], [c].[UpdateAccessTokenClaimsOnRefresh], [c].[Updated], [c].[UserCodeType], [c].[UserSsoLifetime]
FROM [Clients] AS [c]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-16T18:41:47.0190488-08:00][INFO][18][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("3"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[Origin]
FROM [Clients] AS [c]
INNER JOIN [ClientCorsOrigins] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-16T18:41:47.0336859-08:00][INFO][22][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("3"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[GrantType]
FROM [Clients] AS [c]
INNER JOIN [ClientGrantTypes] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-16T18:41:47.0469066-08:00][INFO][13][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("5"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[Scope]
FROM [Clients] AS [c]
INNER JOIN [ClientScopes] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-16T18:41:47.0609784-08:00][INFO][14][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("3"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[Type], [c0].[Value]
FROM [Clients] AS [c]
INNER JOIN [ClientClaims] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-16T18:41:47.0727866-08:00][INFO][13][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("3"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[Created], [c0].[Description], [c0].[Expiration], [c0].[Type], [c0].[Value]
FROM [Clients] AS [c]
INNER JOIN [ClientSecrets] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-16T18:41:47.0855767-08:00][INFO][14][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("2"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[Provider]
FROM [Clients] AS [c]
INNER JOIN [ClientIdPRestrictions] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-16T18:41:47.0974720-08:00][INFO][18][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("3"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[PostLogoutRedirectUri]
FROM [Clients] AS [c]
INNER JOIN [ClientPostLogoutRedirectUris] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-16T18:41:47.1210071-08:00][INFO][13][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("3"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[Key], [c0].[Value]
FROM [Clients] AS [c]
INNER JOIN [ClientProperties] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-16T18:41:47.1401801-08:00][INFO][14][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("3"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[RedirectUri]
FROM [Clients] AS [c]
INNER JOIN [ClientRedirectUris] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-16T18:41:47.1514654-08:00][INFO][14][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [i].[Id], [i].[Created], [i].[Description], [i].[DisplayName], [i].[Emphasize], [i].[Enabled], [i].[Name], [i].[NonEditable], [i].[Required], [i].[ShowInDiscoveryDocument], [i].[Updated], [i0].[Id], [i0].[IdentityResourceId], [i0].[Type], [i1].[Id], [i1].[IdentityResourceId], [i1].[Key], [i1].[Value]
FROM [IdentityResources] AS [i]
LEFT JOIN [IdentityResourceClaims] AS [i0] ON [i].[Id] = [i0].[IdentityResourceId]
LEFT JOIN [IdentityResourceProperties] AS [i1] ON [i].[Id] = [i1].[IdentityResourceId]
WHERE [i].[Name] IN (N'openid', N'profile', N'email', N'roles')
ORDER BY [i].[Id], [i0].[Id], [i1].[Id]"
[2020-12-16T18:41:47.1658350-08:00][INFO][18][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [a].[Id], [a].[AllowedAccessTokenSigningAlgorithms], [a].[Created], [a].[Description], [a].[DisplayName], [a].[Enabled], [a].[LastAccessed], [a].[Name], [a].[NonEditable], [a].[ShowInDiscoveryDocument], [a].[Updated], [a0].[Id], [a0].[ApiResourceId], [a0].[Created], [a0].[Description], [a0].[Expiration], [a0].[Type], [a0].[Value], [a1].[Id], [a1].[ApiResourceId], [a1].[Scope], [a2].[Id], [a2].[ApiResourceId], [a2].[Type], [a3].[Id], [a3].[ApiResourceId], [a3].[Key], [a3].[Value]
FROM [ApiResources] AS [a]
LEFT JOIN [ApiResourceSecrets] AS [a0] ON [a].[Id] = [a0].[ApiResourceId]
LEFT JOIN [ApiResourceScopes] AS [a1] ON [a].[Id] = [a1].[ApiResourceId]
LEFT JOIN [ApiResourceClaims] AS [a2] ON [a].[Id] = [a2].[ApiResourceId]
LEFT JOIN [ApiResourceProperties] AS [a3] ON [a].[Id] = [a3].[ApiResourceId]
WHERE EXISTS (
    SELECT 1
    FROM [ApiResourceScopes] AS [a4]
    WHERE ([a].[Id] = [a4].[ApiResourceId]) AND [a4].[Scope] IN (N'openid', N'profile', N'email', N'roles'))
ORDER BY [a].[Id], [a0].[Id], [a1].[Id], [a2].[Id], [a3].[Id]"
[2020-12-16T18:41:47.2025254-08:00][INFO][18][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [a].[Id], [a].[Description], [a].[DisplayName], [a].[Emphasize], [a].[Enabled], [a].[Name], [a].[Required], [a].[ShowInDiscoveryDocument], [a0].[Id], [a0].[ScopeId], [a0].[Type], [a1].[Id], [a1].[Key], [a1].[ScopeId], [a1].[Value]
FROM [ApiScopes] AS [a]
LEFT JOIN [ApiScopeClaims] AS [a0] ON [a].[Id] = [a0].[ScopeId]
LEFT JOIN [ApiScopeProperties] AS [a1] ON [a].[Id] = [a1].[ScopeId]
WHERE [a].[Name] IN (N'openid', N'profile', N'email', N'roles')
ORDER BY [a].[Id], [a0].[Id], [a1].[Id]"
[2020-12-16T18:41:47.2360805-08:00][INFO][18][Microsoft.EntityFrameworkCore.Infrastructure] Entity Framework Core "3.1.9" initialized '"AdminIdentityDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=EventManager.Identity.Admin.EntityFramework.SqlServer "
[2020-12-16T18:41:47.2621993-08:00][INFO][13][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("4"ms) [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0"
[2020-12-16T18:41:47.3131409-08:00][INFO][14][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("5"ms) [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0"
[2020-12-16T18:41:47.4134352-08:00][INFO][20][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("5"ms) [Parameters=["@__user_Id_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [u].[Id], [u].[ClaimType], [u].[ClaimValue], [u].[UserId]
FROM [UserClaims] AS [u]
WHERE [u].[UserId] = @__user_Id_0"
[2020-12-16T18:41:47.4879021-08:00][INFO][13][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("3"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [r].[Name]
FROM [UserRoles] AS [u]
INNER JOIN [Roles] AS [r] ON [u].[RoleId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0"
[2020-12-16T18:41:47.5078598-08:00][INFO][13][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("3"ms) [Parameters=["@__normalizedName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [Roles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0"
[2020-12-16T18:41:47.5345246-08:00][INFO][22][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("3"ms) [Parameters=["@__role_Id_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [r].[ClaimType], [r].[ClaimValue]
FROM [RoleClaims] AS [r]
WHERE [r].[RoleId] = @__role_Id_0"
[2020-12-16T18:41:47.5673640-08:00][INFO][22][Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler] AuthenticationScheme: "Identity.Application" signed in.
[2020-12-16T18:41:47.5902894-08:00][INFO][22][IdentityServer4.Events.DefaultEventService] UserLoginSuccessEvent { Username: "admin", Provider: null, ProviderUserId: null, SubjectId: "4986fb39-0b1a-416a-8fda-e04706435fc3", DisplayName: "admin", Endpoint: "UI", ClientId: null, Category: "Authentication", Name: "User Login Success", EventType: Success, Id: 1000, Message: null, ActivityId: "0HM526GGUET47:0000000F", TimeStamp: 12/17/2020 02:41:47, ProcessId: 25968, LocalIpAddress: "::1:44310", RemoteIpAddress: "::1" }
[2020-12-16T18:41:47.6348667-08:00][INFO][22][Microsoft.AspNetCore.Mvc.Infrastructure.RedirectResultExecutor] Executing RedirectResult, redirecting to "/connect/authorize/callback?client_id=urn%3Aem%3Aclient&redirect_uri=https%3A%2F%2Flocalhost%3A44303%2Fsignin-oidc&response_type=code&scope=openid%20profile%20email%20roles&code_challenge=dWnvalyMZIIS1pe5ltIGwrYZPB2RK1UKh__fiuDnBCk&code_challenge_method=S256&response_mode=form_post&nonce=637437692252089014.Y2FkMzczNGMtZGUyMS00MzA3LTk4YWMtMjQ1OTgxYjM0OTViZjc4N2U5NTctYmM5ZS00OGZhLWIwNzMtZjM1MmJlM2Y3NWRj&state=CfDJ8MPRbAevb1dLpUBHAVWjYkRfNlglUq-55aR_RbalOiLqkXc9PYcYWj_CdohlkukZMzr-f4BpLTgK8Z3fVOM8BRgSZxISrH5uiBDETQAXYbF2ANcA3eRTPfIftf38MA6PwyymJJ8sD0ZW97f80Iq9CVnvyLeeHPlOyf21evI1M7LQZHEAYZgJse2jM5iO_CKyImSGFzcT_oQikQAe7VWKGD7ovL_eH09t6kPyMUoO7NLeoSp5OGgK7kYghQ233EEhvFo4ZZgC2sRNJ13BdvoqgllM92c7Au2GsoBB1HujHNSHik3NIdxJ-YBqtefRPAZwvX8ZYaAsVyJlClq7n0z_XUPlYYuso3_h38HYtTdlx4pVjCtI86K37OrHCJ42m2zGaQ&x-client-SKU=ID_NETSTANDARD2_0&x-client-ver=5.6.0.0".
[2020-12-16T18:41:47.6577395-08:00][INFO][22][Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Executed action "EventManager.Identity.STS.Identity.Controllers.AccountController<EventManager.Identity.Admin.EntityFramework.Shared.Entities.Identity.UserIdentity, string>.Login (EventManager.Identity.STS.Identity)" in 767.1289ms
[2020-12-16T18:41:47.6701100-08:00][INFO][22][Microsoft.AspNetCore.Routing.EndpointMiddleware] Executed endpoint '"EventManager.Identity.STS.Identity.Controllers.AccountController<EventManager.Identity.Admin.EntityFramework.Shared.Entities.Identity.UserIdentity, string>.Login (EventManager.Identity.STS.Identity)"'
[2020-12-16T18:41:47.6781204-08:00][INFO][22][Microsoft.AspNetCore.Hosting.Diagnostics] Request finished in 861.2048ms 302 
[2020-12-16T18:41:47.6890076-08:00][INFO][18][Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:44310/connect/authorize/callback?client_id=urn%3Aem%3Aclient&redirect_uri=https%3A%2F%2Flocalhost%3A44303%2Fsignin-oidc&response_type=code&scope=openid%20profile%20email%20roles&code_challenge=dWnvalyMZIIS1pe5ltIGwrYZPB2RK1UKh__fiuDnBCk&code_challenge_method=S256&response_mode=form_post&nonce=637437692252089014.Y2FkMzczNGMtZGUyMS00MzA3LTk4YWMtMjQ1OTgxYjM0OTViZjc4N2U5NTctYmM5ZS00OGZhLWIwNzMtZjM1MmJlM2Y3NWRj&state=CfDJ8MPRbAevb1dLpUBHAVWjYkRfNlglUq-55aR_RbalOiLqkXc9PYcYWj_CdohlkukZMzr-f4BpLTgK8Z3fVOM8BRgSZxISrH5uiBDETQAXYbF2ANcA3eRTPfIftf38MA6PwyymJJ8sD0ZW97f80Iq9CVnvyLeeHPlOyf21evI1M7LQZHEAYZgJse2jM5iO_CKyImSGFzcT_oQikQAe7VWKGD7ovL_eH09t6kPyMUoO7NLeoSp5OGgK7kYghQ233EEhvFo4ZZgC2sRNJ13BdvoqgllM92c7Au2GsoBB1HujHNSHik3NIdxJ-YBqtefRPAZwvX8ZYaAsVyJlClq7n0z_XUPlYYuso3_h38HYtTdlx4pVjCtI86K37OrHCJ42m2zGaQ&x-client-SKU=ID_NETSTANDARD2_0&x-client-ver=5.6.0.0  
[2020-12-16T18:41:47.7241481-08:00][INFO][18][IdentityServer4.Hosting.IdentityServerMiddleware] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeCallbackEndpoint" for "/connect/authorize/callback"
[2020-12-16T18:41:47.7567581-08:00][INFO][18][Microsoft.EntityFrameworkCore.Infrastructure] Entity Framework Core "3.1.9" initialized '"IdentityServerConfigurationDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=EventManager.Identity.Admin.EntityFramework.SqlServer "
[2020-12-16T18:41:47.7738429-08:00][INFO][21][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("4"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c].[Id], [c].[AbsoluteRefreshTokenLifetime], [c].[AccessTokenLifetime], [c].[AccessTokenType], [c].[AllowAccessTokensViaBrowser], [c].[AllowOfflineAccess], [c].[AllowPlainTextPkce], [c].[AllowRememberConsent], [c].[AllowedIdentityTokenSigningAlgorithms], [c].[AlwaysIncludeUserClaimsInIdToken], [c].[AlwaysSendClientClaims], [c].[AuthorizationCodeLifetime], [c].[BackChannelLogoutSessionRequired], [c].[BackChannelLogoutUri], [c].[ClientClaimsPrefix], [c].[ClientId], [c].[ClientName], [c].[ClientUri], [c].[ConsentLifetime], [c].[Created], [c].[Description], [c].[DeviceCodeLifetime], [c].[EnableLocalLogin], [c].[Enabled], [c].[FrontChannelLogoutSessionRequired], [c].[FrontChannelLogoutUri], [c].[IdentityTokenLifetime], [c].[IncludeJwtId], [c].[LastAccessed], [c].[LogoUri], [c].[NonEditable], [c].[PairWiseSubjectSalt], [c].[ProtocolType], [c].[RefreshTokenExpiration], [c].[RefreshTokenUsage], [c].[RequireClientSecret], [c].[RequireConsent], [c].[RequirePkce], [c].[RequireRequestObject], [c].[SlidingRefreshTokenLifetime], [c].[UpdateAccessTokenClaimsOnRefresh], [c].[Updated], [c].[UserCodeType], [c].[UserSsoLifetime]
FROM [Clients] AS [c]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-16T18:41:47.8040878-08:00][INFO][21][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("3"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[Origin]
FROM [Clients] AS [c]
INNER JOIN [ClientCorsOrigins] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-16T18:41:47.8388365-08:00][INFO][18][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("5"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[GrantType]
FROM [Clients] AS [c]
INNER JOIN [ClientGrantTypes] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-16T18:41:47.8553717-08:00][INFO][14][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("4"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[Scope]
FROM [Clients] AS [c]
INNER JOIN [ClientScopes] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-16T18:41:47.8806483-08:00][INFO][14][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("9"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[Type], [c0].[Value]
FROM [Clients] AS [c]
INNER JOIN [ClientClaims] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-16T18:41:47.8971480-08:00][INFO][20][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("6"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[Created], [c0].[Description], [c0].[Expiration], [c0].[Type], [c0].[Value]
FROM [Clients] AS [c]
INNER JOIN [ClientSecrets] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-16T18:41:47.9186859-08:00][INFO][21][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("11"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[Provider]
FROM [Clients] AS [c]
INNER JOIN [ClientIdPRestrictions] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-16T18:41:47.9477224-08:00][INFO][20][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("4"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[PostLogoutRedirectUri]
FROM [Clients] AS [c]
INNER JOIN [ClientPostLogoutRedirectUris] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-16T18:41:47.9659318-08:00][INFO][20][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("4"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[Key], [c0].[Value]
FROM [Clients] AS [c]
INNER JOIN [ClientProperties] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-16T18:41:47.9818394-08:00][INFO][20][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("3"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[RedirectUri]
FROM [Clients] AS [c]
INNER JOIN [ClientRedirectUris] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-16T18:41:47.9985632-08:00][INFO][14][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("4"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [i].[Id], [i].[Created], [i].[Description], [i].[DisplayName], [i].[Emphasize], [i].[Enabled], [i].[Name], [i].[NonEditable], [i].[Required], [i].[ShowInDiscoveryDocument], [i].[Updated], [i0].[Id], [i0].[IdentityResourceId], [i0].[Type], [i1].[Id], [i1].[IdentityResourceId], [i1].[Key], [i1].[Value]
FROM [IdentityResources] AS [i]
LEFT JOIN [IdentityResourceClaims] AS [i0] ON [i].[Id] = [i0].[IdentityResourceId]
LEFT JOIN [IdentityResourceProperties] AS [i1] ON [i].[Id] = [i1].[IdentityResourceId]
WHERE [i].[Name] IN (N'openid', N'profile', N'email', N'roles')
ORDER BY [i].[Id], [i0].[Id], [i1].[Id]"
[2020-12-16T18:41:48.0166199-08:00][INFO][20][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [a].[Id], [a].[AllowedAccessTokenSigningAlgorithms], [a].[Created], [a].[Description], [a].[DisplayName], [a].[Enabled], [a].[LastAccessed], [a].[Name], [a].[NonEditable], [a].[ShowInDiscoveryDocument], [a].[Updated], [a0].[Id], [a0].[ApiResourceId], [a0].[Created], [a0].[Description], [a0].[Expiration], [a0].[Type], [a0].[Value], [a1].[Id], [a1].[ApiResourceId], [a1].[Scope], [a2].[Id], [a2].[ApiResourceId], [a2].[Type], [a3].[Id], [a3].[ApiResourceId], [a3].[Key], [a3].[Value]
FROM [ApiResources] AS [a]
LEFT JOIN [ApiResourceSecrets] AS [a0] ON [a].[Id] = [a0].[ApiResourceId]
LEFT JOIN [ApiResourceScopes] AS [a1] ON [a].[Id] = [a1].[ApiResourceId]
LEFT JOIN [ApiResourceClaims] AS [a2] ON [a].[Id] = [a2].[ApiResourceId]
LEFT JOIN [ApiResourceProperties] AS [a3] ON [a].[Id] = [a3].[ApiResourceId]
WHERE EXISTS (
    SELECT 1
    FROM [ApiResourceScopes] AS [a4]
    WHERE ([a].[Id] = [a4].[ApiResourceId]) AND [a4].[Scope] IN (N'openid', N'profile', N'email', N'roles'))
ORDER BY [a].[Id], [a0].[Id], [a1].[Id], [a2].[Id], [a3].[Id]"
[2020-12-16T18:41:48.0516241-08:00][INFO][21][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("13"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [a].[Id], [a].[Description], [a].[DisplayName], [a].[Emphasize], [a].[Enabled], [a].[Name], [a].[Required], [a].[ShowInDiscoveryDocument], [a0].[Id], [a0].[ScopeId], [a0].[Type], [a1].[Id], [a1].[Key], [a1].[ScopeId], [a1].[Value]
FROM [ApiScopes] AS [a]
LEFT JOIN [ApiScopeClaims] AS [a0] ON [a].[Id] = [a0].[ScopeId]
LEFT JOIN [ApiScopeProperties] AS [a1] ON [a].[Id] = [a1].[ScopeId]
WHERE [a].[Name] IN (N'openid', N'profile', N'email', N'roles')
ORDER BY [a].[Id], [a0].[Id], [a1].[Id]"
[2020-12-16T18:41:48.0881449-08:00][INFO][21][Microsoft.EntityFrameworkCore.Infrastructure] Entity Framework Core "3.1.9" initialized '"AdminIdentityDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=EventManager.Identity.Admin.EntityFramework.SqlServer "
[2020-12-16T18:41:48.1185683-08:00][INFO][14][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("3"ms) [Parameters=["@__p_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[Id] = @__p_0"
[2020-12-16T18:41:48.2140343-08:00][INFO][14][Microsoft.EntityFrameworkCore.Infrastructure] Entity Framework Core "3.1.9" initialized '"IdentityServerPersistedGrantDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=EventManager.Identity.Admin.EntityFramework.SqlServer "
[2020-12-16T18:41:48.2321419-08:00][INFO][18][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("4"ms) [Parameters=["@__token_Key_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [p].[Key], [p].[ClientId], [p].[ConsumedTime], [p].[CreationTime], [p].[Data], [p].[Description], [p].[Expiration], [p].[SessionId], [p].[SubjectId], [p].[Type]
FROM [PersistedGrants] AS [p]
WHERE [p].[Key] = @__token_Key_0"
[2020-12-16T18:41:48.4022565-08:00][INFO][20][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("8"ms) [Parameters=["@p0='?' (Size = 200), @p1='?' (Size = 200), @p2='?' (DbType = DateTime2), @p3='?' (DbType = DateTime2), @p4='?' (Size = 4000), @p5='?' (Size = 200), @p6='?' (DbType = DateTime2), @p7='?' (Size = 100), @p8='?' (Size = 200), @p9='?' (Size = 50)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
INSERT INTO [PersistedGrants] ([Key], [ClientId], [ConsumedTime], [CreationTime], [Data], [Description], [Expiration], [SessionId], [SubjectId], [Type])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9);"
[2020-12-16T18:41:48.4708932-08:00][INFO][20][IdentityServer4.Events.DefaultEventService] TokenIssuedSuccessEvent { ClientId: "urn:em:client", ClientName: "urn:em:client", RedirectUri: "https://localhost:44303/signin-oidc", Endpoint: "Authorize", SubjectId: "4986fb39-0b1a-416a-8fda-e04706435fc3", Scopes: "openid profile email roles", GrantType: "authorization_code", Tokens: [Token { TokenType: "code", TokenValue: "****CD77" }], Category: "Token", Name: "Token Issued Success", EventType: Success, Id: 2000, Message: null, ActivityId: "0HM526GGUET47:00000011", TimeStamp: 12/17/2020 02:41:48, ProcessId: 25968, LocalIpAddress: "::1:44310", RemoteIpAddress: "::1" }
[2020-12-16T18:41:48.5153995-08:00][INFO][20][Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler] AuthenticationScheme: "Identity.Application" signed in.
[2020-12-16T18:41:48.5262817-08:00][INFO][20][Microsoft.AspNetCore.Hosting.Diagnostics] Request finished in 837.5052ms 200 text/html; charset=UTF-8
[2020-12-16T18:42:13.4832725-08:00][INFO][14][Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 POST https://localhost:44310/connect/token application/x-www-form-urlencoded 277
[2020-12-16T18:42:13.4938593-08:00][INFO][14][IdentityServer4.Hosting.IdentityServerMiddleware] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.TokenEndpoint" for "/connect/token"
[2020-12-16T18:42:13.5194861-08:00][INFO][14][Microsoft.EntityFrameworkCore.Infrastructure] Entity Framework Core "3.1.9" initialized '"IdentityServerConfigurationDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=EventManager.Identity.Admin.EntityFramework.SqlServer "
[2020-12-16T18:42:13.5284583-08:00][INFO][18][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("3"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c].[Id], [c].[AbsoluteRefreshTokenLifetime], [c].[AccessTokenLifetime], [c].[AccessTokenType], [c].[AllowAccessTokensViaBrowser], [c].[AllowOfflineAccess], [c].[AllowPlainTextPkce], [c].[AllowRememberConsent], [c].[AllowedIdentityTokenSigningAlgorithms], [c].[AlwaysIncludeUserClaimsInIdToken], [c].[AlwaysSendClientClaims], [c].[AuthorizationCodeLifetime], [c].[BackChannelLogoutSessionRequired], [c].[BackChannelLogoutUri], [c].[ClientClaimsPrefix], [c].[ClientId], [c].[ClientName], [c].[ClientUri], [c].[ConsentLifetime], [c].[Created], [c].[Description], [c].[DeviceCodeLifetime], [c].[EnableLocalLogin], [c].[Enabled], [c].[FrontChannelLogoutSessionRequired], [c].[FrontChannelLogoutUri], [c].[IdentityTokenLifetime], [c].[IncludeJwtId], [c].[LastAccessed], [c].[LogoUri], [c].[NonEditable], [c].[PairWiseSubjectSalt], [c].[ProtocolType], [c].[RefreshTokenExpiration], [c].[RefreshTokenUsage], [c].[RequireClientSecret], [c].[RequireConsent], [c].[RequirePkce], [c].[RequireRequestObject], [c].[SlidingRefreshTokenLifetime], [c].[UpdateAccessTokenClaimsOnRefresh], [c].[Updated], [c].[UserCodeType], [c].[UserSsoLifetime]
FROM [Clients] AS [c]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-16T18:42:13.5466812-08:00][INFO][18][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("3"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[Origin]
FROM [Clients] AS [c]
INNER JOIN [ClientCorsOrigins] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-16T18:42:13.5756125-08:00][INFO][18][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("4"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[GrantType]
FROM [Clients] AS [c]
INNER JOIN [ClientGrantTypes] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-16T18:42:13.5948119-08:00][INFO][18][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("3"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[Scope]
FROM [Clients] AS [c]
INNER JOIN [ClientScopes] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-16T18:42:13.6073050-08:00][INFO][18][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("2"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[Type], [c0].[Value]
FROM [Clients] AS [c]
INNER JOIN [ClientClaims] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-16T18:42:13.6219886-08:00][INFO][18][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("3"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[Created], [c0].[Description], [c0].[Expiration], [c0].[Type], [c0].[Value]
FROM [Clients] AS [c]
INNER JOIN [ClientSecrets] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-16T18:42:13.6394173-08:00][INFO][18][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("7"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[Provider]
FROM [Clients] AS [c]
INNER JOIN [ClientIdPRestrictions] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-16T18:42:13.6570670-08:00][INFO][14][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("4"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[PostLogoutRedirectUri]
FROM [Clients] AS [c]
INNER JOIN [ClientPostLogoutRedirectUris] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-16T18:42:13.6702677-08:00][INFO][25][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("3"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[Key], [c0].[Value]
FROM [Clients] AS [c]
INNER JOIN [ClientProperties] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-16T18:42:13.6870342-08:00][INFO][18][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("6"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[RedirectUri]
FROM [Clients] AS [c]
INNER JOIN [ClientRedirectUris] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-16T18:42:13.7133375-08:00][INFO][18][IdentityServer4.Events.DefaultEventService] ClientAuthenticationSuccessEvent { ClientId: "urn:em:client", AuthenticationMethod: "SharedSecret", Category: "Authentication", Name: "Client Authentication Success", EventType: Success, Id: 1010, Message: null, ActivityId: "0HM526GGUET48:00000001", TimeStamp: 12/17/2020 02:42:13, ProcessId: 25968, LocalIpAddress: "::1:44310", RemoteIpAddress: "::1" }
[2020-12-16T18:42:13.7450655-08:00][INFO][18][Microsoft.EntityFrameworkCore.Infrastructure] Entity Framework Core "3.1.9" initialized '"IdentityServerPersistedGrantDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=EventManager.Identity.Admin.EntityFramework.SqlServer "
[2020-12-16T18:42:13.7867699-08:00][INFO][28][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("23"ms) [Parameters=["@__key_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [p].[Key], [p].[ClientId], [p].[ConsumedTime], [p].[CreationTime], [p].[Data], [p].[Description], [p].[Expiration], [p].[SessionId], [p].[SubjectId], [p].[Type]
FROM [PersistedGrants] AS [p]
WHERE [p].[Key] = @__key_0"
[2020-12-16T18:42:13.8518175-08:00][INFO][23][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("3"ms) [Parameters=["@__key_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [p].[Key], [p].[ClientId], [p].[ConsumedTime], [p].[CreationTime], [p].[Data], [p].[Description], [p].[Expiration], [p].[SessionId], [p].[SubjectId], [p].[Type]
FROM [PersistedGrants] AS [p]
WHERE [p].[Key] = @__key_0"
[2020-12-16T18:42:13.8821810-08:00][INFO][23][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("4"ms) [Parameters=["@p0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
DELETE FROM [PersistedGrants]
WHERE [Key] = @p0;
SELECT @@ROWCOUNT;"
[2020-12-16T18:42:13.9106892-08:00][INFO][23][Microsoft.EntityFrameworkCore.Infrastructure] Entity Framework Core "3.1.9" initialized '"AdminIdentityDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=EventManager.Identity.Admin.EntityFramework.SqlServer "
[2020-12-16T18:42:13.9235441-08:00][INFO][18][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("4"ms) [Parameters=["@__p_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[Id] = @__p_0"
[2020-12-16T18:42:13.9443863-08:00][INFO][18][IdentityServer4.Validation.TokenRequestValidator] Token request validation success, TokenRequestValidationLog { ClientId: "urn:em:client", ClientName: "urn:em:client", GrantType: "authorization_code", Scopes: null, AuthorizationCode: "****CD77", RefreshToken: "********", UserName: null, AuthenticationContextReferenceClasses: null, Tenant: null, IdP: null, Raw: [("client_id": "urn:em:client"), ("client_secret": "***REDACTED***"), ("code": "A6C7302F34C78B14CED9CAF4326AF4B3697F3D5B8543C31C3993C252E26FCD77"), ("grant_type": "authorization_code"), ("redirect_uri": "https://localhost:44303/signin-oidc"), ("code_verifier": "hq2nCgDu7nMNlXWyOe1LraoovdJyjNHukFKGLfKonio")] }
[2020-12-16T18:42:13.9904050-08:00][INFO][23][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("3"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c].[Id], [c].[AbsoluteRefreshTokenLifetime], [c].[AccessTokenLifetime], [c].[AccessTokenType], [c].[AllowAccessTokensViaBrowser], [c].[AllowOfflineAccess], [c].[AllowPlainTextPkce], [c].[AllowRememberConsent], [c].[AllowedIdentityTokenSigningAlgorithms], [c].[AlwaysIncludeUserClaimsInIdToken], [c].[AlwaysSendClientClaims], [c].[AuthorizationCodeLifetime], [c].[BackChannelLogoutSessionRequired], [c].[BackChannelLogoutUri], [c].[ClientClaimsPrefix], [c].[ClientId], [c].[ClientName], [c].[ClientUri], [c].[ConsentLifetime], [c].[Created], [c].[Description], [c].[DeviceCodeLifetime], [c].[EnableLocalLogin], [c].[Enabled], [c].[FrontChannelLogoutSessionRequired], [c].[FrontChannelLogoutUri], [c].[IdentityTokenLifetime], [c].[IncludeJwtId], [c].[LastAccessed], [c].[LogoUri], [c].[NonEditable], [c].[PairWiseSubjectSalt], [c].[ProtocolType], [c].[RefreshTokenExpiration], [c].[RefreshTokenUsage], [c].[RequireClientSecret], [c].[RequireConsent], [c].[RequirePkce], [c].[RequireRequestObject], [c].[SlidingRefreshTokenLifetime], [c].[UpdateAccessTokenClaimsOnRefresh], [c].[Updated], [c].[UserCodeType], [c].[UserSsoLifetime]
FROM [Clients] AS [c]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-16T18:42:14.0118035-08:00][INFO][18][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("3"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[Origin]
FROM [Clients] AS [c]
INNER JOIN [ClientCorsOrigins] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-16T18:42:14.0280017-08:00][INFO][25][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("2"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[GrantType]
FROM [Clients] AS [c]
INNER JOIN [ClientGrantTypes] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-16T18:42:14.0400721-08:00][INFO][23][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("2"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[Scope]
FROM [Clients] AS [c]
INNER JOIN [ClientScopes] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-16T18:42:14.0526405-08:00][INFO][25][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("5"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[Type], [c0].[Value]
FROM [Clients] AS [c]
INNER JOIN [ClientClaims] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-16T18:42:14.0614193-08:00][INFO][25][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("2"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[Created], [c0].[Description], [c0].[Expiration], [c0].[Type], [c0].[Value]
FROM [Clients] AS [c]
INNER JOIN [ClientSecrets] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-16T18:42:14.0726070-08:00][INFO][18][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("2"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[Provider]
FROM [Clients] AS [c]
INNER JOIN [ClientIdPRestrictions] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-16T18:42:14.0843919-08:00][INFO][18][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("3"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[PostLogoutRedirectUri]
FROM [Clients] AS [c]
INNER JOIN [ClientPostLogoutRedirectUris] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-16T18:42:14.0970477-08:00][INFO][18][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("3"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[Key], [c0].[Value]
FROM [Clients] AS [c]
INNER JOIN [ClientProperties] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-16T18:42:14.1093516-08:00][INFO][25][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("2"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[RedirectUri]
FROM [Clients] AS [c]
INNER JOIN [ClientRedirectUris] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-16T18:42:14.1267025-08:00][INFO][18][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [i].[Id], [i].[Created], [i].[Description], [i].[DisplayName], [i].[Emphasize], [i].[Enabled], [i].[Name], [i].[NonEditable], [i].[Required], [i].[ShowInDiscoveryDocument], [i].[Updated], [i0].[Id], [i0].[IdentityResourceId], [i0].[Type], [i1].[Id], [i1].[IdentityResourceId], [i1].[Key], [i1].[Value]
FROM [IdentityResources] AS [i]
LEFT JOIN [IdentityResourceClaims] AS [i0] ON [i].[Id] = [i0].[IdentityResourceId]
LEFT JOIN [IdentityResourceProperties] AS [i1] ON [i].[Id] = [i1].[IdentityResourceId]
WHERE [i].[Name] IN (N'openid', N'profile', N'email', N'roles')
ORDER BY [i].[Id], [i0].[Id], [i1].[Id]"
[2020-12-16T18:42:14.1461708-08:00][INFO][14][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [a].[Id], [a].[AllowedAccessTokenSigningAlgorithms], [a].[Created], [a].[Description], [a].[DisplayName], [a].[Enabled], [a].[LastAccessed], [a].[Name], [a].[NonEditable], [a].[ShowInDiscoveryDocument], [a].[Updated], [a0].[Id], [a0].[ApiResourceId], [a0].[Created], [a0].[Description], [a0].[Expiration], [a0].[Type], [a0].[Value], [a1].[Id], [a1].[ApiResourceId], [a1].[Scope], [a2].[Id], [a2].[ApiResourceId], [a2].[Type], [a3].[Id], [a3].[ApiResourceId], [a3].[Key], [a3].[Value]
FROM [ApiResources] AS [a]
LEFT JOIN [ApiResourceSecrets] AS [a0] ON [a].[Id] = [a0].[ApiResourceId]
LEFT JOIN [ApiResourceScopes] AS [a1] ON [a].[Id] = [a1].[ApiResourceId]
LEFT JOIN [ApiResourceClaims] AS [a2] ON [a].[Id] = [a2].[ApiResourceId]
LEFT JOIN [ApiResourceProperties] AS [a3] ON [a].[Id] = [a3].[ApiResourceId]
WHERE EXISTS (
    SELECT 1
    FROM [ApiResourceScopes] AS [a4]
    WHERE ([a].[Id] = [a4].[ApiResourceId]) AND [a4].[Scope] IN (N'openid', N'profile', N'email', N'roles'))
ORDER BY [a].[Id], [a0].[Id], [a1].[Id], [a2].[Id], [a3].[Id]"
[2020-12-16T18:42:14.1635384-08:00][INFO][14][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [a].[Id], [a].[Description], [a].[DisplayName], [a].[Emphasize], [a].[Enabled], [a].[Name], [a].[Required], [a].[ShowInDiscoveryDocument], [a0].[Id], [a0].[ScopeId], [a0].[Type], [a1].[Id], [a1].[Key], [a1].[ScopeId], [a1].[Value]
FROM [ApiScopes] AS [a]
LEFT JOIN [ApiScopeClaims] AS [a0] ON [a].[Id] = [a0].[ScopeId]
LEFT JOIN [ApiScopeProperties] AS [a1] ON [a].[Id] = [a1].[ScopeId]
WHERE [a].[Name] IN (N'openid', N'profile', N'email', N'roles')
ORDER BY [a].[Id], [a0].[Id], [a1].[Id]"
[2020-12-16T18:42:14.2078927-08:00][INFO][18][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("11"ms) [Parameters=["@__user_Id_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [u].[Id], [u].[ClaimType], [u].[ClaimValue], [u].[UserId]
FROM [UserClaims] AS [u]
WHERE [u].[UserId] = @__user_Id_0"
[2020-12-16T18:42:14.2283600-08:00][INFO][18][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("3"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [r].[Name]
FROM [UserRoles] AS [u]
INNER JOIN [Roles] AS [r] ON [u].[RoleId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0"
[2020-12-16T18:42:14.2395857-08:00][INFO][18][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("2"ms) [Parameters=["@__normalizedName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [Roles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0"
[2020-12-16T18:42:14.2551422-08:00][INFO][18][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("8"ms) [Parameters=["@__role_Id_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [r].[ClaimType], [r].[ClaimValue]
FROM [RoleClaims] AS [r]
WHERE [r].[RoleId] = @__role_Id_0"
[2020-12-16T18:42:14.3602653-08:00][INFO][14][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("3"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c].[Id], [c].[AbsoluteRefreshTokenLifetime], [c].[AccessTokenLifetime], [c].[AccessTokenType], [c].[AllowAccessTokensViaBrowser], [c].[AllowOfflineAccess], [c].[AllowPlainTextPkce], [c].[AllowRememberConsent], [c].[AllowedIdentityTokenSigningAlgorithms], [c].[AlwaysIncludeUserClaimsInIdToken], [c].[AlwaysSendClientClaims], [c].[AuthorizationCodeLifetime], [c].[BackChannelLogoutSessionRequired], [c].[BackChannelLogoutUri], [c].[ClientClaimsPrefix], [c].[ClientId], [c].[ClientName], [c].[ClientUri], [c].[ConsentLifetime], [c].[Created], [c].[Description], [c].[DeviceCodeLifetime], [c].[EnableLocalLogin], [c].[Enabled], [c].[FrontChannelLogoutSessionRequired], [c].[FrontChannelLogoutUri], [c].[IdentityTokenLifetime], [c].[IncludeJwtId], [c].[LastAccessed], [c].[LogoUri], [c].[NonEditable], [c].[PairWiseSubjectSalt], [c].[ProtocolType], [c].[RefreshTokenExpiration], [c].[RefreshTokenUsage], [c].[RequireClientSecret], [c].[RequireConsent], [c].[RequirePkce], [c].[RequireRequestObject], [c].[SlidingRefreshTokenLifetime], [c].[UpdateAccessTokenClaimsOnRefresh], [c].[Updated], [c].[UserCodeType], [c].[UserSsoLifetime]
FROM [Clients] AS [c]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-16T18:42:14.3752049-08:00][INFO][14][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("3"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[Origin]
FROM [Clients] AS [c]
INNER JOIN [ClientCorsOrigins] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-16T18:42:14.3885876-08:00][INFO][25][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("3"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[GrantType]
FROM [Clients] AS [c]
INNER JOIN [ClientGrantTypes] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-16T18:42:14.4736977-08:00][INFO][25][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("6"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[Scope]
FROM [Clients] AS [c]
INNER JOIN [ClientScopes] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-16T18:42:14.4936294-08:00][INFO][18][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("5"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[Type], [c0].[Value]
FROM [Clients] AS [c]
INNER JOIN [ClientClaims] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-16T18:42:14.5097680-08:00][INFO][14][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("3"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[Created], [c0].[Description], [c0].[Expiration], [c0].[Type], [c0].[Value]
FROM [Clients] AS [c]
INNER JOIN [ClientSecrets] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-16T18:42:14.5520740-08:00][INFO][14][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("23"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[Provider]
FROM [Clients] AS [c]
INNER JOIN [ClientIdPRestrictions] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-16T18:42:14.5738816-08:00][INFO][14][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("5"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[PostLogoutRedirectUri]
FROM [Clients] AS [c]
INNER JOIN [ClientPostLogoutRedirectUris] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-16T18:42:14.5938376-08:00][INFO][25][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("6"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[Key], [c0].[Value]
FROM [Clients] AS [c]
INNER JOIN [ClientProperties] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-16T18:42:14.6262462-08:00][INFO][25][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("12"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[RedirectUri]
FROM [Clients] AS [c]
INNER JOIN [ClientRedirectUris] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-16T18:42:14.6565252-08:00][INFO][29][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("4"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [i].[Id], [i].[Created], [i].[Description], [i].[DisplayName], [i].[Emphasize], [i].[Enabled], [i].[Name], [i].[NonEditable], [i].[Required], [i].[ShowInDiscoveryDocument], [i].[Updated], [i0].[Id], [i0].[IdentityResourceId], [i0].[Type], [i1].[Id], [i1].[IdentityResourceId], [i1].[Key], [i1].[Value]
FROM [IdentityResources] AS [i]
LEFT JOIN [IdentityResourceClaims] AS [i0] ON [i].[Id] = [i0].[IdentityResourceId]
LEFT JOIN [IdentityResourceProperties] AS [i1] ON [i].[Id] = [i1].[IdentityResourceId]
WHERE [i].[Name] IN (N'openid', N'profile', N'email', N'roles')
ORDER BY [i].[Id], [i0].[Id], [i1].[Id]"
[2020-12-16T18:42:14.6814274-08:00][INFO][29][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("4"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [a].[Id], [a].[AllowedAccessTokenSigningAlgorithms], [a].[Created], [a].[Description], [a].[DisplayName], [a].[Enabled], [a].[LastAccessed], [a].[Name], [a].[NonEditable], [a].[ShowInDiscoveryDocument], [a].[Updated], [a0].[Id], [a0].[ApiResourceId], [a0].[Created], [a0].[Description], [a0].[Expiration], [a0].[Type], [a0].[Value], [a1].[Id], [a1].[ApiResourceId], [a1].[Scope], [a2].[Id], [a2].[ApiResourceId], [a2].[Type], [a3].[Id], [a3].[ApiResourceId], [a3].[Key], [a3].[Value]
FROM [ApiResources] AS [a]
LEFT JOIN [ApiResourceSecrets] AS [a0] ON [a].[Id] = [a0].[ApiResourceId]
LEFT JOIN [ApiResourceScopes] AS [a1] ON [a].[Id] = [a1].[ApiResourceId]
LEFT JOIN [ApiResourceClaims] AS [a2] ON [a].[Id] = [a2].[ApiResourceId]
LEFT JOIN [ApiResourceProperties] AS [a3] ON [a].[Id] = [a3].[ApiResourceId]
WHERE EXISTS (
    SELECT 1
    FROM [ApiResourceScopes] AS [a4]
    WHERE ([a].[Id] = [a4].[ApiResourceId]) AND [a4].[Scope] IN (N'openid', N'profile', N'email', N'roles'))
ORDER BY [a].[Id], [a0].[Id], [a1].[Id], [a2].[Id], [a3].[Id]"
[2020-12-16T18:42:14.7131345-08:00][INFO][18][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("4"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [a].[Id], [a].[Description], [a].[DisplayName], [a].[Emphasize], [a].[Enabled], [a].[Name], [a].[Required], [a].[ShowInDiscoveryDocument], [a0].[Id], [a0].[ScopeId], [a0].[Type], [a1].[Id], [a1].[Key], [a1].[ScopeId], [a1].[Value]
FROM [ApiScopes] AS [a]
LEFT JOIN [ApiScopeClaims] AS [a0] ON [a].[Id] = [a0].[ScopeId]
LEFT JOIN [ApiScopeProperties] AS [a1] ON [a].[Id] = [a1].[ScopeId]
WHERE [a].[Name] IN (N'openid', N'profile', N'email', N'roles')
ORDER BY [a].[Id], [a0].[Id], [a1].[Id]"
[2020-12-16T18:42:14.7429732-08:00][INFO][18][IdentityServer4.Events.DefaultEventService] TokenIssuedSuccessEvent { ClientId: "urn:em:client", ClientName: "urn:em:client", RedirectUri: null, Endpoint: "Token", SubjectId: "4986fb39-0b1a-416a-8fda-e04706435fc3", Scopes: "openid profile email roles", GrantType: "authorization_code", Tokens: [Token { TokenType: "id_token", TokenValue: "****69Sg" }, Token { TokenType: "access_token", TokenValue: "****G9Zg" }], Category: "Token", Name: "Token Issued Success", EventType: Success, Id: 2000, Message: null, ActivityId: "0HM526GGUET48:00000001", TimeStamp: 12/17/2020 02:42:14, ProcessId: 25968, LocalIpAddress: "::1:44310", RemoteIpAddress: "::1" }
[2020-12-16T18:42:14.7921334-08:00][INFO][18][Microsoft.AspNetCore.Hosting.Diagnostics] Request finished in 1309.3791ms 200 application/json; charset=UTF-8
[2020-12-16T18:42:14.9222111-08:00][INFO][14][Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 GET https://localhost:44310/connect/userinfo  
[2020-12-16T18:42:14.9276256-08:00][INFO][14][IdentityServer4.Hosting.IdentityServerMiddleware] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.UserInfoEndpoint" for "/connect/userinfo"
[2020-12-16T18:42:14.9849356-08:00][INFO][14][Microsoft.EntityFrameworkCore.Infrastructure] Entity Framework Core "3.1.9" initialized '"IdentityServerConfigurationDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=EventManager.Identity.Admin.EntityFramework.SqlServer "
[2020-12-16T18:42:14.9927652-08:00][INFO][18][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("3"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c].[Id], [c].[AbsoluteRefreshTokenLifetime], [c].[AccessTokenLifetime], [c].[AccessTokenType], [c].[AllowAccessTokensViaBrowser], [c].[AllowOfflineAccess], [c].[AllowPlainTextPkce], [c].[AllowRememberConsent], [c].[AllowedIdentityTokenSigningAlgorithms], [c].[AlwaysIncludeUserClaimsInIdToken], [c].[AlwaysSendClientClaims], [c].[AuthorizationCodeLifetime], [c].[BackChannelLogoutSessionRequired], [c].[BackChannelLogoutUri], [c].[ClientClaimsPrefix], [c].[ClientId], [c].[ClientName], [c].[ClientUri], [c].[ConsentLifetime], [c].[Created], [c].[Description], [c].[DeviceCodeLifetime], [c].[EnableLocalLogin], [c].[Enabled], [c].[FrontChannelLogoutSessionRequired], [c].[FrontChannelLogoutUri], [c].[IdentityTokenLifetime], [c].[IncludeJwtId], [c].[LastAccessed], [c].[LogoUri], [c].[NonEditable], [c].[PairWiseSubjectSalt], [c].[ProtocolType], [c].[RefreshTokenExpiration], [c].[RefreshTokenUsage], [c].[RequireClientSecret], [c].[RequireConsent], [c].[RequirePkce], [c].[RequireRequestObject], [c].[SlidingRefreshTokenLifetime], [c].[UpdateAccessTokenClaimsOnRefresh], [c].[Updated], [c].[UserCodeType], [c].[UserSsoLifetime]
FROM [Clients] AS [c]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-16T18:42:15.0082810-08:00][INFO][18][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("4"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[Origin]
FROM [Clients] AS [c]
INNER JOIN [ClientCorsOrigins] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-16T18:42:15.0212013-08:00][INFO][18][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("2"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[GrantType]
FROM [Clients] AS [c]
INNER JOIN [ClientGrantTypes] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-16T18:42:15.0378133-08:00][INFO][29][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("7"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[Scope]
FROM [Clients] AS [c]
INNER JOIN [ClientScopes] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-16T18:42:15.0533960-08:00][INFO][14][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("3"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[Type], [c0].[Value]
FROM [Clients] AS [c]
INNER JOIN [ClientClaims] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-16T18:42:15.0666617-08:00][INFO][14][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("4"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[Created], [c0].[Description], [c0].[Expiration], [c0].[Type], [c0].[Value]
FROM [Clients] AS [c]
INNER JOIN [ClientSecrets] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-16T18:42:15.0771936-08:00][INFO][14][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("3"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[Provider]
FROM [Clients] AS [c]
INNER JOIN [ClientIdPRestrictions] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-16T18:42:15.0868563-08:00][INFO][18][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("3"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[PostLogoutRedirectUri]
FROM [Clients] AS [c]
INNER JOIN [ClientPostLogoutRedirectUris] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-16T18:42:15.0956383-08:00][INFO][18][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("2"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[Key], [c0].[Value]
FROM [Clients] AS [c]
INNER JOIN [ClientProperties] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-16T18:42:15.1183271-08:00][INFO][18][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("5"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[RedirectUri]
FROM [Clients] AS [c]
INNER JOIN [ClientRedirectUris] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-16T18:42:15.1395820-08:00][INFO][14][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("3"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c].[Id], [c].[AbsoluteRefreshTokenLifetime], [c].[AccessTokenLifetime], [c].[AccessTokenType], [c].[AllowAccessTokensViaBrowser], [c].[AllowOfflineAccess], [c].[AllowPlainTextPkce], [c].[AllowRememberConsent], [c].[AllowedIdentityTokenSigningAlgorithms], [c].[AlwaysIncludeUserClaimsInIdToken], [c].[AlwaysSendClientClaims], [c].[AuthorizationCodeLifetime], [c].[BackChannelLogoutSessionRequired], [c].[BackChannelLogoutUri], [c].[ClientClaimsPrefix], [c].[ClientId], [c].[ClientName], [c].[ClientUri], [c].[ConsentLifetime], [c].[Created], [c].[Description], [c].[DeviceCodeLifetime], [c].[EnableLocalLogin], [c].[Enabled], [c].[FrontChannelLogoutSessionRequired], [c].[FrontChannelLogoutUri], [c].[IdentityTokenLifetime], [c].[IncludeJwtId], [c].[LastAccessed], [c].[LogoUri], [c].[NonEditable], [c].[PairWiseSubjectSalt], [c].[ProtocolType], [c].[RefreshTokenExpiration], [c].[RefreshTokenUsage], [c].[RequireClientSecret], [c].[RequireConsent], [c].[RequirePkce], [c].[RequireRequestObject], [c].[SlidingRefreshTokenLifetime], [c].[UpdateAccessTokenClaimsOnRefresh], [c].[Updated], [c].[UserCodeType], [c].[UserSsoLifetime]
FROM [Clients] AS [c]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-16T18:42:15.1538156-08:00][INFO][23][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("2"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[Origin]
FROM [Clients] AS [c]
INNER JOIN [ClientCorsOrigins] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-16T18:42:15.1665645-08:00][INFO][28][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("3"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[GrantType]
FROM [Clients] AS [c]
INNER JOIN [ClientGrantTypes] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-16T18:42:15.1799706-08:00][INFO][29][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("4"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[Scope]
FROM [Clients] AS [c]
INNER JOIN [ClientScopes] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-16T18:42:15.1901208-08:00][INFO][29][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("2"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[Type], [c0].[Value]
FROM [Clients] AS [c]
INNER JOIN [ClientClaims] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-16T18:42:15.2046934-08:00][INFO][29][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("3"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[Created], [c0].[Description], [c0].[Expiration], [c0].[Type], [c0].[Value]
FROM [Clients] AS [c]
INNER JOIN [ClientSecrets] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-16T18:42:15.2171034-08:00][INFO][23][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("3"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[Provider]
FROM [Clients] AS [c]
INNER JOIN [ClientIdPRestrictions] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-16T18:42:15.2278493-08:00][INFO][23][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("3"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[PostLogoutRedirectUri]
FROM [Clients] AS [c]
INNER JOIN [ClientPostLogoutRedirectUris] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-16T18:42:15.2410631-08:00][INFO][23][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("2"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[Key], [c0].[Value]
FROM [Clients] AS [c]
INNER JOIN [ClientProperties] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-16T18:42:15.2510513-08:00][INFO][23][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("2"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[RedirectUri]
FROM [Clients] AS [c]
INNER JOIN [ClientRedirectUris] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-16T18:42:15.2706470-08:00][INFO][23][Microsoft.EntityFrameworkCore.Infrastructure] Entity Framework Core "3.1.9" initialized '"AdminIdentityDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=EventManager.Identity.Admin.EntityFramework.SqlServer "
[2020-12-16T18:42:15.2870088-08:00][INFO][18][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("3"ms) [Parameters=["@__p_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[Id] = @__p_0"
[2020-12-16T18:42:15.3143461-08:00][INFO][28][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [i].[Id], [i].[Created], [i].[Description], [i].[DisplayName], [i].[Emphasize], [i].[Enabled], [i].[Name], [i].[NonEditable], [i].[Required], [i].[ShowInDiscoveryDocument], [i].[Updated], [i0].[Id], [i0].[IdentityResourceId], [i0].[Type], [i1].[Id], [i1].[IdentityResourceId], [i1].[Key], [i1].[Value]
FROM [IdentityResources] AS [i]
LEFT JOIN [IdentityResourceClaims] AS [i0] ON [i].[Id] = [i0].[IdentityResourceId]
LEFT JOIN [IdentityResourceProperties] AS [i1] ON [i].[Id] = [i1].[IdentityResourceId]
WHERE [i].[Name] IN (N'openid', N'profile', N'email', N'roles')
ORDER BY [i].[Id], [i0].[Id], [i1].[Id]"
[2020-12-16T18:42:15.3376864-08:00][INFO][18][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("3"ms) [Parameters=["@__user_Id_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [u].[Id], [u].[ClaimType], [u].[ClaimValue], [u].[UserId]
FROM [UserClaims] AS [u]
WHERE [u].[UserId] = @__user_Id_0"
[2020-12-16T18:42:15.3470624-08:00][INFO][18][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("2"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [r].[Name]
FROM [UserRoles] AS [u]
INNER JOIN [Roles] AS [r] ON [u].[RoleId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0"
[2020-12-16T18:42:15.3588852-08:00][INFO][23][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("2"ms) [Parameters=["@__normalizedName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [Roles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0"
[2020-12-16T18:42:15.3692980-08:00][INFO][18][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("3"ms) [Parameters=["@__role_Id_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [r].[ClaimType], [r].[ClaimValue]
FROM [RoleClaims] AS [r]
WHERE [r].[RoleId] = @__role_Id_0"
[2020-12-16T18:42:15.3760899-08:00][INFO][18][IdentityServer4.ResponseHandling.UserInfoResponseGenerator] Profile service returned the following claim types: "sub name role preferred_username email email_verified"
[2020-12-16T18:42:15.3851516-08:00][INFO][18][Microsoft.AspNetCore.Hosting.Diagnostics] Request finished in 462.9174ms 200 application/json; charset=UTF-8
[2020-12-16T18:43:00.8233046-08:00][INFO][23][Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:44310/connect/endsession?post_logout_redirect_uri=https%3A%2F%2Flocalhost%3A44303%2Fsignout-callback-oidc&id_token_hint=eyJhbGciOiJSUzI1NiIsImtpZCI6IkJEQTFFRURDNjNDQkVDNDY4N0Q5MzdDNThCM0ZBQjYxIiwidHlwIjoiSldUIn0.eyJuYmYiOjE2MDgxNzI5MzQsImV4cCI6MTYwODE3MzIzNCwiaXNzIjoiaHR0cHM6Ly9sb2NhbGhvc3Q6NDQzMTAiLCJhdWQiOiJ1cm46ZW06Y2xpZW50Iiwibm9uY2UiOiI2Mzc0Mzc2OTIyNTIwODkwMTQuWTJGa016Y3pOR010WkdVeU1TMDBNekEzTFRrNFlXTXRNalExT1RneFlqTTBPVFZpWmpjNE4yVTVOVGN0WW1NNVpTMDBPR1poTFdJd056TXRaak0xTW1KbE0yWTNOV1JqIiwiaWF0IjoxNjA4MTcyOTM0LCJhdF9oYXNoIjoidG1CZDcyRHM3eVpYZlhNTnJMOVZQZyIsInNfaGFzaCI6IkxncjF2YkwzYW01VVotR2JYNFRTY0EiLCJzaWQiOiIzRUEwMkVFOTlDRDcyRjBBODA0REFGQzNDMEY1MThBOSIsInN1YiI6IjQ5ODZmYjM5LTBiMWEtNDE2YS04ZmRhLWUwNDcwNjQzNWZjMyIsImF1dGhfdGltZSI6MTYwODE3MjkwNywiaWRwIjoibG9jYWwiLCJhbXIiOlsicHdkIl19.Zy__Q9auVxUFHHNk0ykePfHgxmPIDLbqBKABPHzBhlhIK74ttiCQqbuXqROpsGNpdHzZIIIQ_RgF2KNnausc_PBPmh_RZ1jkrabz568L_lTxe5rElAunDJYjbXe8Q6DtUcPFGYG6jQqg-aOE3Bcl_0a8SGMsgE3RDfgxSdhqM4qJ87NhHqZMFvkHIm8LFel4eFc2rK2P85DH0vVF28ghNyhtAsDt8p-YXepulrugY5q-mA9ncFBnDoc7mdFgl7TwJlKoAtxqofrwObcOKs6-CHFl-96YQyG4O_zTrr-4O5Wy8W6E8Ir6F6W6BB9rFEqHhvSPo7HyZj2P2ihWyC69Sg&state=CfDJ8MPRbAevb1dLpUBHAVWjYkSfUOIgigk2kPCjuJw7_ktg_KLbt_3m9PoW0Fgni7BPHAa6Tw0ubNefrzdv9rfEtg5ygRykZ4vNW_hJyAYWsh0ct8b4G8wtMYXfBD85BCkx1CcooCob-rosMXDHtVe5mxyX_21J85c-eXsp04Yu3Iq2&x-client-SKU=ID_NETSTANDARD2_0&x-client-ver=5.6.0.0  
[2020-12-16T18:43:00.8409856-08:00][INFO][23][IdentityServer4.Hosting.IdentityServerMiddleware] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.EndSessionEndpoint" for "/connect/endsession"
[2020-12-16T18:43:00.8623541-08:00][INFO][23][Microsoft.EntityFrameworkCore.Infrastructure] Entity Framework Core "3.1.9" initialized '"IdentityServerConfigurationDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=EventManager.Identity.Admin.EntityFramework.SqlServer "
[2020-12-16T18:43:00.8780226-08:00][INFO][25][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("4"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c].[Id], [c].[AbsoluteRefreshTokenLifetime], [c].[AccessTokenLifetime], [c].[AccessTokenType], [c].[AllowAccessTokensViaBrowser], [c].[AllowOfflineAccess], [c].[AllowPlainTextPkce], [c].[AllowRememberConsent], [c].[AllowedIdentityTokenSigningAlgorithms], [c].[AlwaysIncludeUserClaimsInIdToken], [c].[AlwaysSendClientClaims], [c].[AuthorizationCodeLifetime], [c].[BackChannelLogoutSessionRequired], [c].[BackChannelLogoutUri], [c].[ClientClaimsPrefix], [c].[ClientId], [c].[ClientName], [c].[ClientUri], [c].[ConsentLifetime], [c].[Created], [c].[Description], [c].[DeviceCodeLifetime], [c].[EnableLocalLogin], [c].[Enabled], [c].[FrontChannelLogoutSessionRequired], [c].[FrontChannelLogoutUri], [c].[IdentityTokenLifetime], [c].[IncludeJwtId], [c].[LastAccessed], [c].[LogoUri], [c].[NonEditable], [c].[PairWiseSubjectSalt], [c].[ProtocolType], [c].[RefreshTokenExpiration], [c].[RefreshTokenUsage], [c].[RequireClientSecret], [c].[RequireConsent], [c].[RequirePkce], [c].[RequireRequestObject], [c].[SlidingRefreshTokenLifetime], [c].[UpdateAccessTokenClaimsOnRefresh], [c].[Updated], [c].[UserCodeType], [c].[UserSsoLifetime]
FROM [Clients] AS [c]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-16T18:43:00.8948565-08:00][INFO][25][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("3"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[Origin]
FROM [Clients] AS [c]
INNER JOIN [ClientCorsOrigins] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-16T18:43:00.9096658-08:00][INFO][25][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("3"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[GrantType]
FROM [Clients] AS [c]
INNER JOIN [ClientGrantTypes] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-16T18:43:00.9239650-08:00][INFO][29][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("4"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[Scope]
FROM [Clients] AS [c]
INNER JOIN [ClientScopes] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-16T18:43:00.9348464-08:00][INFO][25][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("3"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[Type], [c0].[Value]
FROM [Clients] AS [c]
INNER JOIN [ClientClaims] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-16T18:43:00.9473360-08:00][INFO][25][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("3"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[Created], [c0].[Description], [c0].[Expiration], [c0].[Type], [c0].[Value]
FROM [Clients] AS [c]
INNER JOIN [ClientSecrets] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-16T18:43:00.9595517-08:00][INFO][25][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("2"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[Provider]
FROM [Clients] AS [c]
INNER JOIN [ClientIdPRestrictions] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-16T18:43:00.9715915-08:00][INFO][25][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("3"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[PostLogoutRedirectUri]
FROM [Clients] AS [c]
INNER JOIN [ClientPostLogoutRedirectUris] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-16T18:43:00.9826939-08:00][INFO][28][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("2"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[Key], [c0].[Value]
FROM [Clients] AS [c]
INNER JOIN [ClientProperties] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-16T18:43:00.9941735-08:00][INFO][25][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("3"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[RedirectUri]
FROM [Clients] AS [c]
INNER JOIN [ClientRedirectUris] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-16T18:43:01.0133657-08:00][INFO][25][IdentityServer4.Validation.EndSessionRequestValidator] End session request validation success
EndSessionRequestValidationLog { ClientId: "urn:em:client", ClientName: "urn:em:client", SubjectId: "4986fb39-0b1a-416a-8fda-e04706435fc3", PostLogOutUri: "https://localhost:44303/signout-callback-oidc", State: "CfDJ8MPRbAevb1dLpUBHAVWjYkSfUOIgigk2kPCjuJw7_ktg_KLbt_3m9PoW0Fgni7BPHAa6Tw0ubNefrzdv9rfEtg5ygRykZ4vNW_hJyAYWsh0ct8b4G8wtMYXfBD85BCkx1CcooCob-rosMXDHtVe5mxyX_21J85c-eXsp04Yu3Iq2", Raw: [("post_logout_redirect_uri": "https://localhost:44303/signout-callback-oidc"), ("id_token_hint": "***REDACTED***"), ("state": "CfDJ8MPRbAevb1dLpUBHAVWjYkSfUOIgigk2kPCjuJw7_ktg_KLbt_3m9PoW0Fgni7BPHAa6Tw0ubNefrzdv9rfEtg5ygRykZ4vNW_hJyAYWsh0ct8b4G8wtMYXfBD85BCkx1CcooCob-rosMXDHtVe5mxyX_21J85c-eXsp04Yu3Iq2"), ("x-client-SKU": "ID_NETSTANDARD2_0"), ("x-client-ver": "5.6.0.0")] }
[2020-12-16T18:43:01.0622803-08:00][INFO][25][Microsoft.AspNetCore.Hosting.Diagnostics] Request finished in 239.5429ms 302 
[2020-12-16T18:43:01.0851552-08:00][INFO][23][Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:44310/Account/Logout?logoutId=CfDJ8MPRbAevb1dLpUBHAVWjYkRcdE8BBhlJvKFPAhmuTxL7ErD6E-7Mt0tsjhDyfoab0Qj5ZXF_8vf4xHbEE1q-hcCsmZYPiwkkNvP_y9l17Jw9xHO0k4mvlB-_BM-V1BCAfP8tZaEXpBDRHdOG6cIKAIH2oY6IaqYYaac8BaPKOMtNSCUfDJbXmX-X-qbopb6b3c8Jrr0JgSmbKEER10UKMHrMSN2cAbKYefxRa0CouWXuiunZmCO_lsn37PdY25Hkyjv6KV7k7aN5AgJ_0jOUK_YpbhKvFaifBOq9ToTp7BwJpF_hH7EjX8cus__XE4zD8Fx_88qW5V4B-jtyQZtbzQw1plR1bT4TrQ7jEJCD_VwZUlHzwH8kWI-hYTBbNgpeZ4hvrfe1XK3eaeHxr2CyWUvY6a3JXm5j_drfSVmDHXj-W0UV-CCVSULCjJYD_j5J4Zmo2yk3FRckTOldL-q8yCm14aQGc8JppQEVVobNt2fVvWRWPaGvl44qgr2eHzRD01BUgDFjyw80JK_hTjizMf2DApl_Yg4vs4B7QbGCW8fPAa2YryEOY8427IOMhgyK2QnXLviwgmEPpAb3vXAVNr2V1js7wJTUqFwYbckS_rSbAz_gEa8GpSCg3_tbzcj7K87w1hADYRiQi2ju7HNK8jg0EL8VgoIqVJX58MT_6dMD1MTPwzSeQGGjpvs6AAWuyjD5VSIgBQS6_Vub25w6Jcs6FFGwC_TsJYZYcudFzvvfbw9a9OVsfP_Lac2NDvsSomHTiGF7tNCZLhRhTeXWGzrI8XZzaJrzkExO38X5p_aQTatL2xRLlhyfzYJmCmbAme75-gi851HR3ynkBUtyd_s  
[2020-12-16T18:43:01.1426726-08:00][INFO][23][Microsoft.AspNetCore.Routing.EndpointMiddleware] Executing endpoint '"EventManager.Identity.STS.Identity.Controllers.AccountController<EventManager.Identity.Admin.EntityFramework.Shared.Entities.Identity.UserIdentity, string>.Logout (EventManager.Identity.STS.Identity)"'
[2020-12-16T18:43:01.1577417-08:00][INFO][23][Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Route matched with "{action = \"Logout\", controller = \"Account\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Logout(System.String)" on controller "EventManager.Identity.STS.Identity.Controllers.AccountController<EventManager.Identity.Admin.EntityFramework.Shared.Entities.Identity.UserIdentity, string>" ("EventManager.Identity.STS.Identity").
[2020-12-16T18:43:01.2103456-08:00][INFO][23][Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler] AuthenticationScheme: "Identity.Application" signed out.
[2020-12-16T18:43:01.2151582-08:00][INFO][23][Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler] AuthenticationScheme: "Identity.External" signed out.
[2020-12-16T18:43:01.2220870-08:00][INFO][23][Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler] AuthenticationScheme: "Identity.TwoFactorUserId" signed out.
[2020-12-16T18:43:01.2271721-08:00][INFO][23][IdentityServer4.Events.DefaultEventService] UserLogoutSuccessEvent { SubjectId: "4986fb39-0b1a-416a-8fda-e04706435fc3", DisplayName: "admin", Category: "Authentication", Name: "User Logout Success", EventType: Success, Id: 1002, Message: null, ActivityId: "0HM526GGUET47:00000015", TimeStamp: 12/17/2020 02:43:01, ProcessId: 25968, LocalIpAddress: "::1:44310", RemoteIpAddress: "::1" }
[2020-12-16T18:43:01.2485481-08:00][INFO][23][Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor] Executing ViewResult, running view "LoggedOut".
[2020-12-16T18:43:01.2712785-08:00][INFO][23][Microsoft.EntityFrameworkCore.Infrastructure] Entity Framework Core "3.1.9" initialized '"IdentityServerConfigurationDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=EventManager.Identity.Admin.EntityFramework.SqlServer "
[2020-12-16T18:43:01.2824298-08:00][INFO][25][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("3"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c].[Id], [c].[AbsoluteRefreshTokenLifetime], [c].[AccessTokenLifetime], [c].[AccessTokenType], [c].[AllowAccessTokensViaBrowser], [c].[AllowOfflineAccess], [c].[AllowPlainTextPkce], [c].[AllowRememberConsent], [c].[AllowedIdentityTokenSigningAlgorithms], [c].[AlwaysIncludeUserClaimsInIdToken], [c].[AlwaysSendClientClaims], [c].[AuthorizationCodeLifetime], [c].[BackChannelLogoutSessionRequired], [c].[BackChannelLogoutUri], [c].[ClientClaimsPrefix], [c].[ClientId], [c].[ClientName], [c].[ClientUri], [c].[ConsentLifetime], [c].[Created], [c].[Description], [c].[DeviceCodeLifetime], [c].[EnableLocalLogin], [c].[Enabled], [c].[FrontChannelLogoutSessionRequired], [c].[FrontChannelLogoutUri], [c].[IdentityTokenLifetime], [c].[IncludeJwtId], [c].[LastAccessed], [c].[LogoUri], [c].[NonEditable], [c].[PairWiseSubjectSalt], [c].[ProtocolType], [c].[RefreshTokenExpiration], [c].[RefreshTokenUsage], [c].[RequireClientSecret], [c].[RequireConsent], [c].[RequirePkce], [c].[RequireRequestObject], [c].[SlidingRefreshTokenLifetime], [c].[UpdateAccessTokenClaimsOnRefresh], [c].[Updated], [c].[UserCodeType], [c].[UserSsoLifetime]
FROM [Clients] AS [c]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-16T18:43:01.3085116-08:00][INFO][25][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("8"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[Origin]
FROM [Clients] AS [c]
INNER JOIN [ClientCorsOrigins] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-16T18:43:01.3343153-08:00][INFO][25][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("7"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[GrantType]
FROM [Clients] AS [c]
INNER JOIN [ClientGrantTypes] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-16T18:43:01.3958280-08:00][INFO][25][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("11"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[Scope]
FROM [Clients] AS [c]
INNER JOIN [ClientScopes] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-16T18:43:01.4170974-08:00][INFO][25][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("3"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[Type], [c0].[Value]
FROM [Clients] AS [c]
INNER JOIN [ClientClaims] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-16T18:43:01.4331794-08:00][INFO][23][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("3"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[Created], [c0].[Description], [c0].[Expiration], [c0].[Type], [c0].[Value]
FROM [Clients] AS [c]
INNER JOIN [ClientSecrets] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-16T18:43:01.4472945-08:00][INFO][23][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("2"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[Provider]
FROM [Clients] AS [c]
INNER JOIN [ClientIdPRestrictions] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-16T18:43:01.4675201-08:00][INFO][23][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("3"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[PostLogoutRedirectUri]
FROM [Clients] AS [c]
INNER JOIN [ClientPostLogoutRedirectUris] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-16T18:43:01.4831209-08:00][INFO][23][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("3"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[Key], [c0].[Value]
FROM [Clients] AS [c]
INNER JOIN [ClientProperties] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-16T18:43:01.4981580-08:00][INFO][23][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("3"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[RedirectUri]
FROM [Clients] AS [c]
INNER JOIN [ClientRedirectUris] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-16T18:43:01.5280810-08:00][INFO][23][Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor] Executed ViewResult - view "LoggedOut" executed in 285.4725ms.
[2020-12-16T18:43:01.5637657-08:00][INFO][23][Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Executed action "EventManager.Identity.STS.Identity.Controllers.AccountController<EventManager.Identity.Admin.EntityFramework.Shared.Entities.Identity.UserIdentity, string>.Logout (EventManager.Identity.STS.Identity)" in 396.3183ms
[2020-12-16T18:43:01.5749218-08:00][INFO][23][Microsoft.AspNetCore.Routing.EndpointMiddleware] Executed endpoint '"EventManager.Identity.STS.Identity.Controllers.AccountController<EventManager.Identity.Admin.EntityFramework.Shared.Entities.Identity.UserIdentity, string>.Logout (EventManager.Identity.STS.Identity)"'
[2020-12-16T18:43:01.6127271-08:00][INFO][30][Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:44310/dist/css/web.css?v=gzbQ_J4PfKys2r0KpTe01uKRO7lnqK_lEp7OvIB7ZAA  
[2020-12-16T18:43:01.6134001-08:00][INFO][32][Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:44310/dist/js/bundle.min.js?v=11Fw87BWmEIjIw_LrA_JwvJM5t0w9WbTFIog6ElarB0  
[2020-12-16T18:43:01.6271299-08:00][INFO][23][Microsoft.AspNetCore.Hosting.Diagnostics] Request finished in 542.059ms 200 text/html; charset=utf-8
[2020-12-16T18:43:01.6133213-08:00][INFO][29][Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:44310/dist/css/bundle.min.css?v=6Y8xGSDMhkjYMZuaFSdp3fqA3xdNX-Q6_xp14ExGbY8  
[2020-12-16T18:43:01.6317488-08:00][INFO][30][Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware] Sending file. Request path: '"/dist/css/web.css"'. Physical path: '"C:\Projects\EventManager\Api\Identity\src\EventManager.Identity.STS.Identity\wwwroot\dist\css\web.css"'
[2020-12-16T18:43:01.6409103-08:00][INFO][32][Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/2 GET https://localhost:44310/connect/endsession/callback?endSessionId=CfDJ8MPRbAevb1dLpUBHAVWjYkQB_5ng0uMMuJsSSLfacahck4cWB4rE9Z1fTFsRKGmJfnYFyQjSk-JeNX0YlOH6OHNDrbR9MF3WhvPK9oGaM4OJ79QAVLNzQjeyZpxQX9rVHjIeEzrVXIBCZbe4l8LyleLt-BPSSRuE-S-pyiy351HdlI_pv_ULT2-8yEVKtDT0A7AgGUHLkCNxzwvtVWkY145nkA7GNFROIBSsMYF1QgvRgrEOys4P8H_s0pznrV30F_KvrjVQzxyv9TizVoDaAvI3DftRCA4UuSfeZT_NvWk1DiBLFte-5YLgXAHGBde0y6pNufKAA_GV8ZNI8zqhPKU  
[2020-12-16T18:43:01.6756414-08:00][INFO][30][Microsoft.AspNetCore.Hosting.Diagnostics] Request finished in 62.9229ms 200 text/css
[2020-12-16T18:43:01.6851636-08:00][INFO][32][IdentityServer4.Hosting.IdentityServerMiddleware] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.EndSessionCallbackEndpoint" for "/connect/endsession/callback"
[2020-12-16T18:43:01.6923182-08:00][INFO][30][Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware] Sending file. Request path: '"/dist/js/bundle.min.js"'. Physical path: '"C:\Projects\EventManager\Api\Identity\src\EventManager.Identity.STS.Identity\wwwroot\dist\js\bundle.min.js"'
[2020-12-16T18:43:01.7009482-08:00][INFO][23][Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware] Sending file. Request path: '"/dist/css/bundle.min.css"'. Physical path: '"C:\Projects\EventManager\Api\Identity\src\EventManager.Identity.STS.Identity\wwwroot\dist\css\bundle.min.css"'
[2020-12-16T18:43:01.7126639-08:00][INFO][30][Microsoft.AspNetCore.Hosting.Diagnostics] Request finished in 99.4668ms 200 application/javascript
[2020-12-16T18:43:01.7206679-08:00][INFO][23][Microsoft.AspNetCore.Hosting.Diagnostics] Request finished in 107.8439ms 200 text/css
[2020-12-16T18:43:01.7396350-08:00][INFO][32][Microsoft.EntityFrameworkCore.Infrastructure] Entity Framework Core "3.1.9" initialized '"IdentityServerConfigurationDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=EventManager.Identity.Admin.EntityFramework.SqlServer "
[2020-12-16T18:43:01.7626707-08:00][INFO][23][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("4"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c].[Id], [c].[AbsoluteRefreshTokenLifetime], [c].[AccessTokenLifetime], [c].[AccessTokenType], [c].[AllowAccessTokensViaBrowser], [c].[AllowOfflineAccess], [c].[AllowPlainTextPkce], [c].[AllowRememberConsent], [c].[AllowedIdentityTokenSigningAlgorithms], [c].[AlwaysIncludeUserClaimsInIdToken], [c].[AlwaysSendClientClaims], [c].[AuthorizationCodeLifetime], [c].[BackChannelLogoutSessionRequired], [c].[BackChannelLogoutUri], [c].[ClientClaimsPrefix], [c].[ClientId], [c].[ClientName], [c].[ClientUri], [c].[ConsentLifetime], [c].[Created], [c].[Description], [c].[DeviceCodeLifetime], [c].[EnableLocalLogin], [c].[Enabled], [c].[FrontChannelLogoutSessionRequired], [c].[FrontChannelLogoutUri], [c].[IdentityTokenLifetime], [c].[IncludeJwtId], [c].[LastAccessed], [c].[LogoUri], [c].[NonEditable], [c].[PairWiseSubjectSalt], [c].[ProtocolType], [c].[RefreshTokenExpiration], [c].[RefreshTokenUsage], [c].[RequireClientSecret], [c].[RequireConsent], [c].[RequirePkce], [c].[RequireRequestObject], [c].[SlidingRefreshTokenLifetime], [c].[UpdateAccessTokenClaimsOnRefresh], [c].[Updated], [c].[UserCodeType], [c].[UserSsoLifetime]
FROM [Clients] AS [c]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T00:23:28.9219952+00:00][INFO][1][Microsoft.EntityFrameworkCore.Infrastructure] Entity Framework Core "5.0.1" initialized '"IdentityServerDataProtectionDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=EventManager.Identity.Admin.EntityFramework.SqlServer "
[2020-12-30T00:23:32.1398916+00:00][INFO][1][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("69"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [d].[Id], [d].[FriendlyName], [d].[Xml]
FROM [DataProtectionKeys] AS [d]"
[2020-12-30T00:23:32.5269834+00:00][INFO][1][IdentityServer4.Startup] Starting IdentityServer4 version "4.1.1+cebd52f5bc61bdefc262fd20739d4d087c6f961f"
[2020-12-30T00:23:32.6629173+00:00][INFO][1][IdentityServer4.Startup] Using the default authentication scheme "Identity.Application" for IdentityServer
[2020-12-30T00:23:34.5864720+00:00][INFO][1][Microsoft.Hosting.Lifetime] Now listening on: "http://[::]:50003"
[2020-12-30T00:23:34.5954779+00:00][INFO][1][Microsoft.Hosting.Lifetime] Application started. Press Ctrl+C to shut down.
[2020-12-30T00:23:34.5993834+00:00][INFO][1][Microsoft.Hosting.Lifetime] Hosting environment: "Development"
[2020-12-30T00:23:34.6003799+00:00][INFO][1][Microsoft.Hosting.Lifetime] Content root path: "/app"
[2020-12-30T00:35:36.7850494+00:00][INFO][18][Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 GET http://www.em.host/.well-known/openid-configuration - -
[2020-12-30T00:35:36.8830441+00:00][INFO][18][IdentityServer4.Hosting.IdentityServerMiddleware] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.DiscoveryEndpoint" for "/.well-known/openid-configuration"
[2020-12-30T00:35:37.4315353+00:00][INFO][18][Microsoft.EntityFrameworkCore.Infrastructure] Entity Framework Core "5.0.1" initialized '"IdentityServerConfigurationDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=EventManager.Identity.Admin.EntityFramework.SqlServer "
[2020-12-30T00:35:37.6207848+00:00][WARN][18][Microsoft.EntityFrameworkCore.Query] Compiling a query which loads related collections for more than one collection navigation either via 'Include' or through projection but no 'QuerySplittingBehavior' has been configured. By default Entity Framework will use 'QuerySplittingBehavior.SingleQuery' which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'
[2020-12-30T00:35:37.8683304+00:00][INFO][19][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("54"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [i].[Id], [i].[Created], [i].[Description], [i].[DisplayName], [i].[Emphasize], [i].[Enabled], [i].[Name], [i].[NonEditable], [i].[Required], [i].[ShowInDiscoveryDocument], [i].[Updated], [i0].[Id], [i0].[IdentityResourceId], [i0].[Type], [i1].[Id], [i1].[IdentityResourceId], [i1].[Key], [i1].[Value]
FROM [IdentityResources] AS [i]
LEFT JOIN [IdentityResourceClaims] AS [i0] ON [i].[Id] = [i0].[IdentityResourceId]
LEFT JOIN [IdentityResourceProperties] AS [i1] ON [i].[Id] = [i1].[IdentityResourceId]
ORDER BY [i].[Id], [i0].[Id], [i1].[Id]"
[2020-12-30T00:35:38.0252298+00:00][WARN][19][Microsoft.EntityFrameworkCore.Query] Compiling a query which loads related collections for more than one collection navigation either via 'Include' or through projection but no 'QuerySplittingBehavior' has been configured. By default Entity Framework will use 'QuerySplittingBehavior.SingleQuery' which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'
[2020-12-30T00:35:38.0962017+00:00][INFO][16][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("18"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [a].[Id], [a].[AllowedAccessTokenSigningAlgorithms], [a].[Created], [a].[Description], [a].[DisplayName], [a].[Enabled], [a].[LastAccessed], [a].[Name], [a].[NonEditable], [a].[ShowInDiscoveryDocument], [a].[Updated], [a0].[Id], [a0].[ApiResourceId], [a0].[Created], [a0].[Description], [a0].[Expiration], [a0].[Type], [a0].[Value], [a1].[Id], [a1].[ApiResourceId], [a1].[Scope], [a2].[Id], [a2].[ApiResourceId], [a2].[Type], [a3].[Id], [a3].[ApiResourceId], [a3].[Key], [a3].[Value]
FROM [ApiResources] AS [a]
LEFT JOIN [ApiResourceSecrets] AS [a0] ON [a].[Id] = [a0].[ApiResourceId]
LEFT JOIN [ApiResourceScopes] AS [a1] ON [a].[Id] = [a1].[ApiResourceId]
LEFT JOIN [ApiResourceClaims] AS [a2] ON [a].[Id] = [a2].[ApiResourceId]
LEFT JOIN [ApiResourceProperties] AS [a3] ON [a].[Id] = [a3].[ApiResourceId]
ORDER BY [a].[Id], [a0].[Id], [a1].[Id], [a2].[Id], [a3].[Id]"
[2020-12-30T00:35:38.1082932+00:00][WARN][16][Microsoft.EntityFrameworkCore.Query] Compiling a query which loads related collections for more than one collection navigation either via 'Include' or through projection but no 'QuerySplittingBehavior' has been configured. By default Entity Framework will use 'QuerySplittingBehavior.SingleQuery' which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'
[2020-12-30T00:35:38.1355159+00:00][INFO][16][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("8"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [a].[Id], [a].[Description], [a].[DisplayName], [a].[Emphasize], [a].[Enabled], [a].[Name], [a].[Required], [a].[ShowInDiscoveryDocument], [a0].[Id], [a0].[ScopeId], [a0].[Type], [a1].[Id], [a1].[Key], [a1].[ScopeId], [a1].[Value]
FROM [ApiScopes] AS [a]
LEFT JOIN [ApiScopeClaims] AS [a0] ON [a].[Id] = [a0].[ScopeId]
LEFT JOIN [ApiScopeProperties] AS [a1] ON [a].[Id] = [a1].[ScopeId]
ORDER BY [a].[Id], [a0].[Id], [a1].[Id]"
[2020-12-30T00:35:38.7084101+00:00][INFO][16][Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/1.1 GET http://www.em.host/.well-known/openid-configuration - - - 200 - application/json;+charset=UTF-8 1925.4288ms
[2020-12-30T00:35:38.8317067+00:00][INFO][17][Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 GET http://www.em.host/.well-known/openid-configuration/jwks - -
[2020-12-30T00:35:38.8466272+00:00][INFO][17][IdentityServer4.Hosting.IdentityServerMiddleware] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.DiscoveryKeyEndpoint" for "/.well-known/openid-configuration/jwks"
[2020-12-30T00:35:38.9817453+00:00][INFO][17][Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/1.1 GET http://www.em.host/.well-known/openid-configuration/jwks - - - 200 - application/json;+charset=UTF-8 149.9677ms
[2020-12-30T00:35:39.1277303+00:00][INFO][15][Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 GET http://www.em.host/connect/authorize?client_id=urn%3Aem%3Aclient&redirect_uri=https%3A%2F%2Fwww.em.host%2Fadmin%2Fidentity%2Fsignin-oidc&response_type=code&scope=openid%20profile%20email%20roles&code_challenge=-qIs0Q6a2Qkue8paO25k_IwXaIJ68v-oF-vweDjrTrI&code_challenge_method=S256&response_mode=form_post&nonce=637448853390623095.OWUyNmUyYzktMTZjMS00ZDBmLThjN2MtNzIxNzllZDM2YWQwZjU1YjEzNWEtZmRiOS00Y2JhLWEyZjMtMDY4YzhiZjVhMmJl&state=CfDJ8ASI9RBeE6hBsIC3rORyZw3WdmC8cJ1oUWseGdeNjlJzfZUFKdwQMNkUvK4-ZVXmvwB0M0PsGWLpriD0cXO07aLxkIBIolz87PmBylIYIdc2j7YOHSNDodT20Db3FyHtn2vPO61e4X0_cCl7mu9O0pC_80UD7h54XttiRGyeZSsHwmyG27VOsRRRnpZxUqv6jm9pAjwPtQeehjd6OksrbCvP9-eQJOD9FMGBN89Wp2Tj4kOwAdov93hZFmS9UjN9tUak0hxq4s40t3GdGGRVfu0vhZbRPOm0qY0nEYDEzkTAo6Up1pn8SSlyTalFNjBv_zYXpoL2dz45rkqvGOAdUlq2JGGuGw2EbhNFaSwkvnmeXMTIndKnDSWvLwYjaaF6nw&x-client-SKU=ID_NETSTANDARD2_0&x-client-ver=5.6.0.0 - -
[2020-12-30T00:35:39.2721579+00:00][INFO][15][IdentityServer4.Hosting.IdentityServerMiddleware] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize"
[2020-12-30T00:35:39.3144047+00:00][INFO][15][Microsoft.EntityFrameworkCore.Infrastructure] Entity Framework Core "5.0.1" initialized '"IdentityServerConfigurationDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=EventManager.Identity.Admin.EntityFramework.SqlServer "
[2020-12-30T00:35:39.3791159+00:00][INFO][18][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("26"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c].[Id], [c].[AbsoluteRefreshTokenLifetime], [c].[AccessTokenLifetime], [c].[AccessTokenType], [c].[AllowAccessTokensViaBrowser], [c].[AllowOfflineAccess], [c].[AllowPlainTextPkce], [c].[AllowRememberConsent], [c].[AllowedIdentityTokenSigningAlgorithms], [c].[AlwaysIncludeUserClaimsInIdToken], [c].[AlwaysSendClientClaims], [c].[AuthorizationCodeLifetime], [c].[BackChannelLogoutSessionRequired], [c].[BackChannelLogoutUri], [c].[ClientClaimsPrefix], [c].[ClientId], [c].[ClientName], [c].[ClientUri], [c].[ConsentLifetime], [c].[Created], [c].[Description], [c].[DeviceCodeLifetime], [c].[EnableLocalLogin], [c].[Enabled], [c].[FrontChannelLogoutSessionRequired], [c].[FrontChannelLogoutUri], [c].[IdentityTokenLifetime], [c].[IncludeJwtId], [c].[LastAccessed], [c].[LogoUri], [c].[NonEditable], [c].[PairWiseSubjectSalt], [c].[ProtocolType], [c].[RefreshTokenExpiration], [c].[RefreshTokenUsage], [c].[RequireClientSecret], [c].[RequireConsent], [c].[RequirePkce], [c].[RequireRequestObject], [c].[SlidingRefreshTokenLifetime], [c].[UpdateAccessTokenClaimsOnRefresh], [c].[Updated], [c].[UserCodeType], [c].[UserSsoLifetime]
FROM [Clients] AS [c]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T00:35:39.5238545+00:00][INFO][18][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("13"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[Origin]
FROM [Clients] AS [c]
INNER JOIN [ClientCorsOrigins] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T00:35:39.5535438+00:00][INFO][17][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("5"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[GrantType]
FROM [Clients] AS [c]
INNER JOIN [ClientGrantTypes] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T00:35:39.5847398+00:00][INFO][15][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("7"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[Scope]
FROM [Clients] AS [c]
INNER JOIN [ClientScopes] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T00:35:39.6119704+00:00][INFO][15][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("5"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[Type], [c0].[Value]
FROM [Clients] AS [c]
INNER JOIN [ClientClaims] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T00:35:39.6336191+00:00][INFO][15][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("6"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[Created], [c0].[Description], [c0].[Expiration], [c0].[Type], [c0].[Value]
FROM [Clients] AS [c]
INNER JOIN [ClientSecrets] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T00:35:39.6695724+00:00][INFO][15][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("5"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[Provider]
FROM [Clients] AS [c]
INNER JOIN [ClientIdPRestrictions] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T00:35:39.6917775+00:00][INFO][18][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("6"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[PostLogoutRedirectUri]
FROM [Clients] AS [c]
INNER JOIN [ClientPostLogoutRedirectUris] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T00:35:39.7201760+00:00][INFO][12][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("5"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[Key], [c0].[Value]
FROM [Clients] AS [c]
INNER JOIN [ClientProperties] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T00:35:39.7406787+00:00][INFO][12][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("6"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[RedirectUri]
FROM [Clients] AS [c]
INNER JOIN [ClientRedirectUris] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T00:35:40.0808452+00:00][WARN][12][Microsoft.EntityFrameworkCore.Query] Compiling a query which loads related collections for more than one collection navigation either via 'Include' or through projection but no 'QuerySplittingBehavior' has been configured. By default Entity Framework will use 'QuerySplittingBehavior.SingleQuery' which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'
[2020-12-30T00:35:40.1484395+00:00][INFO][13][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("8"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [i].[Id], [i].[Created], [i].[Description], [i].[DisplayName], [i].[Emphasize], [i].[Enabled], [i].[Name], [i].[NonEditable], [i].[Required], [i].[ShowInDiscoveryDocument], [i].[Updated], [i0].[Id], [i0].[IdentityResourceId], [i0].[Type], [i1].[Id], [i1].[IdentityResourceId], [i1].[Key], [i1].[Value]
FROM [IdentityResources] AS [i]
LEFT JOIN [IdentityResourceClaims] AS [i0] ON [i].[Id] = [i0].[IdentityResourceId]
LEFT JOIN [IdentityResourceProperties] AS [i1] ON [i].[Id] = [i1].[IdentityResourceId]
WHERE [i].[Name] IN (N'openid', N'profile', N'email', N'roles')
ORDER BY [i].[Id], [i0].[Id], [i1].[Id]"
[2020-12-30T00:35:40.2044910+00:00][WARN][12][Microsoft.EntityFrameworkCore.Query] Compiling a query which loads related collections for more than one collection navigation either via 'Include' or through projection but no 'QuerySplittingBehavior' has been configured. By default Entity Framework will use 'QuerySplittingBehavior.SingleQuery' which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'
[2020-12-30T00:35:40.2971402+00:00][INFO][13][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("38"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [a].[Id], [a].[AllowedAccessTokenSigningAlgorithms], [a].[Created], [a].[Description], [a].[DisplayName], [a].[Enabled], [a].[LastAccessed], [a].[Name], [a].[NonEditable], [a].[ShowInDiscoveryDocument], [a].[Updated], [a0].[Id], [a0].[ApiResourceId], [a0].[Created], [a0].[Description], [a0].[Expiration], [a0].[Type], [a0].[Value], [a1].[Id], [a1].[ApiResourceId], [a1].[Scope], [a2].[Id], [a2].[ApiResourceId], [a2].[Typ[2020-12-30T01:43:29.8002184+00:00][INFO][1][Microsoft.EntityFrameworkCore.Infrastructure] Entity Framework Core "5.0.1" initialized '"IdentityServerDataProtectionDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=EventManager.Identity.Admin.EntityFramework.SqlServer "
[2020-12-30T01:43:32.0352452+00:00][INFO][1][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("48"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [d].[Id], [d].[FriendlyName], [d].[Xml]
FROM [DataProtectionKeys] AS [d]"
[2020-12-30T01:43:32.5170464+00:00][INFO][1][IdentityServer4.Startup] Starting IdentityServer4 version "4.1.1+cebd52f5bc61bdefc262fd20739d4d087c6f961f"
[2020-12-30T01:43:32.6011559+00:00][INFO][1][IdentityServer4.Startup] Using the default authentication scheme "Identity.Application" for IdentityServer
[2020-12-30T01:43:34.2663900+00:00][INFO][1][Microsoft.Hosting.Lifetime] Now listening on: "http://[::]:50003"
[2020-12-30T01:43:34.2815564+00:00][INFO][1][Microsoft.Hosting.Lifetime] Application started. Press Ctrl+C to shut down.
[2020-12-30T01:43:34.2831235+00:00][INFO][1][Microsoft.Hosting.Lifetime] Hosting environment: "Development"
[2020-12-30T01:43:34.2839194+00:00][INFO][1][Microsoft.Hosting.Lifetime] Content root path: "/app"
[2020-12-30T04:02:22.2492967+00:00][INFO][19][Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 GET http://www.em.host/.well-known/openid-configuration - -
[2020-12-30T04:02:22.4113786+00:00][INFO][19][IdentityServer4.Hosting.IdentityServerMiddleware] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.DiscoveryEndpoint" for "/.well-known/openid-configuration"
[2020-12-30T04:02:22.9229272+00:00][INFO][19][Microsoft.EntityFrameworkCore.Infrastructure] Entity Framework Core "5.0.1" initialized '"IdentityServerConfigurationDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=EventManager.Identity.Admin.EntityFramework.SqlServer "
[2020-12-30T04:02:23.1288638+00:00][WARN][19][Microsoft.EntityFrameworkCore.Query] Compiling a query which loads related collections for more than one collection navigation either via 'Include' or through projection but no 'QuerySplittingBehavior' has been configured. By default Entity Framework will use 'QuerySplittingBehavior.SingleQuery' which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'
[2020-12-30T04:02:23.3865023+00:00][INFO][21][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("53"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [i].[Id], [i].[Created], [i].[Description], [i].[DisplayName], [i].[Emphasize], [i].[Enabled], [i].[Name], [i].[NonEditable], [i].[Required], [i].[ShowInDiscoveryDocument], [i].[Updated], [i0].[Id], [i0].[IdentityResourceId], [i0].[Type], [i1].[Id], [i1].[IdentityResourceId], [i1].[Key], [i1].[Value]
FROM [IdentityResources] AS [i]
LEFT JOIN [IdentityResourceClaims] AS [i0] ON [i].[Id] = [i0].[IdentityResourceId]
LEFT JOIN [IdentityResourceProperties] AS [i1] ON [i].[Id] = [i1].[IdentityResourceId]
ORDER BY [i].[Id], [i0].[Id], [i1].[Id]"
[2020-12-30T04:02:23.5240510+00:00][WARN][21][Microsoft.EntityFrameworkCore.Query] Compiling a query which loads related collections for more than one collection navigation either via 'Include' or through projection but no 'QuerySplittingBehavior' has been configured. By default Entity Framework will use 'QuerySplittingBehavior.SingleQuery' which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'
[2020-12-30T04:02:23.5831371+00:00][INFO][21][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("21"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [a].[Id], [a].[AllowedAccessTokenSigningAlgorithms], [a].[Created], [a].[Description], [a].[DisplayName], [a].[Enabled], [a].[LastAccessed], [a].[Name], [a].[NonEditable], [a].[ShowInDiscoveryDocument], [a].[Updated], [a0].[Id], [a0].[ApiResourceId], [a0].[Created], [a0].[Description], [a0].[Expiration], [a0].[Type], [a0].[Value], [a1].[Id], [a1].[ApiResourceId], [a1].[Scope], [a2].[Id], [a2].[ApiResourceId], [a2].[Type], [a3].[Id], [a3].[ApiResourceId], [a3].[Key], [a3].[Value]
FROM [ApiResources] AS [a]
LEFT JOIN [ApiResourceSecrets] AS [a0] ON [a].[Id] = [a0].[ApiResourceId]
LEFT JOIN [ApiResourceScopes] AS [a1] ON [a].[Id] = [a1].[ApiResourceId]
LEFT JOIN [ApiResourceClaims] AS [a2] ON [a].[Id] = [a2].[ApiResourceId]
LEFT JOIN [ApiResourceProperties] AS [a3] ON [a].[Id] = [a3].[ApiResourceId]
ORDER BY [a].[Id], [a0].[Id], [a1].[Id], [a2].[Id], [a3].[Id]"
[2020-12-30T04:02:23.5961127+00:00][WARN][21][Microsoft.EntityFrameworkCore.Query] Compiling a query which loads related collections for more than one collection navigation either via 'Include' or through projection but no 'QuerySplittingBehavior' has been configured. By default Entity Framework will use 'QuerySplittingBehavior.SingleQuery' which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'
[2020-12-30T04:02:23.6334381+00:00][INFO][19][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("7"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [a].[Id], [a].[Description], [a].[DisplayName], [a].[Emphasize], [a].[Enabled], [a].[Name], [a].[Required], [a].[ShowInDiscoveryDocument], [a0].[Id], [a0].[ScopeId], [a0].[Type], [a1].[Id], [a1].[Key], [a1].[ScopeId], [a1].[Value]
FROM [ApiScopes] AS [a]
LEFT JOIN [ApiScopeClaims] AS [a0] ON [a].[Id] = [a0].[ScopeId]
LEFT JOIN [ApiScopeProperties] AS [a1] ON [a].[Id] = [a1].[ScopeId]
ORDER BY [a].[Id], [a0].[Id], [a1].[Id]"
[2020-12-30T04:02:24.2560117+00:00][INFO][19][Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/1.1 GET http://www.em.host/.well-known/openid-configuration - - - 200 - application/json;+charset=UTF-8 2009.5229ms
[2020-12-30T04:02:24.3942104+00:00][INFO][18][Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 GET http://www.em.host/.well-known/openid-configuration/jwks - -
[2020-12-30T04:02:24.4012774+00:00][INFO][18][IdentityServer4.Hosting.IdentityServerMiddleware] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.DiscoveryKeyEndpoint" for "/.well-known/openid-configuration/jwks"
[2020-12-30T04:02:24.5271181+00:00][INFO][18][Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/1.1 GET http://www.em.host/.well-known/openid-configuration/jwks - - - 200 - application/json;+charset=UTF-8 132.8559ms
[2020-12-30T04:02:24.6666266+00:00][INFO][18][Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 GET http://www.em.host/connect/authorize?client_id=urn%3Aem%3Aclient&redirect_uri=https%3A%2F%2Fwww.em.host%2Fadmin%2Fidentity%2Fsignin-oidc&response_type=code&scope=openid%20profile%20email%20roles&code_challenge=-DiYlnFHafRM_JPltD4IoTr-Kv00fxZgk_FRj_ZzTWk&code_challenge_method=S256&response_mode=form_post&nonce=637448977445883885.ZGNlN2I0Y2UtYmFjNS00MWJmLTg0YjItZDY2MzQ1MTllYmUzNjNjYjBmYTgtY2I5Mi00NTcxLTk0YzYtNzI0MTFlNmE0ZGYy&state=CfDJ8ASI9RBeE6hBsIC3rORyZw1Dt0Afxi_w4OieZG4Ip7SZmxvgz_17wYJ2yv7jpg3Gk7FmcLHk70qWpRTdGzVSMJQYZPXXChv6JTl2tGmaa1LUdYq3RBt4mLqbeJXp02K7rLBzs6OY-HEfpCBSHWCoz7onOqBKLbnalG3VkCsUDNkhTbaXOU_zk_bZon-LKhjmb7UDwp2M9appbM68_3XGbQaBa-Y-7rqsgu3V96d0b6F93prD_bTwPc5s5OS-IxecVZofIBESTiWcVcRwUNZ8T9U88gITo2xCK9S6-61bODtKP43yN1OFu2HgCy08VfdNE1cGs-ja4WNDS62nrIkJxyBsBRq0AFO_PXsBrC64tyScJ8IuSw1tjmHYjWLgUZ1YhQ&x-client-SKU=ID_NETSTANDARD2_0&x-client-ver=5.6.0.0 - -
[2020-12-30T04:02:24.8253140+00:00][INFO][18][IdentityServer4.Hosting.IdentityServerMiddleware] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize"
[2020-12-30T04:02:24.8609027+00:00][INFO][18][Microsoft.EntityFrameworkCore.Infrastructure] Entity Framework Core "5.0.1" initialized '"IdentityServerConfigurationDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=EventManager.Identity.Admin.EntityFramework.SqlServer "
[2020-12-30T04:02:24.9286484+00:00][INFO][17][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("28"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c].[Id], [c].[AbsoluteRefreshTokenLifetime], [c].[AccessTokenLifetime], [c].[AccessTokenType], [c].[AllowAccessTokensViaBrowser], [c].[AllowOfflineAccess], [c].[AllowPlainTextPkce], [c].[AllowRememberConsent], [c].[AllowedIdentityTokenSigningAlgorithms], [c].[AlwaysIncludeUserClaimsInIdToken], [c].[AlwaysSendClientClaims], [c].[AuthorizationCodeLifetime], [c].[BackChannelLogoutSessionRequired], [c].[BackChannelLogoutUri], [c].[ClientClaimsPrefix], [c].[ClientId], [c].[ClientName], [c].[ClientUri], [c].[ConsentLifetime], [c].[Created], [c].[Description], [c].[DeviceCodeLifetime], [c].[EnableLocalLogin], [c].[Enabled], [c].[FrontChannelLogoutSessionRequired], [c].[FrontChannelLogoutUri], [c].[IdentityTokenLifetime], [c].[IncludeJwtId], [c].[LastAccessed], [c].[LogoUri], [c].[NonEditable], [c].[PairWiseSubjectSalt], [c].[ProtocolType], [c].[RefreshTokenExpiration], [c].[RefreshTokenUsage], [c].[RequireClientSecret], [c].[RequireConsent], [c].[RequirePkce], [c].[RequireRequestObject], [c].[SlidingRefreshTokenLifetime], [c].[UpdateAccessTokenClaimsOnRefresh], [c].[Updated], [c].[UserCodeType], [c].[UserSsoLifetime]
FROM [Clients] AS [c]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T04:02:25.0834644+00:00][INFO][22][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("7"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[Origin]
FROM [Clients] AS [c]
INNER JOIN [ClientCorsOrigins] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T04:02:25.1160594+00:00][INFO][18][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("5"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[GrantType]
FROM [Clients] AS [c]
INNER JOIN [ClientGrantTypes] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T04:02:25.1459792+00:00][INFO][18][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("5"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[Scope]
FROM [Clients] AS [c]
INNER JOIN [ClientScopes] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T04:02:25.1736395+00:00][INFO][15][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("5"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[Type], [c0].[Value]
FROM [Clients] AS [c]
INNER JOIN [ClientClaims] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T04:02:25.1920807+00:00][INFO][15][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("5"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[Created], [c0].[Description], [c0].[Expiration], [c0].[Type], [c0].[Value]
FROM [Clients] AS [c]
INNER JOIN [ClientSecrets] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T04:02:25.2233025+00:00][INFO][17][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("4"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[Provider]
FROM [Clients] AS [c]
INNER JOIN [ClientIdPRestrictions] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T04:02:25.2474934+00:00][INFO][21][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("5"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[PostLogoutRedirectUri]
FROM [Clients] AS [c]
INNER JOIN [ClientPostLogoutRedirectUris] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T04:02:25.2747429+00:00][INFO][22][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("6"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[Key], [c0].[Value]
FROM [Clients] AS [c]
INNER JOIN [ClientProperties] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T04:02:25.2972153+00:00][INFO][17][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("6"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[RedirectUri]
FROM [Clients] AS [c]
INNER JOIN [ClientRedirectUris] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T04:02:25.5352201+00:00][WARN][17][Microsoft.EntityFrameworkCore.Query] Compiling a query which loads related collections for more than one collection navigation either via 'Include' or through projection but no 'QuerySplittingBehavior' has been configured. By default Entity Framework will use 'QuerySplittingBehavior.SingleQuery' which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'
[2020-12-30T04:02:25.5668803+00:00][INFO][19][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("6"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [i].[Id], [i].[Created], [i].[Description], [i].[DisplayName], [i].[Emphasize], [i].[Enabled], [i].[Name], [i].[NonEditable], [i].[Required], [i].[ShowInDiscoveryDocument], [i].[Updated], [i0].[Id], [i0].[IdentityResourceId], [i0].[Type], [i1].[Id], [i1].[IdentityResourceId], [i1].[Key], [i1].[Value]
FROM [IdentityResources] AS [i]
LEFT JOIN [IdentityResourceClaims] AS [i0] ON [i].[Id] = [i0].[IdentityResourceId]
LEFT JOIN [IdentityResourceProperties] AS [i1] ON [i].[Id] = [i1].[IdentityResourceId]
WHERE [i].[Name] IN (N'openid', N'profile', N'email', N'roles')
ORDER BY [i].[Id], [i0].[Id], [i1].[Id]"
[2020-12-30T04:02:25.6151909+00:00][WARN][19][Microsoft.EntityFrameworkCore.Query] Compiling a query which loads related collections for more than one collection navigation either via 'Include' or through projection but no 'QuerySplittingBehavior' has been configured. By default Entity Framework will use 'QuerySplittingBehavior.SingleQuery' which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'
[2020-12-30T04:02:25.6640652+00:00][INFO][18][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("13"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [a].[Id], [a].[AllowedAccessTokenSigningAlgorithms], [a].[Created], [a].[Description], [a].[DisplayName], [a].[Enabled], [a].[LastAccessed], [a].[Name], [a].[NonEditable], [a].[ShowInDiscoveryDocument], [a].[Updated], [a0].[Id], [a0].[ApiResourceId], [a0].[Created], [a0].[Description], [a0].[Expiration], [a0].[Type], [a0].[Value], [a1].[Id], [a1].[ApiResourceId], [a1].[Scope], [a2].[Id], [a2].[ApiResourceId], [a2].[Type[2020-12-30T05:23:09.8611247+00:00][INFO][1][Microsoft.EntityFrameworkCore.Infrastructure] Entity Framework Core "5.0.1" initialized '"IdentityServerDataProtectionDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=EventManager.Identity.Admin.EntityFramework.SqlServer "
[2020-12-30T05:23:13.5505870+00:00][INFO][1][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("171"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [d].[Id], [d].[FriendlyName], [d].[Xml]
FROM [DataProtectionKeys] AS [d]"
[2020-12-30T05:23:14.3530554+00:00][INFO][1][IdentityServer4.Startup] Starting IdentityServer4 version "4.1.1+cebd52f5bc61bdefc262fd20739d4d087c6f961f"
[2020-12-30T05:23:14.4675769+00:00][INFO][1][IdentityServer4.Startup] Using the default authentication scheme "Identity.Application" for IdentityServer
[2020-12-30T05:23:16.6032384+00:00][INFO][1][Microsoft.Hosting.Lifetime] Now listening on: "http://[::]:50003"
[2020-12-30T05:23:16.6116027+00:00][INFO][1][Microsoft.Hosting.Lifetime] Application started. Press Ctrl+C to shut down.
[2020-12-30T05:23:16.6334045+00:00][INFO][1][Microsoft.Hosting.Lifetime] Hosting environment: "Development"
[2020-12-30T05:23:16.6341795+00:00][INFO][1][Microsoft.Hosting.Lifetime] Content root path: "/app"
[2020-12-30T05:54:33.1532900+00:00][INFO][17][Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 GET http://www.em.host/.well-known/openid-configuration - -
[2020-12-30T05:54:33.2963915+00:00][INFO][17][IdentityServer4.Hosting.IdentityServerMiddleware] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.DiscoveryEndpoint" for "/.well-known/openid-configuration"
[2020-12-30T05:54:34.0854590+00:00][INFO][17][Microsoft.EntityFrameworkCore.Infrastructure] Entity Framework Core "5.0.1" initialized '"IdentityServerConfigurationDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=EventManager.Identity.Admin.EntityFramework.SqlServer "
[2020-12-30T05:54:34.3119845+00:00][WARN][17][Microsoft.EntityFrameworkCore.Query] Compiling a query which loads related collections for more than one collection navigation either via 'Include' or through projection but no 'QuerySplittingBehavior' has been configured. By default Entity Framework will use 'QuerySplittingBehavior.SingleQuery' which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'
[2020-12-30T05:54:34.5887344+00:00][INFO][17][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("54"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [i].[Id], [i].[Created], [i].[Description], [i].[DisplayName], [i].[Emphasize], [i].[Enabled], [i].[Name], [i].[NonEditable], [i].[Required], [i].[ShowInDiscoveryDocument], [i].[Updated], [i0].[Id], [i0].[IdentityResourceId], [i0].[Type], [i1].[Id], [i1].[IdentityResourceId], [i1].[Key], [i1].[Value]
FROM [IdentityResources] AS [i]
LEFT JOIN [IdentityResourceClaims] AS [i0] ON [i].[Id] = [i0].[IdentityResourceId]
LEFT JOIN [IdentityResourceProperties] AS [i1] ON [i].[Id] = [i1].[IdentityResourceId]
ORDER BY [i].[Id], [i0].[Id], [i1].[Id]"
[2020-12-30T05:54:34.7931034+00:00][WARN][17][Microsoft.EntityFrameworkCore.Query] Compiling a query which loads related collections for more than one collection navigation either via 'Include' or through projection but no 'QuerySplittingBehavior' has been configured. By default Entity Framework will use 'QuerySplittingBehavior.SingleQuery' which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'
[2020-12-30T05:54:34.8614629+00:00][INFO][14][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("18"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [a].[Id], [a].[AllowedAccessTokenSigningAlgorithms], [a].[Created], [a].[Description], [a].[DisplayName], [a].[Enabled], [a].[LastAccessed], [a].[Name], [a].[NonEditable], [a].[ShowInDiscoveryDocument], [a].[Updated], [a0].[Id], [a0].[ApiResourceId], [a0].[Created], [a0].[Description], [a0].[Expiration], [a0].[Type], [a0].[Value], [a1].[Id], [a1].[ApiResourceId], [a1].[Scope], [a2].[Id], [a2].[ApiResourceId], [a2].[Type], [a3].[Id], [a3].[ApiResourceId], [a3].[Key], [a3].[Value]
FROM [ApiResources] AS [a]
LEFT JOIN [ApiResourceSecrets] AS [a0] ON [a].[Id] = [a0].[ApiResourceId]
LEFT JOIN [ApiResourceScopes] AS [a1] ON [a].[Id] = [a1].[ApiResourceId]
LEFT JOIN [ApiResourceClaims] AS [a2] ON [a].[Id] = [a2].[ApiResourceId]
LEFT JOIN [ApiResourceProperties] AS [a3] ON [a].[Id] = [a3].[ApiResourceId]
ORDER BY [a].[Id], [a0].[Id], [a1].[Id], [a2].[Id], [a3].[Id]"
[2020-12-30T05:54:34.8778704+00:00][WARN][14][Microsoft.EntityFrameworkCore.Query] Compiling a query which loads related collections for more than one collection navigation either via 'Include' or through projection but no 'QuerySplittingBehavior' has been configured. By default Entity Framework will use 'QuerySplittingBehavior.SingleQuery' which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'
[2020-12-30T05:54:34.9107289+00:00][INFO][14][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("8"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [a].[Id], [a].[Description], [a].[DisplayName], [a].[Emphasize], [a].[Enabled], [a].[Name], [a].[Required], [a].[ShowInDiscoveryDocument], [a0].[Id], [a0].[ScopeId], [a0].[Type], [a1].[Id], [a1].[Key], [a1].[ScopeId], [a1].[Value]
FROM [ApiScopes] AS [a]
LEFT JOIN [ApiScopeClaims] AS [a0] ON [a].[Id] = [a0].[ScopeId]
LEFT JOIN [ApiScopeProperties] AS [a1] ON [a].[Id] = [a1].[ScopeId]
ORDER BY [a].[Id], [a0].[Id], [a1].[Id]"
[2020-12-30T05:54:35.5794176+00:00][INFO][14][Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/1.1 GET http://www.em.host/.well-known/openid-configuration - - - 200 - application/json;+charset=UTF-8 2429.0528ms
[2020-12-30T05:54:35.7084637+00:00][INFO][15][Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 GET http://www.em.host/.well-known/openid-configuration/jwks - -
[2020-12-30T05:54:35.7197972+00:00][INFO][15][IdentityServer4.Hosting.IdentityServerMiddleware] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.DiscoveryKeyEndpoint" for "/.well-known/openid-configuration/jwks"
[2020-12-30T05:54:35.8462393+00:00][INFO][15][Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/1.1 GET http://www.em.host/.well-known/openid-configuration/jwks - - - 200 - application/json;+charset=UTF-8 137.7839ms
[2020-12-30T05:54:36.0695817+00:00][INFO][15][Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 GET http://www.em.host/connect/authorize?client_id=urn%3Aem%3Aclient&redirect_uri=https%3A%2F%2Fwww.em.host%2Fadmin%2Fidentity%2Fsignin-oidc&response_type=code&scope=openid%20profile%20email%20roles&code_challenge=KOTYhdqRiiXvGrPAOtifU53og3OpXhK0KIeG1CiaXKc&code_challenge_method=S256&response_mode=form_post&nonce=637449044759254679.ZWQxZWFkYmItMjhhNS00YzE1LTk4ZWMtMzg2NmI1MDBhODQ5MDdlMzRjOGItZjMzNC00ZDAxLTlhNTctZTk1YmM0MzM2YjFl&state=CfDJ8ASI9RBeE6hBsIC3rORyZw3DlJZ9CNDNL1L9-XKiIOq7oB2WS3KobFmbtkCZOJ4LQQ9h5MNgEXKBwml4borF70LR0ejxc8i8OMNgivjHNr9cwPClAN2CJKRsJ8ELseFdL-TIM-5YcWCaj2HEtSYP1frVWMi3nliiuqykB0JHhMN90BKmpBOc9FKysJzdxrrH-1Eu45iMQkIvmHm0oej-h9t2s75c1ZNgJm67nsejL1KVRi--_YvRXogdNUj6TzOXLCK5gjFyaPMVFW-WJ4EYAawPhHehmJyilhctk4-ah03X23ReHNI6ZhFdPh0Nv9yEieDlQlaejC_FrmTNuX2ncGsdyBickoSoB-7zdYY6YoDCRWym_v6FLwNrIJq4D8kmHQ&x-client-SKU=ID_NETSTANDARD2_0&x-client-ver=5.6.0.0 - -
[2020-12-30T05:54:36.2111793+00:00][INFO][15][IdentityServer4.Hosting.IdentityServerMiddleware] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize"
[2020-12-30T05:54:36.2528633+00:00][INFO][15][Microsoft.EntityFrameworkCore.Infrastructure] Entity Framework Core "5.0.1" initialized '"IdentityServerConfigurationDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=EventManager.Identity.Admin.EntityFramework.SqlServer "
[2020-12-30T05:54:36.3226495+00:00][INFO][19][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("30"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c].[Id], [c].[AbsoluteRefreshTokenLifetime], [c].[AccessTokenLifetime], [c].[AccessTokenType], [c].[AllowAccessTokensViaBrowser], [c].[AllowOfflineAccess], [c].[AllowPlainTextPkce], [c].[AllowRememberConsent], [c].[AllowedIdentityTokenSigningAlgorithms], [c].[AlwaysIncludeUserClaimsInIdToken], [c].[AlwaysSendClientClaims], [c].[AuthorizationCodeLifetime], [c].[BackChannelLogoutSessionRequired], [c].[BackChannelLogoutUri], [c].[ClientClaimsPrefix], [c].[ClientId], [c].[ClientName], [c].[ClientUri], [c].[ConsentLifetime], [c].[Created], [c].[Description], [c].[DeviceCodeLifetime], [c].[EnableLocalLogin], [c].[Enabled], [c].[FrontChannelLogoutSessionRequired], [c].[FrontChannelLogoutUri], [c].[IdentityTokenLifetime], [c].[IncludeJwtId], [c].[LastAccessed], [c].[LogoUri], [c].[NonEditable], [c].[PairWiseSubjectSalt], [c].[ProtocolType], [c].[RefreshTokenExpiration], [c].[RefreshTokenUsage], [c].[RequireClientSecret], [c].[RequireConsent], [c].[RequirePkce], [c].[RequireRequestObject], [c].[SlidingRefreshTokenLifetime], [c].[UpdateAccessTokenClaimsOnRefresh], [c].[Updated], [c].[UserCodeType], [c].[UserSsoLifetime]
FROM [Clients] AS [c]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T05:54:36.5083522+00:00][INFO][4][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("6"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[Origin]
FROM [Clients] AS [c]
INNER JOIN [ClientCorsOrigins] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T05:54:36.5388589+00:00][INFO][19][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("5"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[GrantType]
FROM [Clients] AS [c]
INNER JOIN [ClientGrantTypes] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T05:54:36.5743167+00:00][INFO][18][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("7"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[Scope]
FROM [Clients] AS [c]
INNER JOIN [ClientScopes] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T05:54:36.6253731+00:00][INFO][4][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("25"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[Type], [c0].[Value]
FROM [Clients] AS [c]
INNER JOIN [ClientClaims] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T05:54:36.6667449+00:00][INFO][18][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("8"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[Created], [c0].[Description], [c0].[Expiration], [c0].[Type], [c0].[Value]
FROM [Clients] AS [c]
INNER JOIN [ClientSecrets] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T05:54:36.7490910+00:00][INFO][17][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("34"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[Provider]
FROM [Clients] AS [c]
INNER JOIN [ClientIdPRestrictions] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T05:54:36.7759955+00:00][INFO][17][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("10"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[PostLogoutRedirectUri]
FROM [Clients] AS [c]
INNER JOIN [ClientPostLogoutRedirectUris] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T05:54:36.8036570+00:00][INFO][19][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("6"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[Key], [c0].[Value]
FROM [Clients] AS [c]
INNER JOIN [ClientProperties] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T05:54:36.8312025+00:00][INFO][4][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("5"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[RedirectUri]
FROM [Clients] AS [c]
INNER JOIN [ClientRedirectUris] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T05:54:37.1895827+00:00][WARN][4][Microsoft.EntityFrameworkCore.Query] Compiling a query which loads related collections for more than one collection navigation either via 'Include' or through projection but no 'QuerySplittingBehavior' has been configured. By default Entity Framework will use 'QuerySplittingBehavior.SingleQuery' which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'
[2020-12-30T05:54:37.2303002+00:00][INFO][19][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("13"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [i].[Id], [i].[Created], [i].[Description], [i].[DisplayName], [i].[Emphasize], [i].[Enabled], [i].[Name], [i].[NonEditable], [i].[Required], [i].[ShowInDiscoveryDocument], [i].[Updated], [i0].[Id], [i0].[IdentityResourceId], [i0].[Type], [i1].[Id], [i1].[IdentityResourceId], [i1].[Key], [i1].[Value]
FROM [IdentityResources] AS [i]
LEFT JOIN [IdentityResourceClaims] AS [i0] ON [i].[Id] = [i0].[IdentityResourceId]
LEFT JOIN [IdentityResourceProperties] AS [i1] ON [i].[Id] = [i1].[IdentityResourceId]
WHERE [i].[Name] IN (N'openid', N'profile', N'email', N'roles')
ORDER BY [i].[Id], [i0].[Id], [i1].[Id]"
[2020-12-30T05:54:37.2646105+00:00][WARN][19][Microsoft.EntityFrameworkCore.Query] Compiling a query which loads related collections for more than one collection navigation either via 'Include' or through projection but no 'QuerySplittingBehavior' has been configured. By default Entity Framework will use 'QuerySplittingBehavior.SingleQuery' which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'
[2020-12-30T05:54:37.3124068+00:00][INFO][4][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("13"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [a].[Id], [a].[AllowedAccessTokenSigningAlgorithms], [a].[Created], [a].[Description], [a].[DisplayName], [a].[Enabled], [a].[LastAccessed], [a].[Name], [a].[NonEditable], [a].[ShowInDiscoveryDocument], [a].[Updated], [a0].[Id], [a0].[ApiResourceId], [a0].[Created], [a0].[Description], [a0].[Expiration], [a0].[Type], [a0].[Value], [a1].[Id], [a1].[ApiResourceId], [a1].[Scope], [a2].[Id], [a2].[ApiResourceId], [a2].[Type], [a3].[Id], [a3].[ApiResourceId], [a3].[Key], [a3].[Value]
FROM [ApiResources] AS [a]
LEFT JOIN [ApiResourceSecrets] AS [a0] ON [a].[Id] = [a0].[ApiResourceId]
LEFT JOIN [ApiResourceScopes] AS [a1] ON [a].[Id] = [a1].[ApiResourceId]
LEFT JOIN [ApiResourceClaims] AS [a2] ON [a].[Id] = [a2].[ApiResourceId]
LEFT JOIN [ApiResourceProperties] AS [a3] ON [a].[Id] = [a3].[ApiResourceId]
WHERE EXISTS (
    SELECT 1
    FROM [ApiResourceScopes] AS [a4]
    WHERE ([a].[Id] = [a4].[ApiResourceId]) AND [a4].[Scope] IN (N'openid', N'profile', N'email', N'roles'))
ORDER BY [a].[Id], [a0].[Id], [a1].[Id], [a2].[Id], [a3].[Id]"
[2020-12-30T05:54:37.3276539+00:00][WARN][4][Microsoft.EntityFrameworkCore.Query] Compiling a query which loads related collections for more than one collection navigation either via 'Include' or through projection but no 'QuerySplittingBehavior' has been configured. By default Entity Framework will use 'QuerySplittingBehavior.SingleQuery' which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'
[2020-12-30T05:54:37.3460188+00:00][INFO][18][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("5"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [a].[Id], [a].[Description], [a].[DisplayName], [a].[Emphasize], [a].[Enabled], [a].[Name], [a].[Required], [a].[ShowInDiscoveryDocument], [a0].[Id], [a0].[ScopeId], [a0].[Type], [a1].[Id], [a1].[Key], [a1].[ScopeId], [a1].[Value]
FROM [ApiScopes] AS [a]
LEFT JOIN [ApiScopeClaims] AS [a0] ON [a].[Id] = [a0].[ScopeId]
LEFT JOIN [ApiScopeProperties] AS [a1] ON [a].[Id] = [a1].[ScopeId]
WHERE [a].[Name] IN (N'openid', N'profile', N'email', N'roles')
ORDER BY [a].[Id], [a0].[Id], [a1].[Id]"
[2020-12-30T05:54:37.4506664+00:00][INFO][18][IdentityServer4.ResponseHandling.AuthorizeInteractionResponseGenerator] Showing login: User is not authenticated
[2020-12-30T05:54:37.4706706+00:00][INFO][18][Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/1.1 GET http://www.em.host/connect/authorize?client_id=urn%3Aem%3Aclient&redirect_uri=https%3A%2F%2Fwww.em.host%2Fadmin%2Fidentity%2Fsignin-oidc&response_type=code&scope=openid%20profile%20email%20roles&code_challenge=KOTYhdqRiiXvGrPAOtifU53og3OpXhK0KIeG1CiaXKc&code_challenge_method=S256&response_mode=form_post&nonce=637449044759254679.ZWQxZWFkYmItMjhhNS00YzE1LTk4ZWMtMzg2NmI1MDBhODQ5MDdlMzRjOGItZjMzNC00ZDAxLTlhNTctZTk1YmM0MzM2YjFl&state=CfDJ8ASI9RBeE6hBsIC3rORyZw3DlJZ9CNDNL1L9-XKiIOq7oB2WS3KobFmbtkCZOJ4LQQ9h5MNgEXKBwml4borF70LR0ejxc8i8OMNgivjHNr9cwPClAN2CJKRsJ8ELseFdL-TIM-5YcWCaj2HEtSYP1frVWMi3nliiuqykB0JHhMN90BKmpBOc9FKysJzdxrrH-1Eu45iMQkIvmHm0oej-h9t2s75c1ZNgJm67nsejL1KVRi--_YvRXogdNUj6TzOXLCK5gjFyaPMVFW-WJ4EYAawPhHehmJyilhctk4-ah03X23ReHNI6ZhFdPh0Nv9yEieDlQlaejC_FrmTNuX2ncGsdyBickoSoB-7zdYY6YoDCRWym_v6FLwNrIJq4D8kmHQ&x-client-SKU=ID_NETSTANDARD2_0&x-client-ver=5.6.0.0 - - - 302 0 - 1400.9187ms
[2020-12-30T05:55:13.3864161+00:00][INFO][11][Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 GET http://www.em.host/account/Login?ReturnUrl=%2Fconnect%2Fauthorize%2Fcallback%3Fclient_id%3Durn%253Aem%253Aclient%26redirect_uri%3Dhttps%253A%252F%252Fwww.em.host%252Fadmin%252Fidentity%252Fsignin-oidc%26response_type%3Dcode%26scope%3Dopenid%2520profile%2520email%2520roles%26code_challenge%3DKOTYhdqRiiXvGrPAOtifU53og3OpXhK0KIeG1CiaXKc%26code_challenge_method%3DS256%26response_mode%3Dform_post%26nonce%3D637449044759254679.ZWQxZWFkYmItMjhhNS00YzE1LTk4ZWMtMzg2NmI1MDBhODQ5MDdlMzRjOGItZjMzNC00ZDAxLTlhNTctZTk1YmM0MzM2YjFl%26state%3DCfDJ8ASI9RBeE6hBsIC3rORyZw3DlJZ9CNDNL1L9-XKiIOq7oB2WS3KobFmbtkCZOJ4LQQ9h5MNgEXKBwml4borF70LR0ejxc8i8OMNgivjHNr9cwPClAN2CJKRsJ8ELseFdL-TIM-5YcWCaj2HEtSYP1frVWMi3nliiuqykB0JHhMN90BKmpBOc9FKysJzdxrrH-1Eu45iMQkIvmHm0oej-h9t2s75c1ZNgJm67nsejL1KVRi--_YvRXogdNUj6TzOXLCK5gjFyaPMVFW-WJ4EYAawPhHehmJyilhctk4-ah03X23ReHNI6ZhFdPh0Nv9yEieDlQlaejC_FrmTNuX2ncGsdyBickoSoB-7zdYY6YoDCRWym_v6FLwNrIJq4D8kmHQ%26x-client-SKU%3DID_NETSTANDARD2_0%26x-client-ver%3D5.6.0.0 - -
[2020-12-30T05:55:13.5226506+00:00][INFO][11][Microsoft.AspNetCore.Routing.EndpointMiddleware] Executing endpoint '"EventManager.Identity.STS.Identity.Controllers.AccountController<EventManager.Identity.Admin.EntityFramework.Shared.Entities.Identity.UserIdentity, string>.Login (EventManager.Identity.STS.Identity)"'
[2020-12-30T05:55:13.5728733+00:00][INFO][11][Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Route matched with "{action = \"Login\", controller = \"Account\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(System.String)" on controller "EventManager.Identity.STS.Identity.Controllers.AccountController<EventManager.Identity.Admin.EntityFramework.Shared.Entities.Identity.UserIdentity, string>" ("EventManager.Identity.STS.Identity").
[2020-12-30T05:55:13.6193789+00:00][INFO][11][Microsoft.EntityFrameworkCore.Infrastructure] Entity Framework Core "5.0.1" initialized '"IdentityServerConfigurationDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=EventManager.Identity.Admin.EntityFramework.SqlServer "
[2020-12-30T05:55:13.6543141+00:00][INFO][18][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("23"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c].[Id], [c].[AbsoluteRefreshTokenLifetime], [c].[AccessTokenLifetime], [c].[AccessTokenType], [c].[AllowAccessTokensViaBrowser], [c].[AllowOfflineAccess], [c].[AllowPlainTextPkce], [c].[AllowRememberConsent], [c].[AllowedIdentityTokenSigningAlgorithms], [c].[AlwaysIncludeUserClaimsInIdToken], [c].[AlwaysSendClientClaims], [c].[AuthorizationCodeLifetime], [c].[BackChannelLogoutSessionRequired], [c].[BackChannelLogoutUri], [c].[ClientClaimsPrefix], [c].[ClientId], [c].[ClientName], [c].[ClientUri], [c].[ConsentLifetime], [c].[Created], [c].[Description], [c].[DeviceCodeLifetime], [c].[EnableLocalLogin], [c].[Enabled], [c].[FrontChannelLogoutSessionRequired], [c].[FrontChannelLogoutUri], [c].[IdentityTokenLifetime], [c].[IncludeJwtId], [c].[LastAccessed], [c].[LogoUri], [c].[NonEditable], [c].[PairWiseSubjectSalt], [c].[ProtocolType], [c].[RefreshTokenExpiration], [c].[RefreshTokenUsage], [c].[RequireClientSecret], [c].[RequireConsent], [c].[RequirePkce], [c].[RequireRequestObject], [c].[SlidingRefreshTokenLifetime], [c].[UpdateAccessTokenClaimsOnRefresh], [c].[Updated], [c].[UserCodeType], [c].[UserSsoLifetime]
FROM [Clients] AS [c]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T05:55:13.7054253+00:00][INFO][10][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("6"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[Origin]
FROM [Clients] AS [c]
INNER JOIN [ClientCorsOrigins] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T05:55:13.7302960+00:00][INFO][15][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("2"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[GrantType]
FROM [Clients] AS [c]
INNER JOIN [ClientGrantTypes] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T05:55:13.7572030+00:00][INFO][5][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("3"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[Scope]
FROM [Clients] AS [c]
INNER JOIN [ClientScopes] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T05:55:13.7653768+00:00][INFO][15][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("5"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[Type], [c0].[Value]
FROM [Clients] AS [c]
INNER JOIN [ClientClaims] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T05:55:13.7775703+00:00][INFO][5][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("2"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[Created], [c0].[Description], [c0].[Expiration], [c0].[Type], [c0].[Value]
FROM [Clients] AS [c]
INNER JOIN [ClientSecrets] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T05:55:13.7909426+00:00][INFO][5][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("7"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[Provider]
FROM [Clients] AS [c]
INNER JOIN [ClientIdPRestrictions] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T05:55:13.8197430+00:00][INFO][15][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("6"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[PostLogoutRedirectUri]
FROM [Clients] AS [c]
INNER JOIN [ClientPostLogoutRedirectUris] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T05:55:13.8570844+00:00][INFO][10][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("8"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[Key], [c0].[Value]
FROM [Clients] AS [c]
INNER JOIN [ClientProperties] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T05:55:13.9070030+00:00][INFO][15][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("27"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[RedirectUri]
FROM [Clients] AS [c]
INNER JOIN [ClientRedirectUris] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T05:55:13.9155238+00:00][INFO][5][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("5"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [i].[Id], [i].[Created], [i].[Description], [i].[DisplayName], [i].[Emphasize], [i].[Enabled], [i].[Name], [i].[NonEditable], [i].[Required], [i].[ShowInDiscoveryDocument], [i].[Updated], [i0].[Id], [i0].[IdentityResourceId], [i0].[Type], [i1].[Id], [i1].[IdentityResourceId], [i1].[Key], [i1].[Value]
FROM [IdentityResources] AS [i]
LEFT JOIN [IdentityResourceClaims] AS [i0] ON [i].[Id] = [i0].[IdentityResourceId]
LEFT JOIN [IdentityResourceProperties] AS [i1] ON [i].[Id] = [i1].[IdentityResourceId]
WHERE [i].[Name] IN (N'openid', N'profile', N'email', N'roles')
ORDER BY [i].[Id], [i0].[Id], [i1].[Id]"
[2020-12-30T05:55:14.0434393+00:00][INFO][15][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("64"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [a].[Id], [a].[AllowedAccessTokenSigningAlgorithms], [a].[Created], [a].[Description], [a].[DisplayName], [a].[Enabled], [a].[LastAccessed], [a].[Name], [a].[NonEditable], [a].[ShowInDiscoveryDocument], [a].[Updated], [a0].[Id], [a0].[ApiResourceId], [a0].[Created], [a0].[Description], [a0].[Expiration], [a0].[Type], [a0].[Value], [a1].[Id], [a1].[ApiResourceId], [a1].[Scope], [a2].[Id], [a2].[ApiResourceId], [a2].[Type], [a3].[Id], [a3].[ApiResourceId], [a3].[Key], [a3].[Value]
FROM [ApiResources] AS [a]
LEFT JOIN [ApiResourceSecrets] AS [a0] ON [a].[Id] = [a0].[ApiResourceId]
LEFT JOIN [ApiResourceScopes] AS [a1] ON [a].[Id] = [a1].[ApiResourceId]
LEFT JOIN [ApiResourceClaims] AS [a2] ON [a].[Id] = [a2].[ApiResourceId]
LEFT JOIN [ApiResourceProperties] AS [a3] ON [a].[Id] = [a3].[ApiResourceId]
WHERE EXISTS (
    SELECT 1
    FROM [ApiResourceScopes] AS [a4]
    WHERE ([a].[Id] = [a4].[ApiResourceId]) AND [a4].[Scope] IN (N'openid', N'profile', N'email', N'roles'))
ORDER BY [a].[Id], [a0].[Id], [a1].[Id], [a2].[Id], [a3].[Id]"
[2020-12-30T05:55:14.0733909+00:00][INFO][5][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("24"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [a].[Id], [a].[Description], [a].[DisplayName], [a].[Emphasize], [a].[Enabled], [a].[Name], [a].[Required], [a].[ShowInDiscoveryDocument], [a0].[Id], [a0].[ScopeId], [a0].[Type], [a1].[Id], [a1].[Key], [a1].[ScopeId], [a1].[Value]
FROM [ApiScopes] AS [a]
LEFT JOIN [ApiScopeClaims] AS [a0] ON [a].[Id] = [a0].[ScopeId]
LEFT JOIN [ApiScopeProperties] AS [a1] ON [a].[Id] = [a1].[ScopeId]
WHERE [a].[Name] IN (N'openid', N'profile', N'email', N'roles')
ORDER BY [a].[Id], [a0].[Id], [a1].[Id]"
[2020-12-30T05:55:14.1172800+00:00][INFO][10][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("2"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c].[Id], [c].[AbsoluteRefreshTokenLifetime], [c].[AccessTokenLifetime], [c].[AccessTokenType], [c].[AllowAccessTokensViaBrowser], [c].[AllowOfflineAccess], [c].[AllowPlainTextPkce], [c].[AllowRememberConsent], [c].[AllowedIdentityTokenSigningAlgorithms], [c].[AlwaysIncludeUserClaimsInIdToken], [c].[AlwaysSendClientClaims], [c].[AuthorizationCodeLifetime], [c].[BackChannelLogoutSessionRequired], [c].[BackChannelLogoutUri], [c].[ClientClaimsPrefix], [c].[ClientId], [c].[ClientName], [c].[ClientUri], [c].[ConsentLifetime], [c].[Created], [c].[Description], [c].[DeviceCodeLifetime], [c].[EnableLocalLogin], [c].[Enabled], [c].[FrontChannelLogoutSessionRequired], [c].[FrontChannelLogoutUri], [c].[IdentityTokenLifetime], [c].[IncludeJwtId], [c].[LastAccessed], [c].[LogoUri], [c].[NonEditable], [c].[PairWiseSubjectSalt], [c].[ProtocolType], [c].[RefreshTokenExpiration], [c].[RefreshTokenUsage], [c].[RequireClientSecret], [c].[RequireConsent], [c].[RequirePkce], [c].[RequireRequestObject], [c].[SlidingRefreshTokenLifetime], [c].[UpdateAccessTokenClaimsOnRefresh], [c].[Updated], [c].[UserCodeType], [c].[UserSsoLifetime]
FROM [Clients] AS [c]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T05:55:14.1578081+00:00][INFO][15][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("7"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[Origin]
FROM [Clients] AS [c]
INNER JOIN [ClientCorsOrigins] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T05:55:14.1962176+00:00][INFO][10][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("35"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[GrantType]
FROM [Clients] AS [c]
INNER JOIN [ClientGrantTypes] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T05:55:14.2291122+00:00][INFO][5][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("27"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[Scope]
FROM [Clients] AS [c]
INNER JOIN [ClientScopes] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T05:55:14.2537789+00:00][INFO][5][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("23"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[Type], [c0].[Value]
FROM [Clients] AS [c]
INNER JOIN [ClientClaims] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T05:55:14.2721492+00:00][INFO][15][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("15"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[Created], [c0].[Description], [c0].[Expiration], [c0].[Type], [c0].[Value]
FROM [Clients] AS [c]
INNER JOIN [ClientSecrets] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T05:55:14.2863258+00:00][INFO][15][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("11"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[Provider]
FROM [Clients] AS [c]
INNER JOIN [ClientIdPRestrictions] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T05:55:14.2929654+00:00][INFO][10][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("4"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[PostLogoutRedirectUri]
FROM [Clients] AS [c]
INNER JOIN [ClientPostLogoutRedirectUris] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T05:55:14.3143231+00:00][INFO][10][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("20"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[Key], [c0].[Value]
FROM [Clients] AS [c]
INNER JOIN [ClientProperties] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T05:55:14.3425386+00:00][INFO][10][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("18"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[RedirectUri]
FROM [Clients] AS [c]
INNER JOIN [ClientRedirectUris] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T05:55:14.4548691+00:00][INFO][10][Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor] Executing ViewResult, running view "Login".
[2020-12-30T05:55:15.8665645+00:00][INFO][10][Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor] Executed ViewResult - view "Login" executed in 1437.3997ms.
[2020-12-30T05:55:15.8718123+00:00][INFO][10][Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Executed action "EventManager.Identity.STS.Identity.Controllers.AccountController<EventManager.Identity.Admin.EntityFramework.Shared.Entities.Identity.UserIdentity, string>.Login (EventManager.Identity.STS.Identity)" in 2297.4486ms
[2020-12-30T05:55:15.8806791+00:00][INFO][10][Microsoft.AspNetCore.Routing.EndpointMiddleware] Executed endpoint '"EventManager.Identity.STS.Identity.Controllers.AccountController<EventManager.Identity.Admin.EntityFramework.Shared.Entities.Identity.UserIdentity, string>.Login (EventManager.Identity.STS.Identity)"'
[2020-12-30T05:55:15.8890732+00:00][INFO][10][Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/1.1 GET http://www.em.host/account/Login?ReturnUrl=%2Fconnect%2Fauthorize%2Fcallback%3Fclient_id%3Durn%253Aem%253Aclient%26redirect_uri%3Dhttps%253A%252F%252Fwww.em.host%252Fadmin%252Fidentity%252Fsignin-oidc%26response_type%3Dcode%26scope%3Dopenid%2520profile%2520email%2520roles%26code_challenge%3DKOTYhdqRiiXvGrPAOtifU53og3OpXhK0KIeG1CiaXKc%26code_challenge_method%3DS256%26response_mode%3Dform_post%26nonce%3D637449044759254679.ZWQxZWFkYmItMjhhNS00YzE1LTk4ZWMtMzg2NmI1MDBhODQ5MDdlMzRjOGItZjMzNC00ZDAxLTlhNTctZTk1YmM0MzM2YjFl%26state%3DCfDJ8ASI9RBeE6hBsIC3rORyZw3DlJZ9CNDNL1L9-XKiIOq7oB2WS3KobFmbtkCZOJ4LQQ9h5MNgEXKBwml4borF70LR0ejxc8i8OMNgivjHNr9cwPClAN2CJKRsJ8ELseFdL-TIM-5YcWCaj2HEtSYP1frVWMi3nliiuqykB0JHhMN90BKmpBOc9FKysJzdxrrH-1Eu45iMQkIvmHm0oej-h9t2s75c1ZNgJm67nsejL1KVRi--_YvRXogdNUj6TzOXLCK5gjFyaPMVFW-WJ4EYAawPhHehmJyilhctk4-ah03X23ReHNI6ZhFdPh0Nv9yEieDlQlaejC_FrmTNuX2ncGsdyBickoSoB-7zdYY6YoDCRWym_v6FLwNrIJq4D8kmHQ%26x-client-SKU%3DID_NETSTANDARD2_0%26x-client-ver%3D5.6.0.0 - - - 200 - text/html;+charset=utf-8 2502.6471ms
[2020-12-30T05:55:53.2853717+00:00][INFO][22][Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 GET http://www.em.host/account/Login?ReturnUrl=%2Fconnect%2Fauthorize%2Fcallback%3Fclient_id%3Durn%253Aem%253Aclient%26redirect_uri%3Dhttps%253A%252F%252Fwww.em.host%252Fadmin%252Fidentity%252Fsignin-oidc%26response_type%3Dcode%26scope%3Dopenid%2520profile%2520email%2520roles%26code_challenge%3DKOTYhdqRiiXvGrPAOtifU53og3OpXhK0KIeG1CiaXKc%26code_challenge_method%3DS256%26response_mode%3Dform_post%26nonce%3D637449044759254679.ZWQxZWFkYmItMjhhNS00YzE1LTk4ZWMtMzg2NmI1MDBhODQ5MDdlMzRjOGItZjMzNC00ZDAxLTlhNTctZTk1YmM0MzM2YjFl%26state%3DCfDJ8ASI9RBeE6hBsIC3rORyZw3DlJZ9CNDNL1L9-XKiIOq7oB2WS3KobFmbtkCZOJ4LQQ9h5MNgEXKBwml4borF70LR0ejxc8i8OMNgivjHNr9cwPClAN2CJKRsJ8ELseFdL-TIM-5YcWCaj2HEtSYP1frVWMi3nliiuqykB0JHhMN90BKmpBOc9FKysJzdxrrH-1Eu45iMQkIvmHm0oej-h9t2s75c1ZNgJm67nsejL1KVRi--_YvRXogdNUj6TzOXLCK5gjFyaPMVFW-WJ4EYAawPhHehmJyilhctk4-ah03X23ReHNI6ZhFdPh0Nv9yEieDlQlaejC_FrmTNuX2ncGsdyBickoSoB-7zdYY6YoDCRWym_v6FLwNrIJq4D8kmHQ%26x-client-SKU%3DID_NETSTANDARD2_0%26x-client-ver%3D5.6.0.0 - -
[2020-12-30T05:55:53.3081835+00:00][INFO][22][Microsoft.AspNetCore.Routing.EndpointMiddleware] Executing endpoint '"EventManager.Identity.STS.Identity.Controllers.AccountController<EventManager.Identity.Admin.EntityFramework.Shared.Entities.Identity.UserIdentity, string>.Login (EventManager.Identity.STS.Identity)"'
[2020-12-30T05:55:53.3117932+00:00][INFO][22][Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Route matched with "{action = \"Login\", controller = \"Account\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(System.String)" on controller "EventManager.Identity.STS.Identity.Controllers.AccountController<EventManager.Identity.Admin.EntityFramework.Shared.Entities.Identity.UserIdentity, string>" ("EventManager.Identity.STS.Identity").
[2020-12-30T05:55:53.3748981+00:00][INFO][22][Microsoft.EntityFrameworkCore.Infrastructure] Entity Framework Core "5.0.1" initialized '"IdentityServerConfigurationDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=EventManager.Identity.Admin.EntityFramework.SqlServer "
[2020-12-30T05:55:53.4166340+00:00][INFO][10][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("39"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c].[Id], [c].[AbsoluteRefreshTokenLifetime], [c].[AccessTokenLifetime], [c].[AccessTokenType], [c].[AllowAccessTokensViaBrowser], [c].[AllowOfflineAccess], [c].[AllowPlainTextPkce], [c].[AllowRememberConsent], [c].[AllowedIdentityTokenSigningAlgorithms], [c].[AlwaysIncludeUserClaimsInIdToken], [c].[AlwaysSendClientClaims], [c].[AuthorizationCodeLifetime], [c].[BackChannelLogoutSessionRequired], [c].[BackChannelLogoutUri], [c].[ClientClaimsPrefix], [c].[ClientId], [c].[ClientName], [c].[ClientUri], [c].[ConsentLifetime], [c].[Created], [c].[Description], [c].[DeviceCodeLifetime], [c].[EnableLocalLogin], [c].[Enabled], [c].[FrontChannelLogoutSessionRequired], [c].[FrontChannelLogoutUri], [c].[IdentityTokenLifetime], [c].[IncludeJwtId], [c].[LastAccessed], [c].[LogoUri], [c].[NonEditable], [c].[PairWiseSubjectSalt], [c].[ProtocolType], [c].[RefreshTokenExpiration], [c].[RefreshTokenUsage], [c].[RequireClientSecret], [c].[RequireConsent], [c].[RequirePkce], [c].[RequireRequestObject], [c].[SlidingRefreshTokenLifetime], [c].[UpdateAccessTokenClaimsOnRefresh], [c].[Updated], [c].[UserCodeType], [c].[UserSsoLifetime]
FROM [Clients] AS [c]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T05:55:53.5466876+00:00][INFO][24][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("4"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[Origin]
FROM [Clients] AS [c]
INNER JOIN [ClientCorsOrigins] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T05:55:53.5834150+00:00][INFO][5][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("5"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[GrantType]
FROM [Clients] AS [c]
INNER JOIN [ClientGrantTypes] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T05:55:53.6433436+00:00][INFO][10][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("5"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[Scope]
FROM [Clients] AS [c]
INNER JOIN [ClientScopes] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T05:55:53.6889604+00:00][INFO][5][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("29"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[Type], [c0].[Value]
FROM [Clients] AS [c]
INNER JOIN [ClientClaims] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T05:55:53.7055060+00:00][INFO][24][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("9"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[Created], [c0].[Description], [c0].[Expiration], [c0].[Type], [c0].[Value]
FROM [Clients] AS [c]
INNER JOIN [ClientSecrets] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T05:55:53.7571721+00:00][INFO][22][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("2"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[Provider]
FROM [Clients] AS [c]
INNER JOIN [ClientIdPRestrictions] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T05:55:53.7671292+00:00][INFO][10][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("3"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[PostLogoutRedirectUri]
FROM [Clients] AS [c]
INNER JOIN [ClientPostLogoutRedirectUris] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T05:55:53.7792619+00:00][INFO][22][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("7"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[Key], [c0].[Value]
FROM [Clients] AS [c]
INNER JOIN [ClientProperties] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T05:55:53.7986204+00:00][INFO][10][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("7"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[RedirectUri]
FROM [Clients] AS [c]
INNER JOIN [ClientRedirectUris] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T05:55:53.8370378+00:00][INFO][22][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("24"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [i].[Id], [i].[Created], [i].[Description], [i].[DisplayName], [i].[Emphasize], [i].[Enabled], [i].[Name], [i].[NonEditable], [i].[Required], [i].[ShowInDiscoveryDocument], [i].[Updated], [i0].[Id], [i0].[IdentityResourceId], [i0].[Type], [i1].[Id], [i1].[IdentityResourceId], [i1].[Key], [i1].[Value]
FROM [IdentityResources] AS [i]
LEFT JOIN [IdentityResourceClaims] AS [i0] ON [i].[Id] = [i0].[IdentityResourceId]
LEFT JOIN [IdentityResourceProperties] AS [i1] ON [i].[Id] = [i1].[IdentityResourceId]
WHERE [i].[Name] IN (N'openid', N'profile', N'email', N'roles')
ORDER BY [i].[Id], [i0].[Id], [i1].[Id]"
[2020-12-30T05:55:53.8679864+00:00][INFO][24][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("26"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [a].[Id], [a].[AllowedAccessTokenSigningAlgorithms], [a].[Created], [a].[Description], [a].[DisplayName], [a].[Enabled], [a].[LastAccessed], [a].[Name], [a].[NonEditable], [a].[ShowInDiscoveryDocument], [a].[Updated], [a0].[Id], [a0].[ApiResourceId], [a0].[Created], [a0].[Description], [a0].[Expiration], [a0].[Type], [a0].[Value], [a1].[Id], [a1].[ApiResourceId], [a1].[Scope], [a2].[Id], [a2].[ApiResourceId], [a2].[Type], [a3].[Id], [a3].[ApiResourceId], [a3].[Key], [a3].[Value]
FROM [ApiResources] AS [a]
LEFT JOIN [ApiResourceSecrets] AS [a0] ON [a].[Id] = [a0].[ApiResourceId]
LEFT JOIN [ApiResourceScopes] AS [a1] ON [a].[Id] = [a1].[ApiResourceId]
LEFT JOIN [ApiResourceClaims] AS [a2] ON [a].[Id] = [a2].[ApiResourceId]
LEFT JOIN [ApiResourceProperties] AS [a3] ON [a].[Id] = [a3].[ApiResourceId]
WHERE EXISTS (
    SELECT 1
    FROM [ApiResourceScopes] AS [a4]
    WHERE ([a].[Id] = [a4].[ApiResourceId]) AND [a4].[Scope] IN (N'openid', N'profile', N'email', N'roles'))
ORDER BY [a].[Id], [a0].[Id], [a1].[Id], [a2].[Id], [a3].[Id]"
[2020-12-30T05:55:53.8798240+00:00][INFO][22][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("9"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [a].[Id], [a].[Description], [a].[DisplayName], [a].[Emphasize], [a].[Enabled], [a].[Name], [a].[Required], [a].[ShowInDiscoveryDocument], [a0].[Id], [a0].[ScopeId], [a0].[Type], [a1].[Id], [a1].[Key], [a1].[ScopeId], [a1].[Value]
FROM [ApiScopes] AS [a]
LEFT JOIN [ApiScopeClaims] AS [a0] ON [a].[Id] = [a0].[ScopeId]
LEFT JOIN [ApiScopeProperties] AS [a1] ON [a].[Id] = [a1].[ScopeId]
WHERE [a].[Name] IN (N'openid', N'profile', N'email', N'roles')
ORDER BY [a].[Id], [a0].[Id], [a1].[Id]"
[2020-12-30T05:55:53.8960209+00:00][INFO][22][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("2"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c].[Id], [c].[AbsoluteRefreshTokenLifetime], [c].[AccessTokenLifetime], [c].[AccessTokenType], [c].[AllowAccessTokensViaBrowser], [c].[AllowOfflineAccess], [c].[AllowPlainTextPkce], [c].[AllowRememberConsent], [c].[AllowedIdentityTokenSigningAlgorithms], [c].[AlwaysIncludeUserClaimsInIdToken], [c].[AlwaysSendClientClaims], [c].[AuthorizationCodeLifetime], [c].[BackChannelLogoutSessionRequired], [c].[BackChannelLogoutUri], [c].[ClientClaimsPrefix], [c].[ClientId], [c].[ClientName], [c].[ClientUri], [c].[ConsentLifetime], [c].[Created], [c].[Description], [c].[DeviceCodeLifetime], [c].[EnableLocalLogin], [c].[Enabled], [c].[FrontChannelLogoutSessionRequired], [c].[FrontChannelLogoutUri], [c].[IdentityTokenLifetime], [c].[IncludeJwtId], [c].[LastAccessed], [c].[LogoUri], [c].[NonEditable], [c].[PairWiseSubjectSalt], [c].[ProtocolType], [c].[RefreshTokenExpiration], [c].[RefreshTokenUsage], [c].[RequireClientSecret], [c].[RequireConsent], [c].[RequirePkce], [c].[RequireRequestObject], [c].[SlidingRefreshTokenLifetime], [c].[UpdateAccessTokenClaimsOnRefresh], [c].[Updated], [c].[UserCodeType], [c].[UserSsoLifetime]
FROM [Clients] AS [c]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T05:55:53.9095898+00:00][INFO][5][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("6"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[Origin]
FROM [Clients] AS [c]
INNER JOIN [ClientCorsOrigins] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T05:55:53.9269365+00:00][INFO][22][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("7"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[GrantType]
FROM [Clients] AS [c]
INNER JOIN [ClientGrantTypes] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T05:55:53.9358662+00:00][INFO][22][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("3"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[Scope]
FROM [Clients] AS [c]
INNER JOIN [ClientScopes] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T05:55:53.9651676+00:00][INFO][10][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("9"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[Type], [c0].[Value]
FROM [Clients] AS [c]
INNER JOIN [ClientClaims] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T05:55:53.9856221+00:00][INFO][10][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("6"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[Created], [c0].[Description], [c0].[Expiration], [c0].[Type], [c0].[Value]
FROM [Clients] AS [c]
INNER JOIN [ClientSecrets] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T05:55:54.0029572+00:00][INFO][24][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("12"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[Provider]
FROM [Clients] AS [c]
INNER JOIN [ClientIdPRestrictions] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T05:55:54.0607920+00:00][INFO][22][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("25"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[PostLogoutRedirectUri]
FROM [Clients] AS [c]
INNER JOIN [ClientPostLogoutRedirectUris] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T05:55:54.0674429+00:00][INFO][24][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("4"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[Key], [c0].[Value]
FROM [Clients] AS [c]
INNER JOIN [ClientProperties] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T05:55:54.0924984+00:00][INFO][10][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("3"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[RedirectUri]
FROM [Clients] AS [c]
INNER JOIN [ClientRedirectUris] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T05:55:54.0982067+00:00][INFO][10][Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor] Executing ViewResult, running view "Login".
[2020-12-30T05:55:54.1213868+00:00][INFO][10][Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor] Executed ViewResult - view "Login" executed in 23.5685ms.
[2020-12-30T05:55:54.1222678+00:00][INFO][10][Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Executed action "EventManager.Identity.STS.Identity.Controllers.AccountController<EventManager.Identity.Admin.EntityFramework.Shared.Entities.Identity.UserIdentity, string>.Login (EventManager.Identity.STS.Identity)" in 797.04ms
[2020-12-30T05:55:54.1235406+00:00][INFO][10][Microsoft.AspNetCore.Routing.EndpointMiddleware] Executed endpoint '"EventManager.Identity.STS.Identity.Controllers.AccountController<EventManager.Identity.Admin.EntityFramework.Shared.Entities.Identity.UserIdentity, string>.Login (EventManager.Identity.STS.Identity)"'
[2020-12-30T05:55:54.1352583+00:00][INFO][10][Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/1.1 GET http://www.em.host/account/Login?ReturnUrl=%2Fconnect%2Fauthorize%2Fcallback%3Fclient_id%3Durn%253Aem%253Aclient%26redirect_uri%3Dhttps%253A%252F%252Fwww.em.host%252Fadmin%252Fidentity%252Fsignin-oidc%26response_type%3Dcode%26scope%3Dopenid%2520profile%2520email%2520roles%26code_challenge%3DKOTYhdqRiiXvGrPAOtifU53og3OpXhK0KIeG1CiaXKc%26code_challenge_method%3DS256%26response_mode%3Dform_post%26nonce%3D637449044759254679.ZWQxZWFkYmItMjhhNS00YzE1LTk4ZWMtMzg2NmI1MDBhODQ5MDdlMzRjOGItZjMzNC00ZDAxLTlhNTctZTk1YmM0MzM2YjFl%26state%3DCfDJ8ASI9RBeE6hBsIC3rORyZw3DlJZ9CNDNL1L9-XKiIOq7oB2WS3KobFmbtkCZOJ4LQQ9h5MNgEXKBwml4borF70LR0ejxc8i8OMNgivjHNr9cwPClAN2CJKRsJ8ELseFdL-TIM-5YcWCaj2HEtSYP1frVWMi3nliiuqykB0JHhMN90BKmpBOc9FKysJzdxrrH-1Eu45iMQkIvmHm0oej-h9t2s75c1ZNgJm67nsejL1KVRi--_YvRXogdNUj6TzOXLCK5gjFyaPMVFW-WJ4EYAawPhHehmJyilhctk4-ah03X23ReHNI6ZhFdPh0Nv9yEieDlQlaejC_FrmTNuX2ncGsdyBickoSoB-7zdYY6YoDCRWym_v6FLwNrIJq4D8kmHQ%26x-client-SKU%3DID_NETSTANDARD2_0%26x-client-ver%3D5.6.0.0 - - - 200 - text/html;+charset=utf-8 849.5680ms
[2020-12-30T06:09:47.8219646+00:00][INFO][29][Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 GET http://www.em.host/connect/authorize?client_id=urn%3Aem%3Aclient&redirect_uri=https%3A%2F%2Fwww.em.host%2Fadmin%2Fidentity%2Fsignin-oidc&response_type=code&scope=openid%20profile%20email%20roles&code_challenge=8Twjc6Vi8hv4nkruC6AuVs4AljmZw4vIoVfukQJYngs&code_challenge_method=S256&response_mode=form_post&nonce=637449053877428813.YmM1NWY4YzAtNGY3Zi00NWQ0LWI2NjYtODJjYjY4ZWE0YjQ0ZDU2YTM5NTktYTRmYi00OTQ5LWI2MzktYThmMzI4Y2FkNjJm&state=CfDJ8ASI9RBeE6hBsIC3rORyZw23DW4jUowpsaH3X6Cv4_y8z-heqyahC5ya1CbH-1UVEoiQJZmytxLdAQDLLjztmPq2stvRvbiBSoG6Up8LJmIrIJpXcFGAffGjrkP8rJB3ooFI5LmoqKXX8zhPA1Zj_PtJJC2Mz9ZNOCgLyxIyeTUOfFbUbwJUHebY82dXNtEw9CZdVqd3kkVBInwrGvaUSgQ0cvnzDn3_WV1YSZOZ9urZmw-2Udrjod7o21Ou7lQVTHnbKitM1yj2n_78q70kNcq6IRXq7lrdaCN8g1HXZquwB-Nj5-4k662EVLoTsj34v6kCRpK59OHPNSmE75a9qJMcAuyzTYSTtw3WbSugHiCH5Y05MQL9uQjowMtoDlxjuA&x-client-SKU=ID_NETSTANDARD2_0&x-client-ver=5.6.0.0 - -
[2020-12-30T06:09:47.8565728+00:00][INFO][29][IdentityServer4.Hosting.IdentityServerMiddleware] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize"
[2020-12-30T06:09:47.8611715+00:00][INFO][29][Microsoft.EntityFrameworkCore.Infrastructure] Entity Framework Core "5.0.1" initialized '"IdentityServerConfigurationDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=EventManager.Identity.Admin.EntityFramework.SqlServer "
[2020-12-30T06:09:48.2102029+00:00][INFO][29][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("14"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c].[Id], [c].[AbsoluteRefreshTokenLifetime], [c].[AccessTokenLifetime], [c].[AccessTokenType], [c].[AllowAccessTokensViaBrowser], [c].[AllowOfflineAccess], [c].[AllowPlainTextPkce], [c].[AllowRememberConsent], [c].[AllowedIdentityTokenSigningAlgorithms], [c].[AlwaysIncludeUserClaimsInIdToken], [c].[AlwaysSendClientClaims], [c].[AuthorizationCodeLifetime], [c].[BackChannelLogoutSessionRequired], [c].[BackChannelLogoutUri], [c].[ClientClaimsPrefix], [c].[ClientId], [c].[ClientName], [c].[ClientUri], [c].[ConsentLifetime], [c].[Created], [c].[Description], [c].[DeviceCodeLifetime], [c].[EnableLocalLogin], [c].[Enabled], [c].[FrontChannelLogoutSessionRequired], [c].[FrontChannelLogoutUri], [c].[IdentityTokenLifetime], [c].[IncludeJwtId], [c].[LastAccessed], [c].[LogoUri], [c].[NonEditable], [c].[PairWiseSubjectSalt], [c].[ProtocolType], [c].[RefreshTokenExpiration], [c].[RefreshTokenUsage], [c].[RequireClientSecret], [c].[RequireConsent], [c].[RequirePkce], [c].[RequireRequestObject], [c].[SlidingRefreshTokenLifetime], [c].[UpdateAccessTokenClaimsOnRefresh], [c].[Updated], [c].[UserCodeType], [c].[UserSsoLifetime]
FROM [Clients] AS [c]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T06:09:48.2238947+00:00][INFO][34][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("6"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[Origin]
FROM [Clients] AS [c]
INNER JOIN [ClientCorsOrigins] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T06:09:48.2589277+00:00][INFO][29][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("26"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[GrantType]
FROM [Clients] AS [c]
INNER JOIN [ClientGrantTypes] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T06:09:48.2700958+00:00][INFO][34][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("3"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[Scope]
FROM [Clients] AS [c]
INNER JOIN [ClientScopes] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T06:09:48.2790534+00:00][INFO][32][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("3"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[Type], [c0].[Value]
FROM [Clients] AS [c]
INNER JOIN [ClientClaims] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T06:09:48.2871599+00:00][INFO][28][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("4"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[Created], [c0].[Description], [c0].[Expiration], [c0].[Type], [c0].[Value]
FROM [Clients] AS [c]
INNER JOIN [ClientSecrets] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T06:09:48.3009640+00:00][INFO][31][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("2"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[Provider]
FROM [Clients] AS [c]
INNER JOIN [ClientIdPRestrictions] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T06:09:48.3087192+00:00][INFO][34][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("5"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[PostLogoutRedirectUri]
FROM [Clients] AS [c]
INNER JOIN [ClientPostLogoutRedirectUris] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T06:09:48.3191755+00:00][INFO][28][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("2"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[Key], [c0].[Value]
FROM [Clients] AS [c]
INNER JOIN [ClientProperties] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T06:09:48.3301995+00:00][INFO][30][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("5"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[RedirectUri]
FROM [Clients] AS [c]
INNER JOIN [ClientRedirectUris] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T06:09:48.3657301+00:00][INFO][30][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("7"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [i].[Id], [i].[Created], [i].[Description], [i].[DisplayName], [i].[Emphasize], [i].[Enabled], [i].[Name], [i].[NonEditable], [i].[Required], [i].[ShowInDiscoveryDocument], [i].[Updated], [i0].[Id], [i0].[IdentityResourceId], [i0].[Type], [i1].[Id], [i1].[IdentityResourceId], [i1].[Key], [i1].[Value]
FROM [IdentityResources] AS [i]
LEFT JOIN [IdentityResourceClaims] AS [i0] ON [i].[Id] = [i0].[IdentityResourceId]
LEFT JOIN [IdentityResourceProperties] AS [i1] ON [i].[Id] = [i1].[IdentityResourceId]
WHERE [i].[Name] IN (N'openid', N'profile', N'email', N'roles')
ORDER BY [i].[Id], [i0].[Id], [i1].[Id]"
[2020-12-30T06:09:48.4339979+00:00][INFO][36][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("11"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [a].[Id], [a].[AllowedAccessTokenSigningAlgorithms], [a].[Created], [a].[Description], [a].[DisplayName], [a].[Enabled], [a].[LastAccessed], [a].[Name], [a].[NonEditable], [a].[ShowInDiscoveryDocument], [a].[Updated], [a0].[Id], [a0].[ApiResourceId], [a0].[Created], [a0].[Description], [a0].[Expiration], [a0].[Type], [a0].[Value], [a1].[Id], [a1].[ApiResourceId], [a1].[Scope], [a2].[Id], [a2].[ApiResourceId], [a2].[Type], [a3].[Id], [a3].[ApiResourceId], [a3].[Key], [a3].[Value]
FROM [ApiResources] AS [a]
LEFT JOIN [ApiResourceSecrets] AS [a0] ON [a].[Id] = [a0].[ApiResourceId]
LEFT JOIN [ApiResourceScopes] AS [a1] ON [a].[Id] = [a1].[ApiResourceId]
LEFT JOIN [ApiResourceClaims] AS [a2] ON [a].[Id] = [a2].[ApiResourceId]
LEFT JOIN [ApiResourceProperties] AS [a3] ON [a].[Id] = [a3].[ApiResourceId]
WHERE EXISTS (
    SELECT 1
    FROM [ApiResourceScopes] AS [a4]
    WHERE ([a].[Id] = [a4].[ApiResourceId]) AND [a4].[Scope] IN (N'openid', N'profile', N'email', N'roles'))
ORDER BY [a].[Id], [a0].[Id], [a1].[Id], [a2].[Id], [a3].[Id]"
[2020-12-30T06:09:48.4642288+00:00][INFO][28][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [a].[Id], [a].[Description], [a].[DisplayName], [a].[Emphasize], [a].[Enabled], [a].[Name], [a].[Required], [a].[ShowInDiscoveryDocument], [a0].[Id], [a0].[ScopeId], [a0].[Type], [a1].[Id], [a1].[Key], [a1].[ScopeId], [a1].[Value]
FROM [ApiScopes] AS [a]
LEFT JOIN [ApiScopeClaims] AS [a0] ON [a].[Id] = [a0].[ScopeId]
LEFT JOIN [ApiScopeProperties] AS [a1] ON [a].[Id] = [a1].[ScopeId]
WHERE [a].[Name] IN (N'openid', N'profile', N'email', N'roles')
ORDER BY [a].[Id], [a0].[Id], [a1].[Id]"
[2020-12-30T06:09:48.4725504+00:00][INFO][28][IdentityServer4.ResponseHandling.AuthorizeInteractionResponseGenerator] Showing login: User is not authenticated
[2020-12-30T06:09:48.4752518+00:00][INFO][28][Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/1.1 GET http://www.em.host/connect/authorize?client_id=urn%3Aem%3Aclient&redirect_uri=https%3A%2F%2Fwww.em.host%2Fadmin%2Fidentity%2Fsignin-oidc&response_type=code&scope=openid%20profile%20email%20roles&code_challenge=8Twjc6Vi8hv4nkruC6AuVs4AljmZw4vIoVfukQJYngs&code_challenge_method=S256&response_mode=form_post&nonce=637449053877428813.YmM1NWY4YzAtNGY3Zi00NWQ0LWI2NjYtODJjYjY4ZWE0YjQ0ZDU2YTM5NTktYTRmYi00OTQ5LWI2MzktYThmMzI4Y2FkNjJm&state=CfDJ8ASI9RBeE6hBsIC3rORyZw23DW4jUowpsaH3X6Cv4_y8z-heqyahC5ya1CbH-1UVEoiQJZmytxLdAQDLLjztmPq2stvRvbiBSoG6Up8LJmIrIJpXcFGAffGjrkP8rJB3ooFI5LmoqKXX8zhPA1Zj_PtJJC2Mz9ZNOCgLyxIyeTUOfFbUbwJUHebY82dXNtEw9CZdVqd3kkVBInwrGvaUSgQ0cvnzDn3_WV1YSZOZ9urZmw-2Udrjod7o21Ou7lQVTHnbKitM1yj2n_78q70kNcq6IRXq7lrdaCN8g1HXZquwB-Nj5-4k662EVLoTsj34v6kCRpK59OHPNSmE75a9qJMcAuyzTYSTtw3WbSugHiCH5Y05MQL9uQjowMtoDlxjuA&x-client-SKU=ID_NETSTANDARD2_0&x-client-ver=5.6.0.0 - - - 302 0 - 653.3127ms
[2020-12-30T06:09:48.5263340+00:00][INFO][32][Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 GET http://www.em.host/Account/Login?ReturnUrl=%2Fconnect%2Fauthorize%2Fcallback%3Fclient_id%3Durn%253Aem%253Aclient%26redirect_uri%3Dhttps%253A%252F%252Fwww.em.host%252Fadmin%252Fidentity%252Fsignin-oidc%26response_type%3Dcode%26scope%3Dopenid%2520profile%2520email%2520roles%26code_challenge%3D8Twjc6Vi8hv4nkruC6AuVs4AljmZw4vIoVfukQJYngs%26code_challenge_method%3DS256%26response_mode%3Dform_post%26nonce%3D637449053877428813.YmM1NWY4YzAtNGY3Zi00NWQ0LWI2NjYtODJjYjY4ZWE0YjQ0ZDU2YTM5NTktYTRmYi00OTQ5LWI2MzktYThmMzI4Y2FkNjJm%26state%3DCfDJ8ASI9RBeE6hBsIC3rORyZw23DW4jUowpsaH3X6Cv4_y8z-heqyahC5ya1CbH-1UVEoiQJZmytxLdAQDLLjztmPq2stvRvbiBSoG6Up8LJmIrIJpXcFGAffGjrkP8rJB3ooFI5LmoqKXX8zhPA1Zj_PtJJC2Mz9ZNOCgLyxIyeTUOfFbUbwJUHebY82dXNtEw9CZdVqd3kkVBInwrGvaUSgQ0cvnzDn3_WV1YSZOZ9urZmw-2Udrjod7o21Ou7lQVTHnbKitM1yj2n_78q70kNcq6IRXq7lrdaCN8g1HXZquwB-Nj5-4k662EVLoTsj34v6kCRpK59OHPNSmE75a9qJMcAuyzTYSTtw3WbSugHiCH5Y05MQL9uQjowMtoDlxjuA%26x-client-SKU%3DID_NETSTANDARD2_0%26x-client-ver%3D5.6.0.0 - -
[2020-12-30T06:09:48.5325911+00:00][INFO][32][Microsoft.AspNetCore.Routing.EndpointMiddleware] Executing endpoint '"EventManager.Identity.STS.Identity.Controllers.AccountController<EventManager.Identity.Admin.EntityFramework.Shared.Entities.Identity.UserIdentity, string>.Login (EventManager.Identity.STS.Identity)"'
[2020-12-30T06:09:48.5348144+00:00][INFO][32][Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Route matched with "{action = \"Login\", controller = \"Account\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(System.String)" on controller "EventManager.Identity.STS.Identity.Controllers.AccountController<EventManager.Identity.Admin.EntityFramework.Shared.Entities.Identity.UserIdentity, string>" ("EventManager.Identity.STS.Identity").
[2020-12-30T06:09:48.5599273+00:00][INFO][32][Microsoft.EntityFrameworkCore.Infrastructure] Entity Framework Core "5.0.1" initialized '"IdentityServerConfigurationDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=EventManager.Identity.Admin.EntityFramework.SqlServer "
[2020-12-30T06:09:48.5956576+00:00][INFO][29][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("20"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c].[Id], [c].[AbsoluteRefreshTokenLifetime], [c].[AccessTokenLifetime], [c].[AccessTokenType], [c].[AllowAccessTokensViaBrowser], [c].[AllowOfflineAccess], [c].[AllowPlainTextPkce], [c].[AllowRememberConsent], [c].[AllowedIdentityTokenSigningAlgorithms], [c].[AlwaysIncludeUserClaimsInIdToken], [c].[AlwaysSendClientClaims], [c].[AuthorizationCodeLifetime], [c].[BackChannelLogoutSessionRequired], [c].[BackChannelLogoutUri], [c].[ClientClaimsPrefix], [c].[ClientId], [c].[ClientName], [c].[ClientUri], [c].[ConsentLifetime], [c].[Created], [c].[Description], [c].[DeviceCodeLifetime], [c].[EnableLocalLogin], [c].[Enabled], [c].[FrontChannelLogoutSessionRequired], [c].[FrontChannelLogoutUri], [c].[IdentityTokenLifetime], [c].[IncludeJwtId], [c].[LastAccessed], [c].[LogoUri], [c].[NonEditable], [c].[PairWiseSubjectSalt], [c].[ProtocolType], [c].[RefreshTokenExpiration], [c].[RefreshTokenUsage], [c].[RequireClientSecret], [c].[RequireConsent], [c].[RequirePkce], [c].[RequireRequestObject], [c].[SlidingRefreshTokenLifetime], [c].[UpdateAccessTokenClaimsOnRefresh], [c].[Updated], [c].[UserCodeType], [c].[UserSsoLifetime]
FROM [Clients] AS [c]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T06:09:48.7358712+00:00][INFO][31][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("4"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[Origin]
FROM [Clients] AS [c]
INNER JOIN [ClientCorsOrigins] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T06:09:48.7730878+00:00][INFO][28][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("11"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[GrantType]
FROM [Clients] AS [c]
INNER JOIN [ClientGrantTypes] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T06:09:48.7932838+00:00][INFO][32][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("13"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[Scope]
FROM [Clients] AS [c]
INNER JOIN [ClientScopes] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T06:09:48.8502652+00:00][INFO][29][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("3"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[Type], [c0].[Value]
FROM [Clients] AS [c]
INNER JOIN [ClientClaims] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T06:09:48.8637591+00:00][INFO][30][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("11"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[Created], [c0].[Description], [c0].[Expiration], [c0].[Type], [c0].[Value]
FROM [Clients] AS [c]
INNER JOIN [ClientSecrets] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T06:09:48.8724251+00:00][INFO][29][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("5"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[Provider]
FROM [Clients] AS [c]
INNER JOIN [ClientIdPRestrictions] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T06:09:48.8843731+00:00][INFO][34][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("10"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[PostLogoutRedirectUri]
FROM [Clients] AS [c]
INNER JOIN [ClientPostLogoutRedirectUris] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T06:09:48.8960404+00:00][INFO][30][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("2"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[Key], [c0].[Value]
FROM [Clients] AS [c]
INNER JOIN [ClientProperties] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T06:09:48.9064577+00:00][INFO][29][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("3"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[RedirectUri]
FROM [Clients] AS [c]
INNER JOIN [ClientRedirectUris] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T06:09:48.9162632+00:00][INFO][28][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("5"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [i].[Id], [i].[Created], [i].[Description], [i].[DisplayName], [i].[Emphasize], [i].[Enabled], [i].[Name], [i].[NonEditable], [i].[Required], [i].[ShowInDiscoveryDocument], [i].[Updated], [i0].[Id], [i0].[IdentityResourceId], [i0].[Type], [i1].[Id], [i1].[IdentityResourceId], [i1].[Key], [i1].[Value]
FROM [IdentityResources] AS [i]
LEFT JOIN [IdentityResourceClaims] AS [i0] ON [i].[Id] = [i0].[IdentityResourceId]
LEFT JOIN [IdentityResourceProperties] AS [i1] ON [i].[Id] = [i1].[IdentityResourceId]
WHERE [i].[Name] IN (N'openid', N'profile', N'email', N'roles')
ORDER BY [i].[Id], [i0].[Id], [i1].[Id]"
[2020-12-30T06:09:48.9384114+00:00][INFO][36][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [a].[Id], [a].[AllowedAccessTokenSigningAlgorithms], [a].[Created], [a].[Description], [a].[DisplayName], [a].[Enabled], [a].[LastAccessed], [a].[Name], [a].[NonEditable], [a].[ShowInDiscoveryDocument], [a].[Updated], [a0].[Id], [a0].[ApiResourceId], [a0].[Created], [a0].[Description], [a0].[Expiration], [a0].[Type], [a0].[Value], [a1].[Id], [a1].[ApiResourceId], [a1].[Scope], [a2].[Id], [a2].[ApiResourceId], [a2].[Type], [a3].[Id], [a3].[ApiResourceId], [a3].[Key], [a3].[Value]
FROM [ApiResources] AS [a]
LEFT JOIN [ApiResourceSecrets] AS [a0] ON [a].[Id] = [a0].[ApiResourceId]
LEFT JOIN [ApiResourceScopes] AS [a1] ON [a].[Id] = [a1].[ApiResourceId]
LEFT JOIN [ApiResourceClaims] AS [a2] ON [a].[Id] = [a2].[ApiResourceId]
LEFT JOIN [ApiResourceProperties] AS [a3] ON [a].[Id] = [a3].[ApiResourceId]
WHERE EXISTS (
    SELECT 1
    FROM [ApiResourceScopes] AS [a4]
    WHERE ([a].[Id] = [a4].[ApiResourceId]) AND [a4].[Scope] IN (N'openid', N'profile', N'email', N'roles'))
ORDER BY [a].[Id], [a0].[Id], [a1].[Id], [a2].[Id], [a3].[Id]"
[2020-12-30T06:09:48.9752222+00:00][INFO][30][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("24"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [a].[Id], [a].[Description], [a].[DisplayName], [a].[Emphasize], [a].[Enabled], [a].[Name], [a].[Required], [a].[ShowInDiscoveryDocument], [a0].[Id], [a0].[ScopeId], [a0].[Type], [a1].[Id], [a1].[Key], [a1].[ScopeId], [a1].[Value]
FROM [ApiScopes] AS [a]
LEFT JOIN [ApiScopeClaims] AS [a0] ON [a].[Id] = [a0].[ScopeId]
LEFT JOIN [ApiScopeProperties] AS [a1] ON [a].[Id] = [a1].[ScopeId]
WHERE [a].[Name] IN (N'openid', N'profile', N'email', N'roles')
ORDER BY [a].[Id], [a0].[Id], [a1].[Id]"
[2020-12-30T06:09:48.9879009+00:00][INFO][34][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("9"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c].[Id], [c].[AbsoluteRefreshTokenLifetime], [c].[AccessTokenLifetime], [c].[AccessTokenType], [c].[AllowAccessTokensViaBrowser], [c].[AllowOfflineAccess], [c].[AllowPlainTextPkce], [c].[AllowRememberConsent], [c].[AllowedIdentityTokenSigningAlgorithms], [c].[AlwaysIncludeUserClaimsInIdToken], [c].[AlwaysSendClientClaims], [c].[AuthorizationCodeLifetime], [c].[BackChannelLogoutSessionRequired], [c].[BackChannelLogoutUri], [c].[ClientClaimsPrefix], [c].[ClientId], [c].[ClientName], [c].[ClientUri], [c].[ConsentLifetime], [c].[Created], [c].[Description], [c].[DeviceCodeLifetime], [c].[EnableLocalLogin], [c].[Enabled], [c].[FrontChannelLogoutSessionRequired], [c].[FrontChannelLogoutUri], [c].[IdentityTokenLifetime], [c].[IncludeJwtId], [c].[LastAccessed], [c].[LogoUri], [c].[NonEditable], [c].[PairWiseSubjectSalt], [c].[ProtocolType], [c].[RefreshTokenExpiration], [c].[RefreshTokenUsage], [c].[RequireClientSecret], [c].[RequireConsent], [c].[RequirePkce], [c].[RequireRequestObject], [c].[SlidingRefreshTokenLifetime], [c].[UpdateAccessTokenClaimsOnRefresh], [c].[Updated], [c].[UserCodeType], [c].[UserSsoLifetime]
FROM [Clients] AS [c]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T06:09:49.0206999+00:00][INFO][31][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("4"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[Origin]
FROM [Clients] AS [c]
INNER JOIN [ClientCorsOrigins] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T06:09:49.0336803+00:00][INFO][29][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("11"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[GrantType]
FROM [Clients] AS [c]
INNER JOIN [ClientGrantTypes] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T06:09:49.0448561+00:00][INFO][34][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("9"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[Scope]
FROM [Clients] AS [c]
INNER JOIN [ClientScopes] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T06:09:49.0584112+00:00][INFO][31][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("3"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[Type], [c0].[Value]
FROM [Clients] AS [c]
INNER JOIN [ClientClaims] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T06:09:49.0708440+00:00][INFO][34][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("10"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[Created], [c0].[Description], [c0].[Expiration], [c0].[Type], [c0].[Value]
FROM [Clients] AS [c]
INNER JOIN [ClientSecrets] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T06:09:49.08[2020-12-30T06:19:46.2664545+00:00][INFO][1][Microsoft.EntityFrameworkCore.Infrastructure] Entity Framework Core "5.0.1" initialized '"IdentityServerDataProtectionDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=EventManager.Identity.Admin.EntityFramework.SqlServer "
[2020-12-30T06:19:53.3781351+00:00][EROR][1][Microsoft.EntityFrameworkCore.Database.Connection] An error occurred using the connection to database '"em-identity"' on server '"mssql.service.em.docker"'.
[2020-12-30T06:19:53.7791708+00:00][EROR][1][Microsoft.EntityFrameworkCore.Query] An exception occurred while iterating over the results of a query for context type '"EventManager.Identity.Admin.EntityFramework.Shared.DbContexts.IdentityServerDataProtectionDbContext"'."
""Microsoft.Data.SqlClient.SqlException (0x80131904): A connection was successfully established with the server, but then an error occurred during the pre-login handshake. (provider: TCP Provider, error: 35 - An internal exception was caught)
 ---> System.IO.IOException: Unable to read data from the transport connection: Connection reset by peer.
 ---> System.Net.Sockets.SocketException (104): Connection reset by peer
   at System.Net.Sockets.NetworkStream.Read(Byte[] buffer, Int32 offset, Int32 size)
   --- End of inner exception stack trace ---
   at System.Net.Sockets.NetworkStream.Read(Byte[] buffer, Int32 offset, Int32 size)
   at Microsoft.Data.SqlClient.SNI.SNIPacket.ReadFromStream(Stream stream)
   at Microsoft.Data.SqlClient.SNI.SNITCPHandle.Receive(SNIPacket& packet, Int32 timeoutInMilliseconds)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParserStateObject.ThrowExceptionAndWarning(Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParserStateObject.ReadSniError(TdsParserStateObject stateObj, UInt32 error)
   at Microsoft.Data.SqlClient.TdsParserStateObject.ReadSniSyncOverAsync()
   at Microsoft.Data.SqlClient.TdsParserStateObject.TryReadNetworkPacket()
   at Microsoft.Data.SqlClient.TdsParser.ConsumePreLoginHandshake(Boolean encrypt, Boolean trustServerCert, Boolean integratedSecurity, Boolean& marsCapable, Boolean& fedAuthRequired)
   at Microsoft.Data.SqlClient.TdsParser.Connect(ServerInfo serverInfo, SqlInternalConnectionTds connHandler, Boolean ignoreSniOpenTimeout, Int64 timerExpire, Boolean encrypt, Boolean trustServerCert, Boolean integratedSecurity, Boolean withFailover, SqlAuthenticationMethod authType)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.AttemptOneLogin(ServerInfo serverInfo, String newPassword, SecureString newSecurePassword, Boolean ignoreSniOpenTimeout, TimeoutTimer timeout, Boolean withFailover)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.LoginNoFailover(ServerInfo serverInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString connectionOptions, SqlCredential credential, TimeoutTimer timeout)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.OpenLoginEnlist(TimeoutTimer timeout, SqlConnectionString connectionOptions, SqlCredential credential, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds..ctor(DbConnectionPoolIdentity identity, SqlConnectionString connectionOptions, SqlCredential credential, Object providerInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString userConnectionOptions, SessionData reconnectSessionData, Boolean applyTransientFaultHandling, String accessToken, DbConnectionPool pool)
   at Microsoft.Data.SqlClient.SqlConnectionFactory.CreateConnection(DbConnectionOptions options, DbConnectionPoolKey poolKey, Object poolGroupProviderInfo, DbConnectionPool pool, DbConnection owningConnection, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionFactory.CreatePooledConnection(DbConnectionPool pool, DbConnection owningObject, DbConnectionOptions options, DbConnectionPoolKey poolKey, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionPool.CreateObject(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.UserCreateRequest(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, UInt32 waitForMultipleObjectsTimeout, Boolean allowCreate, Boolean onlyOneCheckConnection, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, TaskCompletionSource`1 retry, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionFactory.TryGetConnection(DbConnection owningConnection, TaskCompletionSource`1 retry, DbConnectionOptions userOptions, DbConnectionInternal oldConnection, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionInternal.TryOpenConnectionInternal(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionClosed.TryOpenConnection(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)
   at Microsoft.Data.SqlClient.SqlConnection.TryOpen(TaskCompletionSource`1 retry, SqlConnectionOverrides overrides)
   at Microsoft.Data.SqlClient.SqlConnection.Open(SqlConnectionOverrides overrides)
   at Microsoft.Data.SqlClient.SqlConnection.Open()
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerConnection.OpenDbConnection(Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternal(Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.Open(Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReader(RelationalCommandParameterObject parameterObject)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.Enumerator.InitializeReader(DbContext _, Boolean result)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.Enumerator.MoveNext()
ClientConnectionId:c2604322-6d2f-4ed1-9437-0f38b56023e2"
Microsoft.Data.SqlClient.SqlException (0x80131904): A connection was successfully established with the server, but then an error occurred during the pre-login handshake. (provider: TCP Provider, error: 35 - An internal exception was caught)
 ---> System.IO.IOException: Unable to read data from the transport connection: Connection reset by peer.
 ---> System.Net.Sockets.SocketException (104): Connection reset by peer
   at System.Net.Sockets.NetworkStream.Read(Byte[] buffer, Int32 offset, Int32 size)
   --- End of inner exception stack trace ---
   at System.Net.Sockets.NetworkStream.Read(Byte[] buffer, Int32 offset, Int32 size)
   at Microsoft.Data.SqlClient.SNI.SNIPacket.ReadFromStream(Stream stream)
   at Microsoft.Data.SqlClient.SNI.SNITCPHandle.Receive(SNIPacket& packet, Int32 timeoutInMilliseconds)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParserStateObject.ThrowExceptionAndWarning(Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParserStateObject.ReadSniError(TdsParserStateObject stateObj, UInt32 error)
   at Microsoft.Data.SqlClient.TdsParserStateObject.ReadSniSyncOverAsync()
   at Microsoft.Data.SqlClient.TdsParserStateObject.TryReadNetworkPacket()
   at Microsoft.Data.SqlClient.TdsParser.ConsumePreLoginHandshake(Boolean encrypt, Boolean trustServerCert, Boolean integratedSecurity, Boolean& marsCapable, Boolean& fedAuthRequired)
   at Microsoft.Data.SqlClient.TdsParser.Connect(ServerInfo serverInfo, SqlInternalConnectionTds connHandler, Boolean ignoreSniOpenTimeout, Int64 timerExpire, Boolean encrypt, Boolean trustServerCert, Boolean integratedSecurity, Boolean withFailover, SqlAuthenticationMethod authType)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.AttemptOneLogin(ServerInfo serverInfo, String newPassword, SecureString newSecurePassword, Boolean ignoreSniOpenTimeout, TimeoutTimer timeout, Boolean withFailover)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.LoginNoFailover(ServerInfo serverInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString connectionOptions, SqlCredential credential, TimeoutTimer timeout)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.OpenLoginEnlist(TimeoutTimer timeout, SqlConnectionString connectionOptions, SqlCredential credential, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds..ctor(DbConnectionPoolIdentity identity, SqlConnectionString connectionOptions, SqlCredential credential, Object providerInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString userConnectionOptions, SessionData reconnectSessionData, Boolean applyTransientFaultHandling, String accessToken, DbConnectionPool pool)
   at Microsoft.Data.SqlClient.SqlConnectionFactory.CreateConnection(DbConnectionOptions options, DbConnectionPoolKey poolKey, Object poolGroupProviderInfo, DbConnectionPool pool, DbConnection owningConnection, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionFactory.CreatePooledConnection(DbConnectionPool pool, DbConnection owningObject, DbConnectionOptions options, DbConnectionPoolKey poolKey, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionPool.CreateObject(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.UserCreateRequest(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, UInt32 waitForMultipleObjectsTimeout, Boolean allowCreate, Boolean onlyOneCheckConnection, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, TaskCompletionSource`1 retry, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionFactory.TryGetConnection(DbConnection owningConnection, TaskCompletionSource`1 retry, DbConnectionOptions userOptions, DbConnectionInternal oldConnection, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionInternal.TryOpenConnectionInternal(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionClosed.TryOpenConnection(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)
   at Microsoft.Data.SqlClient.SqlConnection.TryOpen(TaskCompletionSource`1 retry, SqlConnectionOverrides overrides)
   at Microsoft.Data.SqlClient.SqlConnection.Open(SqlConnectionOverrides overrides)
   at Microsoft.Data.SqlClient.SqlConnection.Open()
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerConnection.OpenDbConnection(Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternal(Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.Open(Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReader(RelationalCommandParameterObject parameterObject)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.Enumerator.InitializeReader(DbContext _, Boolean result)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.Enumerator.MoveNext()
ClientConnectionId:c2604322-6d2f-4ed1-9437-0f38b56023e2
[2020-12-30T06:19:54.0369776+00:00][EROR][1][Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingProvider] An error occurred while reading the key ring.
Microsoft.Data.SqlClient.SqlException (0x80131904): A connection was successfully established with the server, but then an error occurred during the pre-login handshake. (provider: TCP Provider, error: 35 - An internal exception was caught)
 ---> System.IO.IOException: Unable to read data from the transport connection: Connection reset by peer.
 ---> System.Net.Sockets.SocketException (104): Connection reset by peer
   at System.Net.Sockets.NetworkStream.Read(Byte[] buffer, Int32 offset, Int32 size)
   --- End of inner exception stack trace ---
   at System.Net.Sockets.NetworkStream.Read(Byte[] buffer, Int32 offset, Int32 size)
   at Microsoft.Data.SqlClient.SNI.SNIPacket.ReadFromStream(Stream stream)
   at Microsoft.Data.SqlClient.SNI.SNITCPHandle.Receive(SNIPacket& packet, Int32 timeoutInMilliseconds)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParserStateObject.ThrowExceptionAndWarning(Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParserStateObject.ReadSniError(TdsParserStateObject stateObj, UInt32 error)
   at Microsoft.Data.SqlClient.TdsParserStateObject.ReadSniSyncOverAsync()
   at Microsoft.Data.SqlClient.TdsParserStateObject.TryReadNetworkPacket()
   at Microsoft.Data.SqlClient.TdsParser.ConsumePreLoginHandshake(Boolean encrypt, Boolean trustServerCert, Boolean integratedSecurity, Boolean& marsCapable, Boolean& fedAuthRequired)
   at Microsoft.Data.SqlClient.TdsParser.Connect(ServerInfo serverInfo, SqlInternalConnectionTds connHandler, Boolean ignoreSniOpenTimeout, Int64 timerExpire, Boolean encrypt, Boolean trustServerCert, Boolean integratedSecurity, Boolean withFailover, SqlAuthenticationMethod authType)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.AttemptOneLogin(ServerInfo serverInfo, String newPassword, SecureString newSecurePassword, Boolean ignoreSniOpenTimeout, TimeoutTimer timeout, Boolean withFailover)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.LoginNoFailover(ServerInfo serverInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString connectionOptions, SqlCredential credential, TimeoutTimer timeout)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.OpenLoginEnlist(TimeoutTimer timeout, SqlConnectionString connectionOptions, SqlCredential credential, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds..ctor(DbConnectionPoolIdentity identity, SqlConnectionString connectionOptions, SqlCredential credential, Object providerInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString userConnectionOptions, SessionData reconnectSessionData, Boolean applyTransientFaultHandling, String accessToken, DbConnectionPool pool)
   at Microsoft.Data.SqlClient.SqlConnectionFactory.CreateConnection(DbConnectionOptions options, DbConnectionPoolKey poolKey, Object poolGroupProviderInfo, DbConnectionPool pool, DbConnection owningConnection, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionFactory.CreatePooledConnection(DbConnectionPool pool, DbConnection owningObject, DbConnectionOptions options, DbConnectionPoolKey poolKey, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionPool.CreateObject(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.UserCreateRequest(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, UInt32 waitForMultipleObjectsTimeout, Boolean allowCreate, Boolean onlyOneCheckConnection, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, TaskCompletionSource`1 retry, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionFactory.TryGetConnection(DbConnection owningConnection, TaskCompletionSource`1 retry, DbConnectionOptions userOptions, DbConnectionInternal oldConnection, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionInternal.TryOpenConnectionInternal(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionClosed.TryOpenConnection(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)
   at Microsoft.Data.SqlClient.SqlConnection.TryOpen(TaskCompletionSource`1 retry, SqlConnectionOverrides overrides)
   at Microsoft.Data.SqlClient.SqlConnection.Open(SqlConnectionOverrides overrides)
   at Microsoft.Data.SqlClient.SqlConnection.Open()
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerConnection.OpenDbConnection(Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternal(Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.Open(Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReader(RelationalCommandParameterObject parameterObject)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.Enumerator.InitializeReader(DbContext _, Boolean result)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.Enumerator.MoveNext()
   at Microsoft.AspNetCore.DataProtection.EntityFrameworkCore.EntityFrameworkCoreXmlRepository`1.<GetAllElements>g__GetAllElementsCore|3_0()+MoveNext()
   at System.Collections.Generic.List`1..ctor(IEnumerable`1 collection)
   at System.Linq.Enumerable.ToList[TSource](IEnumerable`1 source)
   at Microsoft.AspNetCore.DataProtection.EntityFrameworkCore.EntityFrameworkCoreXmlRepository`1.GetAllElements()
   at Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager.GetAllKeys()
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingProvider.CreateCacheableKeyRingCore(DateTimeOffset now, IKey keyJustAdded)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingProvider.Microsoft.AspNetCore.DataProtection.KeyManagement.Internal.ICacheableKeyRingProvider.GetCacheableKeyRing(DateTimeOffset now)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingProvider.GetCurrentKeyRingCore(DateTime utcNow, Boolean forceRefresh)
ClientConnectionId:c2604322-6d2f-4ed1-9437-0f38b56023e2
[2020-12-30T06:19:54.2307206+00:00][INFO][1][Microsoft.AspNetCore.DataProtection.Internal.DataProtectionHostedService] Key ring failed to load during application startup.
Microsoft.Data.SqlClient.SqlException (0x80131904): A connection was successfully established with the server, but then an error occurred during the pre-login handshake. (provider: TCP Provider, error: 35 - An internal exception was caught)
 ---> System.IO.IOException: Unable to read data from the transport connection: Connection reset by peer.
 ---> System.Net.Sockets.SocketException (104): Connection reset by peer
   at System.Net.Sockets.NetworkStream.Read(Byte[] buffer, Int32 offset, Int32 size)
   --- End of inner exception stack trace ---
   at System.Net.Sockets.NetworkStream.Read(Byte[] buffer, Int32 offset, Int32 size)
   at Microsoft.Data.SqlClient.SNI.SNIPacket.ReadFromStream(Stream stream)
   at Microsoft.Data.SqlClient.SNI.SNITCPHandle.Receive(SNIPacket& packet, Int32 timeoutInMilliseconds)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParserStateObject.ThrowExceptionAndWarning(Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParserStateObject.ReadSniError(TdsParserStateObject stateObj, UInt32 error)
   at Microsoft.Data.SqlClient.TdsParserStateObject.ReadSniSyncOverAsync()
   at Microsoft.Data.SqlClient.TdsParserStateObject.TryReadNetworkPacket()
   at Microsoft.Data.SqlClient.TdsParser.ConsumePreLoginHandshake(Boolean encrypt, Boolean trustServerCert, Boolean integratedSecurity, Boolean& marsCapable, Boolean& fedAuthRequired)
   at Microsoft.Data.SqlClient.TdsParser.Connect(ServerInfo serverInfo, SqlInternalConnectionTds connHandler, Boolean ignoreSniOpenTimeout, Int64 timerExpire, Boolean encrypt, Boolean trustServerCert, Boolean integratedSecurity, Boolean withFailover, SqlAuthenticationMethod authType)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.AttemptOneLogin(ServerInfo serverInfo, String newPassword, SecureString newSecurePassword, Boolean ignoreSniOpenTimeout, TimeoutTimer timeout, Boolean withFailover)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.LoginNoFailover(ServerInfo serverInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString connectionOptions, SqlCredential credential, TimeoutTimer timeout)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.OpenLoginEnlist(TimeoutTimer timeout, SqlConnectionString connectionOptions, SqlCredential credential, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds..ctor(DbConnectionPoolIdentity identity, SqlConnectionString connectionOptions, SqlCredential credential, Object providerInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString userConnectionOptions, SessionData reconnectSessionData, Boolean applyTransientFaultHandling, String accessToken, DbConnectionPool pool)
   at Microsoft.Data.SqlClient.SqlConnectionFactory.CreateConnection(DbConnectionOptions options, DbConnectionPoolKey poolKey, Object poolGroupProviderInfo, DbConnectionPool pool, DbConnection owningConnection, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionFactory.CreatePooledConnection(DbConnectionPool pool, DbConnection owningObject, DbConnectionOptions options, DbConnectionPoolKey poolKey, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionPool.CreateObject(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.UserCreateRequest(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, UInt32 waitForMultipleObjectsTimeout, Boolean allowCreate, Boolean onlyOneCheckConnection, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, TaskCompletionSource`1 retry, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionFactory.TryGetConnection(DbConnection owningConnection, TaskCompletionSource`1 retry, DbConnectionOptions userOptions, DbConnectionInternal oldConnection, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionInternal.TryOpenConnectionInternal(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionClosed.TryOpenConnection(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)
   at Microsoft.Data.SqlClient.SqlConnection.TryOpen(TaskCompletionSource`1 retry, SqlConnectionOverrides overrides)
   at Microsoft.Data.SqlClient.SqlConnection.Open(SqlConnectionOverrides overrides)
   at Microsoft.Data.SqlClient.SqlConnection.Open()
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerConnection.OpenDbConnection(Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternal(Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.Open(Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReader(RelationalCommandParameterObject parameterObject)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.Enumerator.InitializeReader(DbContext _, Boolean result)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.Enumerator.MoveNext()
   at Microsoft.AspNetCore.DataProtection.EntityFrameworkCore.EntityFrameworkCoreXmlRepository`1.<GetAllElements>g__GetAllElementsCore|3_0()+MoveNext()
   at System.Collections.Generic.List`1..ctor(IEnumerable`1 collection)
   at System.Linq.Enumerable.ToList[TSource](IEnumerable`1 source)
   at Microsoft.AspNetCore.DataProtection.EntityFrameworkCore.EntityFrameworkCoreXmlRepository`1.GetAllElements()
   at Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager.GetAllKeys()
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingProvider.CreateCacheableKeyRingCore(DateTimeOffset now, IKey keyJustAdded)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingProvider.Microsoft.AspNetCore.DataProtection.KeyManagement.Internal.ICacheableKeyRingProvider.GetCacheableKeyRing(DateTimeOffset now)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingProvider.GetCurrentKeyRingCore(DateTime utcNow, Boolean forceRefresh)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingProvider.GetCurrentKeyRing()
   at Microsoft.AspNetCore.DataProtection.Internal.DataProtectionHostedService.StartAsync(CancellationToken token)
ClientConnectionId:c2604322-6d2f-4ed1-9437-0f38b56023e2
[2020-12-30T06:19:54.8042161+00:00][INFO][1][IdentityServer4.Startup] Starting IdentityServer4 version "4.1.1+cebd52f5bc61bdefc262fd20739d4d087c6f961f"
[2020-12-30T06:19:55.0638565+00:00][INFO][1][IdentityServer4.Startup] Using the default authentication scheme "Identity.Application" for IdentityServer
[2020-12-30T06:19:57.4186501+00:00][INFO][1][Microsoft.Hosting.Lifetime] Now listening on: "http://[::]:50003"
[2020-12-30T06:19:57.4205887+00:00][INFO][1][Microsoft.Hosting.Lifetime] Application started. Press Ctrl+C to shut down.
[2020-12-30T06:19:57.4212886+00:00][INFO][1][Microsoft.Hosting.Lifetime] Hosting environment: "Development"
[2020-12-30T06:19:57.4219298+00:00][INFO][1][Microsoft.Hosting.Lifetime] Content root path: "/app"
[2020-12-30T06:20:29.3017000+00:00][INFO][15][Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 GET http://www.em.host/Account/Login?ReturnUrl=%2Fconnect%2Fauthorize%2Fcallback%3Fclient_id%3Durn%253Aem%253Aclient%26redirect_uri%3Dhttps%253A%252F%252Fwww.em.host%252Fadmin%252Fidentity%252Fsignin-oidc%26response_type%3Dcode%26scope%3Dopenid%2520profile%2520email%2520roles%26code_challenge%3D8Twjc6Vi8hv4nkruC6AuVs4AljmZw4vIoVfukQJYngs%26code_challenge_method%3DS256%26response_mode%3Dform_post%26nonce%3D637449053877428813.YmM1NWY4YzAtNGY3Zi00NWQ0LWI2NjYtODJjYjY4ZWE0YjQ0ZDU2YTM5NTktYTRmYi00OTQ5LWI2MzktYThmMzI4Y2FkNjJm%26state%3DCfDJ8ASI9RBeE6hBsIC3rORyZw23DW4jUowpsaH3X6Cv4_y8z-heqyahC5ya1CbH-1UVEoiQJZmytxLdAQDLLjztmPq2stvRvbiBSoG6Up8LJmIrIJpXcFGAffGjrkP8rJB3ooFI5LmoqKXX8zhPA1Zj_PtJJC2Mz9ZNOCgLyxIyeTUOfFbUbwJUHebY82dXNtEw9CZdVqd3kkVBInwrGvaUSgQ0cvnzDn3_WV1YSZOZ9urZmw-2Udrjod7o21Ou7lQVTHnbKitM1yj2n_78q70kNcq6IRXq7lrdaCN8g1HXZquwB-Nj5-4k662EVLoTsj34v6kCRpK59OHPNSmE75a9qJMcAuyzTYSTtw3WbSugHiCH5Y05MQL9uQjowMtoDlxjuA%26x-client-SKU%3DID_NETSTANDARD2_0%26x-client-ver%3D5.6.0.0 - -
[2020-12-30T06:20:29.5168180+00:00][INFO][15][Microsoft.AspNetCore.Routing.EndpointMiddleware] Executing endpoint '"EventManager.Identity.STS.Identity.Controllers.AccountController<EventManager.Identity.Admin.EntityFramework.Shared.Entities.Identity.UserIdentity, string>.Login (EventManager.Identity.STS.Identity)"'
[2020-12-30T06:20:29.5832668+00:00][INFO][15][Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Route matched with "{action = \"Login\", controller = \"Account\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(System.String)" on controller "EventManager.Identity.STS.Identity.Controllers.AccountController<EventManager.Identity.Admin.EntityFramework.Shared.Entities.Identity.UserIdentity, string>" ("EventManager.Identity.STS.Identity").
[2020-12-30T06:20:30.6151086+00:00][INFO][15][Microsoft.EntityFrameworkCore.Infrastructure] Entity Framework Core "5.0.1" initialized '"IdentityServerConfigurationDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=EventManager.Identity.Admin.EntityFramework.SqlServer "
[2020-12-30T06:20:31.6931935+00:00][INFO][15][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("217"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c].[Id], [c].[AbsoluteRefreshTokenLifetime], [c].[AccessTokenLifetime], [c].[AccessTokenType], [c].[AllowAccessTokensViaBrowser], [c].[AllowOfflineAccess], [c].[AllowPlainTextPkce], [c].[AllowRememberConsent], [c].[AllowedIdentityTokenSigningAlgorithms], [c].[AlwaysIncludeUserClaimsInIdToken], [c].[AlwaysSendClientClaims], [c].[AuthorizationCodeLifetime], [c].[BackChannelLogoutSessionRequired], [c].[BackChannelLogoutUri], [c].[ClientClaimsPrefix], [c].[ClientId], [c].[ClientName], [c].[ClientUri], [c].[ConsentLifetime], [c].[Created], [c].[Description], [c].[DeviceCodeLifetime], [c].[EnableLocalLogin], [c].[Enabled], [c].[FrontChannelLogoutSessionRequired], [c].[FrontChannelLogoutUri], [c].[IdentityTokenLifetime], [c].[IncludeJwtId], [c].[LastAccessed], [c].[LogoUri], [c].[NonEditable], [c].[PairWiseSubjectSalt], [c].[ProtocolType], [c].[RefreshTokenExpiration], [c].[RefreshTokenUsage], [c].[RequireClientSecret], [c].[RequireConsent], [c].[RequirePkce], [c].[RequireRequestObject], [c].[SlidingRefreshTokenLifetime], [c].[UpdateAccessTokenClaimsOnRefresh], [c].[Updated], [c].[UserCodeType], [c].[UserSsoLifetime]
FROM [Clients] AS [c]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T06:20:32.1647871+00:00][INFO][13][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("15"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[Origin]
FROM [Clients] AS [c]
INNER JOIN [ClientCorsOrigins] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T06:20:32.2377917+00:00][INFO][14][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("13"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[GrantType]
FROM [Clients] AS [c]
INNER JOIN [ClientGrantTypes] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T06:20:32.2712341+00:00][INFO][14][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("7"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[Scope]
FROM [Clients] AS [c]
INNER JOIN [ClientScopes] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T06:20:32.3167833+00:00][INFO][14][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("8"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[Type], [c0].[Value]
FROM [Clients] AS [c]
INNER JOIN [ClientClaims] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T06:20:32.3570602+00:00][INFO][14][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("23"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[Created], [c0].[Description], [c0].[Expiration], [c0].[Type], [c0].[Value]
FROM [Clients] AS [c]
INNER JOIN [ClientSecrets] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T06:20:32.4003924+00:00][INFO][5][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("5"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[Provider]
FROM [Clients] AS [c]
INNER JOIN [ClientIdPRestrictions] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T06:20:32.4312151+00:00][INFO][5][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("14"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[PostLogoutRedirectUri]
FROM [Clients] AS [c]
INNER JOIN [ClientPostLogoutRedirectUris] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T06:20:32.4653851+00:00][INFO][5][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("5"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[Key], [c0].[Value]
FROM [Clients] AS [c]
INNER JOIN [ClientProperties] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T06:20:32.6443685+00:00][INFO][14][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("12"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[RedirectUri]
FROM [Clients] AS [c]
INNER JOIN [ClientRedirectUris] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T06:20:33.5038417+00:00][WARN][14][Microsoft.EntityFrameworkCore.Query] Compiling a query which loads related collections for more than one collection navigation either via 'Include' or through projection but no 'QuerySplittingBehavior' has been configured. By default Entity Framework will use 'QuerySplittingBehavior.SingleQuery' which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'
[2020-12-30T06:20:33.5669309+00:00][INFO][15][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("14"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [i].[Id], [i].[Created], [i].[Description], [i].[DisplayName], [i].[Emphasize], [i].[Enabled], [i].[Name], [i].[NonEditable], [i].[Required], [i].[ShowInDiscoveryDocument], [i].[Updated], [i0].[Id], [i0].[IdentityResourceId], [i0].[Type], [i1].[Id], [i1].[IdentityResourceId], [i1].[Key], [i1].[Value]
FROM [IdentityResources] AS [i]
LEFT JOIN [IdentityResourceClaims] AS [i0] ON [i].[Id] = [i0].[IdentityResourceId]
LEFT JOIN [IdentityResourceProperties] AS [i1] ON [i].[Id] = [i1].[IdentityResourceId]
WHERE [i].[Name] IN (N'openid', N'profile', N'email', N'roles')
ORDER BY [i].[Id], [i0].[Id], [i1].[Id]"
[2020-12-30T06:20:33.6634897+00:00][WARN][15][Microsoft.EntityFrameworkCore.Query] Compiling a query which loads related collections for more than one collection navigation either via 'Include' or through projection but no 'QuerySplittingBehavior' has been configured. By default Entity Framework will use 'QuerySplittingBehavior.SingleQuery' which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'
[2020-12-30T06:20:33.7625480+00:00][INFO][18][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("24"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [a].[Id], [a].[AllowedAccessTokenSigningAlgorithms], [a].[Created], [a].[Description], [a].[DisplayName], [a].[Enabled], [a].[LastAccessed], [a].[Name], [a].[NonEditable], [a].[ShowInDiscoveryDocument], [a].[Updated], [a0].[Id], [a0].[ApiResourceId], [a0].[Created], [a0].[Description], [a0].[Expiration], [a0].[Type], [a0].[Value], [a1].[Id], [a1].[ApiResourceId], [a1].[Scope], [a2].[Id], [a2].[ApiResourceId], [a2].[Type], [a3].[Id], [a3].[ApiResourceId], [a3].[Key], [a3].[Value]
FROM [ApiResources] AS [a]
LEFT JOIN [ApiResourceSecrets] AS [a0] ON [a].[Id] = [a0].[ApiResourceId]
LEFT JOIN [ApiResourceScopes] AS [a1] ON [a].[Id] = [a1].[ApiResourceId]
LEFT JOIN [ApiResourceClaims] AS [a2] ON [a].[Id] = [a2].[ApiResourceId]
LEFT JOIN [ApiResourceProperties] AS [a3] ON [a].[Id] = [a3].[ApiResourceId]
WHERE EXISTS (
    SELECT 1
    FROM [ApiResourceScopes] AS [a4]
    WHERE ([a].[Id] = [a4].[ApiResourceId]) AND [a4].[Scope] IN (N'openid', N'profile', N'email', N'roles'))
ORDER BY [a].[Id], [a0].[Id], [a1].[Id], [a2].[Id], [a3].[Id]"
[2020-12-30T06:20:33.7850227+00:00][WARN][18][Microsoft.EntityFrameworkCore.Query] Compiling a query which loads related collections for more than one collection navigation either via 'Include' or through projection but no 'QuerySplittingBehavior' has been configured. By default Entity Framework will use 'QuerySplittingBehavior.SingleQuery' which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'
[2020-12-30T06:20:33.8313200+00:00][INFO][17][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("20"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [a].[Id], [a].[Description], [a].[DisplayName], [a].[Emphasize], [a].[Enabled], [a].[Name], [a].[Required], [a].[ShowInDiscoveryDocument], [a0].[Id], [a0].[ScopeId], [a0].[Type], [a1].[Id], [a1].[Key], [a1].[ScopeId], [a1].[Value]
FROM [ApiScopes] AS [a]
LEFT JOIN [ApiScopeClaims] AS [a0] ON [a].[Id] = [a0].[ScopeId]
LEFT JOIN [ApiScopeProperties] AS [a1] ON [a].[Id] = [a1].[ScopeId]
WHERE [a].[Name] IN (N'openid', N'profile', N'email', N'roles')
ORDER BY [a].[Id], [a0].[Id], [a1].[Id]"
[2020-12-30T06:20:33.8898793+00:00][INFO][5][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("4"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c].[Id], [c].[AbsoluteRefreshTokenLifetime], [c].[AccessTokenLifetime], [c].[AccessTokenType], [c].[AllowAccessTokensViaBrowser], [c].[AllowOfflineAccess], [c].[AllowPlainTextPkce], [c].[AllowRememberConsent], [c].[AllowedIdentityTokenSigningAlgorithms], [c].[AlwaysIncludeUserClaimsInIdToken], [c].[AlwaysSendClientClaims], [c].[AuthorizationCodeLifetime], [c].[BackChannelLogoutSessionRequired], [c].[BackChannelLogoutUri], [c].[ClientClaimsPrefix], [c].[ClientId], [c].[ClientName], [c].[ClientUri], [c].[ConsentLifetime], [c].[Created], [c].[Description], [c].[DeviceCodeLifetime], [c].[EnableLocalLogin], [c].[Enabled], [c].[FrontChannelLogoutSessionRequired], [c].[FrontChannelLogoutUri], [c].[IdentityTokenLifetime], [c].[IncludeJwtId], [c].[LastAccessed], [c].[LogoUri], [c].[NonEditable], [c].[PairWiseSubjectSalt], [c].[ProtocolType], [c].[RefreshTokenExpiration], [c].[RefreshTokenUsage], [c].[RequireClientSecret], [c].[RequireConsent], [c].[RequirePkce], [c].[RequireRequestObject], [c].[SlidingRefreshTokenLifetime], [c].[UpdateAccessTokenClaimsOnRefresh], [c].[Updated], [c].[UserCodeType], [c].[UserSsoLifetime]
FROM [Clients] AS [c]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T06:20:33.8979206+00:00][INFO][18][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("3"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[Origin]
FROM [Clients] AS [c]
INNER JOIN [ClientCorsOrigins] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T06:20:33.9093166+00:00][INFO][12][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("3"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[GrantType]
FROM [Clients] AS [c]
INNER JOIN [ClientGrantTypes] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T06:20:33.9224309+00:00][INFO][17][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("7"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[Scope]
FROM [Clients] AS [c]
INNER JOIN [ClientScopes] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T06:20:33.9481054+00:00][INFO][17][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("9"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[Type], [c0].[Value]
FROM [Clients] AS [c]
INNER JOIN [ClientClaims] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T06:20:33.9628566+00:00][INFO][17][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("10"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[Created], [c0].[Description], [c0].[Expiration], [c0].[Type], [c0].[Value]
FROM [Clients] AS [c]
INNER JOIN [ClientSecrets] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T06:20:33.9693504+00:00][INFO][14][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("4"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[Provider]
FROM [Clients] AS [c]
INNER JOIN [ClientIdPRestrictions] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T06:20:33.9895415+00:00][INFO][19][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("13"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[PostLogoutRedirectUri]
FROM [Clients] AS [c]
INNER JOIN [ClientPostLogoutRedirectUris] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T06:20:34.0096833+00:00][INFO][5][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("8"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[Key], [c0].[Value]
FROM [Clients] AS [c]
INNER JOIN [ClientProperties] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T06:20:34.0251005+00:00][INFO][5][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("11"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[RedirectUri]
FROM [Clients] AS [c]
INNER JOIN [ClientRedirectUris] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T06:20:34.0943747+00:00][INFO][5][Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor] Executing ViewResult, running view "Login".
[2020-12-30T06:20:34.3076519+00:00][INFO][5][Microsoft.EntityFrameworkCore.Infrastructure] Entity Framework Core "5.0.1" initialized '"IdentityServerDataProtectionDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=EventManager.Identity.Admin.EntityFramework.SqlServer "
[2020-12-30T06:20:34.3202601+00:00][INFO][5][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("6"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [d].[Id], [d].[FriendlyName], [d].[Xml]
FROM [DataProtectionKeys] AS [d]"
[2020-12-30T06:20:35.9238302+00:00][INFO][5][Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor] Executed ViewResult - view "Login" executed in 1840.4922ms.
[2020-12-30T06:20:35.9297685+00:00][INFO][5][Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Executed action "EventManager.Identity.STS.Identity.Controllers.AccountController<EventManager.Identity.Admin.EntityFramework.Shared.Entities.Identity.UserIdentity, string>.Login (EventManager.Identity.STS.Identity)" in 6334.5172ms
[2020-12-30T06:20:35.9331514+00:00][INFO][5][Microsoft.AspNetCore.Routing.EndpointMiddleware] Executed endpoint '"EventManager.Identity.STS.Identity.Controllers.AccountController<EventManager.Identity.Admin.EntityFramework.Shared.Entities.Identity.UserIdentity, string>.Login (EventManager.Identity.STS.Identity)"'
[2020-12-30T06:20:35.9832919+00:00][INFO][5][Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/1.1 GET http://www.em.host/Account/Login?ReturnUrl=%2Fconnect%2Fauthorize%2Fcallback%3Fclient_id%3Durn%253Aem%253Aclient%26redirect_uri%3Dhttps%253A%252F%252Fwww.em.host%252Fadmin%252Fidentity%252Fsignin-oidc%26response_type%3Dcode%26scope%3Dopenid%2520profile%2520email%2520roles%26code_challenge%3D8Twjc6Vi8hv4nkruC6AuVs4AljmZw4vIoVfukQJYngs%26code_challenge_method%3DS256%26response_mode%3Dform_post%26nonce%3D637449053877428813.YmM1NWY4YzAtNGY3Zi00NWQ0LWI2NjYtODJjYjY4ZWE0YjQ0ZDU2YTM5NTktYTRmYi00OTQ5LWI2MzktYThmMzI4Y2FkNjJm%26state%3DCfDJ8ASI9RBeE6hBsIC3rORyZw23DW4jUowpsaH3X6Cv4_y8z-heqyahC5ya1CbH-1UVEoiQJZmytxLdAQDLLjztmPq2stvRvbiBSoG6Up8LJmIrIJpXcFGAffGjrkP8rJB3ooFI5LmoqKXX8zhPA1Zj_PtJJC2Mz9ZNOCgLyxIyeTUOfFbUbwJUHebY82dXNtEw9CZdVqd3kkVBInwrGvaUSgQ0cvnzDn3_WV1YSZOZ9urZmw-2Udrjod7o21Ou7lQVTHnbKitM1yj2n_78q70kNcq6IRXq7lrdaCN8g1HXZquwB-Nj5-4k662EVLoTsj34v6kCRpK59OHPNSmE75a9qJMcAuyzTYSTtw3WbSugHiCH5Y05MQL9uQjowMtoDlxjuA%26x-client-SKU%3DID_NETSTANDARD2_0%26x-client-ver%3D5.6.0.0 - - - 200 - text/html;+charset=utf-8 6682.9284ms
[2020-12-30T06:20:43.2730238+00:00][INFO][18][Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 GET http://www.em.host/Account/Login?ReturnUrl=%2Fconnect%2Fauthorize%2Fcallback%3Fclient_id%3Durn%253Aem%253Aclient%26redirect_uri%3Dhttps%253A%252F%252Fwww.em.host%252Fadmin%252Fidentity%252Fsignin-oidc%26response_type%3Dcode%26scope%3Dopenid%2520profile%2520email%2520roles%26code_challenge%3D8Twjc6Vi8hv4nkruC6AuVs4AljmZw4vIoVfukQJYngs%26code_challenge_method%3DS256%26response_mode%3Dform_post%26nonce%3D637449053877428813.YmM1NWY4YzAtNGY3Zi00NWQ0LWI2NjYtODJjYjY4ZWE0YjQ0ZDU2YTM5NTktYTRmYi00OTQ5LWI2MzktYThmMzI4Y2FkNjJm%26state%3DCfDJ8ASI9RBeE6hBsIC3rORyZw23DW4jUowpsaH3X6Cv4_y8z-heqyahC5ya1CbH-1UVEoiQJZmytxLdAQDLLjztmPq2stvRvbiBSoG6Up8LJmIrIJpXcFGAffGjrkP8rJB3ooFI5LmoqKXX8zhPA1Zj_PtJJC2Mz9ZNOCgLyxIyeTUOfFbUbwJUHebY82dXNtEw9CZdVqd3kkVBInwrGvaUSgQ0cvnzDn3_WV1YSZOZ9urZmw-2Udrjod7o21Ou7lQVTHnbKitM1yj2n_78q70kNcq6IRXq7lrdaCN8g1HXZquwB-Nj5-4k662EVLoTsj34v6kCRpK59OHPNSmE75a9qJMcAuyzTYSTtw3WbSugHiCH5Y05MQL9uQjowMtoDlxjuA%26x-client-SKU%3DID_NETSTANDARD2_0%26x-client-ver%3D5.6.0.0 - -
[2020-12-30T06:20:43.3147363+00:00][INFO][18][Microsoft.AspNetCore.Routing.EndpointMiddleware] Executing endpoint '"EventManager.Identity.STS.Identity.Controllers.AccountController<EventManager.Identity.Admin.EntityFramework.Shared.Entities.Identity.UserIdentity, string>.Login (EventManager.Identity.STS.Identity)"'
[2020-12-30T06:20:43.3160868+00:00][INFO][18][Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Route matched with "{action = \"Login\", controller = \"Account\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(System.String)" on controller "EventManager.Identity.STS.Identity.Controllers.AccountController<EventManager.Identity.Admin.EntityFramework.Shared.Entities.Identity.UserIdentity, string>" ("EventManager.Identity.STS.Identity").
[2020-12-30T06:20:43.3336703+00:00][INFO][18][Microsoft.EntityFrameworkCore.Infrastructure] Entity Framework Core "5.0.1" initialized '"IdentityServerConfigurationDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=EventManager.Identity.Admin.EntityFramework.SqlServer "
[2020-12-30T06:20:43.3530395+00:00][INFO][16][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("6"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c].[Id], [c].[AbsoluteRefreshTokenLifetime], [c].[AccessTokenLifetime], [c].[AccessTokenType], [c].[AllowAccessTokensViaBrowser], [c].[AllowOfflineAccess], [c].[AllowPlainTextPkce], [c].[AllowRememberConsent], [c].[AllowedIdentityTokenSigningAlgorithms], [c].[AlwaysIncludeUserClaimsInIdToken], [c].[AlwaysSendClientClaims], [c].[AuthorizationCodeLifetime], [c].[BackChannelLogoutSessionRequired], [c].[BackChannelLogoutUri], [c].[ClientClaimsPrefix], [c].[ClientId], [c].[ClientName], [c].[ClientUri], [c].[ConsentLifetime], [c].[Created], [c].[Description], [c].[DeviceCodeLifetime], [c].[EnableLocalLogin], [c].[Enabled], [c].[FrontChannelLogoutSessionRequired], [c].[FrontChannelLogoutUri], [c].[IdentityTokenLifetime], [c].[IncludeJwtId], [c].[LastAccessed], [c].[LogoUri], [c].[NonEditable], [c].[PairWiseSubjectSalt], [c].[ProtocolType], [c].[RefreshTokenExpiration], [c].[RefreshTokenUsage], [c].[RequireClientSecret], [c].[RequireConsent], [c].[RequirePkce], [c].[RequireRequestObject], [c].[SlidingRefreshTokenLifetime], [c].[UpdateAccessTokenClaimsOnRefresh], [c].[Updated], [c].[UserCodeType], [c].[UserSsoLifetime]
FROM [Clients] AS [c]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T06:20:43.3855193+00:00][INFO][13][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("29"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[Origin]
FROM [Clients] AS [c]
INNER JOIN [ClientCorsOrigins] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T06:20:43.4018625+00:00][INFO][5][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("11"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[GrantType]
FROM [Clients] AS [c]
INNER JOIN [ClientGrantTypes] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T06:20:43.4074245+00:00][INFO][5][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("2"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[Scope]
FROM [Clients] AS [c]
INNER JOIN [ClientScopes] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T06:20:43.4917685+00:00][INFO][14][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("24"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[Type], [c0].[Value]
FROM [Clients] AS [c]
INNER JOIN [ClientClaims] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T06:20:43.5450647+00:00][INFO][12][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("27"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[Created], [c0].[Description], [c0].[Expiration], [c0].[Type], [c0].[Value]
FROM [Clients] AS [c]
INNER JOIN [ClientSecrets] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T06:20:43.5862774+00:00][INFO][19][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("23"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[Provider]
FROM [Clients] AS [c]
INNER JOIN [ClientIdPRestrictions] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T06:20:43.6020988+00:00][INFO][14][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("9"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[PostLogoutRedirectUri]
FROM [Clients] AS [c]
INNER JOIN [ClientPostLogoutRedirectUris] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T06:20:43.6328912+00:00][INFO][18][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("2"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[Key], [c0].[Value]
FROM [Clients] AS [c]
INNER JOIN [ClientProperties] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T06:20:43.6439773+00:00][INFO][5][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("9"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[RedirectUri]
FROM [Clients] AS [c]
INNER JOIN [ClientRedirectUris] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T06:20:43.6639360+00:00][INFO][14][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("8"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [i].[Id], [i].[Created], [i].[Description], [i].[DisplayName], [i].[Emphasize], [i].[Enabled], [i].[Name], [i].[NonEditable], [i].[Required], [i].[ShowInDiscoveryDocument], [i].[Updated], [i0].[Id], [i0].[IdentityResourceId], [i0].[Type], [i1].[Id], [i1].[IdentityResourceId], [i1].[Key], [i1].[Value]
FROM [IdentityResources] AS [i]
LEFT JOIN [IdentityResourceClaims] AS [i0] ON [i].[Id] = [i0].[IdentityResourceId]
LEFT JOIN [IdentityResourceProperties] AS [i1] ON [i].[Id] = [i1].[IdentityResourceId]
WHERE [i].[Name] IN (N'openid', N'profile', N'email', N'roles')
ORDER BY [i].[Id], [i0].[Id], [i1].[Id]"
[2020-12-30T06:20:43.6923779+00:00][INFO][5][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [a].[Id], [a].[AllowedAccessTokenSigningAlgorithms], [a].[Created], [a].[Description], [a].[DisplayName], [a].[Enabled], [a].[LastAccessed], [a].[Name], [a].[NonEditable], [a].[ShowInDiscoveryDocument], [a].[Updated], [a0].[Id], [a0].[ApiResourceId], [a0].[Created], [a0].[Description], [a0].[Expiration], [a0].[Type], [a0].[Value], [a1].[Id], [a1].[ApiResourceId], [a1].[Scope], [a2].[Id], [a2].[ApiResourceId], [a2].[Type], [a3].[Id], [a3].[ApiResourceId], [a3].[Key], [a3].[Value]
FROM [ApiResources] AS [a]
LEFT JOIN [ApiResourceSecrets] AS [a0] ON [a].[Id] = [a0].[ApiResourceId]
LEFT JOIN [ApiResourceScopes] AS [a1] ON [a].[Id] = [a1].[ApiResourceId]
LEFT JOIN [ApiResourceClaims] AS [a2] ON [a].[Id] = [a2].[ApiResourceId]
LEFT JOIN [ApiResourceProperties] AS [a3] ON [a].[Id] = [a3].[ApiResourceId]
WHERE EXISTS (
    SELECT 1
    FROM [ApiResourceScopes] AS [a4]
    WHERE ([a].[Id] = [a4].[ApiResourceId]) AND [a4].[Scope] IN (N'openid', N'profile', N'email', N'roles'))
ORDER BY [a].[Id], [a0].[Id], [a1].[Id], [a2].[Id], [a3].[Id]"
[2020-12-30T06:20:43.7270347+00:00][INFO][14][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("9"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [a].[Id], [a].[Description], [a].[DisplayName], [a].[Emphasize], [a].[Enabled], [a].[Name], [a].[Required], [a].[ShowInDiscoveryDocument], [a0].[Id], [a0].[ScopeId], [a0].[Type], [a1].[Id], [a1].[Key], [a1].[ScopeId], [a1].[Value]
FROM [ApiScopes] AS [a]
LEFT JOIN [ApiScopeClaims] AS [a0] ON [a].[Id] = [a0].[ScopeId]
LEFT JOIN [ApiScopeProperties] AS [a1] ON [a].[Id] = [a1].[ScopeId]
WHERE [a].[Name] IN (N'openid', N'profile', N'email', N'roles')
ORDER BY [a].[Id], [a0].[Id], [a1].[Id]"
[2020-12-30T06:20:43.7337712+00:00][INFO][14][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("3"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c].[Id], [c].[AbsoluteRefreshTokenLifetime], [c].[AccessTokenLifetime], [c].[AccessTokenType], [c].[AllowAccessTokensViaBrowser], [c].[AllowOfflineAccess], [c].[AllowPlainTextPkce], [c].[AllowRememberConsent], [c].[AllowedIdentityTokenSigningAlgorithms], [c].[AlwaysIncludeUserClaimsInIdToken], [c].[AlwaysSendClientClaims], [c].[AuthorizationCodeLifetime], [c].[BackChannelLogoutSessionRequired], [c].[BackChannelLogoutUri], [c].[ClientClaimsPrefix], [c].[ClientId], [c].[ClientName], [c].[ClientUri], [c].[ConsentLifetime], [c].[Created], [c].[Description], [c].[DeviceCodeLifetime], [c].[EnableLocalLogin], [c].[Enabled], [c].[FrontChannelLogoutSessionRequired], [c].[FrontChannelLogoutUri], [c].[IdentityTokenLifetime], [c].[IncludeJwtId], [c].[LastAccessed], [c].[LogoUri], [c].[NonEditable], [c].[PairWiseSubjectSalt], [c].[ProtocolType], [c].[RefreshTokenExpiration], [c].[RefreshTokenUsage], [c].[RequireClientSecret], [c].[RequireConsent], [c].[RequirePkce], [c].[RequireRequestObject], [c].[SlidingRefreshTokenLifetime], [c].[UpdateAccessTokenClaimsOnRefresh], [c].[Updated], [c].[UserCodeType], [c].[UserSsoLifetime]
FROM [Clients] AS [c]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T06:20:43.7470484+00:00][INFO][5][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("10"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[Origin]
FROM [Clients] AS [c]
INNER JOIN [ClientCorsOrigins] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T06:20:43.8144170+00:00][INFO][20][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("9"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[GrantType]
FROM [Clients] AS [c]
INNER JOIN [ClientGrantTypes] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T06:20:43.8386942+00:00][INFO][17][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("23"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[Scope]
FROM [Clients] AS [c]
INNER JOIN [ClientScopes] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T06:20:43.8599942+00:00][INFO][20][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("6"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[Type], [c0].[Value]
FROM [Clients] AS [c]
INNER JOIN [ClientClaims] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T06:20:43.8850378+00:00][INFO][17][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("22"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[Created], [c0].[Description], [c0].[Expiration], [c0].[Type], [c0].[Value]
FROM [Clients] AS [c]
INNER JOIN [ClientSecrets] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T06:20:43.9013862+00:00][INFO][5][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("6"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[Provider]
FROM [Clients] AS [c]
INNER JOIN [ClientIdPRestrictions] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T06:20:43.9354233+00:00][INFO][17][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("9"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[PostLogoutRedirectUri]
FROM [Clients] AS [c]
INNER JOIN [ClientPostLogoutRedirectUris] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T06:20:43.9512540+00:00][INFO][20][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("9"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[Key], [c0].[Value]
FROM [Clients] AS [c]
INNER JOIN [ClientProperties] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T06:20:43.9637198+00:00][INFO][14][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("9"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[RedirectUri]
FROM [Clients] AS [c]
INNER JOIN [ClientRedirectUris] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T06:20:43.9863875+00:00][INFO][14][Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor] Executing ViewResult, running view "Login".
[2020-12-30T06:20:44.0111279+00:00][INFO][14][Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor] Executed ViewResult - view "Login" executed in 25.4572ms.
[2020-12-30T06:20:44.0121943+00:00][INFO][14][Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Executed action "EventManager.Identity.STS.Identity.Controllers.AccountController<EventManager.Identity.Admin.EntityFramework.Shared.Entities.Identity.UserIdentity, string>.Login (EventManager.Identity.STS.Identity)" in 692.7735ms
[2020-12-30T06:20:44.0128115+00:00][INFO][14][Microsoft.AspNetCore.Routing.EndpointMiddleware] Executed endpoint '"EventManager.Identity.STS.Identity.Controllers.AccountController<EventManager.Identity.Admin.EntityFramework.Shared.Entities.Identity.UserIdentity, string>.Login (EventManager.Identity.STS.Identity)"'
[2020-12-30T06:20:44.0177442+00:00][INFO][14][Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/1.1 GET http://www.em.host/Account/Login?ReturnUrl=%2Fconnect%2Fauthorize%2Fcallback%3Fclient_id%3Durn%253Aem%253Aclient%26redirect_uri%3Dhttps%253A%252F%252Fwww.em.host%252Fadmin%252Fidentity%252Fsignin-oidc%26response_type%3Dcode%26scope%3Dopenid%2520profile%2520email%2520roles%26code_challenge%3D8Twjc6Vi8hv4nkruC6AuVs4AljmZw4vIoVfukQJYngs%26code_challenge_method%3DS256%26response_mode%3Dform_post%26nonce%3D637449053877428813.YmM1NWY4YzAtNGY3Zi00NWQ0LWI2NjYtODJjYjY4ZWE0YjQ0ZDU2YTM5NTktYTRmYi00OTQ5LWI2MzktYThmMzI4Y2FkNjJm%26state%3DCfDJ8ASI9RBeE6hBsIC3rORyZw23DW4jUowpsaH3X6Cv4_y8z-heqyahC5ya1CbH-1UVEoiQJZmytxLdAQDLLjztmPq2stvRvbiBSoG6Up8LJmIrIJpXcFGAffGjrkP8rJB3ooFI5LmoqKXX8zhPA1Zj_PtJJC2Mz9ZNOCgLyxIyeTUOfFbUbwJUHebY82dXNtEw9CZdVqd3kkVBInwrGvaUSgQ0cvnzDn3_WV1YSZOZ9urZmw-2Udrjod7o21Ou7lQVTHnbKitM1yj2n_78q70kNcq6IRXq7lrdaCN8g1HXZquwB-Nj5-4k662EVLoTsj34v6kCRpK59OHPNSmE75a9qJMcAuyzTYSTtw3WbSugHiCH5Y05MQL9uQjowMtoDlxjuA%26x-client-SKU%3DID_NETSTANDARD2_0%26x-client-ver%3D5.6.0.0 - - - 200 - text/html;+charset=utf-8 745.1474ms
[2020-12-30T06:25:17.9788491+00:00][INFO][22][Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 GET http://www.em.host/Account/Login?ReturnUrl=%2Fconnect%2Fauthorize%2Fcallback%3Fclient_id%3Durn%253Aem%253Aclient%26redirect_uri%3Dhttps%253A%252F%252Fwww.em.host%252Fadmin%252Fidentity%252Fsignin-oidc%26response_type%3Dcode%26scope%3Dopenid%2520profile%2520email%2520roles%26code_challenge%3D8Twjc6Vi8hv4nkruC6AuVs4AljmZw4vIoVfukQJYngs%26code_challenge_method%3DS256%26response_mode%3Dform_post%26nonce%3D637449053877428813.YmM1NWY4YzAtNGY3Zi00NWQ0LWI2NjYtODJjYjY4ZWE0YjQ0ZDU2YTM5NTktYTRmYi00OTQ5LWI2MzktYThmMzI4Y2FkNjJm%26state%3DCfDJ8ASI9RBeE6hBsIC3rORyZw23DW4jUowpsaH3X6Cv4_y8z-heqyahC5ya1CbH-1UVEoiQJZmytxLdAQDLLjztmPq2stvRvbiBSoG6Up8LJmIrIJpXcFGAffGjrkP8rJB3ooFI5LmoqKXX8zhPA1Zj_PtJJC2Mz9ZNOCgLyxIyeTUOfFbUbwJUHebY82dXNtEw9CZdVqd3kkVBInwrGvaUSgQ0cvnzDn3_WV1YSZOZ9urZmw-2Udrjod7o21Ou7lQVTHnbKitM1yj2n_78q70kNcq6IRXq7lrdaCN8g1HXZquwB-Nj5-4k662EVLoTsj34v6kCRpK59OHPNSmE75a9qJMcAuyzTYSTtw3WbSugHiCH5Y05MQL9uQjowMtoDlxjuA%26x-client-SKU%3DID_NETSTANDARD2_0%26x-client-ver%3D5.6.0.0 - -
[2020-12-30T06:25:18.0018117+00:00][INFO][22][Microsoft.AspNetCore.Routing.EndpointMiddleware] Executing endpoint '"EventManager.Identity.STS.Identity.Controllers.AccountController<EventManager.Identity.Admin.EntityFramework.Shared.Entities.Identity.UserIdentity, string>.Login (EventManager.Identity.STS.Identity)"'
[2020-12-30T06:25:18.0042026+00:00][INFO][22][Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Route matched with "{action = \"Login\", controller = \"Account\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(System.String)" on controller "EventManager.Identity.STS.Identity.Controllers.AccountController<EventManager.Identity.Admin.EntityFramework.Shared.Entities.Identity.UserIdentity, string>" ("EventManager.Identity.STS.Identity").
[2020-12-30T06:25:18.0314859+00:00][INFO][22][Microsoft.EntityFrameworkCore.Infrastructure] Entity Framework Core "5.0.1" initialized '"IdentityServerConfigurationDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=EventManager.Identity.Admin.EntityFramework.SqlServer "
[2020-12-30T06:25:18.0516811+00:00][INFO][14][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("8"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c].[Id], [c].[AbsoluteRefreshTokenLifetime], [c].[AccessTokenLifetime], [c].[AccessTokenType], [c].[AllowAccessTokensViaBrowser], [c].[AllowOfflineAccess], [c].[AllowPlainTextPkce], [c].[AllowRememberConsent], [c].[AllowedIdentityTokenSigningAlgorithms], [c].[AlwaysIncludeUserClaimsInIdToken], [c].[AlwaysSendClientClaims], [c].[AuthorizationCodeLifetime], [c].[BackChannelLogoutSessionRequired], [c].[BackChannelLogoutUri], [c].[ClientClaimsPrefix], [c].[ClientId], [c].[ClientName], [c].[ClientUri], [c].[ConsentLifetime], [c].[Created], [c].[Description], [c].[DeviceCodeLifetime], [c].[EnableLocalLogin], [c].[Enabled], [c].[FrontChannelLogoutSessionRequired], [c].[FrontChannelLogoutUri], [c].[IdentityTokenLifetime], [c].[IncludeJwtId], [c].[LastAccessed], [c].[LogoUri], [c].[NonEditable], [c].[PairWiseSubjectSalt], [c].[ProtocolType], [c].[RefreshTokenExpiration], [c].[RefreshTokenUsage], [c].[RequireClientSecret], [c].[RequireConsent], [c].[RequirePkce], [c].[RequireRequestObject], [c].[SlidingRefreshTokenLifetime], [c].[UpdateAccessTokenClaimsOnRefresh], [c].[Updated], [c].[UserCodeType], [c].[UserSsoLifetime]
FROM [Clients] AS [c]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T06:25:18.1082336+00:00][INFO][21][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("2"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[Origin]
FROM [Clients] AS [c]
INNER JOIN [ClientCorsOrigins] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T06:25:18.1545529+00:00][INFO][22][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("3"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[GrantType]
FROM [Clients] AS [c]
INNER JOIN [ClientGrantTypes] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T06:25:18.1858869+00:00][INFO][23][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("3"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[Scope]
FROM [Clients] AS [c]
INNER JOIN [ClientScopes] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T06:25:18.2011270+00:00][INFO][22][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("1"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[Type], [c0].[Value]
FROM [Clients] AS [c]
INNER JOIN [ClientClaims] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T06:25:18.2185441+00:00][INFO][23][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("8"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[Created], [c0].[Description], [c0].[Expiration], [c0].[Type], [c0].[Value]
FROM [Clients] AS [c]
INNER JOIN [ClientSecrets] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T06:25:18.2288042+00:00][INFO][21][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("7"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[Provider]
FROM [Clients] AS [c]
INNER JOIN [ClientIdPRestrictions] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T06:25:18.2439771+00:00][INFO][21][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("10"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[PostLogoutRedirectUri]
FROM [Clients] AS [c]
INNER JOIN [ClientPostLogoutRedirectUris] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T06:25:18.2648512+00:00][INFO][14][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("4"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[Key], [c0].[Value]
FROM [Clients] AS [c]
INNER JOIN [ClientProperties] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T06:25:18.2787807+00:00][INFO][21][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("9"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[RedirectUri]
FROM [Clients] AS [c]
INNER JOIN [ClientRedirectUris] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T06:25:18.3014484+00:00][INFO][14][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("4"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [i].[Id], [i].[Created], [i].[Description], [i].[DisplayName], [i].[Emphasize], [i].[Enabled], [i].[Name], [i].[NonEditable], [i].[Required], [i].[ShowInDiscoveryDocument], [i].[Updated], [i0].[Id], [i0].[IdentityResourceId], [i0].[Type], [i1].[Id], [i1].[IdentityResourceId], [i1].[Key], [i1].[Value]
FROM [IdentityResources] AS [i]
LEFT JOIN [IdentityResourceClaims] AS [i0] ON [i].[Id] = [i0].[IdentityResourceId]
LEFT JOIN [IdentityResourceProperties] AS [i1] ON [i].[Id] = [i1].[IdentityResourceId]
WHERE [i].[Name] IN (N'openid', N'profile', N'email', N'roles')
ORDER BY [i].[Id], [i0].[Id], [i1].[Id]"
[2020-12-30T06:25:18.3275593+00:00][INFO][22][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("13"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [a].[Id], [a].[AllowedAccessTokenSigningAlgorithms], [a].[Created], [a].[Description], [a].[DisplayName], [a].[Enabled], [a].[LastAccessed], [a].[Name], [a].[NonEditable], [a].[ShowInDiscoveryDocument], [a].[Updated], [a0].[Id], [a0].[ApiResourceId], [a0].[Created], [a0].[Description], [a0].[Expiration], [a0].[Type], [a0].[Value], [a1].[Id], [a1].[ApiResourceId], [a1].[Scope], [a2].[Id], [a2].[ApiResourceId], [a2].[Type], [a3].[Id], [a3].[ApiResourceId], [a3].[Key], [a3].[Value]
FROM [ApiResources] AS [a]
LEFT JOIN [ApiResourceSecrets] AS [a0] ON [a].[Id] = [a0].[ApiResourceId]
LEFT JOIN [ApiResourceScopes] AS [a1] ON [a].[Id] = [a1].[ApiResourceId]
LEFT JOIN [ApiResourceClaims] AS [a2] ON [a].[Id] = [a2].[ApiResourceId]
LEFT JOIN [ApiResourceProperties] AS [a3] ON [a].[Id] = [a3].[ApiResourceId]
WHERE EXISTS (
    SELECT 1
    FROM [ApiResourceScopes] AS [a4]
    WHERE ([a].[Id] = [a4].[ApiResourceId]) AND [a4].[Scope] IN (N'openid', N'profile', N'email', N'roles'))
ORDER BY [a].[Id], [a0].[Id], [a1].[Id], [a2].[Id], [a3].[Id]"
[2020-12-30T06:25:18.3435156+00:00][INFO][22][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("10"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [a].[Id], [a].[Description], [a].[DisplayName], [a].[Emphasize], [a].[Enabled], [a].[Name], [a].[Required], [a].[ShowInDiscoveryDocument], [a0].[Id], [a0].[ScopeId], [a0].[Type], [a1].[Id], [a1].[Key], [a1].[ScopeId], [a1].[Value]
FROM [ApiScopes] AS [a]
LEFT JOIN [ApiScopeClaims] AS [a0] ON [a].[Id] = [a0].[ScopeId]
LEFT JOIN [ApiScopeProperties] AS [a1] ON [a].[Id] = [a1].[ScopeId]
WHERE [a].[Name] IN (N'openid', N'profile', N'email', N'roles')
ORDER BY [a].[Id], [a0].[Id], [a1].[Id]"
[2020-12-30T06:25:18.4590014+00:00][INFO][14][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("71"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c].[Id], [c].[AbsoluteRefreshTokenLifetime], [c].[AccessTokenLifetime], [c].[AccessTokenType], [c].[AllowAccessTokensViaBrowser], [c].[AllowOfflineAccess], [c].[AllowPlainTextPkce], [c].[AllowRememberConsent], [c].[AllowedIdentityTokenSigningAlgorithms], [c].[AlwaysIncludeUserClaimsInIdToken], [c].[AlwaysSendClientClaims], [c].[AuthorizationCodeLifetime], [c].[BackChannelLogoutSessionRequired], [c].[BackChannelLogoutUri], [c].[ClientClaimsPrefix], [c].[ClientId], [c].[ClientName], [c].[ClientUri], [c].[ConsentLifetime], [c].[Created], [c].[Description], [c].[DeviceCodeLifetime], [c].[EnableLocalLogin], [c].[Enabled], [c].[FrontChannelLogoutSessionRequired], [c].[FrontChannelLogoutUri], [c].[IdentityTokenLifetime], [c].[IncludeJwtId], [c].[LastAccessed], [c].[LogoUri], [c].[NonEditable], [c].[PairWiseSubjectSalt], [c].[ProtocolType], [c].[RefreshTokenExpiration], [c].[RefreshTokenUsage], [c].[RequireClientSecret], [c].[RequireConsent], [c].[RequirePkce], [c].[RequireRequestObject], [c].[SlidingRefreshTokenLifetime], [c].[UpdateAccessTokenClaimsOnRefresh], [c].[Updated], [c].[UserCodeType], [c].[UserSsoLifetime]
FROM [Clients] AS [c]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T06:25:18.4821336+00:00][INFO][22][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("20"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[Origin]
FROM [Clients] AS [c]
INNER JOIN [ClientCorsOrigins] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T06:25:18.5029636+00:00][INFO][14][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("17"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[GrantType]
FROM [Clients] AS [c]
INNER JOIN [ClientGrantTypes] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T06:25:18.5156004+00:00][INFO][22][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("9"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[Scope]
FROM [Clients] AS [c]
INNER JOIN [ClientScopes] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T06:25:18.5383820+00:00][INFO][21][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("5"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[Type], [c0].[Value]
FROM [Clients] AS [c]
INNER JOIN [ClientClaims] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T06:25:18.5515133+00:00][INFO][21][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("10"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[Created], [c0].[Description], [c0].[Expiration], [c0].[Type], [c0].[Value]
FROM [Clients] AS [c]
INNER JOIN [ClientSecrets] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T06:25:18.5756881+00:00][INFO][22][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("22"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[Provider]
FROM [Clients] AS [c]
INNER JOIN [ClientIdPRestrictions] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T06:25:18.6097695+00:00][INFO][23][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("19"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[PostLogoutRedirectUri]
FROM [Clients] AS [c]
INNER JOIN [ClientPostLogoutRedirectUris] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T06:25:18.6574656+00:00][INFO][23][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("45"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[Key], [c0].[Value]
FROM [Clients] AS [c]
INNER JOIN [ClientProperties] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T06:25:18.6674066+00:00][INFO][21][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("7"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[RedirectUri]
FROM [Clients] AS [c]
INNER JOIN [ClientRedirectUris] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T06:25:18.6854368+00:00][INFO][21][Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor] Executing ViewResult, running view "Login".
[2020-12-30T06:25:18.7087449+00:00][INFO][21][Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor] Executed ViewResult - view "Login" executed in 25.1824ms.
[2020-12-30T06:25:18.7095730+00:00][INFO][21][Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Executed action "EventManager.Identity.STS.Identity.Controllers.AccountController<EventManager.Identity.Admin.EntityFramework.Shared.Entities.Identity.UserIdentity, string>.Login (EventManager.Identity.STS.Identity)" in 704.531ms
[2020-12-30T06:25:18.7137158+00:00][INFO][21][Microsoft.AspNetCore.Routing.EndpointMiddleware] Executed endpoint '"EventManager.Identity.STS.Identity.Controllers.AccountController<EventManager.Identity.Admin.EntityFramework.Shared.Entities.Identity.UserIdentity, string>.Login (EventManager.Identity.STS.Identity)"'
[2020-12-30T06:25:18.7256018+00:00][INFO][21][Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/1.1 GET http://www.em.host/Account/Login?ReturnUrl=%2Fconnect%2Fauthorize%2Fcallback%3Fclient_id%3Durn%253Aem%253Aclient%26redirect_uri%3Dhttps%253A%252F%252Fwww.em.host%252Fadmin%252Fidentity%252Fsignin-oidc%26response_type%3Dcode%26scope%3Dopenid%2520profile%2520email%2520roles%26code_challenge%3D8Twjc6Vi8hv4nkruC6AuVs4AljmZw4vIoVfukQJYngs%26code_challenge_method%3DS256%26response_mode%3Dform_post%26nonce%3D637449053877428813.YmM1NWY4YzAtNGY3Zi00NWQ0LWI2NjYtODJjYjY4ZWE0YjQ0ZDU2YTM5NTktYTRmYi00OTQ5LWI2MzktYThmMzI4Y2FkNjJm%26state%3DCfDJ8ASI9RBeE6hBsIC3rORyZw23DW4jUowpsaH3X6Cv4_y8z-heqyahC5ya1CbH-1UVEoiQJZmytxLdAQDLLjztmPq2stvRvbiBSoG6Up8LJmIrIJpXcFGAffGjrkP8rJB3ooFI5LmoqKXX8zhPA1Zj_PtJJC2Mz9ZNOCgLyxIyeTUOfFbUbwJUHebY82dXNtEw9CZdVqd3kkVBInwrGvaUSgQ0cvnzDn3_WV1YSZOZ9urZmw-2Udrjod7o21Ou7lQVTHnbKitM1yj2n_78q70kNcq6IRXq7lrdaCN8g1HXZquwB-Nj5-4k662EVLoTsj34v6kCRpK59OHPNSmE75a9qJMcAuyzTYSTtw3WbSugHiCH5Y05MQL9uQjowMtoDlxjuA%26x-client-SKU%3DID_NETSTANDARD2_0%26x-client-ver%3D5.6.0.0 - - - 200 - text/html;+charset=utf-8 746.9044ms
[2020-12-30T06:25:18.8490933+00:00][INFO][23][Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 GET http://www.em.host/dist/css/bundle.min.css?v=6Y8xGSDMhkjYMZuaFSdp3fqA3xdNX-Q6_xp14ExGbY8 - -
[2020-12-30T06:25:18.8847648+00:00][INFO][22][Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 GET http://www.em.host/dist/css/web.css?v=gzbQ_J4PfKys2r0KpTe01uKRO7lnqK_lEp7OvIB7ZAA - -
[2020-12-30T06:25:18.9245281+00:00][INFO][14][Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 GET http://www.em.host/dist/js/bundle.min.js?v=11Fw87BWmEIjIw_LrA_JwvJM5t0w9WbTFIog6ElarB0 - -
[2020-12-30T06:25:19.4467213+00:00][INFO][21][Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware] Sending file. Request path: '"/dist/css/web.css"'. Physical path: '"/app/wwwroot/dist/css/web.css"'
[2020-12-30T06:25:19.4816253+00:00][INFO][25][Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware] Sending file. Request path: '"/dist/js/bundle.min.js"'. Physical path: '"/app/wwwroot/dist/js/bundle.min.js"'
[2020-12-30T06:25:19.4822787+00:00][INFO][25][Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/1.1 GET http://www.em.host/dist/js/bundle.min.js?v=11Fw87BWmEIjIw_LrA_JwvJM5t0w9WbTFIog6ElarB0 - - - 200 250698 application/javascript 557.6947ms
[2020-12-30T06:25:19.4476125+00:00][INFO][21][Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/1.1 GET http://www.em.host/dist/css/web.css?v=gzbQ_J4PfKys2r0KpTe01uKRO7lnqK_lEp7OvIB7ZAA - - - 200 8009 text/css 562.6771ms
[2020-12-30T06:25:19.5646325+00:00][INFO][22][Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware] Sending file. Request path: '"/dist/css/bundle.min.css"'. Physical path: '"/app/wwwroot/dist/css/bundle.min.css"'
[2020-12-30T06:25:19.5653071+00:00][INFO][22][Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/1.1 GET http://www.em.host/dist/css/bundle.min.css?v=6Y8xGSDMhkjYMZuaFSdp3fqA3xdNX-Q6_xp14ExGbY8 - - - 200 205310 text/css 716.2059ms
[2020-12-30T06:25:19.8012367+00:00][INFO][22][Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 GET http://www.em.host/dist/fonts/open-iconic.woff - -
[2020-12-30T06:25:19.8377707+00:00][INFO][23][Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 GET http://www.em.host/dist/fonts/fontawesome-webfont.woff2?v=4.7.0 - -
[2020-12-30T06:25:19.8904220+00:00][INFO][25][Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware] Sending file. Request path: '"/dist/fonts/open-iconic.woff"'. Physical path: '"/app/wwwroot/dist/fonts/open-iconic.woff"'
[2020-12-30T06:25:19.8941778+00:00][INFO][25][Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/1.1 GET http://www.em.host/dist/fonts/open-iconic.woff - - - 200 14984 application/font-woff 92.8048ms
[2020-12-30T06:25:19.9445348+00:00][INFO][22][Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware] Sending file. Request path: '"/dist/fonts/fontawesome-webfont.woff2"'. Physical path: '"/app/wwwroot/dist/fonts/fontawesome-webfont.woff2"'
[2020-12-30T06:25:19.9485276+00:00][INFO][22][Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/1.1 GET http://www.em.host/dist/fonts/fontawesome-webfont.woff2?v=4.7.0 - - - 200 77160 font/woff2 110.7020ms
[2020-12-30T06:25:30.3043708+00:00][INFO][23][Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 GET http://www.em.host/Account/Login?ReturnUrl=%2Fconnect%2Fauthorize%2Fcallback%3Fclient_id%3Durn%253Aem%253Aclient%26redirect_uri%3Dhttps%253A%252F%252Fwww.em.host%252Fadmin%252Fidentity%252Fsignin-oidc%26response_type%3Dcode%26scope%3Dopenid%2520profile%2520email%2520roles%26code_challenge%3D8Twjc6Vi8hv4nkruC6AuVs4AljmZw4vIoVfukQJYngs%26code_challenge_method%3DS256%26response_mode%3Dform_post%26nonce%3D637449053877428813.YmM1NWY4YzAtNGY3Zi00NWQ0LWI2NjYtODJjYjY4ZWE0YjQ0ZDU2YTM5NTktYTRmYi00OTQ5LWI2MzktYThmMzI4Y2FkNjJm%26state%3DCfDJ8ASI9RBeE6hBsIC3rORyZw23DW4jUowpsaH3X6Cv4_y8z-heqyahC5ya1CbH-1UVEoiQJZmytxLdAQDLLjztmPq2stvRvbiBSoG6Up8LJmIrIJpXcFGAffGjrkP8rJB3ooFI5LmoqKXX8zhPA1Zj_PtJJC2Mz9ZNOCgLyxIyeTUOfFbUbwJUHebY82dXNtEw9CZdVqd3kkVBInwrGvaUSgQ0cvnzDn3_WV1YSZOZ9urZmw-2Udrjod7o21Ou7lQVTHnbKitM1yj2n_78q70kNcq6IRXq7lrdaCN8g1HXZquwB-Nj5-4k662EVLoTsj34v6kCRpK59OHPNSmE75a9qJMcAuyzTYSTtw3WbSugHiCH5Y05MQL9uQjowMtoDlxjuA%26x-client-SKU%3DID_NETSTANDARD2_0%26x-client-ver%3D5.6.0.0 - -
[2020-12-30T06:25:30.3084106+00:00][INFO][23][Microsoft.AspNetCore.Routing.EndpointMiddleware] Executing endpoint '"EventManager.Identity.STS.Identity.Controllers.AccountController<EventManager.Identity.Admin.EntityFramework.Shared.Entities.Identity.UserIdentity, string>.Login (EventManager.Identity.STS.Identity)"'
[2020-12-30T06:25:30.3239187+00:00][INFO][23][Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Route matched with "{action = \"Login\", controller = \"Account\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(System.String)" on controller "EventManager.Identity.STS.Identity.Controllers.AccountController<EventManager.Identity.Admin.EntityFramework.Shared.Entities.Identity.UserIdentity, string>" ("EventManager.Identity.STS.Identity").
[2020-12-30T06:25:30.3362917+00:00][INFO][23][Microsoft.EntityFrameworkCore.Infrastructure] Entity Framework Core "5.0.1" initialized '"IdentityServerConfigurationDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=EventManager.Identity.Admin.EntityFramework.SqlServer "
[2020-12-30T06:25:30.3510981+00:00][INFO][22][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("8"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c].[Id], [c].[AbsoluteRefreshTokenLifetime], [c].[AccessTokenLifetime], [c].[AccessTokenType], [c].[AllowAccessTokensViaBrowser], [c].[AllowOfflineAccess], [c].[AllowPlainTextPkce], [c].[AllowRememberConsent], [c].[AllowedIdentityTokenSigningAlgorithms], [c].[AlwaysIncludeUserClaimsInIdToken], [c].[AlwaysSendClientClaims], [c].[AuthorizationCodeLifetime], [c].[BackChannelLogoutSessionRequired], [c].[BackChannelLogoutUri], [c].[ClientClaimsPrefix], [c].[ClientId], [c].[ClientName], [c].[ClientUri], [c].[ConsentLifetime], [c].[Created], [c].[Description], [c].[DeviceCodeLifetime], [c].[EnableLocalLogin], [c].[Enabled], [c].[FrontChannelLogoutSessionRequired], [c].[FrontChannelLogoutUri], [c].[IdentityTokenLifetime], [c].[IncludeJwtId], [c].[LastAccessed], [c].[LogoUri], [c].[NonEditable], [c].[PairWiseSubjectSalt], [c].[ProtocolType], [c].[RefreshTokenExpiration], [c].[RefreshTokenUsage], [c].[RequireClientSecret], [c].[RequireConsent], [c].[RequirePkce], [c].[RequireRequestObject], [c].[SlidingRefreshTokenLifetime], [c].[UpdateAccessTokenClaimsOnRefresh], [c].[Updated], [c].[UserCodeType], [c].[UserSsoLifetime]
FROM [Clients] AS [c]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T06:25:30.4198774+00:00][INFO][21][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("21"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[Origin]
FROM [Clients] AS [c]
INNER JOIN [ClientCorsOrigins] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T06:25:30.4995840+00:00][INFO][21][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("41"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[GrantType]
FROM [Clients] AS [c]
INNER JOIN [ClientGrantTypes] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T06:25:30.5351432+00:00][INFO][23][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("29"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[Scope]
FROM [Clients] AS [c]
INNER JOIN [ClientScopes] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T06:25:30.5560066+00:00][INFO][28][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("8"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[Type], [c0].[Value]
FROM [Clients] AS [c]
INNER JOIN [ClientClaims] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T06:25:30.6147332+00:00][INFO][23][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("17"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[Created], [c0].[Description], [c0].[Expiration], [c0].[Type], [c0].[Value]
FROM [Clients] AS [c]
INNER JOIN [ClientSecrets] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T06:25:30.6243635+00:00][INFO][23][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("8"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[Provider]
FROM [Clients] AS [c]
INNER JOIN [ClientIdPRestrictions] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T06:25:30.6543232+00:00][INFO][26][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("7"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[PostLogoutRedirectUri]
FROM [Clients] AS [c]
INNER JOIN [ClientPostLogoutRedirectUris] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T06:25:30.6716776+00:00][INFO][23][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("14"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[Key], [c0].[Value]
FROM [Clients] AS [c]
INNER JOIN [ClientProperties] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T06:25:30.7073779+00:00][INFO][32][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("26"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[RedirectUri]
FROM [Clients] AS [c]
INNER JOIN [ClientRedirectUris] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T06:25:30.7181249+00:00][INFO][23][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("6"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [i].[Id], [i].[Created], [i].[Description], [i].[DisplayName], [i].[Emphasize], [i].[Enabled], [i].[Name], [i].[NonEditable], [i].[Required], [i].[ShowInDiscoveryDocument], [i].[Updated], [i0].[Id], [i0].[IdentityResourceId], [i0].[Type], [i1].[Id], [i1].[IdentityResourceId], [i1].[Key], [i1].[Value]
FROM [IdentityResources] AS [i]
LEFT JOIN [IdentityResourceClaims] AS [i0] ON [i].[Id] = [i0].[IdentityResourceId]
LEFT JOIN [IdentityResourceProperties] AS [i1] ON [i].[Id] = [i1].[IdentityResourceId]
WHERE [i].[Name] IN (N'openid', N'profile', N'email', N'roles')
ORDER BY [i].[Id], [i0].[Id], [i1].[Id]"
[2020-12-30T06:25:30.7508551+00:00][INFO][28][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("12"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [a].[Id], [a].[AllowedAccessTokenSigningAlgorithms], [a].[Created], [a].[Description], [a].[DisplayName], [a].[Enabled], [a].[LastAccessed], [a].[Name], [a].[NonEditable], [a].[ShowInDiscoveryDocument], [a].[Updated], [a0].[Id], [a0].[ApiResourceId], [a0].[Created], [a0].[Description], [a0].[Expiration], [a0].[Type], [a0].[Value], [a1].[Id], [a1].[ApiResourceId], [a1].[Scope], [a2].[Id], [a2].[ApiResourceId], [a2].[Type], [a3].[Id], [a3].[ApiResourceId], [a3].[Key], [a3].[Value]
FROM [ApiResources] AS [a]
LEFT JOIN [ApiResourceSecrets] AS [a0] ON [a].[Id] = [a0].[ApiResourceId]
LEFT JOIN [ApiResourceScopes] AS [a1] ON [a].[Id] = [a1].[ApiResourceId]
LEFT JOIN [ApiResourceClaims] AS [a2] ON [a].[Id] = [a2].[ApiResourceId]
LEFT JOIN [ApiResourceProperties] AS [a3] ON [a].[Id] = [a3].[ApiResourceId]
WHERE EXISTS (
    SELECT 1
    FROM [ApiResourceScopes] AS [a4]
    WHERE ([a].[Id] = [a4].[ApiResourceId]) AND [a4].[Scope] IN (N'openid', N'profile', N'email', N'roles'))
ORDER BY [a].[Id], [a0].[Id], [a1].[Id], [a2].[Id], [a3].[Id]"
[2020-12-30T06:25:30.7712483+00:00][INFO][26][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("10"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [a].[Id], [a].[Description], [a].[DisplayName], [a].[Emphasize], [a].[Enabled], [a].[Name], [a].[Required], [a].[ShowInDiscoveryDocument], [a0].[Id], [a0].[ScopeId], [a0].[Type], [a1].[Id], [a1].[Key], [a1].[ScopeId], [a1].[Value]
FROM [ApiScopes] AS [a]
LEFT JOIN [ApiScopeClaims] AS [a0] ON [a].[Id] = [a0].[ScopeId]
LEFT JOIN [ApiScopeProperties] AS [a1] ON [a].[Id] = [a1].[ScopeId]
WHERE [a].[Name] IN (N'openid', N'profile', N'email', N'roles')
ORDER BY [a].[Id], [a0].[Id], [a1].[Id]"
[2020-12-30T06:25:30.8208661+00:00][INFO][23][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("2"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c].[Id], [c].[AbsoluteRefreshTokenLifetime], [c].[AccessTokenLifetime], [c].[AccessTokenType], [c].[AllowAccessTokensViaBrowser], [c].[AllowOfflineAccess], [c].[AllowPlainTextPkce], [c].[AllowRememberConsent], [c].[AllowedIdentityTokenSigningAlgorithms], [c].[AlwaysIncludeUserClaimsInIdToken], [c].[AlwaysSendClientClaims], [c].[AuthorizationCodeLifetime], [c].[BackChannelLogoutSessionRequired], [c].[BackChannelLogoutUri], [c].[ClientClaimsPrefix], [c].[ClientId], [c].[ClientName], [c].[ClientUri], [c].[ConsentLifetime], [c].[Created], [c].[Description], [c].[DeviceCodeLifetime], [c].[EnableLocalLogin], [c].[Enabled], [c].[FrontChannelLogoutSessionRequired], [c].[FrontChannelLogoutUri], [c].[IdentityTokenLifetime], [c].[IncludeJwtId], [c].[LastAccessed], [c].[LogoUri], [c].[NonEditable], [c].[PairWiseSubjectSalt], [c].[ProtocolType], [c].[RefreshTokenExpiration], [c].[RefreshTokenUsage], [c].[RequireClientSecret], [c].[RequireConsent], [c].[RequirePkce], [c].[RequireRequestObject], [c].[SlidingRefreshTokenLifetime], [c].[UpdateAccessTokenClaimsOnRefresh], [c].[Updated], [c].[UserCodeType], [c].[UserSsoLifetime]
FROM [Clients] AS [c]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T06:25:30.8621557+00:00][INFO][23][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("24"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[Origin]
FROM [Clients] AS [c]
INNER JOIN [ClientCorsOrigins] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T06:25:30.8678507+00:00][INFO][32][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("4"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[GrantType]
FROM [Clients] AS [c]
INNER JOIN [ClientGrantTypes] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T06:25:30.8821195+00:00][INFO][26][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("8"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[Scope]
FROM [Clients] AS [c]
INNER JOIN [ClientScopes] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T06:25:30.9126189+00:00][INFO][32][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("3"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[Type], [c0].[Value]
FROM [Clients] AS [c]
INNER JOIN [ClientClaims] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T06:25:30.9510499+00:00][INFO][32][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("14"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[Created], [c0].[Description], [c0].[Expiration], [c0].[Type], [c0].[Value]
FROM [Clients] AS [c]
INNER JOIN [ClientSecrets] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T06:25:30.9574451+00:00][INFO][23][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("2"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[Provider]
FROM [Clients] AS [c]
INNER JOIN [ClientIdPRestrictions] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T06:25:30.9781103+00:00][INFO][28][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("6"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[PostLogoutRedirectUri]
FROM [Clients] AS [c]
INNER JOIN [ClientPostLogoutRedirectUris] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T06:25:31.0186136+00:00][INFO][23][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("2"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[Key], [c0].[Value]
FROM [Clients] AS [c]
INNER JOIN [ClientProperties] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T06:25:31.0374641+00:00][INFO][23][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("13"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[RedirectUri]
FROM [Clients] AS [c]
INNER JOIN [ClientRedirectUris] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T06:25:31.0392804+00:00][INFO][23][Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor] Executing ViewResult, running view "Login".
[2020-12-30T06:25:31.0685713+00:00][INFO][23][Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor] Executed ViewResult - view "Login" executed in 29.3356ms.
[2020-12-30T06:25:31.0695847+00:00][INFO][23][Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Executed action "EventManager.Identity.STS.Identity.Controllers.AccountController<EventManager.Identity.Admin.EntityFramework.Shared.Entities.Identity.UserIdentity, string>.Login (EventManager.Identity.STS.Identity)" in 744.4926ms
[2020-12-30T06:25:31.0705088+00:00][INFO][23][Microsoft.AspNetCore.Routing.EndpointMiddleware] Executed endpoint '"EventManager.Identity.STS.Identity.Controllers.AccountController<EventManager.Identity.Admin.EntityFramework.Shared.Entities.Identity.UserIdentity, string>.Login (EventManager.Identity.STS.Identity)"'
[2020-12-30T06:25:31.0912636+00:00][INFO][23][Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/1.1 GET http://www.em.host/Account/Login?ReturnUrl=%2Fconnect%2Fauthorize%2Fcallback%3Fclient_id%3Durn%253Aem%253Aclient%26redirect_uri%3Dhttps%253A%252F%252Fwww.em.host%252Fadmin%252Fidentity%252Fsignin-oidc%26response_type%3Dcode%26scope%3Dopenid%2520profile%2520email%2520roles%26code_challenge%3D8Twjc6Vi8hv4nkruC6AuVs4AljmZw4vIoVfukQJYngs%26code_challenge_method%3DS256%26response_mode%3Dform_post%26nonce%3D637449053877428813.YmM1NWY4YzAtNGY3Zi00NWQ0LWI2NjYtODJjYjY4ZWE0YjQ0ZDU2YTM5NTktYTRmYi00OTQ5LWI2MzktYThmMzI4Y2FkNjJm%26state%3DCfDJ8ASI9RBeE6hBsIC3rORyZw23DW4jUowpsaH3X6Cv4_y8z-heqyahC5ya1CbH-1UVEoiQJZmytxLdAQDLLjztmPq2stvRvbiBSoG6Up8LJmIrIJpXcFGAffGjrkP8rJB3ooFI5LmoqKXX8zhPA1Zj_PtJJC2Mz9ZNOCgLyxIyeTUOfFbUbwJUHebY82dXNtEw9CZdVqd3kkVBInwrGvaUSgQ0cvnzDn3_WV1YSZOZ9urZmw-2Udrjod7o21Ou7lQVTHnbKitM1yj2n_78q70kNcq6IRXq7lrdaCN8g1HXZquwB-Nj5-4k662EVLoTsj34v6kCRpK59OHPNSmE75a9qJMcAuyzTYSTtw3WbSugHiCH5Y05MQL9uQjowMtoDlxjuA%26x-client-SKU%3DID_NETSTANDARD2_0%26x-client-ver%3D5.6.0.0 - - - 200 - text/html;+charset=utf-8 786.8091ms
[2020-12-30T06:26:04.5802357+00:00][INFO][23][Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 GET http://www.em.host/Account/Login?ReturnUrl=%2Fconnect%2Fauthorize%2Fcallback%3Fclient_id%3Durn%253Aem%253Aclient%26redirect_uri%3Dhttps%253A%252F%252Fwww.em.host%252Fadmin%252Fidentity%252Fsignin-oidc%26response_type%3Dcode%26scope%3Dopenid%2520profile%2520email%2520roles%26code_challenge%3D8Twjc6Vi8hv4nkruC6AuVs4AljmZw4vIoVfukQJYngs%26code_challenge_method%3DS256%26response_mode%3Dform_post%26nonce%3D637449053877428813.YmM1NWY4YzAtNGY3Zi00NWQ0LWI2NjYtODJjYjY4ZWE0YjQ0ZDU2YTM5NTktYTRmYi00OTQ5LWI2MzktYThmMzI4Y2FkNjJm%26state%3DCfDJ8ASI9RBeE6hBsIC3rORyZw23DW4jUowpsaH3X6Cv4_y8z-heqyahC5ya1CbH-1UVEoiQJZmytxLdAQDLLjztmPq2stvRvbiBSoG6Up8LJmIrIJpXcFGAffGjrkP8rJB3ooFI5LmoqKXX8zhPA1Zj_PtJJC2Mz9ZNOCgLyxIyeTUOfFbUbwJUHebY82dXNtEw9CZdVqd3kkVBInwrGvaUSgQ0cvnzDn3_WV1YSZOZ9urZmw-2Udrjod7o21Ou7lQVTHnbKitM1yj2n_78q70kNcq6IRXq7lrdaCN8g1HXZquwB-Nj5-4k662EVLoTsj34v6kCRpK59OHPNSmE75a9qJMcAuyzTYSTtw3WbSugHiCH5Y05MQL9uQjowMtoDlxjuA%26x-client-SKU%3DID_NETSTANDARD2_0%26x-client-ver%3D5.6.0.0 - -
[2020-12-30T06:26:04.5895424+00:00][INFO][23][Microsoft.AspNetCore.Routing.EndpointMiddleware] Executing endpoint '"EventManager.Identity.STS.Identity.Controllers.AccountController<EventManager.Identity.Admin.EntityFramework.Shared.Entities.Identity.UserIdentity, string>.Login (EventManager.Identity.STS.Identity)"'
[2020-12-30T06:26:04.5916118+00:00][INFO][23][Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Route matched with "{action = \"Login\", controller = \"Account\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(System.String)" on controller "EventManager.Identity.STS.Identity.Controllers.AccountController<EventManager.Identity.Admin.EntityFramework.Shared.Entities.Identity.UserIdentity, string>" ("EventManager.Identity.STS.Identity").
[2020-12-30T06:26:04.5942717+00:00][INFO][23][Microsoft.EntityFrameworkCore.Infrastructure] Entity Framework Core "5.0.1" initialized '"IdentityServerConfigurationDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=EventManager.Identity.Admin.EntityFramework.SqlServer "
[2020-12-30T06:26:04.6180579+00:00][INFO][26][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("8"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c].[Id], [c].[AbsoluteRefreshTokenLifetime], [c].[AccessTokenLifetime], [c].[AccessTokenType], [c].[AllowAccessTokensViaBrowser], [c].[AllowOfflineAccess], [c].[AllowPlainTextPkce], [c].[AllowRememberConsent], [c].[AllowedIdentityTokenSigningAlgorithms], [c].[AlwaysIncludeUserClaimsInIdToken], [c].[AlwaysSendClientClaims], [c].[AuthorizationCodeLifetime], [c].[BackChannelLogoutSessionRequired], [c].[BackChannelLogoutUri], [c].[ClientClaimsPrefix], [c].[ClientId], [c].[ClientName], [c].[ClientUri], [c].[ConsentLifetime], [c].[Created], [c].[Description], [c].[DeviceCodeLifetime], [c].[EnableLocalLogin], [c].[Enabled], [c].[FrontChannelLogoutSessionRequired], [c].[FrontChannelLogoutUri], [c].[IdentityTokenLifetime], [c].[IncludeJwtId], [c].[LastAccessed], [c].[LogoUri], [c].[NonEditable], [c].[PairWiseSubjectSalt], [c].[ProtocolType], [c].[RefreshTokenExpiration], [c].[RefreshTokenUsage], [c].[RequireClientSecret], [c].[RequireConsent], [c].[RequirePkce], [c].[RequireRequestObject], [c].[SlidingRefreshTokenLifetime], [c].[UpdateAccessTokenClaimsOnRefresh], [c].[Updated], [c].[UserCodeType], [c].[UserSsoLifetime]
FROM [Clients] AS [c]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T06:26:04.7566149+00:00][INFO][14][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("2"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[Origin]
FROM [Clients] AS [c]
INNER JOIN [ClientCorsOrigins] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T06:26:04.7649092+00:00][INFO][23][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("6"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[GrantType]
FROM [Clients] AS [c]
INNER JOIN [ClientGrantTypes] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T06:26:04.7792536+00:00][INFO][14][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("2"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[Scope]
FROM [Clients] AS [c]
INNER JOIN [ClientScopes] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T06:26:04.7904267+00:00][INFO][32][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("2"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[Type], [c0].[Value]
FROM [Clients] AS [c]
INNER JOIN [ClientClaims] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T06:26:04.8006481+00:00][INFO][14][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("7"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[Created], [c0].[Description], [c0].[Expiration], [c0].[Type], [c0].[Value]
FROM [Clients] AS [c]
INNER JOIN [ClientSecrets] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T06:26:04.8152430+00:00][INFO][32][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("7"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[Provider]
FROM [Clients] AS [c]
INNER JOIN [ClientIdPRestrictions] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T06:26:04.8212937+00:00][INFO][14][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("4"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[PostLogoutRedirectUri]
FROM [Clients] AS [c]
INNER JOIN [ClientPostLogoutRedirectUris] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T06:26:04.8342279+00:00][INFO][23][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("5"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[Key], [c0].[Value]
FROM [Clients] AS [c]
INNER JOIN [ClientProperties] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T06:26:04.8473176+00:00][INFO][32][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("10"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[RedirectUri]
FROM [Clients] AS [c]
INNER JOIN [ClientRedirectUris] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T06:26:04.8593034+00:00][INFO][14][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("5"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [i].[Id], [i].[Created], [i].[Description], [i].[DisplayName], [i].[Emphasize], [i].[Enabled], [i].[Name], [i].[NonEditable], [i].[Required], [i].[ShowInDiscoveryDocument], [i].[Updated], [i0].[Id], [i0].[IdentityResourceId], [i0].[Type], [i1].[Id], [i1].[IdentityResourceId], [i1].[Key], [i1].[Value]
FROM [IdentityResources] AS [i]
LEFT JOIN [IdentityResourceClaims] AS [i0] ON [i].[Id] = [i0].[IdentityResourceId]
LEFT JOIN [IdentityResourceProperties] AS [i1] ON [i].[Id] = [i1].[IdentityResourceId]
WHERE [i].[Name] IN (N'openid', N'profile', N'email', N'roles')
ORDER BY [i].[Id], [i0].[Id], [i1].[Id]"
[2020-12-30T06:26:04.8949664+00:00][INFO][32][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("24"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [a].[Id], [a].[AllowedAccessTokenSigningAlgorithms], [a].[Created], [a].[Description], [a].[DisplayName], [a].[Enabled], [a].[LastAccessed], [a].[Name], [a].[NonEditable], [a].[ShowInDiscoveryDocument], [a].[Updated], [a0].[Id], [a0].[ApiResourceId], [a0].[Created], [a0].[Description], [a0].[Expiration], [a0].[Type], [a0].[Value], [a1].[Id], [a1].[ApiResourceId], [a1].[Scope], [a2].[Id], [a2].[ApiResourceId], [a2].[Type], [a3].[Id], [a3].[ApiResourceId], [a3].[Key], [a3].[Value]
FROM [ApiResources] AS [a]
LEFT JOIN [ApiResourceSecrets] AS [a0] ON [a].[Id] = [a0].[ApiResourceId]
LEFT JOIN [ApiResourceScopes] AS [a1] ON [a].[Id] = [a1].[ApiResourceId]
LEFT JOIN [ApiResourceClaims] AS [a2] ON [a].[Id] = [a2].[ApiResourceId]
LEFT JOIN [ApiResourceProperties] AS [a3] ON [a].[Id] = [a3].[ApiResourceId]
WHERE EXISTS (
    SELECT 1
    FROM [ApiResourceScopes] AS [a4]
    WHERE ([a].[Id] = [a4].[ApiResourceId]) AND [a4].[Scope] IN (N'openid', N'profile', N'email', N'roles'))
ORDER BY [a].[Id], [a0].[Id], [a1].[Id], [a2].[Id], [a3].[Id]"
[2020-12-30T06:26:04.9026902+00:00][INFO][24][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("4"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [a].[Id], [a].[Description], [a].[DisplayName], [a].[Emphasize], [a].[Enabled], [a].[Name], [a].[Required], [a].[ShowInDiscoveryDocument], [a0].[Id], [a0].[ScopeId], [a0].[Type], [a1].[Id], [a1].[Key], [a1].[ScopeId], [a1].[Value]
FROM [ApiScopes] AS [a]
LEFT JOIN [ApiScopeClaims] AS [a0] ON [a].[Id] = [a0].[ScopeId]
LEFT JOIN [ApiScopeProperties] AS [a1] ON [a].[Id] = [a1].[ScopeId]
WHERE [a].[Name] IN (N'openid', N'profile', N'email', N'roles')
ORDER BY [a].[Id], [a0].[Id], [a1].[Id]"
[2020-12-30T06:26:04.9365423+00:00][INFO][32][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("24"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c].[Id], [c].[AbsoluteRefreshTokenLifetime], [c].[AccessTokenLifetime], [c].[AccessTokenType], [c].[AllowAccessTokensViaBrowser], [c].[AllowOfflineAccess], [c].[AllowPlainTextPkce], [c].[AllowRememberConsent], [c].[AllowedIdentityTokenSigningAlgorithms], [c].[AlwaysIncludeUserClaimsInIdToken], [c].[AlwaysSendClientClaims], [c].[AuthorizationCodeLifetime], [c].[BackChannelLogoutSessionRequired], [c].[BackChannelLogoutUri], [c].[ClientClaimsPrefix], [c].[ClientId], [c].[ClientName], [c].[ClientUri], [c].[ConsentLifetime], [c].[Created], [c].[Description], [c].[DeviceCodeLifetime], [c].[EnableLocalLogin], [c].[Enabled], [c].[FrontChannelLogoutSessionRequired], [c].[FrontChannelLogoutUri], [c].[IdentityTokenLifetime], [c].[IncludeJwtId], [c].[LastAccessed], [c].[LogoUri], [c].[NonEditable], [c].[PairWiseSubjectSalt], [c].[ProtocolType], [c].[RefreshTokenExpiration], [c].[RefreshTokenUsage], [c].[RequireClientSecret], [c].[RequireConsent], [c].[RequirePkce], [c].[RequireRequestObject], [c].[SlidingRefreshTokenLifetime], [c].[UpdateAccessTokenClaimsOnRefresh], [c].[Updated], [c].[UserCodeType], [c].[UserSsoLifetime]
FROM [Clients] AS [c]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T06:26:04.9547444+00:00][INFO][24][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("8"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[Origin]
FROM [Clients] AS [c]
INNER JOIN [ClientCorsOrigins] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T06:26:04.9634674+00:00][INFO][32][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("5"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[GrantType]
FROM [Clients] AS [c]
INNER JOIN [ClientGrantTypes] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T06:26:05.0029345+00:00][INFO][14][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("21"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[Scope]
FROM [Clients] AS [c]
INNER JOIN [ClientScopes] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T06:26:05.0173895+00:00][INFO][24][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("2"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[Type], [c0].[Value]
FROM [Clients] AS [c]
INNER JOIN [ClientClaims] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T06:26:05.0401241+00:00][INFO][32][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("14"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[Created], [c0].[Description], [c0].[Expiration], [c0].[Type], [c0].[Value]
FROM [Clients] AS [c]
INNER JOIN [ClientSecrets] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T06:26:05.0526160+00:00][INFO][23][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("3"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[Provider]
FROM [Clients] AS [c]
INNER JOIN [ClientIdPRestrictions] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T06:26:05.0693664+00:00][INFO][32][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("15"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[PostLogoutRedirectUri]
FROM [Clients] AS [c]
INNER JOIN [ClientPostLogoutRedirectUris] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T06:26:05.0833209+00:00][INFO][24][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("12"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[Key], [c0].[Value]
FROM [Clients] AS [c]
INNER JOIN [ClientProperties] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T06:26:05.0949361+00:00][INFO][32][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("9"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[RedirectUri]
FROM [Clients] AS [c]
INNER JOIN [ClientRedirectUris] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T06:26:05.0964982+00:00][INFO][32][Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor] Executing ViewResult, running view "Login".
[2020-12-30T06:26:05.1018929+00:00][INFO][32][Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor] Executed ViewResult - view "Login" executed in 5.4413ms.
[2020-12-30T06:26:05.1048363+00:00][INFO][32][Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Executed action "EventManager.Identity.STS.Identity.Controllers.AccountController<EventManager.Identity.Admin.EntityFramework.Shared.Entities.Identity.UserIdentity, string>.Login (EventManager.Identity.STS.Identity)" in 512.3993ms
[2020-12-30T06:26:05.1073462+00:00][INFO][32][Microsoft.AspNetCore.Routing.EndpointMiddleware] Executed endpoint '"EventManager.Identity.STS.Identity.Controllers.AccountController<EventManager.Identity.Admin.EntityFramework.Shared.Entities.Identity.UserIdentity, string>.Login (EventManager.Identity.STS.Identity)"'
[2020-12-30T06:26:05.1198759+00:00][INFO][32][Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/1.1 GET http://www.em.host/Account/Login?ReturnUrl=%2Fconnect%2Fauthorize%2Fcallback%3Fclient_id%3Durn%253Aem%253Aclient%26redirect_uri%3Dhttps%253A%252F%252Fwww.em.host%252Fadmin%252Fidentity%252Fsignin-oidc%26response_type%3Dcode%26scope%3Dopenid%2520profile%2520email%2520roles%26code_challenge%3D8Twjc6Vi8hv4nkruC6AuVs4AljmZw4vIoVfukQJYngs%26code_challenge_method%3DS256%26response_mode%3Dform_post%26nonce%3D637449053877428813.YmM1NWY4YzAtNGY3Zi00NWQ0LWI2NjYtODJjYjY4ZWE0YjQ0ZDU2YTM5NTktYTRmYi00OTQ5LWI2MzktYThmMzI4Y2FkNjJm%26state%3DCfDJ8ASI9RBeE6hBsIC3rORyZw23DW4jUowpsaH3X6Cv4_y8z-heqyahC5ya1CbH-1UVEoiQJZmytxLdAQDLLjztmPq2stvRvbiBSoG6Up8LJmIrIJpXcFGAffGjrkP8rJB3ooFI5LmoqKXX8zhPA1Zj_PtJJC2Mz9ZNOCgLyxIyeTUOfFbUbwJUHebY82dXNtEw9CZdVqd3kkVBInwrGvaUSgQ0cvnzDn3_WV1YSZOZ9urZmw-2Udrjod7o21Ou7lQVTHnbKitM1yj2n_78q70kNcq6IRXq7lrdaCN8g1HXZquwB-Nj5-4k662EVLoTsj34v6kCRpK59OHPNSmE75a9qJMcAuyzTYSTtw3WbSugHiCH5Y05MQL9uQjowMtoDlxjuA%26x-client-SKU%3DID_NETSTANDARD2_0%26x-client-ver%3D5.6.0.0 - - - 200 - text/html;+charset=utf-8 538.7112ms
[2020-12-30T06:26:09.0202299+00:00][INFO][26][Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 GET http://www.em.host/Account/ForgotPassword - -
[2020-12-30T06:26:09.0292771+00:00][INFO][26][Microsoft.AspNetCore.Routing.EndpointMiddleware] Executing endpoint '"EventManager.Identity.STS.Identity.Controllers.AccountController<EventManager.Identity.Admin.EntityFramework.Shared.Entities.Identity.UserIdentity, string>.ForgotPassword (EventManager.Identity.STS.Identity)"'
[2020-12-30T06:26:09.0474618+00:00][INFO][26][Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Route matched with "{action = \"ForgotPassword\", controller = \"Account\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult ForgotPassword()" on controller "EventManager.Identity.STS.Identity.Controllers.AccountController<EventManager.Identity.Admin.EntityFramework.Shared.Entities.Identity.UserIdentity, string>" ("EventManager.Identity.STS.Identity").
[2020-12-30T06:26:09.0630976+00:00][INFO][26][Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor] Executing ViewResult, running view "ForgotPassword".
[2020-12-30T06:26:09.3198335+00:00][INFO][26][Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor] Executed ViewResult - view "ForgotPassword" executed in 266.5072ms.
[2020-12-30T06:26:09.3205233+00:00][INFO][26][Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Executed action "EventManager.Identity.STS.Identity.Controllers.AccountController<EventManager.Identity.Admin.EntityFramework.Shared.Entities.Identity.UserIdentity, string>.ForgotPassword (EventManager.Identity.STS.Identity)" in 271.8869ms
[2020-12-30T06:26:09.3221342+00:00][INFO][26][Microsoft.AspNetCore.Routing.EndpointMiddleware] Executed endpoint '"EventManager.Identity.STS.Identity.Controllers.AccountController<EventManager.Identity.Admin.EntityFramework.Shared.Entities.Identity.UserIdentity, string>.ForgotPassword (EventManager.Identity.STS.Identity)"'
[2020-12-30T06:26:09.3246226+00:00][INFO][26][Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/1.1 GET http://www.em.host/Account/ForgotPassword - - - 200 - text/html;+charset=utf-8 304.4752ms
[2020-12-30T06:26:22.5563939+00:00][INFO][26][Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 GET http://www.em.host/Account/Login?ReturnUrl=%2Fconnect%2Fauthorize%2Fcallback%3Fclient_id%3Durn%253Aem%253Aclient%26redirect_uri%3Dhttps%253A%252F%252Fwww.em.host%252Fadmin%252Fidentity%252Fsignin-oidc%26response_type%3Dcode%26scope%3Dopenid%2520profile%2520email%2520roles%26code_challenge%3D8Twjc6Vi8hv4nkruC6AuVs4AljmZw4vIoVfukQJYngs%26code_challenge_method%3DS256%26response_mode%3Dform_post%26nonce%3D637449053877428813.YmM1NWY4YzAtNGY3Zi00NWQ0LWI2NjYtODJjYjY4ZWE0YjQ0ZDU2YTM5NTktYTRmYi00OTQ5LWI2MzktYThmMzI4Y2FkNjJm%26state%3DCfDJ8ASI9RBeE6hBsIC3rORyZw23DW4jUowpsaH3X6Cv4_y8z-heqyahC5ya1CbH-1UVEoiQJZmytxLdAQDLLjztmPq2stvRvbiBSoG6Up8LJmIrIJpXcFGAffGjrkP8rJB3ooFI5LmoqKXX8zhPA1Zj_PtJJC2Mz9ZNOCgLyxIyeTUOfFbUbwJUHebY82dXNtEw9CZdVqd3kkVBInwrGvaUSgQ0cvnzDn3_WV1YSZOZ9urZmw-2Udrjod7o21Ou7lQVTHnbKitM1yj2n_78q70kNcq6IRXq7lrdaCN8g1HXZquwB-Nj5-4k662EVLoTsj34v6kCRpK59OHPNSmE75a9qJMcAuyzTYSTtw3WbSugHiCH5Y05MQL9uQjowMtoDlxjuA%26x-client-SKU%3DID_NETSTANDARD2_0%26x-client-ver%3D5.6.0.0 - -
[2020-12-30T06:26:22.5587637+00:00][INFO][26][Microsoft.AspNetCore.Routing.EndpointMiddleware] Executing endpoint '"EventManager.Identity.STS.Identity.Controllers.AccountController<EventManager.Identity.Admin.EntityFramework.Shared.Entities.Identity.UserIdentity, string>.Login (EventManager.Identity.STS.Identity)"'
[2020-12-30T06:26:22.5626560+00:00][INFO][26][Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Route matched with "{action = \"Login\", controller = \"Account\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(System.String)" on controller "EventManager.Identity.STS.Identity.Controllers.AccountController<EventManager.Identity.Admin.EntityFramework.Shared.Entities.Identity.UserIdentity, string>" ("EventManager.Identity.STS.Identity").
[2020-12-30T06:26:22.5709943+00:00][INFO][26][Microsoft.EntityFrameworkCore.Infrastructure] Entity Framework Core "5.0.1" initialized '"IdentityServerConfigurationDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=EventManager.Identity.Admin.EntityFramework.SqlServer "
[2020-12-30T06:26:22.6112022+00:00][INFO][33][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("14"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c].[Id], [c].[AbsoluteRefreshTokenLifetime], [c].[AccessTokenLifetime], [c].[AccessTokenType], [c].[AllowAccessTokensViaBrowser], [c].[AllowOfflineAccess], [c].[AllowPlainTextPkce], [c].[AllowRememberConsent], [c].[AllowedIdentityTokenSigningAlgorithms], [c].[AlwaysIncludeUserClaimsInIdToken], [c].[AlwaysSendClientClaims], [c].[AuthorizationCodeLifetime], [c].[BackChannelLogoutSessionRequired], [c].[BackChannelLogoutUri], [c].[ClientClaimsPrefix], [c].[ClientId], [c].[ClientName], [c].[ClientUri], [c].[ConsentLifetime], [c].[Created], [c].[Description], [c].[DeviceCodeLifetime], [c].[EnableLocalLogin], [c].[Enabled], [c].[FrontChannelLogoutSessionRequired], [c].[FrontChannelLogoutUri], [c].[IdentityTokenLifetime], [c].[IncludeJwtId], [c].[LastAccessed], [c].[LogoUri], [c].[NonEditable], [c].[PairWiseSubjectSalt], [c].[ProtocolType], [c].[RefreshTokenExpiration], [c].[RefreshTokenUsage], [c].[RequireClientSecret], [c].[RequireConsent], [c].[RequirePkce], [c].[RequireRequestObject], [c].[SlidingRefreshTokenLifetime], [c].[UpdateAccessTokenClaimsOnRefresh], [c].[Updated], [c].[UserCodeType], [c].[UserSsoLifetime]
FROM [Clients] AS [c]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T06:26:22.6250001+00:00][INFO][28][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("8"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[Origin]
FROM [Clients] AS [c]
INNER JOIN [ClientCorsOrigins] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T06:26:22.6537086+00:00][INFO][14][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("4"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[GrantType]
FROM [Clients] AS [c]
INNER JOIN [ClientGrantTypes] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T06:26:22.6705641+00:00][INFO][32][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("12"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[Scope]
FROM [Clients] AS [c]
INNER JOIN [ClientScopes] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T06:26:22.6806073+00:00][INFO][23][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("6"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[Type], [c0].[Value]
FROM [Clients] AS [c]
INNER JOIN [ClientClaims] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T06:26:22.6919613+00:00][INFO][30][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("4"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[Created], [c0].[Description], [c0].[Expiration], [c0].[Type], [c0].[Value]
FROM [Clients] AS [c]
INNER JOIN [ClientSecrets] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T06:26:22.7061935+00:00][INFO][23][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("4"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[Provider]
FROM [Clients] AS [c]
INNER JOIN [ClientIdPRestrictions] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T06:26:22.7179767+00:00][INFO][24][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("7"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[PostLogoutRedirectUri]
FROM [Clients] AS [c]
INNER JOIN [ClientPostLogoutRedirectUris] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T06:26:22.7490192+00:00][INFO][23][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("7"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[Key], [c0].[Value]
FROM [Clients] AS [c]
INNER JOIN [ClientProperties] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T06:26:22.7789759+00:00][INFO][14][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("5"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[RedirectUri]
FROM [Clients] AS [c]
INNER JOIN [ClientRedirectUris] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T06:26:22.7991141+00:00][INFO][23][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("16"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [i].[Id], [i].[Created], [i].[Description], [i].[DisplayName], [i].[Emphasize], [i].[Enabled], [i].[Name], [i].[NonEditable], [i].[Required], [i].[ShowInDiscoveryDocument], [i].[Updated], [i0].[Id], [i0].[IdentityResourceId], [i0].[Type], [i1].[Id], [i1].[IdentityResourceId], [i1].[Key], [i1].[Value]
FROM [IdentityResources] AS [i]
LEFT JOIN [IdentityResourceClaims] AS [i0] ON [i].[Id] = [i0].[IdentityResourceId]
LEFT JOIN [IdentityResourceProperties] AS [i1] ON [i].[Id] = [i1].[IdentityResourceId]
WHERE [i].[Name] IN (N'openid', N'profile', N'email', N'roles')
ORDER BY [i].[Id], [i0].[Id], [i1].[Id]"
[2020-12-30T06:26:22.8161889+00:00][INFO][14][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("9"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [a].[Id], [a].[AllowedAccessTokenSigningAlgorithms], [a].[Created], [a].[Description], [a].[DisplayName], [a].[Enabled], [a].[LastAccessed], [a].[Name], [a].[NonEditable], [a].[ShowInDiscoveryDocument], [a].[Updated], [a0].[Id], [a0].[ApiResourceId], [a0].[Created], [a0].[Description], [a0].[Expiration], [a0].[Type], [a0].[Value], [a1].[Id], [a1].[ApiResourceId], [a1].[Scope], [a2].[Id], [a2].[ApiResourceId], [a2].[Type], [a3].[Id], [a3].[ApiResourceId], [a3].[Key], [a3].[Value]
FROM [ApiResources] AS [a]
LEFT JOIN [ApiResourceSecrets] AS [a0] ON [a].[Id] = [a0].[ApiResourceId]
LEFT JOIN [ApiResourceScopes] AS [a1] ON [a].[Id] = [a1].[ApiResourceId]
LEFT JOIN [ApiResourceClaims] AS [a2] ON [a].[Id] = [a2].[ApiResourceId]
LEFT JOIN [ApiResourceProperties] AS [a3] ON [a].[Id] = [a3].[ApiResourceId]
WHERE EXISTS (
    SELECT 1
    FROM [ApiResourceScopes] AS [a4]
    WHERE ([a].[Id] = [a4].[ApiResourceId]) AND [a4].[Scope] IN (N'openid', N'profile', N'email', N'roles'))
ORDER BY [a].[Id], [a0].[Id], [a1].[Id], [a2].[Id], [a3].[Id]"
[2020-12-30T06:26:22.8306747+00:00][INFO][30][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("10"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [a].[Id], [a].[Description], [a].[DisplayName], [a].[Emphasize], [a].[Enabled], [a].[Name], [a].[Required], [a].[ShowInDiscoveryDocument], [a0].[Id], [a0].[ScopeId], [a0].[Type], [a1].[Id], [a1].[Key], [a1].[ScopeId], [a1].[Value]
FROM [ApiScopes] AS [a]
LEFT JOIN [ApiScopeClaims] AS [a0] ON [a].[Id] = [a0].[ScopeId]
LEFT JOIN [ApiScopeProperties] AS [a1] ON [a].[Id] = [a1].[ScopeId]
WHERE [a].[Name] IN (N'openid', N'profile', N'email', N'roles')
ORDER BY [a].[Id], [a0].[Id], [a1].[Id]"
[2020-12-30T06:26:22.8400610+00:00][INFO][23][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("6"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c].[Id], [c].[AbsoluteRefreshTokenLifetime], [c].[AccessTokenLifetime], [c].[AccessTokenType], [c].[AllowAccessTokensViaBrowser], [c].[AllowOfflineAccess], [c].[AllowPlainTextPkce], [c].[AllowRememberConsent], [c].[AllowedIdentityTokenSigningAlgorithms], [c].[AlwaysIncludeUserClaimsInIdToken], [c].[AlwaysSendClientClaims], [c].[AuthorizationCodeLifetime], [c].[BackChannelLogoutSessionRequired], [c].[BackChannelLogoutUri], [c].[ClientClaimsPrefix], [c].[ClientId], [c].[ClientName], [c].[ClientUri], [c].[ConsentLifetime], [c].[Created], [c].[Description], [c].[DeviceCodeLifetime], [c].[EnableLocalLogin], [c].[Enabled], [c].[FrontChannelLogoutSessionRequired], [c].[FrontChannelLogoutUri], [c].[IdentityTokenLifetime], [c].[IncludeJwtId], [c].[LastAccessed], [c].[LogoUri], [c].[NonEditable], [c].[PairWiseSubjectSalt], [c].[ProtocolType], [c].[RefreshTokenExpiration], [c].[RefreshTokenUsage], [c].[RequireClientSecret], [c].[RequireConsent], [c].[RequirePkce], [c].[RequireRequestObject], [c].[SlidingRefreshTokenLifetime], [c].[UpdateAccessTokenClaimsOnRefresh], [c].[Updated], [c].[UserCodeType], [c].[UserSsoLifetime]
FROM [Clients] AS [c]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T06:26:22.8535533+00:00][INFO][30][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("7"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[Origin]
FROM [Clients] AS [c]
INNER JOIN [ClientCorsOrigins] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T06:26:22.8864219+00:00][INFO][14][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("8"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[GrantType]
FROM [Clients] AS [c]
INNER JOIN [ClientGrantTypes] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T06:26:22.8922223+00:00][INFO][32][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("2"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[Scope]
FROM [Clients] AS [c]
INNER JOIN [ClientScopes] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T06:26:22.9063953+00:00][INFO][14][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("3"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[Type], [c0].[Value]
FROM [Clients] AS [c]
INNER JOIN [ClientClaims] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T06:26:22.9158284+00:00][INFO][23][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("8"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[Created], [c0].[Description], [c0].[Expiration], [c0].[Type], [c0].[Value]
FROM [Clients] AS [c]
INNER JOIN [ClientSecrets] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T06:26:22.9274989+00:00][INFO][32][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("3"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[Provider]
FROM [Clients] AS [c]
INNER JOIN [ClientIdPRestrictions] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T06:26:22.9470763+00:00][INFO][30][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("8"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[PostLogoutRedirectUri]
FROM [Clients] AS [c]
INNER JOIN [ClientPostLogoutRedirectUris] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T06:26:22.9623740+00:00][INFO][14][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("2"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[Key], [c0].[Value]
FROM [Clients] AS [c]
INNER JOIN [ClientProperties] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T06:26:22.9789718+00:00][INFO][30][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("5"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[RedirectUri]
FROM [Clients] AS [c]
INNER JOIN [ClientRedirectUris] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T06:26:22.9807093+00:00][INFO][30][Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor] Executing ViewResult, running view "Login".
[2020-12-30T06:26:23.0109372+00:00][INFO][30][Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor] Executed ViewResult - view "Login" executed in 29.6337ms.
[2020-12-30T06:26:23.0142089+00:00][INFO][30][Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Executed action "EventManager.Identity.STS.Identity.Controllers.AccountController<EventManager.Identity.Admin.EntityFramework.Shared.Entities.Identity.UserIdentity, string>.Login (EventManager.Identity.STS.Identity)" in 450.5574ms
[2020-12-30T06:26:23.0178251+00:00][INFO][30][Microsoft.AspNetCore.Routing.EndpointMiddleware] Executed endpoint '"EventManager.Identity.STS.Identity.Controllers.AccountController<EventManager.Identity.Admin.EntityFramework.Shared.Entities.Identity.UserIdentity, string>.Login (EventManager.Identity.STS.Identity)"'
[2020-12-30T06:26:23.0236046+00:00][INFO][30][Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/1.1 GET http://www.em.host/Account/Login?ReturnUrl=%2Fconnect%2Fauthorize%2Fcallback%3Fclient_id%3Durn%253Aem%253Aclient%26redirect_uri%3Dhttps%253A%252F%252Fwww.em.host%252Fadmin%252Fidentity%252Fsignin-oidc%26response_type%3Dcode%26scope%3Dopenid%2520profile%2520email%2520roles%26code_challenge%3D8Twjc6Vi8hv4nkruC6AuVs4AljmZw4vIoVfukQJYngs%26code_challenge_method%3DS256%26response_mode%3Dform_post%26nonce%3D637449053877428813.YmM1NWY4YzAtNGY3Zi00NWQ0LWI2NjYtODJjYjY4ZWE0YjQ0ZDU2YTM5NTktYTRmYi00OTQ5LWI2MzktYThmMzI4Y2FkNjJm%26state%3DCfDJ8ASI9RBeE6hBsIC3rORyZw23DW4jUowpsaH3X6Cv4_y8z-heqyahC5ya1CbH-1UVEoiQJZmytxLdAQDLLjztmPq2stvRvbiBSoG6Up8LJmIrIJpXcFGAffGjrkP8rJB3ooFI5LmoqKXX8zhPA1Zj_PtJJC2Mz9ZNOCgLyxIyeTUOfFbUbwJUHebY82dXNtEw9CZdVqd3kkVBInwrGvaUSgQ0cvnzDn3_WV1YSZOZ9urZmw-2Udrjod7o21Ou7lQVTHnbKitM1yj2n_78q70kNcq6IRXq7lrdaCN8g1HXZquwB-Nj5-4k662EVLoTsj34v6kCRpK59OHPNSmE75a9qJMcAuyzTYSTtw3WbSugHiCH5Y05MQL9uQjowMtoDlxjuA%26x-client-SKU%3DID_NETSTANDARD2_0%26x-client-ver%3D5.6.0.0 - - - 200 - text/html;+charset=utf-8 466.3811ms
[2020-12-30T06:26:32.7311544+00:00][INFO][30][Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 GET http://www.em.host/Account/Register - -
[2020-12-30T06:26:32.7374002+00:00][INFO][30][Microsoft.AspNetCore.Routing.EndpointMiddleware] Executing endpoint '"EventManager.Identity.STS.Identity.Controllers.AccountController<EventManager.Identity.Admin.EntityFramework.Shared.Entities.Identity.UserIdentity, string>.Register (EventManager.Identity.STS.Identity)"'
[2020-12-30T06:26:32.7455412+00:00][INFO][30][Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Route matched with "{action = \"Register\", controller = \"Account\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult Register(System.String)" on controller "EventManager.Identity.STS.Identity.Controllers.AccountController<EventManager.Identity.Admin.EntityFramework.Shared.Entities.Identity.UserIdentity, string>" ("EventManager.Identity.STS.Identity").
[2020-12-30T06:26:32.7647113+00:00][INFO][30][Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor] Executing ViewResult, running view "Register".
[2020-12-30T06:26:32.9035244+00:00][INFO][30][Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor] Executed ViewResult - view "Register" executed in 140.2433ms.
[2020-12-30T06:26:32.9043785+00:00][INFO][30][Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Executed action "EventManager.Identity.STS.Identity.Controllers.AccountController<EventManager.Identity.Admin.EntityFramework.Shared.Entities.Identity.UserIdentity, string>.Register (EventManager.Identity.STS.Identity)" in 144.3858ms
[2020-12-30T06:26:32.9067597+00:00][INFO][30][Microsoft.AspNetCore.Routing.EndpointMiddleware] Executed endpoint '"EventManager.Identity.STS.Identity.Controllers.AccountController<EventManager.Identity.Admin.EntityFramework.Shared.Entities.Identity.UserIdentity, string>.Register (EventManager.Identity.STS.Identity)"'
[2020-12-30T06:26:32.9077531+00:00][INFO][30][Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/1.1 GET http://www.em.host/Account/Register - - - 200 - text/html;+charset=utf-8 176.5782ms
[2020-12-30T06:26:43.8651402+00:00][INFO][23][Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 GET http://www.em.host/Account/Register - -
[2020-12-30T06:26:43.8673437+00:00][INFO][23][Microsoft.AspNetCore.Routing.EndpointMiddleware] Executing endpoint '"EventManager.Identity.STS.Identity.Controllers.AccountController<EventManager.Identity.Admin.EntityFramework.Shared.Entities.Identity.UserIdentity, string>.Register (EventManager.Identity.STS.Identity)"'
[2020-12-30T06:26:43.8685534+00:00][INFO][23][Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Route matched with "{action = \"Register\", controller = \"Account\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult Register(System.String)" on controller "EventManager.Identity.STS.Identity.Controllers.AccountController<EventManager.Identity.Admin.EntityFramework.Shared.Entities.Identity.UserIdentity, string>" ("EventManager.Identity.STS.Identity").
[2020-12-30T06:26:43.8706777+00:00][INFO][23][Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor] Executing ViewResult, running view "Register".
[2020-12-30T06:26:43.9299002+00:00][INFO][23][Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor] Executed ViewResult - view "Register" executed in 59.2675ms.
[2020-12-30T06:26:43.9306873+00:00][INFO][23][Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Executed action "EventManager.Identity.STS.Identity.Controllers.AccountController<EventManager.Identity.Admin.EntityFramework.Shared.Entities.Identity.UserIdentity, string>.Register (EventManager.Identity.STS.Identity)" in 61.2053ms
[2020-12-30T06:26:43.9319983+00:00][INFO][23][Microsoft.AspNetCore.Routing.EndpointMiddleware] Executed endpoint '"EventManager.Identity.STS.Identity.Controllers.AccountController<EventManager.Identity.Admin.EntityFramework.Shared.Entities.Identity.UserIdentity, string>.Register (EventManager.Identity.STS.Identity)"'
[2020-12-30T06:26:43.9336998+00:00][INFO][23][Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/1.1 GET http://www.em.host/Account/Register - - - 200 - text/html;+charset=utf-8 68.6135ms
[2020-12-30T06:26:45.4725981+00:00][INFO][23][Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 GET http://www.em.host/Account/Login?ReturnUrl=%2Fconnect%2Fauthorize%2Fcallback%3Fclient_id%3Durn%253Aem%253Aclient%26redirect_uri%3Dhttps%253A%252F%252Fwww.em.host%252Fadmin%252Fidentity%252Fsignin-oidc%26response_type%3Dcode%26scope%3Dopenid%2520profile%2520email%2520roles%26code_challenge%3D8Twjc6Vi8hv4nkruC6AuVs4AljmZw4vIoVfukQJYngs%26code_challenge_method%3DS256%26response_mode%3Dform_post%26nonce%3D637449053877428813.YmM1NWY4YzAtNGY3Zi00NWQ0LWI2NjYtODJjYjY4ZWE0YjQ0ZDU2YTM5NTktYTRmYi00OTQ5LWI2MzktYThmMzI4Y2FkNjJm%26state%3DCfDJ8ASI9RBeE6hBsIC3rORyZw23DW4jUowpsaH3X6Cv4_y8z-heqyahC5ya1CbH-1UVEoiQJZmytxLdAQDLLjztmPq2stvRvbiBSoG6Up8LJmIrIJpXcFGAffGjrkP8rJB3ooFI5LmoqKXX8zhPA1Zj_PtJJC2Mz9ZNOCgLyxIyeTUOfFbUbwJUHebY82dXNtEw9CZdVqd3kkVBInwrGvaUSgQ0cvnzDn3_WV1YSZOZ9urZmw-2Udrjod7o21Ou7lQVTHnbKitM1yj2n_78q70kNcq6IRXq7lrdaCN8g1HXZquwB-Nj5-4k662EVLoTsj34v6kCRpK59OHPNSmE75a9qJMcAuyzTYSTtw3WbSugHiCH5Y05MQL9uQjowMtoDlxjuA%26x-client-SKU%3DID_NETSTANDARD2_0%26x-client-ver%3D5.6.0.0 - -
[2020-12-30T06:26:45.4772721+00:00][INFO][23][Microsoft.AspNetCore.Routing.EndpointMiddleware] Executing endpoint '"EventManager.Identity.STS.Identity.Controllers.AccountController<EventManager.Identity.Admin.EntityFramework.Shared.Entities.Identity.UserIdentity, string>.Login (EventManager.Identity.STS.Identity)"'
[2020-12-30T06:26:45.4787837+00:00][INFO][23][Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Route matched with "{action = \"Login\", controller = \"Account\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(System.String)" on controller "EventManager.Identity.STS.Identity.Controllers.AccountController<EventManager.Identity.Admin.EntityFramework.Shared.Entities.Identity.UserIdentity, string>" ("EventManager.Identity.STS.Identity").
[2020-12-30T06:26:45.4926773+00:00][INFO][23][Microsoft.EntityFrameworkCore.Infrastructure] Entity Framework Core "5.0.1" initialized '"IdentityServerConfigurationDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=EventManager.Identity.Admin.EntityFramework.SqlServer "
[2020-12-30T06:26:45.5150844+00:00][INFO][36][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("17"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c].[Id], [c].[AbsoluteRefreshTokenLifetime], [c].[AccessTokenLifetime], [c].[AccessTokenType], [c].[AllowAccessTokensViaBrowser], [c].[AllowOfflineAccess], [c].[AllowPlainTextPkce], [c].[AllowRememberConsent], [c].[AllowedIdentityTokenSigningAlgorithms], [c].[AlwaysIncludeUserClaimsInIdToken], [c].[AlwaysSendClientClaims], [c].[AuthorizationCodeLifetime], [c].[BackChannelLogoutSessionRequired], [c].[BackChannelLogoutUri], [c].[ClientClaimsPrefix], [c].[ClientId], [c].[ClientName], [c].[ClientUri], [c].[ConsentLifetime], [c].[Created], [c].[Description], [c].[DeviceCodeLifetime], [c].[EnableLocalLogin], [c].[Enabled], [c].[FrontChannelLogoutSessionRequired], [c].[FrontChannelLogoutUri], [c].[IdentityTokenLifetime], [c].[IncludeJwtId], [c].[LastAccessed], [c].[LogoUri], [c].[NonEditable], [c].[PairWiseSubjectSalt], [c].[ProtocolType], [c].[RefreshTokenExpiration], [c].[RefreshTokenUsage], [c].[RequireClientSecret], [c].[RequireConsent], [c].[RequirePkce], [c].[RequireRequestObject], [c].[SlidingRefreshTokenLifetime], [c].[UpdateAccessTokenClaimsOnRefresh], [c].[Updated], [c].[UserCodeType], [c].[UserSsoLifetime]
FROM [Clients] AS [c]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T06:26:45.6104397+00:00][INFO][32][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("4"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[Origin]
FROM [Clients] AS [c]
INNER JOIN [ClientCorsOrigins] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T06:26:45.6288788+00:00][INFO][38][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("14"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[GrantType]
FROM [Clients] AS [c]
INNER JOIN [ClientGrantTypes] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T06:26:45.6376270+00:00][INFO][23][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("7"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[Scope]
FROM [Clients] AS [c]
INNER JOIN [ClientScopes] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T06:26:45.6523502+00:00][INFO][36][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("2"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[Type], [c0].[Value]
FROM [Clients] AS [c]
INNER JOIN [ClientClaims] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T06:26:45.6569465+00:00][INFO][38][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("3"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[Created], [c0].[Description], [c0].[Expiration], [c0].[Type], [c0].[Value]
FROM [Clients] AS [c]
INNER JOIN [ClientSecrets] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T06:26:45.6683317+00:00][INFO][30][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("8"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[Provider]
FROM [Clients] AS [c]
INNER JOIN [ClientIdPRestrictions] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T06:26:45.6802693+00:00][INFO][23][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("3"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[PostLogoutRedirectUri]
FROM [Clients] AS [c]
INNER JOIN [ClientPostLogoutRedirectUris] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T06:26:45.6843106+00:00][INFO][30][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("2"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[Key], [c0].[Value]
FROM [Clients] AS [c]
INNER JOIN [ClientProperties] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T06:26:45.7031985+00:00][INFO][37][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("3"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[RedirectUri]
FROM [Clients] AS [c]
INNER JOIN [ClientRedirectUris] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T06:26:45.7178852+00:00][INFO][30][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("4"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [i].[Id], [i].[Created], [i].[Description], [i].[DisplayName], [i].[Emphasize], [i].[Enabled], [i].[Name], [i].[NonEditable], [i].[Required], [i].[ShowInDiscoveryDocument], [i].[Updated], [i0].[Id], [i0].[IdentityResourceId], [i0].[Type], [i1].[Id], [i1].[IdentityResourceId], [i1].[Key], [i1].[Value]
FROM [IdentityResources] AS [i]
LEFT JOIN [IdentityResourceClaims] AS [i0] ON [i].[Id] = [i0].[IdentityResourceId]
LEFT JOIN [IdentityResourceProperties] AS [i1] ON [i].[Id] = [i1].[IdentityResourceId]
WHERE [i].[Name] IN (N'openid', N'profile', N'email', N'roles')
ORDER BY [i].[Id], [i0].[Id], [i1].[Id]"
[2020-12-30T06:26:45.7682315+00:00][INFO][23][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("23"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [a].[Id], [a].[AllowedAccessTokenSigningAlgorithms], [a].[Created], [a].[Description], [a].[DisplayName], [a].[Enabled], [a].[LastAccessed], [a].[Name], [a].[NonEditable], [a].[ShowInDiscoveryDocument], [a].[Updated], [a0].[Id], [a0].[ApiResourceId], [a0].[Created], [a0].[Description], [a0].[Expiration], [a0].[Type], [a0].[Value], [a1].[Id], [a1].[ApiResourceId], [a1].[Scope], [a2].[Id], [a2].[ApiResourceId], [a2].[Type], [a3].[Id], [a3].[ApiResourceId], [a3].[Key], [a3].[Value]
FROM [ApiResources] AS [a]
LEFT JOIN [ApiResourceSecrets] AS [a0] ON [a].[Id] = [a0].[ApiResourceId]
LEFT JOIN [ApiResourceScopes] AS [a1] ON [a].[Id] = [a1].[ApiResourceId]
LEFT JOIN [ApiResourceClaims] AS [a2] ON [a].[Id] = [a2].[ApiResourceId]
LEFT JOIN [ApiResourceProperties] AS [a3] ON [a].[Id] = [a3].[ApiResourceId]
WHERE EXISTS (
    SELECT 1
    FROM [ApiResourceScopes] AS [a4]
    WHERE ([a].[Id] = [a4].[ApiResourceId]) AND [a4].[Scope] IN (N'openid', N'profile', N'email', N'roles'))
ORDER BY [a].[Id], [a0].[Id], [a1].[Id], [a2].[Id], [a3].[Id]"
[2020-12-30T06:26:45.7903613+00:00][INFO][37][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("5"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [a].[Id], [a].[Description], [a].[DisplayName], [a].[Emphasize], [a].[Enabled], [a].[Name], [a].[Required], [a].[ShowInDiscoveryDocument], [a0].[Id], [a0].[ScopeId], [a0].[Type], [a1].[Id], [a1].[Key], [a1].[ScopeId], [a1].[Value]
FROM [ApiScopes] AS [a]
LEFT JOIN [ApiScopeClaims] AS [a0] ON [a].[Id] = [a0].[ScopeId]
LEFT JOIN [ApiScopeProperties] AS [a1] ON [a].[Id] = [a1].[ScopeId]
WHERE [a].[Name] IN (N'openid', N'profile', N'email', N'roles')
ORDER BY [a].[Id], [a0].[Id], [a1].[Id]"
[2020-12-30T06:26:45.8024018+00:00][INFO][37][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("2"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c].[Id], [c].[AbsoluteRefreshTokenLifetime], [c].[AccessTokenLifetime], [c].[AccessTokenType], [c].[AllowAccessTokensViaBrowser], [c].[AllowOfflineAccess], [c].[AllowPlainTextPkce], [c].[AllowRememberConsent], [c].[AllowedIdentityTokenSigningAlgorithms], [c].[AlwaysIncludeUserClaimsInIdToken], [c].[AlwaysSendClientClaims], [c].[AuthorizationCodeLifetime], [c].[BackChannelLogoutSessionRequired], [c].[BackChannelLogoutUri], [c].[ClientClaimsPrefix], [c].[ClientId], [c].[ClientName], [c].[ClientUri], [c].[ConsentLifetime], [c].[Created], [c].[Description], [c].[DeviceCodeLifetime], [c].[EnableLocalLogin], [c].[Enabled], [c].[FrontChannelLogoutSessionRequired], [c].[FrontChannelLogoutUri], [c].[IdentityTokenLifetime], [c].[IncludeJwtId], [c].[LastAccessed], [c].[LogoUri], [c].[NonEditable], [c].[PairWiseSubjectSalt], [c].[ProtocolType], [c].[RefreshTokenExpiration], [c].[RefreshTokenUsage], [c].[RequireClientSecret], [c].[RequireConsent], [c].[RequirePkce], [c].[RequireRequestObject], [c].[SlidingRefreshTokenLifetime], [c].[UpdateAccessTokenClaimsOnRefresh], [c].[Updated], [c].[UserCodeType], [c].[UserSsoLifetime]
FROM [Clients] AS [c]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T06:26:45.8436163+00:00][INFO][30][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("3"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[Origin]
FROM [Clients] AS [c]
INNER JOIN [ClientCorsOrigins] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T06:26:45.8514569+00:00][INFO][23][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("5"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[GrantType]
FROM [Clients] AS [c]
INNER JOIN [ClientGrantTypes] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T06:26:45.8661962+00:00][INFO][38][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("9"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[Scope]
FROM [Clients] AS [c]
INNER JOIN [ClientScopes] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T06:26:45.8977652+00:00][INFO][23][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("2"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[Type], [c0].[Value]
FROM [Clients] AS [c]
INNER JOIN [ClientClaims] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T06:26:45.9141797+00:00][INFO][38][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("12"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[Created], [c0].[Description], [c0].[Expiration], [c0].[Type], [c0].[Value]
FROM [Clients] AS [c]
INNER JOIN [ClientSecrets] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T06:26:45.9341305+00:00][INFO][38][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("18"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[Provider]
FROM [Clients] AS [c]
INNER JOIN [ClientIdPRestrictions] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T06:26:45.9475900+00:00][INFO][23][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("10"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[PostLogoutRedirectUri]
FROM [Clients] AS [c]
INNER JOIN [ClientPostLogoutRedirectUris] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T06:26:45.9799542+00:00][INFO][30][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("29"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[Key], [c0].[Value]
FROM [Clients] AS [c]
INNER JOIN [ClientProperties] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T06:26:46.0240600+00:00][INFO][37][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("6"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[RedirectUri]
FROM [Clients] AS [c]
INNER JOIN [ClientRedirectUris] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T06:26:46.0259620+00:00][INFO][37][Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor] Executing ViewResult, running view "Login".
[2020-12-30T06:26:46.0419235+00:00][INFO][37][Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor] Executed ViewResult - view "Login" executed in 16.6476ms.
[2020-12-30T06:26:46.0487705+00:00][INFO][37][Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Executed action "EventManager.Identity.STS.Identity.Controllers.AccountController<EventManager.Identity.Admin.EntityFramework.Shared.Entities.Identity.UserIdentity, string>.Login (EventManager.Identity.STS.Identity)" in 560.2312ms
[2020-12-30T06:26:46.0545473+00:00][INFO][37][Microsoft.AspNetCore.Routing.EndpointMiddleware] Executed endpoint '"EventManager.Identity.STS.Identity.Controllers.AccountController<EventManager.Identity.Admin.EntityFramework.Shared.Entities.Identity.UserIdentity, string>.Login (EventManager.Identity.STS.Identity)"'
[2020-12-30T06:26:46.0672837+00:00][INFO][37][Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/1.1 GET http://www.em.host/Account/Login?ReturnUrl=%2Fconnect%2Fauthorize%2Fcallback%3Fclient_id%3Durn%253Aem%253Aclient%26redirect_uri%3Dhttps%253A%252F%252Fwww.em.host%252Fadmin%252Fidentity%252Fsignin-oidc%26response_type%3Dcode%26scope%3Dopenid%2520profile%2520email%2520roles%26code_challenge%3D8Twjc6Vi8hv4nkruC6AuVs4AljmZw4vIoVfukQJYngs%26code_challenge_method%3DS256%26response_mode%3Dform_post%26nonce%3D637449053877428813.YmM1NWY4YzAtNGY3Zi00NWQ0LWI2NjYtODJjYjY4ZWE0YjQ0ZDU2YTM5NTktYTRmYi00OTQ5LWI2MzktYThmMzI4Y2FkNjJm%26state%3DCfDJ8ASI9RBeE6hBsIC3rORyZw23DW4jUowpsaH3X6Cv4_y8z-heqyahC5ya1CbH-1UVEoiQJZmytxLdAQDLLjztmPq2stvRvbiBSoG6Up8LJmIrIJpXcFGAffGjrkP8rJB3ooFI5LmoqKXX8zhPA1Zj_PtJJC2Mz9ZNOCgLyxIyeTUOfFbUbwJUHebY82dXNtEw9CZdVqd3kkVBInwrGvaUSgQ0cvnzDn3_WV1YSZOZ9urZmw-2Udrjod7o21Ou7lQVTHnbKitM1yj2n_78q70kNcq6IRXq7lrdaCN8g1HXZquwB-Nj5-4k662EVLoTsj34v6kCRpK59OHPNSmE75a9qJMcAuyzTYSTtw3WbSugHiCH5Y05MQL9uQjowMtoDlxjuA%26x-client-SKU%3DID_NETSTANDARD2_0%26x-client-ver%3D5.6.0.0 - - - 200 - text/html;+charset=utf-8 594.6291ms
[2020-12-30T06:26:56.1055488+00:00][INFO][32][Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 GET http://www.em.host/Account/Login?ReturnUrl=%2Fconnect%2Fauthorize%2Fcallback%3Fclient_id%3Durn%253Aem%253Aclient%26redirect_uri%3Dhttps%253A%252F%252Fwww.em.host%252Fadmin%252Fidentity%252Fsignin-oidc%26response_type%3Dcode%26scope%3Dopenid%2520profile%2520email%2520roles%26code_challenge%3D8Twjc6Vi8hv4nkruC6AuVs4AljmZw4vIoVfukQJYngs%26code_challenge_method%3DS256%26response_mode%3Dform_post%26nonce%3D637449053877428813.YmM1NWY4YzAtNGY3Zi00NWQ0LWI2NjYtODJjYjY4ZWE0YjQ0ZDU2YTM5NTktYTRmYi00OTQ5LWI2MzktYThmMzI4Y2FkNjJm%26state%3DCfDJ8ASI9RBeE6hBsIC3rORyZw23DW4jUowpsaH3X6Cv4_y8z-heqyahC5ya1CbH-1UVEoiQJZmytxLdAQDLLjztmPq2stvRvbiBSoG6Up8LJmIrIJpXcFGAffGjrkP8rJB3ooFI5LmoqKXX8zhPA1Zj_PtJJC2Mz9ZNOCgLyxIyeTUOfFbUbwJUHebY82dXNtEw9CZdVqd3kkVBInwrGvaUSgQ0cvnzDn3_WV1YSZOZ9urZmw-2Udrjod7o21Ou7lQVTHnbKitM1yj2n_78q70kNcq6IRXq7lrdaCN8g1HXZquwB-Nj5-4k662EVLoTsj34v6kCRpK59OHPNSmE75a9qJMcAuyzTYSTtw3WbSugHiCH5Y05MQL9uQjowMtoDlxjuA%26x-client-SKU%3DID_NETSTANDARD2_0%26x-client-ver%3D5.6.0.0 - -
[2020-12-30T06:26:56.1077426+00:00][INFO][32][Microsoft.AspNetCore.Routing.EndpointMiddleware] Executing endpoint '"EventManager.Identity.STS.Identity.Controllers.AccountController<EventManager.Identity.Admin.EntityFramework.Shared.Entities.Identity.UserIdentity, string>.Login (EventManager.Identity.STS.Identity)"'
[2020-12-30T06:26:56.1086144+00:00][INFO][32][Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Route matched with "{action = \"Login\", controller = \"Account\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(System.String)" on controller "EventManager.Identity.STS.Identity.Controllers.AccountController<EventManager.Identity.Admin.EntityFramework.Shared.Entities.Identity.UserIdentity, string>" ("EventManager.Identity.STS.Identity").
[2020-12-30T06:26:56.1178458+00:00][INFO][32][Microsoft.EntityFrameworkCore.Infrastructure] Entity Framework Core "5.0.1" initialized '"IdentityServerConfigurationDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=EventManager.Identity.Admin.EntityFramework.SqlServer "
[2020-12-30T06:26:56.1401836+00:00][INFO][38][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("20"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c].[Id], [c].[AbsoluteRefreshTokenLifetime], [c].[AccessTokenLifetime], [c].[AccessTokenType], [c].[AllowAccessTokensViaBrowser], [c].[AllowOfflineAccess], [c].[AllowPlainTextPkce], [c].[AllowRememberConsent], [c].[AllowedIdentityTokenSigningAlgorithms], [c].[AlwaysIncludeUserClaimsInIdToken], [c].[AlwaysSendClientClaims], [c].[AuthorizationCodeLifetime], [c].[BackChannelLogoutSessionRequired], [c].[BackChannelLogoutUri], [c].[ClientClaimsPrefix], [c].[ClientId], [c].[ClientName], [c].[ClientUri], [c].[ConsentLifetime], [c].[Created], [c].[Description], [c].[DeviceCodeLifetime], [c].[EnableLocalLogin], [c].[Enabled], [c].[FrontChannelLogoutSessionRequired], [c].[FrontChannelLogoutUri], [c].[IdentityTokenLifetime], [c].[IncludeJwtId], [c].[LastAccessed], [c].[LogoUri], [c].[NonEditable], [c].[PairWiseSubjectSalt], [c].[ProtocolType], [c].[RefreshTokenExpiration], [c].[RefreshTokenUsage], [c].[RequireClientSecret], [c].[RequireConsent], [c].[RequirePkce], [c].[RequireRequestObject], [c].[SlidingRefreshTokenLifetime], [c].[UpdateAccessTokenClaimsOnRefresh], [c].[Updated], [c].[UserCodeType], [c].[UserSsoLifetime]
FROM [Clients] AS [c]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T06:26:56.2231359+00:00][INFO][30][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("6"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[Origin]
FROM [Clients] AS [c]
INNER JOIN [ClientCorsOrigins] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T06:26:56.2504368+00:00][INFO][32][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("2"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[GrantType]
FROM [Clients] AS [c]
INNER JOIN [ClientGrantTypes] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T06:26:56.2841475+00:00][INFO][30][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("23"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[Scope]
FROM [Clients] AS [c]
INNER JOIN [ClientScopes] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T06:26:56.3045134+00:00][INFO][23][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("14"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[Type], [c0].[Value]
FROM [Clients] AS [c]
INNER JOIN [ClientClaims] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T06:26:56.3373034+00:00][INFO][37][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("13"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[Created], [c0].[Description], [c0].[Expiration], [c0].[Type], [c0].[Value]
FROM [Clients] AS [c]
INNER JOIN [ClientSecrets] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T06:26:56.3747582+00:00][INFO][23][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("20"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[Provider]
FROM [Clients] AS [c]
INNER JOIN [ClientIdPRestrictions] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T06:26:56.3849245+00:00][INFO][23][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("7"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[PostLogoutRedirectUri]
FROM [Clients] AS [c]
INNER JOIN [ClientPostLogoutRedirectUris] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T06:26:56.4046941+00:00][INFO][41][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("5"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[Key], [c0].[Value]
FROM [Clients] AS [c]
INNER JOIN [ClientProperties] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T06:26:56.4153560+00:00][INFO][14][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("9"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[RedirectUri]
FROM [Clients] AS [c]
INNER JOIN [ClientRedirectUris] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T06:26:56.4363092+00:00][INFO][40][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("11"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [i].[Id], [i].[Created], [i].[Description], [i].[DisplayName], [i].[Emphasize], [i].[Enabled], [i].[Name], [i].[NonEditable], [i].[Required], [i].[ShowInDiscoveryDocument], [i].[Updated], [i0].[Id], [i0].[IdentityResourceId], [i0].[Type], [i1].[Id], [i1].[IdentityResourceId], [i1].[Key], [i1].[Value]
FROM [IdentityResources] AS [i]
LEFT JOIN [IdentityResourceClaims] AS [i0] ON [i].[Id] = [i0].[IdentityResourceId]
LEFT JOIN [IdentityResourceProperties] AS [i1] ON [i].[Id] = [i1].[IdentityResourceId]
WHERE [i].[Name] IN (N'openid', N'profile', N'email', N'roles')
ORDER BY [i].[Id], [i0].[Id], [i1].[Id]"
[2020-12-30T06:26:56.5127276+00:00][INFO][37][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("12"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [a].[Id], [a].[AllowedAccessTokenSigningAlgorithms], [a].[Created], [a].[Description], [a].[DisplayName], [a].[Enabled], [a].[LastAccessed], [a].[Name], [a].[NonEditable], [a].[ShowInDiscoveryDocument], [a].[Updated], [a0].[Id], [a0].[ApiResourceId], [a0].[Created], [a0].[Description], [a0].[Expiration], [a0].[Type], [a0].[Value], [a1].[Id], [a1].[ApiResourceId], [a1].[Scope], [a2].[Id], [a2].[ApiResourceId], [a2].[Type], [a3].[Id], [a3].[ApiResourceId], [a3].[Key], [a3].[Value]
FROM [ApiResources] AS [a]
LEFT JOIN [ApiResourceSecrets] AS [a0] ON [a].[Id] = [a0].[ApiResourceId]
LEFT JOIN [ApiResourceScopes] AS [a1] ON [a].[Id] = [a1].[ApiResourceId]
LEFT JOIN [ApiResourceClaims] AS [a2] ON [a].[Id] = [a2].[ApiResourceId]
LEFT JOIN [ApiResourceProperties] AS [a3] ON [a].[Id] = [a3].[ApiResourceId]
WHERE EXISTS (
    SELECT 1
    FROM [ApiResourceScopes] AS [a4]
    WHERE ([a].[Id] = [a4].[ApiResourceId]) AND [a4].[Scope] IN (N'openid', N'profile', N'email', N'roles'))
ORDER BY [a].[Id], [a0].[Id], [a1].[Id], [a2].[Id], [a3].[Id]"
[2020-12-30T06:26:56.5233685+00:00][INFO][14][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("7"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [a].[Id], [a].[Description], [a].[DisplayName], [a].[Emphasize], [a].[Enabled], [a].[Name], [a].[Required], [a].[ShowInDiscoveryDocument], [a0].[Id], [a0].[ScopeId], [a0].[Type], [a1].[Id], [a1].[Key], [a1].[ScopeId], [a1].[Value]
FROM [ApiScopes] AS [a]
LEFT JOIN [ApiScopeClaims] AS [a0] ON [a].[Id] = [a0].[ScopeId]
LEFT JOIN [ApiScopeProperties] AS [a1] ON [a].[Id] = [a1].[ScopeId]
WHERE [a].[Name] IN (N'openid', N'profile', N'email', N'roles')
ORDER BY [a].[Id], [a0].[Id], [a1].[Id]"
[2020-12-30T06:26:56.5831669+00:00][INFO][40][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("22"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c].[Id], [c].[AbsoluteRefreshTokenLifetime], [c].[AccessTokenLifetime], [c].[AccessTokenType], [c].[AllowAccessTokensViaBrowser], [c].[AllowOfflineAccess], [c].[AllowPlainTextPkce], [c].[AllowRememberConsent], [c].[AllowedIdentityTokenSigningAlgorithms], [c].[AlwaysIncludeUserClaimsInIdToken], [c].[AlwaysSendClientClaims], [c].[AuthorizationCodeLifetime], [c].[BackChannelLogoutSessionRequired], [c].[BackChannelLogoutUri], [c].[ClientClaimsPrefix], [c].[ClientId], [c].[ClientName], [c].[ClientUri], [c].[ConsentLifetime], [c].[Created], [c].[Description], [c].[DeviceCodeLifetime], [c].[EnableLocalLogin], [c].[Enabled], [c].[FrontChannelLogoutSessionRequired], [c].[FrontChannelLogoutUri], [c].[IdentityTokenLifetime], [c].[IncludeJwtId], [c].[LastAccessed], [c].[LogoUri], [c].[NonEditable], [c].[PairWiseSubjectSalt], [c].[ProtocolType], [c].[RefreshTokenExpiration], [c].[RefreshTokenUsage], [c].[RequireClientSecret], [c].[RequireConsent], [c].[RequirePkce], [c].[RequireRequestObject], [c].[SlidingRefreshTokenLifetime], [c].[UpdateAccessTokenClaimsOnRefresh], [c].[Updated], [c].[UserCodeType], [c].[UserSsoLifetime]
FROM [Clients] AS [c]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T06:26:56.5970612+00:00][INFO][37][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("10"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[Origin]
FROM [Clients] AS [c]
INNER JOIN [ClientCorsOrigins] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T06:26:56.6136126+00:00][INFO][39][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("14"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[GrantType]
FROM [Clients] AS [c]
INNER JOIN [ClientGrantTypes] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T06:26:56.6341531+00:00][INFO][40][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("15"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[Scope]
FROM [Clients] AS [c]
INNER JOIN [ClientScopes] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T06:26:56.6521439+00:00][INFO][40][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("8"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[Type], [c0].[Value]
FROM [Clients] AS [c]
INNER JOIN [ClientClaims] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T06:26:56.6832896+00:00][INFO][39][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("14"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[Created], [c0].[Description], [c0].[Expiration], [c0].[Type], [c0].[Value]
FROM [Clients] AS [c]
INNER JOIN [ClientSecrets] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T06:26:56.7193933+00:00][INFO][23][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("5"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[Provider]
FROM [Clients] AS [c]
INNER JOIN [ClientIdPRestrictions] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T06:26:56.7405847+00:00][INFO][41][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("5"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[PostLogoutRedirectUri]
FROM [Clients] AS [c]
INNER JOIN [ClientPostLogoutRedirectUris] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T06:26:56.7862605+00:00][INFO][41][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("31"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[Key], [c0].[Value]
FROM [Clients] AS [c]
INNER JOIN [ClientProperties] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T06:26:56.7999396+00:00][INFO][40][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("9"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[RedirectUri]
FROM [Clients] AS [c]
INNER JOIN [ClientRedirectUris] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T06:26:56.8082679+00:00][INFO][40][Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor] Executing ViewResult, running view "Login".
[2020-12-30T06:26:56.8470401+00:00][INFO][40][Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor] Executed ViewResult - view "Login" executed in 38.8169ms.
[2020-12-30T06:26:56.8480992+00:00][INFO][40][Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Executed action "EventManager.Identity.STS.Identity.Controllers.AccountController<EventManager.Identity.Admin.EntityFramework.Shared.Entities.Identity.UserIdentity, string>.Login (EventManager.Identity.STS.Identity)" in 732.9424ms
[2020-12-30T06:26:56.8490252+00:00][INFO][40][Microsoft.AspNetCore.Routing.EndpointMiddleware] Executed endpoint '"EventManager.Identity.STS.Identity.Controllers.AccountController<EventManager.Identity.Admin.EntityFramework.Shared.Entities.Identity.UserIdentity, string>.Login (EventManager.Identity.STS.Identity)"'
[2020-12-30T06:26:56.8617636+00:00][INFO][40][Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/1.1 GET http://www.em.host/Account/Login?ReturnUrl=%2Fconnect%2Fauthorize%2Fcallback%3Fclient_id%3Durn%253Aem%253Aclient%26redirect_uri%3Dhttps%253A%252F%252Fwww.em.host%252Fadmin%252Fidentity%252Fsignin-oidc%26response_type%3Dcode%26scope%3Dopenid%2520profile%2520email%2520roles%26code_challenge%3D8Twjc6Vi8hv4nkruC6AuVs4AljmZw4vIoVfukQJYngs%26code_challenge_method%3DS256%26response_mode%3Dform_post%26nonce%3D637449053877428813.YmM1NWY4YzAtNGY3Zi00NWQ0LWI2NjYtODJjYjY4ZWE0YjQ0ZDU2YTM5NTktYTRmYi00OTQ5LWI2MzktYThmMzI4Y2FkNjJm%26state%3DCfDJ8ASI9RBeE6hBsIC3rORyZw23DW4jUowpsaH3X6Cv4_y8z-heqyahC5ya1CbH-1UVEoiQJZmytxLdAQDLLjztmPq2stvRvbiBSoG6Up8LJmIrIJpXcFGAffGjrkP8rJB3ooFI5LmoqKXX8zhPA1Zj_PtJJC2Mz9ZNOCgLyxIyeTUOfFbUbwJUHebY82dXNtEw9CZdVqd3kkVBInwrGvaUSgQ0cvnzDn3_WV1YSZOZ9urZmw-2Udrjod7o21Ou7lQVTHnbKitM1yj2n_78q70kNcq6IRXq7lrdaCN8g1HXZquwB-Nj5-4k662EVLoTsj34v6kCRpK59OHPNSmE75a9qJMcAuyzTYSTtw3WbSugHiCH5Y05MQL9uQjowMtoDlxjuA%26x-client-SKU%3DID_NETSTANDARD2_0%26x-client-ver%3D5.6.0.0 - - - 200 - text/html;+charset=utf-8 756.1240ms
[2020-12-30T06:31:28.7494286+00:00][INFO][49][Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 GET http://www.em.host/Account/Login?ReturnUrl=%2Fconnect%2Fauthorize%2Fcallback%3Fclient_id%3Durn%253Aem%253Aclient%26redirect_uri%3Dhttps%253A%252F%252Fwww.em.host%252Fadmin%252Fidentity%252Fsignin-oidc%26response_type%3Dcode%26scope%3Dopenid%2520profile%2520email%2520roles%26code_challenge%3D8Twjc6Vi8hv4nkruC6AuVs4AljmZw4vIoVfukQJYngs%26code_challenge_method%3DS256%26response_mode%3Dform_post%26nonce%3D637449053877428813.YmM1NWY4YzAtNGY3Zi00NWQ0LWI2NjYtODJjYjY4ZWE0YjQ0ZDU2YTM5NTktYTRmYi00OTQ5LWI2MzktYThmMzI4Y2FkNjJm%26state%3DCfDJ8ASI9RBeE6hBsIC3rORyZw23DW4jUowpsaH3X6Cv4_y8z-heqyahC5ya1CbH-1UVEoiQJZmytxLdAQDLLjztmPq2stvRvbiBSoG6Up8LJmIrIJpXcFGAffGjrkP8rJB3ooFI5LmoqKXX8zhPA1Zj_PtJJC2Mz9ZNOCgLyxIyeTUOfFbUbwJUHebY82dXNtEw9CZdVqd3kkVBInwrGvaUSgQ0cvnzDn3_WV1YSZOZ9urZmw-2Udrjod7o21Ou7lQVTHnbKitM1yj2n_78q70kNcq6IRXq7lrdaCN8g1HXZquwB-Nj5-4k662EVLoTsj34v6kCRpK59OHPNSmE75a9qJMcAuyzTYSTtw3WbSugHiCH5Y05MQL9uQjowMtoDlxjuA%26x-client-SKU%3DID_NETSTANDARD2_0%26x-client-ver%3D5.6.0.0 - -
[2020-12-30T06:31:28.7568326+00:00][INFO][49][Microsoft.AspNetCore.Routing.EndpointMiddleware] Executing endpoint '"EventManager.Identity.STS.Identity.Controllers.AccountController<EventManager.Identity.Admin.EntityFramework.Shared.Entities.Identity.UserIdentity, string>.Login (EventManager.Identity.STS.Identity)"'
[2020-12-30T06:31:28.7575730+00:00][INFO][49][Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Route matched with "{action = \"Login\", controller = \"Account\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(System.String)" on controller "EventManager.Identity.STS.Identity.Controllers.AccountController<EventManager.Identity.Admin.EntityFramework.Shared.Entities.Identity.UserIdentity, string>" ("EventManager.Identity.STS.Identity").
[2020-12-30T06:31:28.7606125+00:00][INFO][49][Microsoft.EntityFrameworkCore.Infrastructure] Entity Framework Core "5.0.1" initialized '"IdentityServerConfigurationDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=EventManager.Identity.Admin.EntityFramework.SqlServer "
[2020-12-30T06:31:28.8035930+00:00][INFO][48][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("41"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c].[Id], [c].[AbsoluteRefreshTokenLifetime], [c].[AccessTokenLifetime], [c].[AccessTokenType], [c].[AllowAccessTokensViaBrowser], [c].[AllowOfflineAccess], [c].[AllowPlainTextPkce], [c].[AllowRememberConsent], [c].[AllowedIdentityTokenSigningAlgorithms], [c].[AlwaysIncludeUserClaimsInIdToken], [c].[AlwaysSendClientClaims], [c].[AuthorizationCodeLifetime], [c].[BackChannelLogoutSessionRequired], [c].[BackChannelLogoutUri], [c].[ClientClaimsPrefix], [c].[ClientId], [c].[ClientName], [c].[ClientUri], [c].[ConsentLifetime], [c].[Created], [c].[Description], [c].[DeviceCodeLifetime], [c].[EnableLocalLogin], [c].[Enabled], [c].[FrontChannelLogoutSessionRequired], [c].[FrontChannelLogoutUri], [c].[IdentityTokenLifetime], [c].[IncludeJwtId], [c].[LastAccessed], [c].[LogoUri], [c].[NonEditable], [c].[PairWiseSubjectSalt], [c].[ProtocolType], [c].[RefreshTokenExpiration], [c].[RefreshTokenUsage], [c].[RequireClientSecret], [c].[RequireConsent], [c].[RequirePkce], [c].[RequireRequestObject], [c].[SlidingRefreshTokenLifetime], [c].[UpdateAccessTokenClaimsOnRefresh], [c].[Updated], [c].[UserCodeType], [c].[UserSsoLifetime]
FROM [Clients] AS [c]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T06:31:28.8705339+00:00][INFO][50][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("3"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[Origin]
FROM [Clients] AS [c]
INNER JOIN [ClientCorsOrigins] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T06:31:28.9307963+00:00][INFO][54][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("27"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[GrantType]
FROM [Clients] AS [c]
INNER JOIN [ClientGrantTypes] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T06:31:28.9628504+00:00][INFO][53][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("5"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[Scope]
FROM [Clients] AS [c]
INNER JOIN [ClientScopes] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T06:31:28.9821701+00:00][INFO][48][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("2"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[Type], [c0].[Value]
FROM [Clients] AS [c]
INNER JOIN [ClientClaims] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T06:31:29.0146503+00:00][INFO][53][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("27"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[Created], [c0].[Description], [c0].[Expiration], [c0].[Type], [c0].[Value]
FROM [Clients] AS [c]
INNER JOIN [ClientSecrets] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T06:31:29.0310734+00:00][INFO][54][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("11"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[Provider]
FROM [Clients] AS [c]
INNER JOIN [ClientIdPRestrictions] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T06:31:29.0479424+00:00][INFO][48][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("14"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[PostLogoutRedirectUri]
FROM [Clients] AS [c]
INNER JOIN [ClientPostLogoutRedirectUris] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T06:31:29.0782744+00:00][INFO][48][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("3"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[Key], [c0].[Value]
FROM [Clients] AS [c]
INNER JOIN [ClientProperties] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T06:31:29.0847714+00:00][INFO][54][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("4"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[RedirectUri]
FROM [Clients] AS [c]
INNER JOIN [ClientRedirectUris] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T06:31:29.1041791+00:00][INFO][51][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("11"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [i].[Id], [i].[Created], [i].[Description], [i].[DisplayName], [i].[Emphasize], [i].[Enabled], [i].[Name], [i].[NonEditable], [i].[Required], [i].[ShowInDiscoveryDocument], [i].[Updated], [i0].[Id], [i0].[IdentityResourceId], [i0].[Type], [i1].[Id], [i1].[IdentityResourceId], [i1].[Key], [i1].[Value]
FROM [IdentityResources] AS [i]
LEFT JOIN [IdentityResourceClaims] AS [i0] ON [i].[Id] = [i0].[IdentityResourceId]
LEFT JOIN [IdentityResourceProperties] AS [i1] ON [i].[Id] = [i1].[IdentityResourceId]
WHERE [i].[Name] IN (N'openid', N'profile', N'email', N'roles')
ORDER BY [i].[Id], [i0].[Id], [i1].[Id]"
[2020-12-30T06:31:29.1624771+00:00][INFO][56][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("5"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [a].[Id], [a].[AllowedAccessTokenSigningAlgorithms], [a].[Created], [a].[Description], [a].[DisplayName], [a].[Enabled], [a].[LastAccessed], [a].[Name], [a].[NonEditable], [a].[ShowInDiscoveryDocument], [a].[Updated], [a0].[Id], [a0].[ApiResourceId], [a0].[Created], [a0].[Description], [a0].[Expiration], [a0].[Type], [a0].[Value], [a1].[Id], [a1].[ApiResourceId], [a1].[Scope], [a2].[Id], [a2].[ApiResourceId], [a2].[Type], [a3].[Id], [a3].[ApiResourceId], [a3].[Key], [a3].[Value]
FROM [ApiResources] AS [a]
LEFT JOIN [ApiResourceSecrets] AS [a0] ON [a].[Id] = [a0].[ApiResourceId]
LEFT JOIN [ApiResourceScopes] AS [a1] ON [a].[Id] = [a1].[ApiResourceId]
LEFT JOIN [ApiResourceClaims] AS [a2] ON [a].[Id] = [a2].[ApiResourceId]
LEFT JOIN [ApiResourceProperties] AS [a3] ON [a].[Id] = [a3].[ApiResourceId]
WHERE EXISTS (
    SELECT 1
    FROM [ApiResourceScopes] AS [a4]
    WHERE ([a].[Id] = [a4].[ApiResourceId]) AND [a4].[Scope] IN (N'openid', N'profile', N'email', N'roles'))
ORDER BY [a].[Id], [a0].[Id], [a1].[Id], [a2].[Id], [a3].[Id]"
[2020-12-30T06:31:29.1685555+00:00][INFO][48][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [a].[Id], [a].[Description], [a].[DisplayName], [a].[Emphasize], [a].[Enabled], [a].[Name], [a].[Required], [a].[ShowInDiscoveryDocument], [a0].[Id], [a0].[ScopeId], [a0].[Type], [a1].[Id], [a1].[Key], [a1].[ScopeId], [a1].[Value]
FROM [ApiScopes] AS [a]
LEFT JOIN [ApiScopeClaims] AS [a0] ON [a].[Id] = [a0].[ScopeId]
LEFT JOIN [ApiScopeProperties] AS [a1] ON [a].[Id] = [a1].[ScopeId]
WHERE [a].[Name] IN (N'openid', N'profile', N'email', N'roles')
ORDER BY [a].[Id], [a0].[Id], [a1].[Id]"
[2020-12-30T06:31:29.2080747+00:00][INFO][50][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("31"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c].[Id], [c].[AbsoluteRefreshTokenLifetime], [c].[AccessTokenLifetime], [c].[AccessTokenType], [c].[AllowAccessTokensViaBrowser], [c].[AllowOfflineAccess], [c].[AllowPlainTextPkce], [c].[AllowRememberConsent], [c].[AllowedIdentityTokenSigningAlgorithms], [c].[AlwaysIncludeUserClaimsInIdToken], [c].[AlwaysSendClientClaims], [c].[AuthorizationCodeLifetime], [c].[BackChannelLogoutSessionRequired], [c].[BackChannelLogoutUri], [c].[ClientClaimsPrefix], [c].[ClientId], [c].[ClientName], [c].[ClientUri], [c].[ConsentLifetime], [c].[Created], [c].[Description], [c].[DeviceCodeLifetime], [c].[EnableLocalLogin], [c].[Enabled], [c].[FrontChannelLogoutSessionRequired], [c].[FrontChannelLogoutUri], [c].[IdentityTokenLifetime], [c].[IncludeJwtId], [c].[LastAccessed], [c].[LogoUri], [c].[NonEditable], [c].[PairWiseSubjectSalt], [c].[ProtocolType], [c].[RefreshTokenExpiration], [c].[RefreshTokenUsage], [c].[RequireClientSecret], [c].[RequireConsent], [c].[RequirePkce], [c].[RequireRequestObject], [c].[SlidingRefreshTokenLifetime], [c].[UpdateAccessTokenClaimsOnRefresh], [c].[Updated], [c].[UserCodeType], [c].[UserSsoLifetime]
FROM [Clients] AS [c]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T06:31:29.2168140+00:00][INFO][51][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("4"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[Origin]
FROM [Clients] AS [c]
INNER JOIN [ClientCorsOrigins] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T06:31:29.2488342+00:00][INFO][50][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("26"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[GrantType]
FROM [Clients] AS [c]
INNER JOIN [ClientGrantTypes] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T06:31:29.2790776+00:00][INFO][53][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("26"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[Scope]
FROM [Clients] AS [c]
INNER JOIN [ClientScopes] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T06:31:29.2842279+00:00][INFO][51][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("3"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[Type], [c0].[Value]
FROM [Clients] AS [c]
INNER JOIN [ClientClaims] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T06:31:29.2949690+00:00][INFO][50][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("9"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[Created], [c0].[Description], [c0].[Expiration], [c0].[Type], [c0].[Value]
FROM [Clients] AS [c]
INNER JOIN [ClientSecrets] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T06:31:29.3103870+00:00][INFO][54][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("7"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[Provider]
FROM [Clients] AS [c]
INNER JOIN [ClientIdPRestrictions] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T06:31:29.3207069+00:00][INFO][50][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("2"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[PostLogoutRedirectUri]
FROM [Clients] AS [c]
INNER JOIN [ClientPostLogoutRedirectUris] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T06:31:29.3318567+00:00][INFO][50][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("7"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[Key], [c0].[Value]
FROM [Clients] AS [c]
INNER JOIN [ClientProperties] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T06:31:29.3443525+00:00][INFO][53][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("8"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[RedirectUri]
FROM [Clients] AS [c]
INNER JOIN [ClientRedirectUris] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T06:31:29.3536141+00:00][INFO][52][Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor] Executing ViewResult, running view "Login".
[2020-12-30T06:31:29.3626493+00:00][INFO][52][Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor] Executed ViewResult - view "Login" executed in 9.0845ms.
[2020-12-30T06:31:29.3634333+00:00][INFO][52][Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Executed action "EventManager.Identity.STS.Identity.Controllers.AccountController<EventManager.Identity.Admin.EntityFramework.Shared.Entities.Identity.UserIdentity, string>.Login (EventManager.Identity.STS.Identity)" in 605.1451ms
[2020-12-30T06:31:29.3649764+00:00][INFO][52][Microsoft.AspNetCore.Routing.EndpointMiddleware] Executed endpoint '"EventManager.Identity.STS.Identity.Controllers.AccountController<EventManager.Identity.Admin.EntityFramework.Shared.Entities.Identity.UserIdentity, string>.Login (EventManager.Identity.STS.Identity)"'
[2020-12-30T06:31:29.3724771+00:00][INFO][52][Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/1.1 GET http://www.em.host/Account/Login?ReturnUrl=%2Fconnect%2Fauthorize%2Fcallback%3Fclient_id%3Durn%253Aem%253Aclient%26redirect_uri%3Dhttps%253A%252F%252Fwww.em.host%252Fadmin%252Fidentity%252Fsignin-oidc%26response_type%3Dcode%26scope%3Dopenid%2520profile%2520email%2520roles%26code_challenge%3D8Twjc6Vi8hv4nkruC6AuVs4AljmZw4vIoVfukQJYngs%26code_challenge_method%3DS256%26response_mode%3Dform_post%26nonce%3D637449053877428813.YmM1NWY4YzAtNGY3Zi00NWQ0LWI2NjYtODJjYjY4ZWE0YjQ0ZDU2YTM5NTktYTRmYi00OTQ5LWI2MzktYThmMzI4Y2FkNjJm%26state%3DCfDJ8ASI9RBeE6hBsIC3rORyZw23DW4jUowpsaH3X6Cv4_y8z-heqyahC5ya1CbH-1UVEoiQJZmytxLdAQDLLjztmPq2stvRvbiBSoG6Up8LJmIrIJpXcFGAffGjrkP8rJB3ooFI5LmoqKXX8zhPA1Zj_PtJJC2Mz9ZNOCgLyxIyeTUOfFbUbwJUHebY82dXNtEw9CZdVqd3kkVBInwrGvaUSgQ0cvnzDn3_WV1YSZOZ9urZmw-2Udrjod7o21Ou7lQVTHnbKitM1yj2n_78q70kNcq6IRXq7lrdaCN8g1HXZquwB-Nj5-4k662EVLoTsj34v6kCRpK59OHPNSmE75a9qJMcAuyzTYSTtw3WbSugHiCH5Y05MQL9uQjowMtoDlxjuA%26x-client-SKU%3DID_NETSTANDARD2_0%26x-client-ver%3D5.6.0.0 - - - 200 - text/html;+charset=utf-8 623.0302ms
[2020-12-30T06:32:18.3976467+00:00][INFO][55][Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 GET http://www.em.host/.well-known/openid-configuration - -
[2020-12-30T06:32:18.4192339+00:00][INFO][55][IdentityServer4.Hosting.IdentityServerMiddleware] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.DiscoveryEndpoint" for "/.well-known/openid-configuration"
[2020-12-30T06:32:18.4590687+00:00][INFO][55][Microsoft.EntityFrameworkCore.Infrastructure] Entity Framework Core "5.0.1" initialized '"IdentityServerConfigurationDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=EventManager.Identity.Admin.EntityFramework.SqlServer "
[2020-12-30T06:32:18.4733417+00:00][WARN][55][Microsoft.EntityFrameworkCore.Query] Compiling a query which loads related collections for more than one collection navigation either via 'Include' or through projection but no 'QuerySplittingBehavior' has been configured. By default Entity Framework will use 'QuerySplittingBehavior.SingleQuery' which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'
[2020-12-30T06:32:18.5382260+00:00][INFO][58][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("39"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [i].[Id], [i].[Created], [i].[Description], [i].[DisplayName], [i].[Emphasize], [i].[Enabled], [i].[Name], [i].[NonEditable], [i].[Required], [i].[ShowInDiscoveryDocument], [i].[Updated], [i0].[Id], [i0].[IdentityResourceId], [i0].[Type], [i1].[Id], [i1].[IdentityResourceId], [i1].[Key], [i1].[Value]
FROM [IdentityResources] AS [i]
LEFT JOIN [IdentityResourceClaims] AS [i0] ON [i].[Id] = [i0].[IdentityResourceId]
LEFT JOIN [IdentityResourceProperties] AS [i1] ON [i].[Id] = [i1].[IdentityResourceId]
ORDER BY [i].[Id], [i0].[Id], [i1].[Id]"
[2020-12-30T06:32:18.5876483+00:00][WARN][58][Microsoft.EntityFrameworkCore.Query] Compiling a query which loads related collections for more than one collection navigation either via 'Include' or through projection but no 'QuerySplittingBehavior' has been configured. By default Entity Framework will use 'QuerySplittingBehavior.SingleQuery' which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'
[2020-12-30T06:32:18.6209420+00:00][INFO][58][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("8"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [a].[Id], [a].[AllowedAccessTokenSigningAlgorithms], [a].[Created], [a].[Description], [a].[DisplayName], [a].[Enabled], [a].[LastAccessed], [a].[Name], [a].[NonEditable], [a].[ShowInDiscoveryDocument], [a].[Updated], [a0].[Id], [a0].[ApiResourceId], [a0].[Created], [a0].[Description], [a0].[Expiration], [a0].[Type], [a0].[Value], [a1].[Id], [a1].[ApiResourceId], [a1].[Scope], [a2].[Id], [a2].[ApiResourceId], [a2].[Type], [a3].[Id], [a3].[ApiResourceId], [a3].[Key], [a3].[Value]
FROM [ApiResources] AS [a]
LEFT JOIN [ApiResourceSecrets] AS [a0] ON [a].[Id] = [a0].[ApiResourceId]
LEFT JOIN [ApiResourceScopes] AS [a1] ON [a].[Id] = [a1].[ApiResourceId]
LEFT JOIN [ApiResourceClaims] AS [a2] ON [a].[Id] = [a2].[ApiResourceId]
LEFT JOIN [ApiResourceProperties] AS [a3] ON [a].[Id] = [a3].[ApiResourceId]
ORDER BY [a].[Id], [a0].[Id], [a1].[Id], [a2].[Id], [a3].[Id]"
[2020-12-30T06:32:18.6317670+00:00][WARN][58][Microsoft.EntityFrameworkCore.Query] Compiling a query which loads related collections for more than one collection navigation either via 'Include' or through projection but no 'QuerySplittingBehavior' has been configured. By default Entity Framework will use 'QuerySplittingBehavior.SingleQuery' which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'
[2020-12-30T06:32:18.6646963+00:00][INFO][55][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("9"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [a].[Id], [a].[Description], [a].[DisplayName], [a].[Emphasize], [a].[Enabled], [a].[Name], [a].[Required], [a].[ShowInDiscoveryDocument], [a0].[Id], [a0].[ScopeId], [a0].[Type], [a1].[Id], [a1].[Key], [a1].[ScopeId], [a1].[Value]
FROM [ApiScopes] AS [a]
LEFT JOIN [ApiScopeClaims] AS [a0] ON [a].[Id] = [a0].[ScopeId]
LEFT JOIN [ApiScopeProperties] AS [a1] ON [a].[Id] = [a1].[ScopeId]
ORDER BY [a].[Id], [a0].[Id], [a1].[Id]"
[2020-12-30T06:32:19.0024548+00:00][INFO][55][Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/1.1 GET http://www.em.host/.well-known/openid-configuration - - - 200 - application/json;+charset=UTF-8 607.7406ms
[2020-12-30T06:32:19.1487893+00:00][INFO][58][Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 GET http://www.em.host/.well-known/openid-configuration/jwks - -
[2020-12-30T06:32:19.1540800+00:00][INFO][58][IdentityServer4.Hosting.IdentityServerMiddleware] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.DiscoveryKeyEndpoint" for "/.well-known/openid-configuration/jwks"
[2020-12-30T06:32:19.2872340+00:00][INFO][58][Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/1.1 GET http://www.em.host/.well-known/openid-configuration/jwks - - - 200 - application/json;+charset=UTF-8 138.3719ms
[2020-12-30T06:32:19.4167636+00:00][INFO][57][Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 GET http://www.em.host/connect/authorize?client_id=urn%3Aem%3Aclient&redirect_uri=https%3A%2F%2Fwww.em.host%2Fadmin%2Fidentity%2Fsignin-oidc&response_type=code&scope=openid%20profile%20email%20roles&code_challenge=Cms36iTpdrPMFDJ6N-jEoRCC5M0BnThuPONdQbTF0U4&code_challenge_method=S256&response_mode=form_post&nonce=637449067393288423.NDg3ODY1NmQtYWU3YS00MzBhLTg3NzktZjQzMzM0ZDlkOTgyODUxMDEwZjItYmQxYy00MTkwLTlhY2YtN2Q2YzQzOTZmNzc0&state=CfDJ8ASI9RBeE6hBsIC3rORyZw3jG70bwUlbJerYXxTGXfeLyL9Q1l4ed0kvIEbKC1XLI-5uGVW9qk6C_h1YSk-LLM9myKhdN7maPNFJR2URK7Jl4E8-6bTgYisGL257DTPzJxmYqgxCVGJzBRMYZ821gT2TrocKS8cutPsYBAnJ8Me_gxcyoC2FseD5SlXUJKkN5H9ZG648qZ-pJwB3bhFSuvFLKju5NZ9Sf6s_8LytZCm0Y35u5Tz_00r0U5NuCqr5yhNQiUEsza_LBoiGG8f81OT0hF0D75LiT4vaz8Fsf1GbDVJRuEhG4HSnKJ8CcrR-Sdxpuyrv7JfJulXIgN_d1kkZsR2OU6SayHe-GeXel6hq12fY7VRKpCJpSNqY3Gkm3A&x-client-SKU=ID_NETSTANDARD2_0&x-client-ver=5.6.0.0 - -
[2020-12-30T06:32:19.4259021+00:00][INFO][57][IdentityServer4.Hosting.IdentityServerMiddleware] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize"
[2020-12-30T06:32:19.4498041+00:00][INFO][57][Microsoft.EntityFrameworkCore.Infrastructure] Entity Framework Core "5.0.1" initialized '"IdentityServerConfigurationDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=EventManager.Identity.Admin.EntityFramework.SqlServer "
[2020-12-30T06:32:19.5044819+00:00][INFO][58][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("36"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c].[Id], [c].[AbsoluteRefreshTokenLifetime], [c].[AccessTokenLifetime], [c].[AccessTokenType], [c].[AllowAccessTokensViaBrowser], [c].[AllowOfflineAccess], [c].[AllowPlainTextPkce], [c].[AllowRememberConsent], [c].[AllowedIdentityTokenSigningAlgorithms], [c].[AlwaysIncludeUserClaimsInIdToken], [c].[AlwaysSendClientClaims], [c].[AuthorizationCodeLifetime], [c].[BackChannelLogoutSessionRequired], [c].[BackChannelLogoutUri], [c].[ClientClaimsPrefix], [c].[ClientId], [c].[ClientName], [c].[ClientUri], [c].[ConsentLifetime], [c].[Created], [c].[Description], [c].[DeviceCodeLifetime], [c].[EnableLocalLogin], [c].[Enabled], [c].[FrontChannelLogoutSessionRequired], [c].[FrontChannelLogoutUri], [c].[IdentityTokenLifetime], [c].[IncludeJwtId], [c].[LastAccessed], [c].[LogoUri], [c].[NonEditable], [c].[PairWiseSubjectSalt], [c].[ProtocolType], [c].[RefreshTokenExpiration], [c].[RefreshTokenUsage], [c].[RequireClientSecret], [c].[RequireConsent], [c].[RequirePkce], [c].[RequireRequestObject], [c].[SlidingRefreshTokenLifetime], [c].[UpdateAccessTokenClaimsOnRefresh], [c].[Updated], [c].[UserCodeType], [c].[UserSsoLifetime]
FROM [Clients] AS [c]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T06:32:19.5426967+00:00][INFO][53][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("4"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[Origin]
FROM [Clients] AS [c]
INNER JOIN [ClientCorsOrigins] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T06:32:19.5710578+00:00][INFO][53][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("14"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[GrantType]
FROM [Clients] AS [c]
INNER JOIN [ClientGrantTypes] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T06:32:19.5846044+00:00][INFO][53][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("10"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[Scope]
FROM [Clients] AS [c]
INNER JOIN [ClientScopes] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T06:32:19.6002076+00:00][INFO][58][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("12"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[Type], [c0].[Value]
FROM [Clients] AS [c]
INNER JOIN [ClientClaims] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T06:32:19.6685724+00:00][INFO][53][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("29"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[Created], [c0].[Description], [c0].[Expiration], [c0].[Type], [c0].[Value]
FROM [Clients] AS [c]
INNER JOIN [ClientSecrets] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T06:32:19.7024714+00:00][INFO][59][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("32"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[Provider]
FROM [Clients] AS [c]
INNER JOIN [ClientIdPRestrictions] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T06:32:19.7401381+00:00][INFO][53][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("23"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[PostLogoutRedirectUri]
FROM [Clients] AS [c]
INNER JOIN [ClientPostLogoutRedirectUris] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T06:32:19.7525089+00:00][INFO][63][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("10"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[Key], [c0].[Value]
FROM [Clients] AS [c]
INNER JOIN [ClientProperties] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T06:32:19.7660858+00:00][INFO][62][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("10"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[RedirectUri]
FROM [Clients] AS [c]
INNER JOIN [ClientRedirectUris] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T06:32:19.8490454+00:00][INFO][53][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("36"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [i].[Id], [i].[Created], [i].[Description], [i].[DisplayName], [i].[Emphasize], [i].[Enabled], [i].[Name], [i].[NonEditable], [i].[Required], [i].[ShowInDiscoveryDocument], [i].[Updated], [i0].[Id], [i0].[IdentityResourceId], [i0].[Type], [i1].[Id], [i1].[IdentityResourceId], [i1].[Key], [i1].[Value]
FROM [IdentityResources] AS [i]
LEFT JOIN [IdentityResourceClaims] AS [i0] ON [i].[Id] = [i0].[IdentityResourceId]
LEFT JOIN [IdentityResourceProperties] AS [i1] ON [i].[Id] = [i1].[IdentityResourceId]
WHERE [i].[Name] IN (N'openid', N'profile', N'email', N'roles')
ORDER BY [i].[Id], [i0].[Id], [i1].[Id]"
[2020-12-30T06:32:19.8836427+00:00][INFO][53][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("29"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [a].[Id], [a].[AllowedAccessTokenSigningAlgorithms], [a].[Created], [a].[Description], [a].[DisplayName], [a].[Enabled], [a].[LastAccessed], [a].[Name], [a].[NonEditable], [a].[ShowInDiscoveryDocument], [a].[Updated], [a0].[Id], [a0].[ApiResourceId], [a0].[Created], [a0].[Description], [a0].[Expiration], [a0].[Type], [a0].[Value], [a1].[Id], [a1].[ApiResourceId], [a1].[Scope], [a2].[Id], [a2].[ApiResourceId], [a2].[Type], [a3].[Id], [a3].[ApiResourceId], [a3].[Key], [a3].[Value]
FROM [ApiResources] AS [a]
LEFT JOIN [ApiResourceSecrets] AS [a0] ON [a].[Id] = [a0].[ApiResourceId]
LEFT JOIN [ApiResourceScopes] AS [a1] ON [a].[Id] = [a1].[ApiResourceId]
LEFT JOIN [ApiResourceClaims] AS [a2] ON [a].[Id] = [a2].[ApiResourceId]
LEFT JOIN [ApiResourceProperties] AS [a3] ON [a].[Id] = [a3].[ApiResourceId]
WHERE EXISTS (
    SELECT 1
    FROM [ApiResourceScopes] AS [a4]
    WHERE ([a].[Id] = [a4].[ApiResourceId]) AND [a4].[Scope] IN (N'openid', N'profile', N'email', N'roles'))
ORDER BY [a].[Id], [a0].[Id], [a1].[Id], [a2].[Id], [a3].[Id]"
[2020-12-30T06:32:19.9387758+00:00][INFO][63][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("22"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [a].[Id], [a].[Description], [a].[DisplayName], [a].[Emphasize], [a].[Enabled], [a].[Name], [a].[Required], [a].[ShowInDiscoveryDocument], [a0].[Id], [a0].[ScopeId], [a0].[Type], [a1].[Id], [a1].[Key], [a1].[ScopeId], [a1].[Value]
FROM [ApiScopes] AS [a]
LEFT JOIN [ApiScopeClaims] AS [a0] ON [a].[Id] = [a0].[ScopeId]
LEFT JOIN [ApiScopeProperties] AS [a1] ON [a].[Id] = [a1].[ScopeId]
WHERE [a].[Name] IN (N'openid', N'profile', N'email', N'roles')
ORDER BY [a].[Id], [a0].[Id], [a1].[Id]"
[2020-12-30T06:32:19.9577782+00:00][INFO][63][IdentityServer4.ResponseHandling.AuthorizeInteractionResponseGenerator] Showing login: User is not authenticated
[2020-12-30T06:32:19.9668495+00:00][INFO][63][Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/1.1 GET http://www.em.host/connect/authorize?client_id=urn%3Aem%3Aclient&redirect_uri=https%3A%2F%2Fwww.em.host%2Fadmin%2Fidentity%2Fsignin-oidc&response_type=code&scope=openid%20profile%20email%20roles&code_challenge=Cms36iTpdrPMFDJ6N-jEoRCC5M0BnThuPONdQbTF0U4&code_challenge_method=S256&response_mode=form_post&nonce=637449067393288423.NDg3ODY1NmQtYWU3YS00MzBhLTg3NzktZjQzMzM0ZDlkOTgyODUxMDEwZjItYmQxYy00MTkwLTlhY2YtN2Q2YzQzOTZmNzc0&state=CfDJ8ASI9RBeE6hBsIC3rORyZw3jG70bwUlbJerYXxTGXfeLyL9Q1l4ed0kvIEbKC1XLI-5uGVW9qk6C_h1YSk-LLM9myKhdN7maPNFJR2URK7Jl4E8-6bTgYisGL257DTPzJxmYqgxCVGJzBRMYZ821gT2TrocKS8cutPsYBAnJ8Me_gxcyoC2FseD5SlXUJKkN5H9ZG648qZ-pJwB3bhFSuvFLKju5NZ9Sf6s_8LytZCm0Y35u5Tz_00r0U5NuCqr5yhNQiUEsza_LBoiGG8f81OT0hF0D75LiT4vaz8Fsf1GbDVJRuEhG4HSnKJ8CcrR-Sdxpuyrv7JfJulXIgN_d1kkZsR2OU6SayHe-GeXel6hq12fY7VRKpCJpSNqY3Gkm3A&x-client-SKU=ID_NETSTANDARD2_0&x-client-ver=5.6.0.0 - - - 302 0 - 550.0640ms
[2020-12-30T06:32:20.0056917+00:00][INFO][53][Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 GET http://www.em.host/Account/Login?ReturnUrl=%2Fconnect%2Fauthorize%2Fcallback%3Fclient_id%3Durn%253Aem%253Aclient%26redirect_uri%3Dhttps%253A%252F%252Fwww.em.host%252Fadmin%252Fidentity%252Fsignin-oidc%26response_type%3Dcode%26scope%3Dopenid%2520profile%2520email%2520roles%26code_challenge%3DCms36iTpdrPMFDJ6N-jEoRCC5M0BnThuPONdQbTF0U4%26code_challenge_method%3DS256%26response_mode%3Dform_post%26nonce%3D637449067393288423.NDg3ODY1NmQtYWU3YS00MzBhLTg3NzktZjQzMzM0ZDlkOTgyODUxMDEwZjItYmQxYy00MTkwLTlhY2YtN2Q2YzQzOTZmNzc0%26state%3DCfDJ8ASI9RBeE6hBsIC3rORyZw3jG70bwUlbJerYXxTGXfeLyL9Q1l4ed0kvIEbKC1XLI-5uGVW9qk6C_h1YSk-LLM9myKhdN7maPNFJR2URK7Jl4E8-6bTgYisGL257DTPzJxmYqgxCVGJzBRMYZ821gT2TrocKS8cutPsYBAnJ8Me_gxcyoC2FseD5SlXUJKkN5H9ZG648qZ-pJwB3bhFSuvFLKju5NZ9Sf6s_8LytZCm0Y35u5Tz_00r0U5NuCqr5yhNQiUEsza_LBoiGG8f81OT0hF0D75LiT4vaz8Fsf1GbDVJRuEhG4HSnKJ8CcrR-Sdxpuyrv7JfJulXIgN_d1kkZsR2OU6SayHe-GeXel6hq12fY7VRKpCJpSNqY3Gkm3A%26x-client-SKU%3DID_NETSTANDARD2_0%26x-client-ver%3D5.6.0.0 - -
[2020-12-30T06:32:20.0078453+00:00][INFO][53][Microsoft.AspNetCore.Routing.EndpointMiddleware] Executing endpoint '"EventManager.Identity.STS.Identity.Controllers.AccountController<EventManager.Identity.Admin.EntityFramework.Shared.Entities.Identity.UserIdentity, string>.Login (EventManager.Identity.STS.Identity)"'
[2020-12-30T06:32:20.0095137+00:00][INFO][53][Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Route matched with "{action = \"Login\", controller = \"Account\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(System.String)" on controller "EventManager.Identity.STS.Identity.Controllers.AccountController<EventManager.Identity.Admin.EntityFramework.Shared.Entities.Identity.UserIdentity, string>" ("EventManager.Identity.STS.Identity").
[2020-12-30T06:32:20.0224724+00:00][INFO][53][Microsoft.EntityFrameworkCore.Infrastructure] Entity Framework Core "5.0.1" initialized '"IdentityServerConfigurationDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=EventManager.Identity.Admin.EntityFramework.SqlServer "
[2020-12-30T06:32:20.0999813+00:00][INFO][63][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("44"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c].[Id], [c].[AbsoluteRefreshTokenLifetime], [c].[AccessTokenLifetime], [c].[AccessTokenType], [c].[AllowAccessTokensViaBrowser], [c].[AllowOfflineAccess], [c].[AllowPlainTextPkce], [c].[AllowRememberConsent], [c].[AllowedIdentityTokenSigningAlgorithms], [c].[AlwaysIncludeUserClaimsInIdToken], [c].[AlwaysSendClientClaims], [c].[AuthorizationCodeLifetime], [c].[BackChannelLogoutSessionRequired], [c].[BackChannelLogoutUri], [c].[ClientClaimsPrefix], [c].[ClientId], [c].[ClientName], [c].[ClientUri], [c].[ConsentLifetime], [c].[Created], [c].[Description], [c].[DeviceCodeLifetime], [c].[EnableLocalLogin], [c].[Enabled], [c].[FrontChannelLogoutSessionRequired], [c].[FrontChannelLogoutUri], [c].[IdentityTokenLifetime], [c].[IncludeJwtId], [c].[LastAccessed], [c].[LogoUri], [c].[NonEditable], [c].[PairWiseSubjectSalt], [c].[ProtocolType], [c].[RefreshTokenExpiration], [c].[RefreshTokenUsage], [c].[RequireClientSecret], [c].[RequireConsent], [c].[RequirePkce], [c].[RequireRequestObject], [c].[SlidingRefreshTokenLifetime], [c].[UpdateAccessTokenClaimsOnRefresh], [c].[Updated], [c].[UserCodeType], [c].[UserSsoLifetime]
FROM [Clients] AS [c]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T06:32:20.1576062+00:00][INFO][53][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("2"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[Origin]
FROM [Clients] AS [c]
INNER JOIN [ClientCorsOrigins] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T06:32:20.1646630+00:00][INFO][58][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("4"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[GrantType]
FROM [Clients] AS [c]
INNER JOIN [ClientGrantTypes] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T06:32:20.1691130+00:00][INFO][63][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("2"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[Scope]
FROM [Clients] AS [c]
INNER JOIN [ClientScopes] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T06:32:20.1868491+00:00][INFO][62][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("4"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[Type], [c0].[Value]
FROM [Clients] AS [c]
INNER JOIN [ClientClaims] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T06:32:20.1916562+00:00][INFO][63][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("2"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[Created], [c0].[Description], [c0].[Expiration], [c0].[Type], [c0].[Value]
FROM [Clients] AS [c]
INNER JOIN [ClientSecrets] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T06:32:20.2152478+00:00][INFO][58][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("5"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[Provider]
FROM [Clients] AS [c]
INNER JOIN [ClientIdPRestrictions] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T06:32:20.2239539+00:00][INFO][57][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("4"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[PostLogoutRedirectUri]
FROM [Clients] AS [c]
INNER JOIN [ClientPostLogoutRedirectUris] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T06:32:20.2403584+00:00][INFO][63][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("9"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[Key], [c0].[Value]
FROM [Clients] AS [c]
INNER JOIN [ClientProperties] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T06:32:20.2572085+00:00][INFO][65][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("12"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[RedirectUri]
FROM [Clients] AS [c]
INNER JOIN [ClientRedirectUris] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T06:32:20.2845475+00:00][INFO][57][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("9"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [i].[Id], [i].[Created], [i].[Description], [i].[DisplayName], [i].[Emphasize], [i].[Enabled], [i].[Name], [i].[NonEditable], [i].[Required], [i].[ShowInDiscoveryDocument], [i].[Updated], [i0].[Id], [i0].[IdentityResourceId], [i0].[Type], [i1].[Id], [i1].[IdentityResourceId], [i1].[Key], [i1].[Value]
FROM [IdentityResources] AS [i]
LEFT JOIN [IdentityResourceClaims] AS [i0] ON [i].[Id] = [i0].[IdentityResourceId]
LEFT JOIN [IdentityResourceProperties] AS [i1] ON [i].[Id] = [i1].[IdentityResourceId]
WHERE [i].[Name] IN (N'openid', N'profile', N'email', N'roles')
ORDER BY [i].[Id], [i0].[Id], [i1].[Id]"
[2020-12-30T06:32:20.3474583+00:00][INFO][57][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("43"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [a].[Id], [a].[AllowedAccessTokenSigningAlgorithms], [a].[Created], [a].[Description], [a].[DisplayName], [a].[Enabled], [a].[LastAccessed], [a].[Name], [a].[NonEditable], [a].[ShowInDiscoveryDocument], [a].[Updated], [a0].[Id], [a0].[ApiResourceId], [a0].[Created], [a0].[Description], [a0].[Expiration], [a0].[Type], [a0].[Value], [a1].[Id], [a1].[ApiResourceId], [a1].[Scope], [a2].[Id], [a2].[ApiResourceId], [a2].[Type], [a3].[Id], [a3].[ApiResourceId], [a3].[Key], [a3].[Value]
FROM [ApiResources] AS [a]
LEFT JOIN [ApiResourceSecrets] AS [a0] ON [a].[Id] = [a0].[ApiResourceId]
LEFT JOIN [ApiResourceScopes] AS [a1] ON [a].[Id] = [a1].[ApiResourceId]
LEFT JOIN [ApiResourceClaims] AS [a2] ON [a].[Id] = [a2].[ApiResourceId]
LEFT JOIN [ApiResourceProperties] AS [a3] ON [a].[Id] = [a3].[ApiResourceId]
WHERE EXISTS (
    SELECT 1
    FROM [ApiResourceScopes] AS [a4]
    WHERE ([a].[Id] = [a4].[ApiResourceId]) AND [a4].[Scope] IN (N'openid', N'profile', N'email', N'roles'))
ORDER BY [a].[Id], [a0].[Id], [a1].[Id], [a2].[Id], [a3].[Id]"
[2020-12-30T06:32:20.3612259+00:00][INFO][53][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("7"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [a].[Id], [a].[Description], [a].[DisplayName], [a].[Emphasize], [a].[Enabled], [a].[Name], [a].[Required], [a].[ShowInDiscoveryDocument], [a0].[Id], [a0].[ScopeId], [a0].[Type], [a1].[Id], [a1].[Key], [a1].[ScopeId], [a1].[Value]
FROM [ApiScopes] AS [a]
LEFT JOIN [ApiScopeClaims] AS [a0] ON [a].[Id] = [a0].[ScopeId]
LEFT JOIN [ApiScopeProperties] AS [a1] ON [a].[Id] = [a1].[ScopeId]
WHERE [a].[Name] IN (N'openid', N'profile', N'email', N'roles')
ORDER BY [a].[Id], [a0].[Id], [a1].[Id]"
[2020-12-30T06:32:20.3769898+00:00][INFO][58][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("12"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c].[Id], [c].[AbsoluteRefreshTokenLifetime], [c].[AccessTokenLifetime], [c].[AccessTokenType], [c].[AllowAccessTokensViaBrowser], [c].[AllowOfflineAccess], [c].[AllowPlainTextPkce], [c].[AllowRememberConsent], [c].[AllowedIdentityTokenSigningAlgorithms], [c].[AlwaysIncludeUserClaimsInIdToken], [c].[AlwaysSendClientClaims], [c].[AuthorizationCodeLifetime], [c].[BackChannelLogoutSessionRequired], [c].[BackChannelLogoutUri], [c].[ClientClaimsPrefix], [c].[ClientId], [c].[ClientName], [c].[ClientUri], [c].[ConsentLifetime], [c].[Created], [c].[Description], [c].[DeviceCodeLifetime], [c].[EnableLocalLogin], [c].[Enabled], [c].[FrontChannelLogoutSessionRequired], [c].[FrontChannelLogoutUri], [c].[IdentityTokenLifetime], [c].[IncludeJwtId], [c].[LastAccessed], [c].[LogoUri], [c].[NonEditable], [c].[PairWiseSubjectSalt], [c].[ProtocolType], [c].[RefreshTokenExpiration], [c].[RefreshTokenUsage], [c].[RequireClientSecret], [c].[RequireConsent], [c].[RequirePkce], [c].[RequireRequestObject], [c].[SlidingRefreshTokenLifetime], [c].[UpdateAccessTokenClaimsOnRefresh], [c].[Updated], [c].[UserCodeType], [c].[UserSsoLifetime]
FROM [Clients] AS [c]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T06:32:20.3957145+00:00][INFO][63][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("6"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[Origin]
FROM [Clients] AS [c]
INNER JOIN [ClientCorsOrigins] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T06:32:20.4084798+00:00][INFO][57][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("9"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[GrantType]
FROM [Clients] AS [c]
INNER JOIN [ClientGrantTypes] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T06:32:20.4359154+00:00][INFO][53][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("4"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[Scope]
FROM [Clients] AS [c]
INNER JOIN [ClientScopes] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T06:32:20.4455256+00:00][INFO][64][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("7"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[Type], [c0].[Value]
FROM [Clients] AS [c]
INNER JOIN [ClientClaims] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T06:32:20.4570980+00:00][INFO][61][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("1"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[Created], [c0].[Description], [c0].[Expiration], [c0].[Type], [c0].[Value]
FROM [Clients] AS [c]
INNER JOI[2020-12-30T06:54:00.9960516+00:00][INFO][1][Microsoft.EntityFrameworkCore.Infrastructure] Entity Framework Core "5.0.1" initialized '"IdentityServerDataProtectionDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=EventManager.Identity.Admin.EntityFramework.SqlServer "
[2020-12-30T06:54:02.8792939+00:00][INFO][1][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("54"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [d].[Id], [d].[FriendlyName], [d].[Xml]
FROM [DataProtectionKeys] AS [d]"
[2020-12-30T06:54:03.1426980+00:00][INFO][1][IdentityServer4.Startup] Starting IdentityServer4 version "4.1.1+cebd52f5bc61bdefc262fd20739d4d087c6f961f"
[2020-12-30T06:54:03.2292966+00:00][INFO][1][IdentityServer4.Startup] Using the default authentication scheme "Identity.Application" for IdentityServer
[2020-12-30T06:54:03.8078196+00:00][INFO][1][Microsoft.Hosting.Lifetime] Now listening on: "http://[::]:50003"
[2020-12-30T06:54:03.8270271+00:00][INFO][1][Microsoft.Hosting.Lifetime] Application started. Press Ctrl+C to shut down.
[2020-12-30T06:54:03.8325120+00:00][INFO][1][Microsoft.Hosting.Lifetime] Hosting environment: "Development"
[2020-12-30T06:54:03.8358712+00:00][INFO][1][Microsoft.Hosting.Lifetime] Content root path: "/app"
[2020-12-30T06:56:24.5727625+00:00][INFO][14][Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 GET http://www.em.host/.well-known/openid-configuration - -
[2020-12-30T06:56:24.6786795+00:00][INFO][14][IdentityServer4.Hosting.IdentityServerMiddleware] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.DiscoveryEndpoint" for "/.well-known/openid-configuration"
[2020-12-30T06:56:25.2555891+00:00][INFO][14][Microsoft.EntityFrameworkCore.Infrastructure] Entity Framework Core "5.0.1" initialized '"IdentityServerConfigurationDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=EventManager.Identity.Admin.EntityFramework.SqlServer "
[2020-12-30T06:56:25.4745371+00:00][WARN][14][Microsoft.EntityFrameworkCore.Query] Compiling a query which loads related collections for more than one collection navigation either via 'Include' or through projection but no 'QuerySplittingBehavior' has been configured. By default Entity Framework will use 'QuerySplittingBehavior.SingleQuery' which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'
[2020-12-30T06:56:25.6198816+00:00][INFO][15][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("68"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [i].[Id], [i].[Created], [i].[Description], [i].[DisplayName], [i].[Emphasize], [i].[Enabled], [i].[Name], [i].[NonEditable], [i].[Required], [i].[ShowInDiscoveryDocument], [i].[Updated], [i0].[Id], [i0].[IdentityResourceId], [i0].[Type], [i1].[Id], [i1].[IdentityResourceId], [i1].[Key], [i1].[Value]
FROM [IdentityResources] AS [i]
LEFT JOIN [IdentityResourceClaims] AS [i0] ON [i].[Id] = [i0].[IdentityResourceId]
LEFT JOIN [IdentityResourceProperties] AS [i1] ON [i].[Id] = [i1].[IdentityResourceId]
ORDER BY [i].[Id], [i0].[Id], [i1].[Id]"
[2020-12-30T06:56:25.7722729+00:00][WARN][15][Microsoft.EntityFrameworkCore.Query] Compiling a query which loads related collections for more than one collection navigation either via 'Include' or through projection but no 'QuerySplittingBehavior' has been configured. By default Entity Framework will use 'QuerySplittingBehavior.SingleQuery' which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'
[2020-12-30T06:56:25.8459839+00:00][INFO][15][Microsoft.EntityFrameworkCore.Datab[2020-12-30T07:05:17.1341795+00:00][INFO][1][Microsoft.EntityFrameworkCore.Infrastructure] Entity Framework Core "5.0.1" initialized '"IdentityServerDataProtectionDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=EventManager.Identity.Admin.EntityFramework.SqlServer "
[2020-12-30T07:05:19.6779643+00:00][INFO][1][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("62"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [d].[Id], [d].[FriendlyName], [d].[Xml]
FROM [DataProtectionKeys] AS [d]"
[2020-12-30T07:05:19.9134100+00:00][INFO][1][IdentityServer4.Startup] Starting IdentityServer4 version "4.1.1+cebd52f5bc61bdefc262fd20739d4d087c6f961f"
[2020-12-30T07:05:20.0494795+00:00][INFO][1][IdentityServer4.Startup] Using the default authentication scheme "Identity.Application" for IdentityServer
[2020-12-30T07:05:20.7882826+00:00][INFO][1][Microsoft.Hosting.Lifetime] Now listening on: "http://[::]:50003"
[2020-12-30T07:05:20.7902897+00:00][INFO][1][Microsoft.Hosting.Lifetime] Application started. Press Ctrl+C to shut down.
[2020-12-30T07:05:20.7968023+00:00][INFO][1][Microsoft.Hosting.Lifetime] Hosting environment: "Development"
[2020-12-30T07:05:20.7976119+00:00][INFO][1][Microsoft.Hosting.Lifetime] Content root path: "/app"
[2020-12-30T07:05:47.8308831+00:00][INFO][13][Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 GET http://www.em.host/.well-known/openid-configuration - -
[2020-12-30T07:05:47.9247005+00:00][INFO][13][IdentityServer4.Hosting.IdentityServerMiddleware] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.DiscoveryEndpoint" for "/.well-known/openid-configuration"
[2020-12-30T07:05:48.4558732+00:00][INFO][13][Microsoft.EntityFrameworkCore.Infrastructure] Entity Framework Core "5.0.1" initialized '"IdentityServerConfigurationDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=EventManager.Identity.Admin.EntityFramework.SqlServer "
[2020-12-30T07:05:48.6373594+00:00][WARN][13][Microsoft.EntityFrameworkCore.Query] Compiling a query which loads related collections for more than one collection navigation either via 'Include' or through projection but no 'QuerySplittingBehavior' has been configured. By default Entity Framework will use 'QuerySplittingBehavior.SingleQuery' which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'
[2020-12-30T07:05:48.7357767+00:00][INFO][7][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("26"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [i].[Id], [i].[Created], [i].[Description], [i].[DisplayName], [i].[Emphasize], [i].[Enabled], [i].[Name], [i].[NonEditable], [i].[Required], [i].[ShowInDiscoveryDocument], [i].[Updated], [i0].[Id], [i0].[IdentityResourceId], [i0].[Type], [i1].[Id], [i1].[IdentityResourceId], [i1].[Key], [i1].[Value]
FROM [IdentityResources] AS [i]
LEFT JOIN [IdentityResourceClaims] AS [i0] ON [i].[Id] = [i0].[IdentityResourceId]
LEFT JOIN [IdentityResourceProperties] AS [i1] ON [i].[Id] = [i1].[IdentityResourceId]
ORDER BY [i].[Id], [i0].[Id], [i1].[Id]"
[2020-12-30T07:05:48.9388658+00:00][WARN][7][Microsoft.EntityFrameworkCore.Query] Compiling a query which loads related collections for more than one collection navigation either via 'Include' or through projection but no 'QuerySplittingBehavior' has been configured. By default Entity Framework will use 'QuerySplittingBehavior.SingleQuery' which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'
[2020-12-30T07:05:49.0006492+00:00][INFO][12][Microsoft.EntityFrameworkCore.Databas[2020-12-30T07:07:41.9261607+00:00][INFO][1][Microsoft.EntityFrameworkCore.Infrastructure] Entity Framework Core "5.0.1" initialized '"IdentityServerDataProtectionDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=EventManager.Identity.Admin.EntityFramework.SqlServer "
[2020-12-30T07:07:44.1510450+00:00][INFO][1][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("104"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [d].[Id], [d].[FriendlyName], [d].[Xml]
FROM [DataProtectionKeys] AS [d]"
[2020-12-30T07:07:44.4432727+00:00][INFO][1][IdentityServer4.Startup] Starting IdentityServer4 version "4.1.1+cebd52f5bc61bdefc262fd20739d4d087c6f961f"
[2020-12-30T07:07:44.5926063+00:00][INFO][1][IdentityServer4.Startup] Using the default authentication scheme "Identity.Application" for IdentityServer
[2020-12-30T07:07:45.5794053+00:00][INFO][1][Microsoft.Hosting.Lifetime] Now listening on: "http://[::]:50003"
[2020-12-30T07:07:45.5808175+00:00][INFO][1][Microsoft.Hosting.Lifetime] Application started. Press Ctrl+C to shut down.
[2020-12-30T07:07:45.5819403+00:00][INFO][1][Microsoft.Hosting.Lifetime] Hosting environment: "Development"
[2020-12-30T07:07:45.5826656+00:00][INFO][1][Microsoft.Hosting.Lifetime] Content root path: "/app"
[2020-12-30T07:11:03.8995043+00:00][INFO][13][Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 GET http://www.em.host/.well-known/openid-configuration - -
[2020-12-30T07:11:04.0101155+00:00][INFO][13][IdentityServer4.Hosting.IdentityServerMiddleware] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.DiscoveryEndpoint" for "/.well-known/openid-configuration"
[2020-12-30T07:11:04.5071804+00:00][INFO][13][Microsoft.EntityFrameworkCore.Infrastructure] Entity Framework Core "5.0.1" initialized '"IdentityServerConfigurationDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=EventManager.Identity.Admin.EntityFramework.SqlServer "
[2020-12-30T07:11:04.6974229+00:00][WARN][13][Microsoft.EntityFrameworkCore.Query] Compiling a query which loads related collections for more than one collection navigation either via 'Include' or through projection but no 'QuerySplittingBehavior' has been configured. By default Entity Framework will use 'QuerySplittingBehavior.SingleQuery' which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'
[2020-12-30T07:11:04.7885550+00:00][INFO][14][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("25"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [i].[Id], [i].[Created], [i].[Description], [i].[DisplayName], [i].[Emphasize], [i].[Enabled], [i].[Name], [i].[NonEditable], [i].[Required], [i].[ShowInDiscoveryDocument], [i].[Updated], [i0].[Id], [i0].[IdentityResourceId], [i0].[Type], [i1].[Id], [i1].[IdentityResourceId], [i1].[Key], [i1].[Value]
FROM [IdentityResources] AS [i]
LEFT JOIN [IdentityResourceClaims] AS [i0] ON [i].[Id] = [i0].[IdentityResourceId]
LEFT JOIN [IdentityResourceProperties] AS [i1] ON [i].[Id] = [i1].[IdentityResourceId]
ORDER BY [i].[Id], [i0].[Id], [i1].[Id]"
[2020-12-30T07:11:04.9997213+00:00][WARN][14][Microsoft.EntityFrameworkCore.Query] Compiling a query which loads related collections for more than one collection navigation either via 'Include' or through projection but no 'QuerySplittingBehavior' has been configured. By default Entity Framework will use 'QuerySplittingBehavior.SingleQuery' which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'
[2020-12-30T07:11:05.0412443+00:00][INFO][13][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("8"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [a].[Id], [a].[AllowedAccessTokenSigningAlgorithms], [a].[Created], [a].[Description], [a].[DisplayName], [a].[Enabled], [a].[LastAccessed], [a].[Name], [a].[NonEditable], [a].[ShowInDiscoveryDocument], [a].[Updated], [a0].[Id], [a0].[ApiResourceId], [a0].[Created], [a0].[Description], [a0].[Expiration], [a0].[Type], [a0].[Value], [a1].[Id], [a1].[ApiResourceId], [a1].[Scope], [a2].[Id], [a2].[ApiResourceId], [a2].[Type], [a3].[Id], [a3].[ApiResourceId], [a3].[Key], [a3].[Value]
FROM [ApiResources] AS [a]
LEFT JOIN [ApiResourceSecrets] AS [a0] ON [a].[Id] = [a0].[ApiResourceId]
LEFT JOIN [ApiResourceScopes] AS [a1] ON [a].[Id] = [a1].[ApiResourceId]
LEFT JOIN [ApiResourceClaims] AS [a2] ON [a].[Id] = [a2].[ApiResourceId]
LEFT JOIN [ApiResourceProperties] AS [a3] ON [a].[Id] = [a3].[ApiResourceId]
ORDER BY [a].[Id], [a0].[Id], [a1].[Id], [a2].[Id], [a3].[Id]"
[2020-12-30T07:11:05.0616977+00:00][WARN][13][Microsoft.EntityFrameworkCore.Query] Compiling a query which loads related collections for more than one collection navigation either via 'Include' or through projection but no 'QuerySplittingBehavior' has been configured. By default Entity Framework will use 'QuerySplittingBehavior.SingleQuery' which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'
[2020-12-30T07:11:05.0912733+00:00][INFO][12][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("4"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [a].[Id], [a].[Description], [a].[DisplayName], [a].[Emphasize], [a].[Enabled], [a].[Name], [a].[Required], [a].[ShowInDiscoveryDocument], [a0].[Id], [a0].[ScopeId], [a0].[Type], [a1].[Id], [a1].[Key], [a1].[ScopeId], [a1].[Value]
FROM [ApiScopes] AS [a]
LEFT JOIN [ApiScopeClaims] AS [a0] ON [a].[Id] = [a0].[ScopeId]
LEFT JOIN [ApiScopeProperties] AS [a1] ON [a].[Id] = [a1].[ScopeId]
ORDER BY [a].[Id], [a0].[Id], [a1].[Id]"
[2020-12-30T07:11:05.7965840+00:00][INFO][12][Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/1.1 GET http://www.em.host/.well-known/openid-configuration - - - 200 - application/json;+charset=UTF-8 1896.2922ms
[2020-12-30T07:11:05.9932085+00:00][INFO][4][Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 GET http://www.em.host/.well-known/openid-configuration/jwks - -
[2020-12-30T07:11:06.0097736+00:00][INFO][4][IdentityServer4.Hosting.IdentityServerMiddleware] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.DiscoveryKeyEndpoint" for "/.well-known/openid-configuration/jwks"
[2020-12-30T07:11:06.2061571+00:00][INFO][4][Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/1.1 GET http://www.em.host/.well-known/openid-configuration/jwks - - - 200 - application/json;+charset=UTF-8 207.6393ms
[2020-12-30T07:11:06.3535807+00:00][INFO][16][Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 GET http://www.em.host/connect/authorize?client_id=urn%3Aem%3Aclient&redirect_uri=https%3A%2F%2Fwww.em.host%2Fadmin%2Fidentity%2Fsignin-oidc&response_type=code&scope=openid%20profile%20email%20roles&code_challenge=1hOciXXcFqw5vR9FPFXVY4ZZJ5C1TWAkdK8Gma0G8bM&code_challenge_method=S256&response_mode=form_post&nonce=637449090662500307.ODIxNDQyYzMtMjA3Ny00NDE2LWI3MGYtZWIyZjUwYTNhNWIyMWRiMTcwYTgtYzk5Mi00MGJkLWIwMTMtZDdkNTUzZDU2ZTlj&state=CfDJ8ASI9RBeE6hBsIC3rORyZw0pWPPOWrq4bBQC5Xr4HvktUJDjN5heBDjfXPPV6P9C-14Dldf-zOlS0JerCt-4wSR_Bw9gg3VfsESm1khMmZi-R6EaQJhvH2WEArwZC_fML0v-qmB_7_fMqVJg5_LjgHX01UT5E05Iae6nHLQJxiu70dmh0pDm0zqIxYFgVA9exIa8Qm_seLdcmQfax_ckVR_3egOXZ-RtoWQq5vQh1o5yqXTLUn5BGS-qMIujlP2GmtZaDYwM9ukWm4bjBMK-1aAXwFIhswnKOlGsB4tcNmXC4tYYORU3pttlR36sXEOXsSLbyuElIR4U4Au6lhisWEFvHCbzU8FcsdxlO8Yd6jtUuWpyOMiJ-X7nxIJ1mRVs7A&x-client-SKU=ID_NETSTANDARD2_0&x-client-ver=5.6.0.0 - -
[2020-12-30T07:11:06.4825573+00:00][INFO][16][IdentityServer4.Hosting.IdentityServerMiddleware] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize"
[2020-12-30T07:11:06.5180524+00:00][INFO][16][Microsoft.EntityFrameworkCore.Infrastructure] Entity Framework Core "5.0.1" initialized '"IdentityServerConfigurationDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=EventManager.Identity.Admin.EntityFramework.SqlServer "
[2020-12-30T07:11:06.6040953+00:00][INFO][15][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("23"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c].[Id], [c].[AbsoluteRefreshTokenLifetime], [c].[AccessTokenLifetime], [c].[AccessTokenType], [c].[AllowAccessTokensViaBrowser], [c].[AllowOfflineAccess], [c].[AllowPlainTextPkce], [c].[AllowRememberConsent], [c].[AllowedIdentityTokenSigningAlgorithms], [c].[AlwaysIncludeUserClaimsInIdToken], [c].[AlwaysSendClientClaims], [c].[AuthorizationCodeLifetime], [c].[BackChannelLogoutSessionRequired], [c].[BackChannelLogoutUri], [c].[ClientClaimsPrefix], [c].[ClientId], [c].[ClientName], [c].[ClientUri], [c].[ConsentLifetime], [c].[Created], [c].[Description], [c].[DeviceCodeLifetime], [c].[EnableLocalLogin], [c].[Enabled], [c].[FrontChannelLogoutSessionRequired], [c].[FrontChannelLogoutUri], [c].[IdentityTokenLifetime], [c].[IncludeJwtId], [c].[LastAccessed], [c].[LogoUri], [c].[NonEditable], [c].[PairWiseSubjectSalt], [c].[ProtocolType], [c].[RefreshTokenExpiration], [c].[RefreshTokenUsage], [c].[RequireClientSecret], [c].[RequireConsent], [c].[RequirePkce], [c].[RequireRequestObject], [c].[SlidingRefreshTokenLifetime], [c].[UpdateAccessTokenClaimsOnRefresh], [c].[Updated], [c].[UserCodeType], [c].[UserSsoLifetime]
FROM [Clients] AS [c]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T07:11:06.8046011+00:00][INFO][12][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("39"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[Origin]
FROM [Clients] AS [c]
INNER JOIN [ClientCorsOrigins] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T07:11:06.8344770+00:00][INFO][15][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("6"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[GrantType]
FROM [Clients] AS [c]
INNER JOIN [ClientGrantTypes] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T07:11:06.8753641+00:00][INFO][15][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("5"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[Scope]
FROM [Clients] AS [c]
INNER JOIN [ClientScopes] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T07:11:06.9065936+00:00][INFO][10][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("8"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[Type], [c0].[Value]
FROM [Clients] AS [c]
INNER JOIN [ClientClaims] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T07:11:06.9313841+00:00][INFO][10][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("7"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[Created], [c0].[Description], [c0].[Expiration], [c0].[Type], [c0].[Value]
FROM [Clients] AS [c]
INNER JOIN [ClientSecrets] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T07:11:06.9812494+00:00][INFO][10][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("8"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[Provider]
FROM [Clients] AS [c]
INNER JOIN [ClientIdPRestrictions] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T07:11:07.0083320+00:00][INFO][13][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("8"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[PostLogoutRedirectUri]
FROM [Clients] AS [c]
INNER JOIN [ClientPostLogoutRedirectUris] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T07:11:07.0473145+00:00][INFO][4][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("6"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[Key], [c0].[Value]
FROM [Clients] AS [c]
INNER JOIN [ClientProperties] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T07:11:07.0723097+00:00][INFO][15][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("8"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[RedirectUri]
FROM [Clients] AS [c]
INNER JOIN [ClientRedirectUris] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T07:11:07.3330511+00:00][WARN][15][Microsoft.EntityFrameworkCore.Query] Compiling a query which loads related collections for more than one collection navigation either via 'Include' or through projection but no 'QuerySplittingBehavior' has been configured. By default Entity Framework will use 'QuerySplittingBehavior.SingleQuery' which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'
[2020-12-30T07:11:07.3759080+00:00][INFO][17][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("9"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [i].[Id], [i].[Created], [i].[Description], [i].[DisplayName], [i].[Emphasize], [i].[Enabled], [i].[Name], [i].[NonEditable], [i].[Required], [i].[ShowInDiscoveryDocument], [i].[Updated], [i0].[Id], [i0].[IdentityResourceId], [i0].[Type], [i1].[Id], [i1].[IdentityResourceId], [i1].[Key], [i1].[Value]
FROM [IdentityResources] AS [i]
LEFT JOIN [IdentityResourceClaims] AS [i0] ON [i].[Id] = [i0].[IdentityResourceId]
LEFT JOIN [IdentityResourceProperties] AS [i1] ON [i].[Id] = [i1].[IdentityResourceId]
WHERE [i].[Name] IN (N'openid', N'profile', N'email', N'roles')
ORDER BY [i].[Id], [i0].[Id], [i1].[Id]"
[2020-12-30T07:11:07.4305462+00:00][WARN][17][Microsoft.EntityFrameworkCore.Query] Compiling a query which loads related collections for more than one collection navigation either via 'Include' or through projection but no 'QuerySplittingBehavior' has been configured. By default Entity Framework will use 'QuerySplittingBehavior.SingleQuery' which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'
[2020-12-30T07:11:07.4885877+00:00][INFO][4][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("15"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [a].[Id], [a].[AllowedAccessTokenSigningAlgorithms], [a].[Created], [a].[Description], [a].[DisplayName], [a].[Enabled], [a].[LastAccessed], [a].[Name], [a].[NonEditable], [a].[ShowInDiscoveryDocument], [a].[Updated], [a0].[Id], [a0].[ApiResourceId], [a0].[Created], [a0].[Description], [a0].[Expiration], [a0].[Type], [a0].[Value], [a1].[Id], [a1].[ApiResourceId], [a1].[Scope], [a2].[Id], [a2].[ApiResourceId], [a2].[Type], [[2020-12-30T07:27:01.1580081+00:00][INFO][1][Microsoft.EntityFrameworkCore.Infrastructure] Entity Framework Core "5.0.1" initialized '"IdentityServerDataProtectionDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=EventManager.Identity.Admin.EntityFramework.SqlServer "
[2020-12-30T07:27:02.8393041+00:00][INFO][1][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("45"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [d].[Id], [d].[FriendlyName], [d].[Xml]
FROM [DataProtectionKeys] AS [d]"
[2020-12-30T07:27:03.1122613+00:00][INFO][1][IdentityServer4.Startup] Starting IdentityServer4 version "4.1.1+cebd52f5bc61bdefc262fd20739d4d087c6f961f"
[2020-12-30T07:27:03.1955084+00:00][INFO][1][IdentityServer4.Startup] Using the default authentication scheme "Identity.Application" for IdentityServer
[2020-12-30T07:27:03.7625944+00:00][INFO][1][Microsoft.Hosting.Lifetime] Now listening on: "http://[::]:50003"
[2020-12-30T07:27:03.7642113+00:00][INFO][1][Microsoft.Hosting.Lifetime] Application started. Press Ctrl+C to shut down.
[2020-12-30T07:27:03.7655189+00:00][INFO][1][Microsoft.Hosting.Lifetime] Hosting environment: "Development"
[2020-12-30T07:27:03.7681750+00:00][INFO][1][Microsoft.Hosting.Lifetime] Content root path: "/app"
[2020-12-30T07:27:54.2568012+00:00][INFO][13][Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 GET http://www.em.host/.well-known/openid-configuration - -
[2020-12-30T07:27:54.3403534+00:00][INFO][13][IdentityServer4.Hosting.IdentityServerMiddleware] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.DiscoveryEndpoint" for "/.well-known/openid-configuration"
[2020-12-30T07:27:54.8300941+00:00][INFO][13][Microsoft.EntityFrameworkCore.Infrastructure] Entity Framework Core "5.0.1" initialized '"IdentityServerConfigurationDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=EventManager.Identity.Admin.EntityFramework.SqlServer "
[2020-12-30T07:27:55.0316705+00:00][WARN][13][Microsoft.EntityFrameworkCore.Query] Compiling a query which loads related collections for more than one collection navigation either via 'Include' or through projection but no 'QuerySplittingBehavior' has been configured. By default Entity Framework will use 'QuerySplittingBehavior.SingleQuery' which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'
[2020-12-30T07:27:55.1394121+00:00][INFO][12][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("22"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [i].[Id], [i].[Created], [i].[Description], [i].[DisplayName], [i].[Emphasize], [i].[Enabled], [i].[Name], [i].[NonEditable], [i].[Required], [i].[ShowInDiscoveryDocument], [i].[Updated], [i0].[Id], [i0].[IdentityResourceId], [i0].[Type], [i1].[Id], [i1].[IdentityResourceId], [i1].[Key], [i1].[Value]
FROM [IdentityResources] AS [i]
LEFT JOIN [IdentityResourceClaims] AS [i0] ON [i].[Id] = [i0].[IdentityResourceId]
LEFT JOIN [IdentityResourceProperties] AS [i1] ON [i].[Id] = [i1].[IdentityResourceId]
ORDER BY [i].[Id], [i0].[Id], [i1].[Id]"
[2020-12-30T07:27:55.3047913+00:00][WARN][12][Microsoft.EntityFrameworkCore.Query] Compiling a query which loads related collections for more than one collection navigation either via 'Include' or through projection but no 'QuerySplittingBehavior' has been configured. By default Entity Framework will use 'QuerySplittingBehavior.SingleQuery' which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'
[2020-12-30T07:27:55.3577468+00:00][INFO][14][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("9"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [a].[Id], [a].[AllowedAccessTokenSigningAlgorithms], [a].[Created], [a].[Description], [a].[DisplayName], [a].[Enabled], [a].[LastAccessed], [a].[Name], [a].[NonEditable], [a].[ShowInDiscoveryDocument], [a].[Updated], [a0].[Id], [a0].[ApiResourceId], [a0].[Created], [a0].[Description], [a0].[Expiration], [a0].[Type], [a0].[Value], [a1].[Id], [a1].[ApiResourceId], [a1].[Scope], [a2].[Id], [a2].[ApiResourceId], [a2].[Type], [a3].[Id], [a3].[ApiResourceId], [a3].[Key], [a3].[Value]
FROM [ApiResources] AS [a]
LEFT JOIN [ApiResourceSecrets] AS [a0] ON [a].[Id] = [a0].[ApiResourceId]
LEFT JOIN [ApiResourceScopes] AS [a1] ON [a].[Id] = [a1].[ApiResourceId]
LEFT JOIN [ApiResourceClaims] AS [a2] ON [a].[Id] = [a2].[ApiResourceId]
LEFT JOIN [ApiResourceProperties] AS [a3] ON [a].[Id] = [a3].[ApiResourceId]
ORDER BY [a].[Id], [a0].[Id], [a1].[Id], [a2].[Id], [a3].[Id]"
[2020-12-30T07:27:55.3765628+00:00][WARN][14][Microsoft.EntityFrameworkCore.Query] Compiling a query which loads related collections for more than one collection navigation either via 'Include' or through projection but no 'QuerySplittingBehavior' has been configured. By default Entity Framework will use 'QuerySplittingBehavior.SingleQuery' which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'
[2020-12-30T07:27:55.4024014+00:00][INFO][12][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [a].[Id], [a].[Description], [a].[DisplayName], [a].[Emphasize], [a].[Enabled], [a].[Name], [a].[Required], [a].[ShowInDiscoveryDocument], [a0].[Id], [a0].[ScopeId], [a0].[Type], [a1].[Id], [a1].[Key], [a1].[ScopeId], [a1].[Value]
FROM [ApiScopes] AS [a]
LEFT JOIN [ApiScopeClaims] AS [a0] ON [a].[Id] = [a0].[ScopeId]
LEFT JOIN [ApiScopeProperties] AS [a1] ON [a].[Id] = [a1].[ScopeId]
ORDER BY [a].[Id], [a0].[Id], [a1].[Id]"
[2020-12-30T07:27:55.9718517+00:00][INFO][12][Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/1.1 GET http://www.em.host/.well-known/openid-configuration - - - 200 - application/json;+charset=UTF-8 1712.4753ms
[2020-12-30T07:27:56.1010985+00:00][INFO][13][Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 GET http://www.em.host/.well-known/openid-configuration/jwks - -
[2020-12-30T07:27:56.1084595+00:00][INFO][13][IdentityServer4.Hosting.IdentityServerMiddleware] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.DiscoveryKeyEndpoint" for "/.well-known/openid-configuration/jwks"
[2020-12-30T07:27:56.1733295+00:00][INFO][13][Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/1.1 GET http://www.em.host/.well-known/openid-configuration/jwks - - - 200 - application/json;+charset=UTF-8 72.2325ms
[2020-12-30T07:27:56.3131947+00:00][INFO][7][Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 GET http://www.em.host/connect/authorize?client_id=urn%3Aem%3Aclient&redirect_uri=https%3A%2F%2Fwww.em.host%2Fadmin%2Fidentity%2Fsignin-oidc&response_type=code&scope=openid%20profile%20email%20roles&code_challenge=gslMgzzDcINFCdYpZ2AuNUGsdiMkrTWNl_Q-EkbrglA&code_challenge_method=S256&response_mode=form_post&nonce=637449100762210164.NTA1NzE3YWQtMDMyNy00NDMxLTlkM2UtNDI3NDk4YWYxNjc0Njg0OTBhMzctZGI2Yy00ZWYyLTg4YzctYzk5Yzc4YzYyOGE3&state=CfDJ8ASI9RBeE6hBsIC3rORyZw3mdSSi5sqoNXKGENmuW5eFR0rmO_jLqC6LF35K8PmwXq2dDvnW7zMrQmjVysBUnNL4iiIOYTDBqbkXXHIRJRDdUPdG6f8DDklOyZUIRe72KwTJrKeDYWTSGVqNrgTBJmsMfYJYqO8II5JvRhXwRq7kDJQIUtvycHLMGOfsZb-hshje2EKrTW7Q_OEU2PW8CMzasKlFK_9JnLU43CDYOpN1siT8tFwHcnto3gQl5BcICQMmm5Pac7PEjXurqIs8MOaA6b5p7AF2KDgdgoSHySs0BQWGJErs9YQaZJ3EaXTLc0B3EAyQUBAovpCgZz49V7ViH5mUIiDu1ubg0zzb8SVy-n9LHhOHbJB6tz_0P-7yFQ&x-client-SKU=ID_NETSTANDARD2_0&x-client-ver=5.6.0.0 - -
[2020-12-30T07:27:56.3694485+00:00][INFO][7][IdentityServer4.Hosting.IdentityServerMiddleware] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize"
[2020-12-30T07:27:56.4075497+00:00][INFO][7][Microsoft.EntityFrameworkCore.Infrastructure] Entity Framework Core "5.0.1" initialized '"IdentityServerConfigurationDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=EventManager.Identity.Admin.EntityFramework.SqlServer "
[2020-12-30T07:27:56.4656522+00:00][INFO][12][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("21"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c].[Id], [c].[AbsoluteRefreshTokenLifetime], [c].[AccessTokenLifetime], [c].[AccessTokenType], [c].[AllowAccessTokensViaBrowser], [c].[AllowOfflineAccess], [c].[AllowPlainTextPkce], [c].[AllowRememberConsent], [c].[AllowedIdentityTokenSigningAlgorithms], [c].[AlwaysIncludeUserClaimsInIdToken], [c].[AlwaysSendClientClaims], [c].[AuthorizationCodeLifetime], [c].[BackChannelLogoutSessionRequired], [c].[BackChannelLogoutUri], [c].[ClientClaimsPrefix], [c].[ClientId], [c].[ClientName], [c].[ClientUri], [c].[ConsentLifetime], [c].[Created], [c].[Description], [c].[DeviceCodeLifetime], [c].[EnableLocalLogin], [c].[Enabled], [c].[FrontChannelLogoutSessionRequired], [c].[FrontChannelLogoutUri], [c].[IdentityTokenLifetime], [c].[IncludeJwtId], [c].[LastAccessed], [c].[LogoUri], [c].[NonEditable], [c].[PairWiseSubjectSalt], [c].[ProtocolType], [c].[RefreshTokenExpiration], [c].[RefreshTokenUsage], [c].[RequireClientSecret], [c].[RequireConsent], [c].[RequirePkce], [c].[RequireRequestObject], [c].[SlidingRefreshTokenLifetime], [c].[UpdateAccessTokenClaimsOnRefresh], [c].[Updated], [c].[UserCodeType], [c].[UserSsoLifetime]
FROM [Clients] AS [c]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T07:27:56.5985230+00:00][INFO][7][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("3"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[Origin]
FROM [Clients] AS [c]
INNER JOIN [ClientCorsOrigins] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T07:27:56.6321837+00:00][INFO][7][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("4"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[GrantType]
FROM [Clients] AS [c]
INNER JOIN [ClientGrantTypes] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T07:27:56.6550612+00:00][INFO][12][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("3"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[Scope]
FROM [Clients] AS [c]
INNER JOIN [ClientScopes] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T07:27:56.7032127+00:00][INFO][7][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("2"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[Type], [c0].[Value]
FROM [Clients] AS [c]
INNER JOIN [ClientClaims] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T07:27:56.7213362+00:00][INFO][12][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("2"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[Created], [c0].[Description], [c0].[Expiration], [c0].[Type], [c0].[Value]
FROM [Clients] AS [c]
INNER JOIN [ClientSecrets] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T07:27:56.7590858+00:00][INFO][14][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("1"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[Provider]
FROM [Clients] AS [c]
INNER JOIN [ClientIdPRestrictions] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T07:27:56.8010477+00:00][INFO][12][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("22"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[PostLogoutRedirectUri]
FROM [Clients] AS [c]
INNER JOIN [ClientPostLogoutRedirectUris] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T07:27:56.8298895+00:00][INFO][7][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("2"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[Key], [c0].[Value]
FROM [Clients] AS [c]
INNER JOIN [ClientProperties] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T07:27:56.8541613+00:00][INFO][14][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("5"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[RedirectUri]
FROM [Clients] AS [c]
INNER JOIN [ClientRedirectUris] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T07:27:57.2023829+00:00][WARN][14][Microsoft.EntityFrameworkCore.Query] Compiling a query which loads related collections for more than one collection navigation either via 'Include' or through projection but no 'QuerySplittingBehavior' has been configured. By default Entity Framework will use 'QuerySplittingBehavior.SingleQuery' which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'
[2020-12-30T07:27:57.2529340+00:00][INFO][12][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("25"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [i].[Id], [i].[Created], [i].[Description], [i].[DisplayName], [i].[Emphasize], [i].[Enabled], [i].[Name], [i].[NonEditable], [i].[Required], [i].[ShowInDiscoveryDocument], [i].[Updated], [i0].[Id], [i0].[IdentityResourceId], [i0].[Type], [i1].[Id], [i1].[IdentityResourceId], [i1].[Key], [i1].[Value]
FROM [IdentityResources] AS [i]
LEFT JOIN [IdentityResourceClaims] AS [i0] ON [i].[Id] = [i0].[IdentityResourceId]
LEFT JOIN [IdentityResourceProperties] AS [i1] ON [i].[Id] = [i1].[IdentityResourceId]
WHERE [i].[Name] IN (N'openid', N'profile', N'email', N'roles')
ORDER BY [i].[Id], [i0].[Id], [i1].[Id]"
[2020-12-30T07:27:57.2903817+00:00][WARN][12][Microsoft.EntityFrameworkCore.Query] Compiling a query which loads related collections for more than one collection navigation either via 'Include' or through projection but no 'QuerySplittingBehavior' has been configured. By default Entity Framework will use 'QuerySplittingBehavior.SingleQuery' which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'
[2020-12-30T07:27:57.3379103+00:00][INFO][15][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("4"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [a].[Id], [a].[AllowedAccessTokenSigningAlgorithms], [a].[Created], [a].[Description], [a].[DisplayName], [a].[Enabled], [a].[LastAccessed], [a].[Name], [a].[NonEditable], [a].[ShowInDiscoveryDocument], [a].[Updated], [a0].[Id], [a0].[ApiResourceId], [a0].[Created], [a0].[Description], [a0].[Expiration], [a0].[Type], [a0].[Value], [a1].[Id], [a1].[ApiResourceId], [a1].[Scope], [a2].[Id], [a2].[ApiResourceId], [a2].[Type], [a3].[Id], [a3].[ApiResourceId], [a3].[Key], [a3].[Value]
FROM [ApiResources] AS [a]
LEFT JOIN [ApiResourceSecrets] AS [a0] ON [a].[Id] = [a0].[ApiResourceId]
LEFT JOIN [ApiResourceScopes] AS [a1] ON [a].[Id] = [a1].[ApiResourceId]
LEFT JOIN [ApiResourceClaims] AS [a2] ON [a].[Id] = [a2].[ApiResourceId]
LEFT JOIN [ApiResourceProperties] AS [a3] ON [a].[Id] = [a3].[ApiResourceId]
WHERE EXISTS (
    SELECT 1
    FROM [ApiResourceScopes] AS [a4]
    WHERE ([a].[Id] = [a4].[ApiResourceId]) AND [a4].[Scope] IN (N'openid', N'profile', N'email', N'roles'))
ORDER BY [a].[Id], [a0].[Id], [a1].[Id], [a2].[Id], [a3].[Id]"
[2020-12-30T07:27:57.3735393+00:00][WARN][15][Microsoft.EntityFrameworkCore.Query] Compiling a query which loads related collections for more than one collection navigation either via 'Include' or through projection but no 'QuerySplittingBehavior' has been configured. By default Entity Framework will use 'QuerySplittingBehavior.SingleQuery' which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'
[2020-12-30T07:27:57.3945263+00:00][INFO][12][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [a].[Id], [a].[Description], [a].[DisplayName], [a].[Emphasize], [a].[Enabled], [a].[Name], [a].[Required], [a].[ShowInDiscoveryDocument], [a0].[Id], [a0].[ScopeId], [a0].[Type], [a1].[Id], [a1].[Key], [a1].[ScopeId], [a1].[Value]
FROM [ApiScopes] AS [a]
LEFT JOIN [ApiScopeClaims] AS [a0] ON [a].[Id] = [a0].[ScopeId]
LEFT JOIN [ApiScopeProperties] AS [a1] ON [a].[Id] = [a1].[ScopeId]
WHERE [a].[Name] IN (N'openid', N'profile', N'email', N'roles')
ORDER BY [a].[Id], [a0].[Id], [a1].[Id]"
[2020-12-30T07:27:57.4357345+00:00][INFO][12][IdentityServer4.ResponseHandling.AuthorizeInteractionResponseGenerator] Showing login: User is not authenticated
[2020-12-30T07:27:57.4501842+00:00][INFO][12][Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/1.1 GET http://www.em.host/connect/authorize?client_id=urn%3Aem%3Aclient&redirect_uri=https%3A%2F%2Fwww.em.host%2Fadmin%2Fidentity%2Fsignin-oidc&response_type=code&scope=openid%20profile%20email%20roles&code_challenge=gslMgzzDcINFCdYpZ2AuNUGsdiMkrTWNl_Q-EkbrglA&code_challenge_method=S256&response_mode=form_post&nonce=637449100762210164.NTA1NzE3YWQtMDMyNy00NDMxLTlkM2UtNDI3NDk4YWYxNjc0Njg0OTBhMzctZGI2Yy00ZWYyLTg4YzctYzk5Yzc4YzYyOGE3&state=CfDJ8ASI9RBeE6hBsIC3rORyZw3mdSSi5sqoNXKGENmuW5eFR0rmO_jLqC6LF35K8PmwXq2dDvnW7zMrQmjVysBUnNL4iiIOYTDBqbkXXHIRJRDdUPdG6f8DDklOyZUIRe72KwTJrKeDYWTSGVqNrgTBJmsMfYJYqO8II5JvRhXwRq7kDJQIUtvycHLMGOfsZb-hshje2EKrTW7Q_OEU2PW8CMzasKlFK_9JnLU43CDYOpN1siT8tFwHcnto3gQl5BcICQMmm5Pac7PEjXurqIs8MOaA6b5p7AF2KDgdgoSHySs0BQWGJErs9YQaZJ3EaXTLc0B3EAyQUBAovpCgZz49V7ViH5mUIiDu1ubg0zzb8SVy-n9LHhOHbJB6tz_0P-7yFQ&x-client-SKU=ID_NETSTANDARD2_0&x-client-ver=5.6.0.0 - - - 302 0 - 1137.0072ms
[2020-12-30T07:28:50.9243797+00:00][INFO][19][Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 GET http://www.em.host/Account/Login?ReturnUrl=%2Fconnect%2Fauthorize%2Fcallback%3Fclient_id%3Durn%253Aem%253Aclient%26redirect_uri%3Dhttps%253A%252F%252Fwww.em.host%252Fadmin%252Fidentity%252Fsignin-oidc%26response_type%3Dcode%26scope%3Dopenid%2520profile%2520email%2520roles%26code_challenge%3DgslMgzzDcINFCdYpZ2AuNUGsdiMkrTWNl_Q-EkbrglA%26code_challenge_method%3DS256%26response_mode%3Dform_post%26nonce%3D637449100762210164.NTA1NzE3YWQtMDMyNy00NDMxLTlkM2UtNDI3NDk4YWYxNjc0Njg0OTBhMzctZGI2Yy00ZWYyLTg4YzctYzk5Yzc4YzYyOGE3%26state%3DCfDJ8ASI9RBeE6hBsIC3rORyZw3mdSSi5sqoNXKGENmuW5eFR0rmO_jLqC6LF35K8PmwXq2dDvnW7zMrQmjVysBUnNL4iiIOYTDBqbkXXHIRJRDdUPdG6f8DDklOyZUIRe72KwTJrKeDYWTSGVqNrgTBJmsMfYJYqO8II5JvRhXwRq7kDJQIUtvycHLMGOfsZb-hshje2EKrTW7Q_OEU2PW8CMzasKlFK_9JnLU43CDYOpN1siT8tFwHcnto3gQl5BcICQMmm5Pac7PEjXurqIs8MOaA6b5p7AF2KDgdgoSHySs0BQWGJErs9YQaZJ3EaXTLc0B3EAyQUBAovpCgZz49V7ViH5mUIiDu1ubg0zzb8SVy-n9LHhOHbJB6tz_0P-7yFQ%26x-client-SKU%3DID_NETSTANDARD2_0%26x-client-ver%3D5.6.0.0 - -
[2020-12-30T07:28:51.0236466+00:00][INFO][19][Microsoft.AspNetCore.Routing.EndpointMiddleware] Executing endpoint '"EventManager.Identity.STS.Identity.Controllers.AccountController<EventManager.Identity.Admin.EntityFramework.Shared.Entities.Identity.UserIdentity, string>.Login (EventManager.Identity.STS.Identity)"'
[2020-12-30T07:28:51.0811784+00:00][INFO][19][Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Route matched with "{action = \"Login\", controller = \"Account\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(System.String)" on controller "EventManager.Identity.STS.Identity.Controllers.AccountController<EventManager.Identity.Admin.EntityFramework.Shared.Entities.Identity.UserIdentity, string>" ("EventManager.Identity.STS.Identity").
[2020-12-30T07:28:51.1293177+00:00][INFO][19][Microsoft.EntityFrameworkCore.Infrastructure] Entity Framework Core "5.0.1" initialized '"IdentityServerConfigurationDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=EventManager.Identity.Admin.EntityFramework.SqlServer "
[2020-12-30T07:28:51.1816099+00:00][INFO][18][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("23"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c].[Id], [c].[AbsoluteRefreshTokenLifetime], [c].[AccessTokenLifetime], [c].[AccessTokenType], [c].[AllowAccessTokensViaBrowser], [c].[AllowOfflineAccess], [c].[AllowPlainTextPkce], [c].[AllowRememberConsent], [c].[AllowedIdentityTokenSigningAlgorithms], [c].[AlwaysIncludeUserClaimsInIdToken], [c].[AlwaysSendClientClaims], [c].[AuthorizationCodeLifetime], [c].[BackChannelLogoutSessionRequired], [c].[BackChannelLogoutUri], [c].[ClientClaimsPrefix], [c].[ClientId], [c].[ClientName], [c].[ClientUri], [c].[ConsentLifetime], [c].[Created], [c].[Description], [c].[DeviceCodeLifetime], [c].[EnableLocalLogin], [c].[Enabled], [c].[FrontChannelLogoutSessionRequired], [c].[FrontChannelLogoutUri], [c].[IdentityTokenLifetime], [c].[IncludeJwtId], [c].[LastAccessed], [c].[LogoUri], [c].[NonEditable], [c].[PairWiseSubjectSalt], [c].[ProtocolType], [c].[RefreshTokenExpiration], [c].[RefreshTokenUsage], [c].[RequireClientSecret], [c].[RequireConsent], [c].[RequirePkce], [c].[RequireRequestObject], [c].[SlidingRefreshTokenLifetime], [c].[UpdateAccessTokenClaimsOnRefresh], [c].[Updated], [c].[UserCodeType], [c].[UserSsoLifetime]
FROM [Clients] AS [c]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T07:28:51.2191057+00:00][INFO][17][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("3"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[Origin]
FROM [Clients] AS [c]
INNER JOIN [ClientCorsOrigins] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T07:28:51.2377734+00:00][INFO][12][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("14"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[GrantType]
FROM [Clients] AS [c]
INNER JOIN [ClientGrantTypes] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T07:28:51.2470415+00:00][INFO][18][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("4"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[Scope]
FROM [Clients] AS [c]
INNER JOIN [ClientScopes] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T07:28:51.2950286+00:00][INFO][12][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("3"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[Type], [c0].[Value]
FROM [Clients] AS [c]
INNER JOIN [ClientClaims] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T07:28:51.3055575+00:00][INFO][18][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("6"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[Created], [c0].[Description], [c0].[Expiration], [c0].[Type], [c0].[Value]
FROM [Clients] AS [c]
INNER JOIN [ClientSecrets] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T07:28:51.3580284+00:00][INFO][17][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("22"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[Provider]
FROM [Clients] AS [c]
INNER JOIN [ClientIdPRestrictions] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T07:28:51.4246363+00:00][INFO][12][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("22"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[PostLogoutRedirectUri]
FROM [Clients] AS [c]
INNER JOIN [ClientPostLogoutRedirectUris] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T07:28:51.4603771+00:00][INFO][17][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("6"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[Key], [c0].[Value]
FROM [Clients] AS [c]
INNER JOIN [ClientProperties] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T07:28:51.5115680+00:00][INFO][18][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("22"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[RedirectUri]
FROM [Clients] AS [c]
INNER JOIN [ClientRedirectUris] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T07:28:51.5331680+00:00][INFO][12][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [i].[Id], [i].[Created], [i].[Description], [i].[DisplayName], [i].[Emphasize], [i].[Enabled], [i].[Name], [i].[NonEditable], [i].[Required], [i].[ShowInDiscoveryDocument], [i].[Updated], [i0].[Id], [i0].[IdentityResourceId], [i0].[Type], [i1].[Id], [i1].[IdentityResourceId], [i1].[Key], [i1].[Value]
FROM [IdentityResources] AS [i]
LEFT JOIN [IdentityResourceClaims] AS [i0] ON [i].[Id] = [i0].[IdentityResourceId]
LEFT JOIN [IdentityResourceProperties] AS [i1] ON [i].[Id] = [i1].[IdentityResourceId]
WHERE [i].[Name] IN (N'openid', N'profile', N'email', N'roles')
ORDER BY [i].[Id], [i0].[Id], [i1].[Id]"
[2020-12-30T07:28:51.5963333+00:00][INFO][12][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [a].[Id], [a].[AllowedAccessTokenSigningAlgorithms], [a].[Created], [a].[Description], [a].[DisplayName], [a].[Enabled], [a].[LastAccessed], [a].[Name], [a].[NonEditable], [a].[ShowInDiscoveryDocument], [a].[Updated], [a0].[Id], [a0].[ApiResourceId], [a0].[Created], [a0].[Description], [a0].[Expiration], [a0].[Type], [a0].[Value], [a1].[Id], [a1].[ApiResourceId], [a1].[Scope], [a2].[Id], [a2].[ApiResourceId], [a2].[Type], [a3].[Id], [a3].[ApiResourceId], [a3].[Key], [a3].[Value]
FROM [ApiResources] AS [a]
LEFT JOIN [ApiResourceSecrets] AS [a0] ON [a].[Id] = [a0].[ApiResourceId]
LEFT JOIN [ApiResourceScopes] AS [a1] ON [a].[Id] = [a1].[ApiResourceId]
LEFT JOIN [ApiResourceClaims] AS [a2] ON [a].[Id] = [a2].[ApiResourceId]
LEFT JOIN [ApiResourceProperties] AS [a3] ON [a].[Id] = [a3].[ApiResourceId]
WHERE EXISTS (
    SELECT 1
    FROM [ApiResourceScopes] AS [a4]
    WHERE ([a].[Id] = [a4].[ApiResourceId]) AND [a4].[Scope] IN (N'openid', N'profile', N'email', N'roles'))
ORDER BY [a].[Id], [a0].[Id], [a1].[Id], [a2].[Id], [a3].[Id]"
[2020-12-30T07:28:51.6375499+00:00][INFO][17][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("6"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [a].[Id], [a].[Description], [a].[DisplayName], [a].[Emphasize], [a].[Enabled], [a].[Name], [a].[Required], [a].[ShowInDiscoveryDocument], [a0].[Id], [a0].[ScopeId], [a0].[Type], [a1].[Id], [a1].[Key], [a1].[ScopeId], [a1].[Value]
FROM [ApiScopes] AS [a]
LEFT JOIN [ApiScopeClaims] AS [a0] ON [a].[Id] = [a0].[ScopeId]
LEFT JOIN [ApiScopeProperties] AS [a1] ON [a].[Id] = [a1].[ScopeId]
WHERE [a].[Name] IN (N'openid', N'profile', N'email', N'roles')
ORDER BY [a].[Id], [a0].[Id], [a1].[Id]"
[2020-12-30T07:28:51.6809932+00:00][INFO][19][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("23"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c].[Id], [c].[AbsoluteRefreshTokenLifetime], [c].[AccessTokenLifetime], [c].[AccessTokenType], [c].[AllowAccessTokensViaBrowser], [c].[AllowOfflineAccess], [c].[AllowPlainTextPkce], [c].[AllowRememberConsent], [c].[AllowedIdentityTokenSigningAlgorithms], [c].[AlwaysIncludeUserClaimsInIdToken], [c].[AlwaysSendClientClaims], [c].[AuthorizationCodeLifetime], [c].[BackChannelLogoutSessionRequired], [c].[BackChannelLogoutUri], [c].[ClientClaimsPrefix], [c].[ClientId], [c].[ClientName], [c].[ClientUri], [c].[ConsentLifetime], [c].[Created], [c].[Description], [c].[DeviceCodeLifetime], [c].[EnableLocalLogin], [c].[Enabled], [c].[FrontChannelLogoutSessionRequired], [c].[FrontChannelLogoutUri], [c].[IdentityTokenLifetime], [c].[IncludeJwtId], [c].[LastAccessed], [c].[LogoUri], [c].[NonEditable], [c].[PairWiseSubjectSalt], [c].[ProtocolType], [c].[RefreshTokenExpiration], [c].[RefreshTokenUsage], [c].[RequireClientSecret], [c].[RequireConsent], [c].[RequirePkce], [c].[RequireRequestObject], [c].[SlidingRefreshTokenLifetime], [c].[UpdateAccessTokenClaimsOnRefresh], [c].[Updated], [c].[UserCodeType], [c].[UserSsoLifetime]
FROM [Clients] AS [c]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T07:28:51.6900471+00:00][INFO][17][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("6"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[Origin]
FROM [Clients] AS [c]
INNER JOIN [ClientCorsOrigins] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T07:28:51.6995919+00:00][INFO][12][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("4"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[GrantType]
FROM [Clients] AS [c]
INNER JOIN [ClientGrantTypes] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T07:28:51.7079304+00:00][INFO][18][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("6"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[Scope]
FROM [Clients] AS [c]
INNER JOIN [ClientScopes] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T07:28:51.7157197+00:00][INFO][12][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("5"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[Type], [c0].[Value]
FROM [Clients] AS [c]
INNER JOIN [ClientClaims] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T07:28:51.7253126+00:00][INFO][19][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("5"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[Created], [c0].[Description], [c0].[Expiration], [c0].[Type], [c0].[Value]
FROM [Clients] AS [c]
INNER JOIN [ClientSecrets] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T07:28:51.7553190+00:00][INFO][18][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("2"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[Provider]
FROM [Clients] AS [c]
INNER JOIN [ClientIdPRestrictions] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T07:28:51.7619945+00:00][INFO][12][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("4"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[PostLogoutRedirectUri]
FROM [Clients] AS [c]
INNER JOIN [ClientPostLogoutRedirectUris] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T07:28:51.7712263+00:00][INFO][17][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("2"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[Key], [c0].[Value]
FROM [Clients] AS [c]
INNER JOIN [ClientProperties] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T07:28:51.7982719+00:00][INFO][12][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("3"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[RedirectUri]
FROM [Clients] AS [c]
INNER JOIN [ClientRedirectUris] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T07:28:51.8431982+00:00][INFO][12][Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor] Executing ViewResult, running view "Login".
[2020-12-30T07:28:52.7662766+00:00][INFO][12][Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor] Executed ViewResult - view "Login" executed in 925.4711ms.
[2020-12-30T07:28:52.7762840+00:00][INFO][12][Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Executed action "EventManager.Identity.STS.Identity.Controllers.AccountController<EventManager.Identity.Admin.EntityFramework.Shared.Entities.Identity.UserIdentity, string>.Login (EventManager.Identity.STS.Identity)" in 1690.6442ms
[2020-12-30T07:28:52.7904663+00:00][INFO][12][Microsoft.AspNetCore.Routing.EndpointMiddleware] Executed endpoint '"EventManager.Identity.STS.Identity.Controllers.AccountController<EventManager.Identity.Admin.EntityFramework.Shared.Entities.Identity.UserIdentity, string>.Login (EventManager.Identity.STS.Identity)"'
[2020-12-30T07:28:52.8047781+00:00][INFO][12][Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/1.1 GET http://www.em.host/Account/Login?ReturnUrl=%2Fconnect%2Fauthorize%2Fcallback%3Fclient_id%3Durn%253Aem%253Aclient%26redirect_uri%3Dhttps%253A%252F%252Fwww.em.host%252Fadmin%252Fidentity%252Fsignin-oidc%26response_type%3Dcode%26scope%3Dopenid%2520profile%2520email%2520roles%26code_challenge%3DgslMgzzDcINFCdYpZ2AuNUGsdiMkrTWNl_Q-EkbrglA%26code_challenge_method%3DS256%26response_mode%3Dform_post%26nonce%3D637449100762210164.NTA1NzE3YWQtMDMyNy00NDMxLTlkM2UtNDI3NDk4YWYxNjc0Njg0OTBhMzctZGI2Yy00ZWYyLTg4YzctYzk5Yzc4YzYyOGE3%26state%3DCfDJ8ASI9RBeE6hBsIC3rORyZw3mdSSi5sqoNXKGENmuW5eFR0rmO_jLqC6LF35K8PmwXq2dDvnW7zMrQmjVysBUnNL4iiIOYTDBqbkXXHIRJRDdUPdG6f8DDklOyZUIRe72KwTJrKeDYWTSGVqNrgTBJmsMfYJYqO8II5JvRhXwRq7kDJQIUtvycHLMGOfsZb-hshje2EKrTW7Q_OEU2PW8CMzasKlFK_9JnLU43CDYOpN1siT8tFwHcnto3gQl5BcICQMmm5Pac7PEjXurqIs8MOaA6b5p7AF2KDgdgoSHySs0BQWGJErs9YQaZJ3EaXTLc0B3EAyQUBAovpCgZz49V7ViH5mUIiDu1ubg0zzb8SVy-n9LHhOHbJB6tz_0P-7yFQ%26x-client-SKU%3DID_NETSTANDARD2_0%26x-client-ver%3D5.6.0.0 - - - 200 - text/html;+charset=utf-8 1873.4753ms
[2020-12-30T07:28:52.9205894+00:00][INFO][23][Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 GET http://www.em.host/dist/css/web.css?v=gzbQ_J4PfKys2r0KpTe01uKRO7lnqK_lEp7OvIB7ZAA - -
[2020-12-30T07:28:53.0096906+00:00][INFO][26][Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 GET http://www.em.host/dist/css/bundle.min.css?v=6Y8xGSDMhkjYMZuaFSdp3fqA3xdNX-Q6_xp14ExGbY8 - -
[2020-12-30T07:28:53.0944498+00:00][INFO][25][Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 GET http://www.em.host/dist/js/bundle.min.js?v=11Fw87BWmEIjIw_LrA_JwvJM5t0w9WbTFIog6ElarB0 - -
[2020-12-30T07:28:53.3662446+00:00][INFO][17][Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware] Sending file. Request path: '"/dist/css/bundle.min.css"'. Physical path: '"/app/wwwroot/dist/css/bundle.min.css"'
[2020-12-30T07:28:53.3662445+00:00][INFO][19][Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware] Sending file. Request path: '"/dist/css/web.css"'. Physical path: '"/app/wwwroot/dist/css/web.css"'
[2020-12-30T07:28:53.3673185+00:00][INFO][17][Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/1.1 GET http://www.em.host/dist/css/bundle.min.css?v=6Y8xGSDMhkjYMZuaFSdp3fqA3xdNX-Q6_xp14ExGbY8 - - - 200 205310 text/css 378.9719ms
[2020-12-30T07:28:53.3677013+00:00][INFO][19][Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/1.1 GET http://www.em.host/dist/css/web.css?v=gzbQ_J4PfKys2r0KpTe01uKRO7lnqK_lEp7OvIB7ZAA - - - 200 8009 text/css 447.1156ms
[2020-12-30T07:28:53.4798561+00:00][INFO][19][Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 GET http://www.em.host/dist/fonts/open-iconic.woff - -
[2020-12-30T07:28:53.5651038+00:00][INFO][18][Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 GET http://www.em.host/dist/fonts/fontawesome-webfont.woff2?v=4.7.0 - -
[2020-12-30T07:28:53.5651060+00:00][INFO][17][Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware] Sending file. Request path: '"/dist/js/bundle.min.js"'. Physical path: '"/app/wwwroot/dist/js/bundle.min.js"'
[2020-12-30T07:28:53.5664745+00:00][INFO][17][Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/1.1 GET http://www.em.host/dist/js/bundle.min.js?v=11Fw87BWmEIjIw_LrA_JwvJM5t0w9WbTFIog6ElarB0 - - - 200 250698 application/javascript 471.9752ms
[2020-12-30T07:28:53.6002592+00:00][INFO][17][Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware] Sending file. Request path: '"/dist/fonts/open-iconic.woff"'. Physical path: '"/app/wwwroot/dist/fonts/open-iconic.woff"'
[2020-12-30T07:28:53.6099683+00:00][INFO][27][Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/1.1 GET http://www.em.host/dist/fonts/open-iconic.woff - - - 200 14984 application/font-woff 130.4932ms
[2020-12-30T07:28:53.6292273+00:00][INFO][17][Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware] Sending file. Request path: '"/dist/fonts/fontawesome-webfont.woff2"'. Physical path: '"/app/wwwroot/dist/fonts/fontawesome-webfont.woff2"'
[2020-12-30T07:28:53.6302573+00:00][INFO][17][Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/1.1 GET http://www.em.host/dist/fonts/fontawesome-webfont.woff2?v=4.7.0 - - - 200 77160 font/woff2 64.9395ms
[2020-12-30T07:29:23.6219939+00:00][INFO][30][Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 GET http://www.em.host/Account/Login?ReturnUrl=%2Fconnect%2Fauthorize%2Fcallback%3Fclient_id%3Durn%253Aem%253Aclient%26redirect_uri%3Dhttps%253A%252F%252Fwww.em.host%252Fadmin%252Fidentity%252Fsignin-oidc%26response_type%3Dcode%26scope%3Dopenid%2520profile%2520email%2520roles%26code_challenge%3DgslMgzzDcINFCdYpZ2AuNUGsdiMkrTWNl_Q-EkbrglA%26code_challenge_method%3DS256%26response_mode%3Dform_post%26nonce%3D637449100762210164.NTA1NzE3YWQtMDMyNy00NDMxLTlkM2UtNDI3NDk4YWYxNjc0Njg0OTBhMzctZGI2Yy00ZWYyLTg4YzctYzk5Yzc4YzYyOGE3%26state%3DCfDJ8ASI9RBeE6hBsIC3rORyZw3mdSSi5sqoNXKGENmuW5eFR0rmO_jLqC6LF35K8PmwXq2dDvnW7zMrQmjVysBUnNL4iiIOYTDBqbkXXHIRJRDdUPdG6f8DDklOyZUIRe72KwTJrKeDYWTSGVqNrgTBJmsMfYJYqO8II5JvRhXwRq7kDJQIUtvycHLMGOfsZb-hshje2EKrTW7Q_OEU2PW8CMzasKlFK_9JnLU43CDYOpN1siT8tFwHcnto3gQl5BcICQMmm5Pac7PEjXurqIs8MOaA6b5p7AF2KDgdgoSHySs0BQWGJErs9YQaZJ3EaXTLc0B3EAyQUBAovpCgZz49V7ViH5mUIiDu1ubg0zzb8SVy-n9LHhOHbJB6tz_0P-7yFQ%26x-client-SKU%3DID_NETSTANDARD2_0%26x-client-ver%3D5.6.0.0 - -
[2020-12-30T07:29:23.6334526+00:00][INFO][30][Microsoft.AspNetCore.Routing.EndpointMiddleware] Executing endpoint '"EventManager.Identity.STS.Identity.Controllers.AccountController<EventManager.Identity.Admin.EntityFramework.Shared.Entities.Identity.UserIdentity, string>.Login (EventManager.Identity.STS.Identity)"'
[2020-12-30T07:29:23.6349869+00:00][INFO][30][Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Route matched with "{action = \"Login\", controller = \"Account\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(System.String)" on controller "EventManager.Identity.STS.Identity.Controllers.AccountController<EventManager.Identity.Admin.EntityFramework.Shared.Entities.Identity.UserIdentity, string>" ("EventManager.Identity.STS.Identity").
[2020-12-30T07:29:23.6397776+00:00][INFO][30][Microsoft.EntityFrameworkCore.Infrastructure] Entity Framework Core "5.0.1" initialized '"IdentityServerConfigurationDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=EventManager.Identity.Admin.EntityFramework.SqlServer "
[2020-12-30T07:29:23.6554116+00:00][INFO][19][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("3"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c].[Id], [c].[AbsoluteRefreshTokenLifetime], [c].[AccessTokenLifetime], [c].[AccessTokenType], [c].[AllowAccessTokensViaBrowser], [c].[AllowOfflineAccess], [c].[AllowPlainTextPkce], [c].[AllowRememberConsent], [c].[AllowedIdentityTokenSigningAlgorithms], [c].[AlwaysIncludeUserClaimsInIdToken], [c].[AlwaysSendClientClaims], [c].[AuthorizationCodeLifetime], [c].[BackChannelLogoutSessionRequired], [c].[BackChannelLogoutUri], [c].[ClientClaimsPrefix], [c].[ClientId], [c].[ClientName], [c].[ClientUri], [c].[ConsentLifetime], [c].[Created], [c].[Description], [c].[DeviceCodeLifetime], [c].[EnableLocalLogin], [c].[Enabled], [c].[FrontChannelLogoutSessionRequired], [c].[FrontChannelLogoutUri], [c].[IdentityTokenLifetime], [c].[IncludeJwtId], [c].[LastAccessed], [c].[LogoUri], [c].[NonEditable], [c].[PairWiseSubjectSalt], [c].[ProtocolType], [c].[RefreshTokenExpiration], [c].[RefreshTokenUsage], [c].[RequireClientSecret], [c].[RequireConsent], [c].[RequirePkce], [c].[RequireRequestObject], [c].[SlidingRefreshTokenLifetime], [c].[UpdateAccessTokenClaimsOnRefresh], [c].[Updated], [c].[UserCodeType], [c].[UserSsoLifetime]
FROM [Clients] AS [c]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T07:29:23.6986417+00:00][INFO][29][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("4"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[Origin]
FROM [Clients] AS [c]
INNER JOIN [ClientCorsOrigins] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T07:29:23.7549651+00:00][INFO][19][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("23"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[GrantType]
FROM [Clients] AS [c]
INNER JOIN [ClientGrantTypes] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T07:29:23.7693880+00:00][INFO][17][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("9"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[Scope]
FROM [Clients] AS [c]
INNER JOIN [ClientScopes] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T07:29:23.7802226+00:00][INFO][30][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("5"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[Type], [c0].[Value]
FROM [Clients] AS [c]
INNER JOIN [ClientClaims] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T07:29:23.7875350+00:00][INFO][29][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("1"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[Created], [c0].[Description], [c0].[Expiration], [c0].[Type], [c0].[Value]
FROM [Clients] AS [c]
INNER JOIN [ClientSecrets] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T07:29:23.7945778+00:00][INFO][29][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("3"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[Provider]
FROM [Clients] AS [c]
INNER JOIN [ClientIdPRestrictions] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T07:29:23.8120453+00:00][INFO][30][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("2"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[PostLogoutRedirectUri]
FROM [Clients] AS [c]
INNER JOIN [ClientPostLogoutRedirectUris] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T07:29:23.8385885+00:00][INFO][29][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("23"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[Key], [c0].[Value]
FROM [Clients] AS [c]
INNER JOIN [ClientProperties] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T07:29:23.8450537+00:00][INFO][17][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("4"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[RedirectUri]
FROM [Clients] AS [c]
INNER JOIN [ClientRedirectUris] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T07:29:23.8535790+00:00][INFO][17][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("5"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [i].[Id], [i].[Created], [i].[Description], [i].[DisplayName], [i].[Emphasize], [i].[Enabled], [i].[Name], [i].[NonEditable], [i].[Required], [i].[ShowInDiscoveryDocument], [i].[Updated], [i0].[Id], [i0].[IdentityResourceId], [i0].[Type], [i1].[Id], [i1].[IdentityResourceId], [i1].[Key], [i1].[Value]
FROM [IdentityResources] AS [i]
LEFT JOIN [IdentityResourceClaims] AS [i0] ON [i].[Id] = [i0].[IdentityResourceId]
LEFT JOIN [IdentityResourceProperties] AS [i1] ON [i].[Id] = [i1].[IdentityResourceId]
WHERE [i].[Name] IN (N'openid', N'profile', N'email', N'roles')
ORDER BY [i].[Id], [i0].[Id], [i1].[Id]"
[2020-12-30T07:29:23.8705647+00:00][INFO][29][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [a].[Id], [a].[AllowedAccessTokenSigningAlgorithms], [a].[Created], [a].[Description], [a].[DisplayName], [a].[Enabled], [a].[LastAccessed], [a].[Name], [a].[NonEditable], [a].[ShowInDiscoveryDocument], [a].[Updated], [a0].[Id], [a0].[ApiResourceId], [a0].[Created], [a0].[Description], [a0].[Expiration], [a0].[Type], [a0].[Value], [a1].[Id], [a1].[ApiResourceId], [a1].[Scope], [a2].[Id], [a2].[ApiResourceId], [a2].[Type], [a3].[Id], [a3].[ApiResourceId], [a3].[Key], [a3].[Value]
FROM [ApiResources] AS [a]
LEFT JOIN [ApiResourceSecrets] AS [a0] ON [a].[Id] = [a0].[ApiResourceId]
LEFT JOIN [ApiResourceScopes] AS [a1] ON [a].[Id] = [a1].[ApiResourceId]
LEFT JOIN [ApiResourceClaims] AS [a2] ON [a].[Id] = [a2].[ApiResourceId]
LEFT JOIN [ApiResourceProperties] AS [a3] ON [a].[Id] = [a3].[ApiResourceId]
WHERE EXISTS (
    SELECT 1
    FROM [ApiResourceScopes] AS [a4]
    WHERE ([a].[Id] = [a4].[ApiResourceId]) AND [a4].[Scope] IN (N'openid', N'profile', N'email', N'roles'))
ORDER BY [a].[Id], [a0].[Id], [a1].[Id], [a2].[Id], [a3].[Id]"
[2020-12-30T07:29:23.8778102+00:00][INFO][17][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("4"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [a].[Id], [a].[Description], [a].[DisplayName], [a].[Emphasize], [a].[Enabled], [a].[Name], [a].[Required], [a].[ShowInDiscoveryDocument], [a0].[Id], [a0].[ScopeId], [a0].[Type], [a1].[Id], [a1].[Key], [a1].[ScopeId], [a1].[Value]
FROM [ApiScopes] AS [a]
LEFT JOIN [ApiScopeClaims] AS [a0] ON [a].[Id] = [a0].[ScopeId]
LEFT JOIN [ApiScopeProperties] AS [a1] ON [a].[Id] = [a1].[ScopeId]
WHERE [a].[Name] IN (N'openid', N'profile', N'email', N'roles')
ORDER BY [a].[Id], [a0].[Id], [a1].[Id]"
[2020-12-30T07:29:23.9552264+00:00][INFO][30][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("28"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c].[Id], [c].[AbsoluteRefreshTokenLifetime], [c].[AccessTokenLifetime], [c].[AccessTokenType], [c].[AllowAccessTokensViaBrowser], [c].[AllowOfflineAccess], [c].[AllowPlainTextPkce], [c].[AllowRememberConsent], [c].[AllowedIdentityTokenSigningAlgorithms], [c].[AlwaysIncludeUserClaimsInIdToken], [c].[AlwaysSendClientClaims], [c].[AuthorizationCodeLifetime], [c].[BackChannelLogoutSessionRequired], [c].[BackChannelLogoutUri], [c].[ClientClaimsPrefix], [c].[ClientId], [c].[ClientName], [c].[ClientUri], [c].[ConsentLifetime], [c].[Created], [c].[Description], [c].[DeviceCodeLifetime], [c].[EnableLocalLogin], [c].[Enabled], [c].[FrontChannelLogoutSessionRequired], [c].[FrontChannelLogoutUri], [c].[IdentityTokenLifetime], [c].[IncludeJwtId], [c].[LastAccessed], [c].[LogoUri], [c].[NonEditable], [c].[PairWiseSubjectSalt], [c].[ProtocolType], [c].[RefreshTokenExpiration], [c].[RefreshTokenUsage], [c].[RequireClientSecret], [c].[RequireConsent], [c].[RequirePkce], [c].[RequireRequestObject], [c].[SlidingRefreshTokenLifetime], [c].[UpdateAccessTokenClaimsOnRefresh], [c].[Updated], [c].[UserCodeType], [c].[UserSsoLifetime]
FROM [Clients] AS [c]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T07:29:23.9693922+00:00][INFO][29][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("3"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[Origin]
FROM [Clients] AS [c]
INNER JOIN [ClientCorsOrigins] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T07:29:23.9764315+00:00][INFO][19][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("3"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[GrantType]
FROM [Clients] AS [c]
INNER JOIN [ClientGrantTypes] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T07:29:24.0243848+00:00][INFO][29][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("25"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[Scope]
FROM [Clients] AS [c]
INNER JOIN [ClientScopes] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T07:29:24.0354811+00:00][INFO][30][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("4"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[Type], [c0].[Value]
FROM [Clients] AS [c]
INNER JOIN [ClientClaims] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T07:29:24.0527567+00:00][INFO][17][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("2"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[Created], [c0].[Description], [c0].[Expiration], [c0].[Type], [c0].[Value]
FROM [Clients] AS [c]
INNER JOIN [ClientSecrets] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T07:29:24.0639678+00:00][INFO][17][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("6"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[Provider]
FROM [Clients] AS [c]
INNER JOIN [ClientIdPRestrictions] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T07:29:24.1197204+00:00][INFO][30][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("2"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[PostLogoutRedirectUri]
FROM [Clients] AS [c]
INNER JOIN [ClientPostLogoutRedirectUris] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T07:29:24.1281593+00:00][INFO][19][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("6"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[Key], [c0].[Value]
FROM [Clients] AS [c]
INNER JOIN [ClientProperties] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T07:29:24.1428850+00:00][INFO][30][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("4"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[RedirectUri]
FROM [Clients] AS [c]
INNER JOIN [ClientRedirectUris] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T07:29:24.1756995+00:00][INFO][30][Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor] Executing ViewResult, running view "Login".
[2020-12-30T07:29:24.1979317+00:00][INFO][30][Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor] Executed ViewResult - view "Login" executed in 22.4726ms.
[2020-12-30T07:29:24.1987655+00:00][INFO][30][Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Executed action "EventManager.Identity.STS.Identity.Controllers.AccountController<EventManager.Identity.Admin.EntityFramework.Shared.Entities.Identity.UserIdentity, string>.Login (EventManager.Identity.STS.Identity)" in 562.7994ms
[2020-12-30T07:29:24.1995051+00:00][INFO][30][Microsoft.AspNetCore.Routing.EndpointMiddleware] Executed endpoint '"EventManager.Identity.STS.Identity.Controllers.AccountController<EventManager.Identity.Admin.EntityFramework.Shared.Entities.Identity.UserIdentity, string>.Login (EventManager.Identity.STS.Identity)"'
[2020-12-30T07:29:24.2004715+00:00][INFO][30][Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/1.1 GET http://www.em.host/Account/Login?ReturnUrl=%2Fconnect%2Fauthorize%2Fcallback%3Fclient_id%3Durn%253Aem%253Aclient%26redirect_uri%3Dhttps%253A%252F%252Fwww.em.host%252Fadmin%252Fidentity%252Fsignin-oidc%26response_type%3Dcode%26scope%3Dopenid%2520profile%2520email%2520roles%26code_challenge%3DgslMgzzDcINFCdYpZ2AuNUGsdiMkrTWNl_Q-EkbrglA%26code_challenge_method%3DS256%26response_mode%3Dform_post%26nonce%3D637449100762210164.NTA1NzE3YWQtMDMyNy00NDMxLTlkM2UtNDI3NDk4YWYxNjc0Njg0OTBhMzctZGI2Yy00ZWYyLTg4YzctYzk5Yzc4YzYyOGE3%26state%3DCfDJ8ASI9RBeE6hBsIC3rORyZw3mdSSi5sqoNXKGENmuW5eFR0rmO_jLqC6LF35K8PmwXq2dDvnW7zMrQmjVysBUnNL4iiIOYTDBqbkXXHIRJRDdUPdG6f8DDklOyZUIRe72KwTJrKeDYWTSGVqNrgTBJmsMfYJYqO8II5JvRhXwRq7kDJQIUtvycHLMGOfsZb-hshje2EKrTW7Q_OEU2PW8CMzasKlFK_9JnLU43CDYOpN1siT8tFwHcnto3gQl5BcICQMmm5Pac7PEjXurqIs8MOaA6b5p7AF2KDgdgoSHySs0BQWGJErs9YQaZJ3EaXTLc0B3EAyQUBAovpCgZz49V7ViH5mUIiDu1ubg0zzb8SVy-n9LHhOHbJB6tz_0P-7yFQ%26x-client-SKU%3DID_NETSTANDARD2_0%26x-client-ver%3D5.6.0.0 - - - 200 - text/html;+charset=utf-8 578.4180ms
[2020-12-30T07:30:11.8207951+00:00][INFO][17][Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 GET http://www.em.host/connect/authorize?client_id=urn%3Aem%3Aclient&redirect_uri=https%3A%2F%2Fwww.em.host%2Fadmin%2Fidentity%2Fsignin-oidc&response_type=code&scope=openid%20profile%20email%20roles&code_challenge=Gfz2VNzJelmPfDF_8aVoLI2BBCR7Fyc9vXmt1Ba0dmE&code_challenge_method=S256&response_mode=form_post&nonce=637449102117587209.N2ZmYmMwMTgtYmRlZC00ZmM1LWJhYjEtZDIzMDkxZjQ3MzllOGRmZTY2YTUtZTdjNC00MTI5LThiMTQtOTIyZTNlZTMxMWE3&state=CfDJ8ASI9RBeE6hBsIC3rORyZw3zniURR6LijpWXQxe_8sq7R_RxaVz0nAPj1l1O5qPUTMdIrDkxjoiukGT3OKo5erKHio2qPug60wCJvs5Yb1Ts7jrZh1k2DCnSsa0ci_sDkJcw3-Wad40uzO0I4LrnTHf0e4SyFjpmbsKD2zHM5q_64T_4A6mwqhtorio6a3nBOyBeqsQCfQs-imZjR3XQMtxYlVRH-1xsHIZ20tDYMTn6yBfxnFm8MWkMCCSUlAHox-20wRvhVZcfMsI6suOoGoZONxE23QBP-R8tquUkLuqhJAcs-lTs3H11Ppsmct_apPqsLJaJ7rP6FwZc1ejfGMUVfP9vMGvZjxaEQx6oJD8KTRoOAElXuDpJUd0sZadFbg&x-client-SKU=ID_NETSTANDARD2_0&x-client-ver=5.6.0.0 - -
[2020-12-30T07:30:11.8245501+00:00][INFO][17][IdentityServer4.Hosting.IdentityServerMiddleware] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize"
[2020-12-30T07:30:11.8650046+00:00][INFO][17][Microsoft.EntityFrameworkCore.Infrastructure] Entity Framework Core "5.0.1" initialized '"IdentityServerConfigurationDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=EventManager.Identity.Admin.EntityFramework.SqlServer "
[2020-12-30T07:30:11.8786439+00:00][INFO][33][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("7"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c].[Id], [c].[AbsoluteRefreshTokenLifetime], [c].[AccessTokenLifetime], [c].[AccessTokenType], [c].[AllowAccessTokensViaBrowser], [c].[AllowOfflineAccess], [c].[AllowPlainTextPkce], [c].[AllowRememberConsent], [c].[AllowedIdentityTokenSigningAlgorithms], [c].[AlwaysIncludeUserClaimsInIdToken], [c].[AlwaysSendClientClaims], [c].[AuthorizationCodeLifetime], [c].[BackChannelLogoutSessionRequired], [c].[BackChannelLogoutUri], [c].[ClientClaimsPrefix], [c].[ClientId], [c].[ClientName], [c].[ClientUri], [c].[ConsentLifetime], [c].[Created], [c].[Description], [c].[DeviceCodeLifetime], [c].[EnableLocalLogin], [c].[Enabled], [c].[FrontChannelLogoutSessionRequired], [c].[FrontChannelLogoutUri], [c].[IdentityTokenLifetime], [c].[IncludeJwtId], [c].[LastAccessed], [c].[LogoUri], [c].[NonEditable], [c].[PairWiseSubjectSalt], [c].[ProtocolType], [c].[RefreshTokenExpiration], [c].[RefreshTokenUsage], [c].[RequireClientSecret], [c].[RequireConsent], [c].[RequirePkce], [c].[RequireRequestObject], [c].[SlidingRefreshTokenLifetime], [c].[UpdateAccessTokenClaimsOnRefresh], [c].[Updated], [c].[UserCodeType], [c].[UserSsoLifetime]
FROM [Clients] AS [c]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T07:30:11.8881052+00:00][INFO][33][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("6"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[Origin]
FROM [Clients] AS [c]
INNER JOIN [ClientCorsOrigins] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T07:30:11.9134585+00:00][INFO][35][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("15"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[GrantType]
FROM [Clients] AS [c]
INNER JOIN [ClientGrantTypes] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T07:30:11.9239341+00:00][INFO][34][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("2"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[Scope]
FROM [Clients] AS [c]
INNER JOIN [ClientScopes] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T07:30:11.9308917+00:00][INFO][34][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("3"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[Type], [c0].[Value]
FROM [Clients] AS [c]
INNER JOIN [ClientClaims] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T07:30:11.9487662+00:00][INFO][33][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("14"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[Created], [c0].[Description], [c0].[Expiration], [c0].[Type], [c0].[Value]
FROM [Clients] AS [c]
INNER JOIN [ClientSecrets] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T07:30:12.0200542+00:00][INFO][32][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("3"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[Provider]
FROM [Clients] AS [c]
INNER JOIN [ClientIdPRestrictions] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T07:30:12.0564751+00:00][INFO][33][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("14"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[PostLogoutRedirectUri]
FROM [Clients] AS [c]
INNER JOIN [ClientPostLogoutRedirectUris] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T07:30:12.0622575+00:00][INFO][32][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("3"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[Key], [c0].[Value]
FROM [Clients] AS [c]
INNER JOIN [ClientProperties] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T07:30:12.0941851+00:00][INFO][33][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("6"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[RedirectUri]
FROM [Clients] AS [c]
INNER JOIN [ClientRedirectUris] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T07:30:12.1001517+00:00][INFO][32][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [i].[Id], [i].[Created], [i].[Description], [i].[DisplayName], [i].[Emphasize], [i].[Enabled], [i].[Name], [i].[NonEditable], [i].[Required], [i].[ShowInDiscoveryDocument], [i].[Updated], [i0].[Id], [i0].[IdentityResourceId], [i0].[Type], [i1].[Id], [i1].[IdentityResourceId], [i1].[Key], [i1].[Value]
FROM [IdentityResources] AS [i]
LEFT JOIN [IdentityResourceClaims] AS [i0] ON [i].[Id] = [i0].[IdentityResourceId]
LEFT JOIN [IdentityResourceProperties] AS [i1] ON [i].[Id] = [i1].[IdentityResourceId]
WHERE [i].[Name] IN (N'openid', N'profile', N'email', N'roles')
ORDER BY [i].[Id], [i0].[Id], [i1].[Id]"
[2020-12-30T07:30:12.1184548+00:00][INFO][17][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("6"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [a].[Id], [a].[AllowedAccessTokenSigningAlgorithms], [a].[Created], [a].[Description], [a].[DisplayName], [a].[Enabled], [a].[LastAccessed], [a].[Name], [a].[NonEditable], [a].[ShowInDiscoveryDocument], [a].[Updated], [a0].[Id], [a0].[ApiResourceId], [a0].[Created], [a0].[Description], [a0].[Expiration], [a0].[Type], [a0].[Value], [a1].[Id], [a1].[ApiResourceId], [a1].[Scope], [a2].[Id], [a2].[ApiResourceId], [a2].[Type], [a3].[Id], [a3].[ApiResourceId], [a3].[Key], [a3].[Value]
FROM [ApiResources] AS [a]
LEFT JOIN [ApiResourceSecrets] AS [a0] ON [a].[Id] = [a0].[ApiResourceId]
LEFT JOIN [ApiResourceScopes] AS [a1] ON [a].[Id] = [a1].[ApiResourceId]
LEFT JOIN [ApiResourceClaims] AS [a2] ON [a].[Id] = [a2].[ApiResourceId]
LEFT JOIN [ApiResourceProperties] AS [a3] ON [a].[Id] = [a3].[ApiResourceId]
WHERE EXISTS (
    SELECT 1
    FROM [ApiResourceScopes] AS [a4]
 [2020-12-30T08:36:10.6485584+00:00][INFO][1][Microsoft.EntityFrameworkCore.Infrastructure] Entity Framework Core "5.0.1" initialized '"IdentityServerDataProtectionDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=EventManager.Identity.Admin.EntityFramework.SqlServer "
[2020-12-30T08:36:12.3925538+00:00][INFO][1][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("44"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [d].[Id], [d].[FriendlyName], [d].[Xml]
FROM [DataProtectionKeys] AS [d]"
[2020-12-30T08:36:12.6189045+00:00][INFO][1][IdentityServer4.Startup] Starting IdentityServer4 version "4.1.1+cebd52f5bc61bdefc262fd20739d4d087c6f961f"
[2020-12-30T08:36:12.6999704+00:00][INFO][1][IdentityServer4.Startup] Using the default authentication scheme "Identity.Application" for IdentityServer
[2020-12-30T08:36:13.3499881+00:00][INFO][1][Microsoft.Hosting.Lifetime] Now listening on: "http://[::]:50003"
[2020-12-30T08:36:13.3513542+00:00][INFO][1][Microsoft.Hosting.Lifetime] Application started. Press Ctrl+C to shut down.
[2020-12-30T08:36:13.3526122+00:00][INFO][1][Microsoft.Hosting.Lifetime] Hosting environment: "Development"
[2020-12-30T08:36:13.3533489+00:00][INFO][1][Microsoft.Hosting.Lifetime] Content root path: "/app"
[2020-12-30T08:37:01.6565920+00:00][INFO][11][Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 GET http://www.em.host/.well-known/openid-configuration - -
[2020-12-30T08:37:01.7522526+00:00][INFO][11][IdentityServer4.Hosting.IdentityServerMiddleware] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.DiscoveryEndpoint" for "/.well-known/openid-configuration"
[2020-12-30T08:37:02.2643814+00:00][INFO][11][Microsoft.EntityFrameworkCore.Infrastructure] Entity Framework Core "5.0.1" initialized '"IdentityServerConfigurationDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=EventManager.Identity.Admin.EntityFramework.SqlServer "
[2020-12-30T08:37:02.4563188+00:00][WARN][11][Microsoft.EntityFrameworkCore.Query] Compiling a query which loads related collections for more than one collection navigation either via 'Include' or through projection but no 'QuerySplittingBehavior' has been configured. By default Entity Framework will use 'QuerySplittingBehavior.SingleQuery' which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'
[2020-12-30T08:37:02.5424356+00:00][INFO][12][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("23"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [i].[Id], [i].[Created], [i].[Description], [i].[DisplayName], [i].[Emphasize], [i].[Enabled], [i].[Name], [i].[NonEditable], [i].[Required], [i].[ShowInDiscoveryDocument], [i].[Updated], [i0].[Id], [i0].[IdentityResourceId], [i0].[Type], [i1].[Id], [i1].[IdentityResourceId], [i1].[Key], [i1].[Value]
FROM [IdentityResources] AS [i]
LEFT JOIN [IdentityResourceClaims] AS [i0] ON [i].[Id] = [i0].[IdentityResourceId]
LEFT JOIN [IdentityResourceProperties] AS [i1] ON [i].[Id] = [i1].[IdentityResourceId]
ORDER BY [i].[Id], [i0].[Id], [i1].[Id]"
[2020-12-30T08:37:02.7037730+00:00][WARN][12][Microsoft.EntityFrameworkCore.Query] Compiling a query which loads related collections for more than one collection navigation either via 'Include' or through projection but no 'QuerySplittingBehavior' has been configured. By default Entity Framework will use 'QuerySplittingBehavior.SingleQuery' which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'
[2020-12-30T08:37:02.7708536+00:00][INFO][14][Microsoft.EntityFrameworkCore.Datab[2020-12-30T08:38:49.5441447+00:00][INFO][1][Microsoft.EntityFrameworkCore.Infrastructure] Entity Framework Core "5.0.1" initialized '"IdentityServerDataProtectionDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=EventManager.Identity.Admin.EntityFramework.SqlServer "
[2020-12-30T08:38:51.3374425+00:00][INFO][1][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("44"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [d].[Id], [d].[FriendlyName], [d].[Xml]
FROM [DataProtectionKeys] AS [d]"
[2020-12-30T08:38:51.5406059+00:00][INFO][1][IdentityServer4.Startup] Starting IdentityServer4 version "4.1.1+cebd52f5bc61bdefc262fd20739d4d087c6f961f"
[2020-12-30T08:38:51.6480557+00:00][INFO][1][IdentityServer4.Startup] Using the default authentication scheme "Identity.Application" for IdentityServer
[2020-12-30T08:38:52.2477797+00:00][INFO][1][Microsoft.Hosting.Lifetime] Now listening on: "http://[::]:50003"
[2020-12-30T08:38:52.2521084+00:00][INFO][1][Microsoft.Hosting.Lifetime] Application started. Press Ctrl+C to shut down.
[2020-12-30T08:38:52.2557373+00:00][INFO][1][Microsoft.Hosting.Lifetime] Hosting environment: "Development"
[2020-12-30T08:38:52.2570046+00:00][INFO][1][Microsoft.Hosting.Lifetime] Content root path: "/app"
[2020-12-30T08:40:04.9445548+00:00][INFO][13][Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 GET http://www.em.host/.well-known/openid-configuration - -
[2020-12-30T08:40:05.0489554+00:00][INFO][13][IdentityServer4.Hosting.IdentityServerMiddleware] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.DiscoveryEndpoint" for "/.well-known/openid-configuration"
[2020-12-30T08:40:05.5571760+00:00][INFO][13][Microsoft.EntityFrameworkCore.Infrastructure] Entity Framework Core "5.0.1" initialized '"IdentityServerConfigurationDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=EventManager.Identity.Admin.EntityFramework.SqlServer "
[2020-12-30T08:40:05.7527021+00:00][WARN][13][Microsoft.EntityFrameworkCore.Query] Compiling a query which loads related collections for more than one collection navigation either via 'Include' or through projection but no 'QuerySplittingBehavior' has been configured. By default Entity Framework will use 'QuerySplittingBehavior.SingleQuery' which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'
[2020-12-30T08:40:05.8435894+00:00][INFO][6][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("22"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [i].[Id], [i].[Created], [i].[Description], [i].[DisplayName], [i].[Emphasize], [i].[Enabled], [i].[Name], [i].[NonEditable], [i].[Required], [i].[ShowInDiscoveryDocument], [i].[Updated], [i0].[Id], [i0].[IdentityResourceId], [i0].[Type], [i1].[Id], [i1].[IdentityResourceId], [i1].[Key], [i1].[Value]
FROM [IdentityResources] AS [i]
LEFT JOIN [IdentityResourceClaims] AS [i0] ON [i].[Id] = [i0].[IdentityResourceId]
LEFT JOIN [IdentityResourceProperties] AS [i1] ON [i].[Id] = [i1].[IdentityResourceId]
ORDER BY [i].[Id], [i0].[Id], [i1].[Id]"
[2020-12-30T08:40:06.0260244+00:00][WARN][6][Microsoft.EntityFrameworkCore.Query] Compiling a query which loads related collections for more than one collection navigation either via 'Include' or through projection but no 'QuerySplittingBehavior' has been configured. By default Entity Framework will use 'QuerySplittingBehavior.SingleQuery' which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'
[2020-12-30T08:40:06.0676027+00:00][INFO][6][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("6"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [a].[Id], [a].[AllowedAccessTokenSigningAlgorithms], [a].[Created], [a].[Description], [a].[DisplayName], [a].[Enabled], [a].[LastAccessed], [a].[Name], [a].[NonEditable], [a].[ShowInDiscoveryDocument], [a].[Updated], [a0].[Id], [a0].[ApiResourceId], [a0].[Created], [a0].[Description], [a0].[Expiration], [a0].[Type], [a0].[Value], [a1].[Id], [a1].[ApiResourceId], [a1].[Scope], [a2].[Id], [a2].[ApiResourceId], [a2].[Type], [a3].[Id], [a3].[ApiResourceId], [a3].[Key], [a3].[Value]
FROM [ApiResources] AS [a]
LEFT JOIN [ApiResourceSecrets] AS [a0] ON [a].[Id] = [a0].[ApiResourceId]
LEFT JOIN [ApiResourceScopes] AS [a1] ON [a].[Id] = [a1].[ApiResourceId]
LEFT JOIN [ApiResourceClaims] AS [a2] ON [a].[Id] = [a2].[ApiResourceId]
LEFT JOIN [ApiResourceProperties] AS [a3] ON [a].[Id] = [a3].[ApiResourceId]
ORDER BY [a].[Id], [a0].[Id], [a1].[Id], [a2].[Id], [a3].[Id]"
[2020-12-30T08:40:06.0813904+00:00][WARN][6][Microsoft.EntityFrameworkCore.Query] Compiling a query which loads related collections for more than one collection navigation either via 'Include' or through projection but no 'QuerySplittingBehavior' has been configured. By default Entity Framework will use 'QuerySplittingBehavior.SingleQuery' which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'
[2020-12-30T08:40:06.1058493+00:00][INFO][12][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [a].[Id], [a].[Description], [a].[DisplayName], [a].[Emphasize], [a].[Enabled], [a].[Name], [a].[Required], [a].[ShowInDiscoveryDocument], [a0].[Id], [a0].[ScopeId], [a0].[Type], [a1].[Id], [a1].[Key], [a1].[ScopeId], [a1].[Value]
FROM [ApiScopes] AS [a]
LEFT JOIN [ApiScopeClaims] AS [a0] ON [a].[Id] = [a0].[ScopeId]
LEFT JOIN [ApiScopeProperties] AS [a1] ON [a].[Id] = [a1].[ScopeId]
ORDER BY [a].[Id], [a0].[Id], [a1].[Id]"
[2020-12-30T08:40:06.6357642+00:00][INFO][13][Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/1.1 GET http://www.em.host/.well-known/openid-configuration - - - 200 - application/json;+charset=UTF-8 1692.8137ms
[2020-12-30T08:40:06.8136664+00:00][INFO][14][Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 GET http://www.em.host/.well-known/openid-configuration/jwks - -
[2020-12-30T08:40:06.8480337+00:00][INFO][14][IdentityServer4.Hosting.IdentityServerMiddleware] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.DiscoveryKeyEndpoint" for "/.well-known/openid-configuration/jwks"
[2020-12-30T08:40:06.9129828+00:00][INFO][14][Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/1.1 GET http://www.em.host/.well-known/openid-configuration/jwks - - - 200 - application/json;+charset=UTF-8 99.3565ms
[2020-12-30T08:40:07.0869016+00:00][INFO][15][Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 GET http://www.em.host/connect/authorize?client_id=urn%3Aem%3Aclient&redirect_uri=https%3A%2F%2Fwww.em.host%2Fadmin%2Fidentity%2Fsignin-oidc&response_type=code&scope=openid%20profile%20email%20roles&code_challenge=L_AVHNkdA5CAGzBNriJR0nHEWXtoQZoOK_cMVBRBYDM&code_challenge_method=S256&response_mode=form_post&nonce=637449144069757279.MGRlMjQyNjAtN2U3Zi00MzI3LThmOTYtMDJhNjRjYzQwMmU3Yzc2MGRkYzktMGFiMS00NjVkLTg4NjctMDRhMzI0NThhNjJh&state=CfDJ8ASI9RBeE6hBsIC3rORyZw2w3tP2l4mJ_H8gUHYduYeAs9TNnhMuIaD4WXR3xq2G7LhPbtrBHJ3sUARMphXbcwZwrx2aw_yT4X27jVHxC_pDM1Qfpn-4bYm3WJpGkJHBbX1MfixLT-OdSrMRZoBH9WQ-vZc9wABJUWAOXyUk9znXmF3yz37aTXli5CU6fBs9256kmePcph6AmSFskIwehReB8PO5p-0Lb2Vk7ESGtcAe9ixg3Xt__bKk5YAZSs46YloFaFe6jz2bmA4XrvYzrOMTQAWqeZItAgSis6X9Ktb_F0w3p47JHnxrqkrf76htM4rhiUnhJHH_QGCIVj-podwku0USiJEYkhBOq0tcrfX-q3U3PpJQUIDHbDMQUI2XeA&x-client-SKU=ID_NETSTANDARD2_0&x-client-ver=5.6.0.0 - -
[2020-12-30T08:40:07.1201124+00:00][INFO][15][IdentityServer4.Hosting.IdentityServerMiddleware] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize"
[2020-12-30T08:40:07.1588399+00:00][INFO][15][Microsoft.EntityFrameworkCore.Infrastructure] Entity Framework Core "5.0.1" initialized '"IdentityServerConfigurationDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=EventManager.Identity.Admin.EntityFramework.SqlServer "
[2020-12-30T08:40:07.2337967+00:00][INFO][14][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("25"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c].[Id], [c].[AbsoluteRefreshTokenLifetime], [c].[AccessTokenLifetime], [c].[AccessTokenType], [c].[AllowAccessTokensViaBrowser], [c].[AllowOfflineAccess], [c].[AllowPlainTextPkce], [c].[AllowRememberConsent], [c].[AllowedIdentityTokenSigningAlgorithms], [c].[AlwaysIncludeUserClaimsInIdToken], [c].[AlwaysSendClientClaims], [c].[AuthorizationCodeLifetime], [c].[BackChannelLogoutSessionRequired], [c].[BackChannelLogoutUri], [c].[ClientClaimsPrefix], [c].[ClientId], [c].[ClientName], [c].[ClientUri], [c].[ConsentLifetime], [c].[Created], [c].[Description], [c].[DeviceCodeLifetime], [c].[EnableLocalLogin], [c].[Enabled], [c].[FrontChannelLogoutSessionRequired], [c].[FrontChannelLogoutUri], [c].[IdentityTokenLifetime], [c].[IncludeJwtId], [c].[LastAccessed], [c].[LogoUri], [c].[NonEditable], [c].[PairWiseSubjectSalt], [c].[ProtocolType], [c].[RefreshTokenExpiration], [c].[RefreshTokenUsage], [c].[RequireClientSecret], [c].[RequireConsent], [c].[RequirePkce], [c].[RequireRequestObject], [c].[SlidingRefreshTokenLifetime], [c].[UpdateAccessTokenClaimsOnRefresh], [c].[Updated], [c].[UserCodeType], [c].[UserSsoLifetime]
FROM [Clients] AS [c]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T08:40:07.3819257+00:00][INFO][13][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("23"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[Origin]
FROM [Clients] AS [c]
INNER JOIN [ClientCorsOrigins] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T08:40:07.4139142+00:00][INFO][14][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("3"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[GrantType]
FROM [Clients] AS [c]
INNER JOIN [ClientGrantTypes] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T08:40:07.4379897+00:00][INFO][6][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("3"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[Scope]
FROM [Clients] AS [c]
INNER JOIN [ClientScopes] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T08:40:07.4671332+00:00][INFO][13][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("4"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[Type], [c0].[Value]
FROM [Clients] AS [c]
INNER JOIN [ClientClaims] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T08:40:07.4987509+00:00][INFO][16][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("13"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[Created], [c0].[Description], [c0].[Expiration], [c0].[Type], [c0].[Value]
FROM [Clients] AS [c]
INNER JOIN [ClientSecrets] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T08:40:07.5359294+00:00][INFO][17][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("5"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[Provider]
FROM [Clients] AS [c]
INNER JOIN [ClientIdPRestrictions] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T08:40:07.5555386+00:00][INFO][14][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("3"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[PostLogoutRedirectUri]
FROM [Clients] AS [c]
INNER JOIN [ClientPostLogoutRedirectUris] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T08:40:07.5913248+00:00][INFO][17][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("3"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[Key], [c0].[Value]
FROM [Clients] AS [c]
INNER JOIN [ClientProperties] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T08:40:07.6133613+00:00][INFO][13][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("4"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[RedirectUri]
FROM [Clients] AS [c]
INNER JOIN [ClientRedirectUris] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T08:40:07.9029729+00:00][WARN][13][Microsoft.EntityFrameworkCore.Query] Compiling a query which loads related collections for more than one collection navigation either via 'Include' or through projection but no 'QuerySplittingBehavior' has been configured. By default Entity Framework will use 'QuerySplittingBehavior.SingleQuery' which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'
[2020-12-30T08:40:07.9302238+00:00][INFO][6][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("4"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [i].[Id], [i].[Created], [i].[Description], [i].[DisplayName], [i].[Emphasize], [i].[Enabled], [i].[Name], [i].[NonEditable], [i].[Required], [i].[ShowInDiscoveryDocument], [i].[Updated], [i0].[Id], [i0].[IdentityResourceId], [i0].[Type], [i1].[Id], [i1].[IdentityResourceId], [i1].[Key], [i1].[Value]
FROM [IdentityResources] AS [i]
LEFT JOIN [IdentityResourceClaims] AS [i0] ON [i].[Id] = [i0].[IdentityResourceId]
LEFT JOIN [IdentityResourceProperties] AS [i1] ON [i].[Id] = [i1].[IdentityResourceId]
WHERE [i].[Name] IN (N'openid', N'profile', N'email', N'roles')
ORDER BY [i].[Id], [i0].[Id], [i1].[Id]"
[2020-12-30T08:40:07.9675033+00:00][WARN][17][Microsoft.EntityFrameworkCore.Query] Compiling a query which loads related collections for more than one collection navigation either via 'Include' or through projection but no 'QuerySplittingBehavior' has been configured. By default Entity Framework will use 'QuerySplittingBehavior.SingleQuery' which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'
[2020-12-30T08:40:08.0254057+00:00][INFO][16][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("23"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [a].[Id], [a].[AllowedAccessTokenSigningAlgorithms], [a].[Created], [a].[Description], [a].[DisplayName], [a].[Enabled], [a].[LastAccessed], [a].[Name], [a].[NonEditable], [a].[ShowInDiscoveryDocument], [a].[Updated], [a0].[Id], [a0].[ApiResourceId], [a0].[Created], [a0].[Description], [a0].[Expiration], [a0].[Type], [a0].[Value], [a1].[Id], [a1].[ApiResourceId], [a1].[Scope], [a2].[Id], [a2].[ApiResourceId], [a2].[Type], [a3].[Id], [a3].[ApiResourceId], [a3].[Key], [a3].[Value]
FROM [ApiResources] AS [a]
LEFT JOIN [ApiResourceSecrets] AS [a0] ON [a].[Id] = [a0].[ApiResourceId]
LEFT JOIN [ApiResourceScopes] AS [a1] ON [a].[Id] = [a1].[ApiResourceId]
LEFT JOIN [ApiResourceClaims] AS [a2] ON [a].[Id] = [a2].[ApiResourceId]
LEFT JOIN [ApiResourceProperties] AS [a3] ON [a].[Id] = [a3].[ApiResourceId]
WHERE EXISTS (
    SELECT 1
    FROM [ApiResourceScopes] AS [a4]
    WHERE ([a].[Id] = [a4].[ApiResourceId]) AND [a4].[Scope] IN (N'openid', N'profile', N'email', N'roles'))
ORDER BY [a].[Id], [a0].[Id], [a1].[Id], [a2].[Id], [a3].[Id]"
[2020-12-30T08:40:08.0567214+00:00][WARN][16][Microsoft.EntityFrameworkCore.Query] Compiling a query which loads related collections for more than one collection navigation either via 'Include' or through projection but no 'QuerySplittingBehavior' has been configured. By default Entity Framework will use 'QuerySplittingBehavior.SingleQuery' which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'
[2020-12-30T08:40:08.0855540+00:00][INFO][17][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("6"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [a].[Id], [a].[Description], [a].[DisplayName], [a].[Emphasize], [a].[Enabled], [a].[Name], [a].[Required], [a].[ShowInDiscoveryDocument], [a0].[Id], [a0].[ScopeId], [a0].[Type], [a1].[Id], [a1].[Key], [a1].[ScopeId], [a1].[Value]
FROM [ApiScopes] AS [a]
LEFT JOIN [ApiScopeClaims] AS [a0] ON [a].[Id] = [a0].[ScopeId]
LEFT JOIN [ApiScopeProperties] AS [a1] ON [a].[Id] = [a1].[ScopeId]
WHERE [a].[Name] IN (N'openid', N'profile', N'email', N'roles')
ORDER BY [a].[Id], [a0].[Id], [a1].[Id]"
[2020-12-30T08:40:08.1262916+00:00][INFO][16][IdentityServer4.ResponseHandling.AuthorizeInteractionResponseGenerator] Showing login: User is not authenticated
[2020-12-30T08:40:08.1412657+00:00][INFO][16][Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/1.1 GET http://www.em.host/connect/authorize?client_id=urn%3Aem%3Aclient&redirect_uri=https%3A%2F%2Fwww.em.host%2Fadmin%2Fidentity%2Fsignin-oidc&response_type=code&scope=openid%20profile%20email%20roles&code_challenge=L_AVHNkdA5CAGzBNriJR0nHEWXtoQZoOK_cMVBRBYDM&code_challenge_method=S256&response_mode=form_post&nonce=637449144069757279.MGRlMjQyNjAtN2U3Zi00MzI3LThmOTYtMDJhNjRjYzQwMmU3Yzc2MGRkYzktMGFiMS00NjVkLTg4NjctMDRhMzI0NThhNjJh&state=CfDJ8ASI9RBeE6hBsIC3rORyZw2w3tP2l4mJ_H8gUHYduYeAs9TNnhMuIaD4WXR3xq2G7LhPbtrBHJ3sUARMphXbcwZwrx2aw_yT4X27jVHxC_pDM1Qfpn-4bYm3WJpGkJHBbX1MfixLT-OdSrMRZoBH9WQ-vZc9wABJUWAOXyUk9znXmF3yz37aTXli5CU6fBs9256kmePcph6AmSFskIwehReB8PO5p-0Lb2Vk7ESGtcAe9ixg3Xt__bKk5YAZSs46YloFaFe6jz2bmA4XrvYzrOMTQAWqeZItAgSis6X9Ktb_F0w3p47JHnxrqkrf76htM4rhiUnhJHH_QGCIVj-podwku0USiJEYkhBOq0tcrfX-q3U3PpJQUIDHbDMQUI2XeA&x-client-SKU=ID_NETSTANDARD2_0&x-client-ver=5.6.0.0 - - - 302 0 - 1054.2717ms
[2020-12-30T08:43:11.9423182+00:00][INFO][20][Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 GET http://www.em.host/identity/account/login?ReturnUrl=%2Fconnect%2Fauthorize%2Fcallback%3Fclient_id%3Durn%253Aem%253Aclient%26redirect_uri%3Dhttps%253A%252F%252Fwww.em.host%252Fadmin%252Fidentity%252Fsignin-oidc%26response_type%3Dcode%26scope%3Dopenid%2520profile%2520email%2520roles%26code_challenge%3DL_AVHNkdA5CAGzBNriJR0nHEWXtoQZoOK_cMVBRBYDM%26code_challenge_method%3DS256%26response_mode%3Dform_post%26nonce%3D637449144069757279.MGRlMjQyNjAtN2U3Zi00MzI3LThmOTYtMDJhNjRjYzQwMmU3Yzc2MGRkYzktMGFiMS00NjVkLTg4NjctMDRhMzI0NThhNjJh%26state%3DCfDJ8ASI9RBeE6hBsIC3rORyZw2w3tP2l4mJ_H8gUHYduYeAs9TNnhMuIaD4WXR3xq2G7LhPbtrBHJ3sUARMphXbcwZwrx2aw_yT4X27jVHxC_pDM1Qfpn-4bYm3WJpGkJHBbX1MfixLT-OdSrMRZoBH9WQ-vZc9wABJUWAOXyUk9znXmF3yz37aTXli5CU6fBs9256kmePcph6AmSFskIwehReB8PO5p-0Lb2Vk7ESGtcAe9ixg3Xt__bKk5YAZSs46YloFaFe6jz2bmA4XrvYzrOMTQAWqeZItAgSis6X9Ktb_F0w3p47JHnxrqkrf76htM4rhiUnhJHH_QGCIVj-podwku0USiJEYkhBOq0tcrfX-q3U3PpJQUIDHbDMQUI2XeA%26x-client-SKU%3DID_NETSTANDARD2_0%26x-client-ver%3D5.6.0.0 - -
[2020-12-30T08:43:12.0907484+00:00][INFO][20][Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/1.1 GET http://www.em.host/identity/account/login?ReturnUrl=%2Fconnect%2Fauthorize%2Fcallback%3Fclient_id%3Durn%253Aem%253Aclient%26redirect_uri%3Dhttps%253A%252F%252Fwww.em.host%252Fadmin%252Fidentity%252Fsignin-oidc%26response_type%3Dcode%26scope%3Dopenid%2520profile%2520email%2520roles%26code_challenge%3DL_AVHNkdA5CAGzBNriJR0nHEWXtoQZoOK_cMVBRBYDM%26code_challenge_method%3DS256%26response_mode%3Dform_post%26nonce%3D637449144069757279.MGRlMjQyNjAtN2U3Zi00MzI3LThmOTYtMDJhNjRjYzQwMmU3Yzc2MGRkYzktMGFiMS00NjVkLTg4NjctMDRhMzI0NThhNjJh%26state%3DCfDJ8ASI9RBeE6hBsIC3rORyZw2w3tP2l4mJ_H8gUHYduYeAs9TNnhMuIaD4WXR3xq2G7LhPbtrBHJ3sUARMphXbcwZwrx2aw_yT4X27jVHxC_pDM1Qfpn-4bYm3WJpGkJHBbX1MfixLT-OdSrMRZoBH9WQ-vZc9wABJUWAOXyUk9znXmF3yz37aTXli5CU6fBs9256kmePcph6AmSFskIwehReB8PO5p-0Lb2Vk7ESGtcAe9ixg3Xt__bKk5YAZSs46YloFaFe6jz2bmA4XrvYzrOMTQAWqeZItAgSis6X9Ktb_F0w3p47JHnxrqkrf76htM4rhiUnhJHH_QGCIVj-podwku0USiJEYkhBOq0tcrfX-q3U3PpJQUIDHbDMQUI2XeA%26x-client-SKU%3DID_NETSTANDARD2_0%26x-client-ver%3D5.6.0.0 - - - 404 0 - 148.5047ms
[2020-12-30T08:43:38.0000014+00:00][INFO][18][Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 GET http://www.em.host/connect/authorize?client_id=urn%3Aem%3Aclient&redirect_uri=https%3A%2F%2Fwww.em.host%2Fadmin%2Fidentity%2Fsignin-oidc&response_type=code&scope=openid%20profile%20email%20roles&code_challenge=-k989HzIY2WVFHefkpxbEIcbl13xgkW15t4pQoihaTc&code_challenge_method=S256&response_mode=form_post&nonce=637449146179569090.YTdkYTZmNmUtMjY4MC00MjQxLTgyMTctNjk0Y2Y4NDY4MTE3MGQzZmQ3NzgtNTc5YS00OGNkLTllMTQtOWQ2M2QzZWYwN2Q2&state=CfDJ8ASI9RBeE6hBsIC3rORyZw1txmc7deqGbBDkAfk8JQwUhKwskIlcLc1zoYPBUx8maCZGKdW-1ld9ry1GZUc2iMoJmA4pSGd7UUaGbQcGIIeOY-NrqKZ6DJb2k8bLMoJLpjJ_8-CQIoy3NabQazOmfEgtOisltChfFoyzet44A2aDTN4BVtzXQQaD-Go3AxphAryUnweVazTpqD38IkxAkH38uNUqYwpZ9gcPYwnG85y0JXXqyRtzswN8nVb_1k4lv86bt2HqSq2GzQ-V0jQInDi4QqCe74EkV1N0S3mehkp1Y0aoCcXOvWetoYRGzhoQLH4pt4bBPrTHCzOBmW3JLzsZLDoYgnG90FwSFJd_fVrSOB6deGXId6RC9cp6MrtnBA&x-client-SKU=ID_NETSTANDARD2_0&x-client-ver=5.6.0.0 - -
[2020-12-30T08:43:38.0096671+00:00][INFO][18][IdentityServer4.Hosting.IdentityServerMiddleware] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize"
[2020-12-30T08:43:38.0146641+00:00][INFO][18][Microsoft.EntityFrameworkCore.Infrastructure] Entity Framework Core "5.0.1" initialized '"IdentityServerConfigurationDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=EventManager.Identity.Admin.EntityFramework.SqlServer "
[2020-12-30T08:43:38.0528773+00:00][INFO][24][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("28"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c].[Id], [c].[AbsoluteRefreshTokenLifetime], [c].[AccessTokenLifetime], [c].[AccessTokenType], [c].[AllowAccessTokensViaBrowser], [c].[AllowOfflineAccess], [c].[AllowPlainTextPkce], [c].[AllowRememberConsent], [c].[AllowedIdentityTokenSigningAlgorithms], [c].[AlwaysIncludeUserClaimsInIdToken], [c].[AlwaysSendClientClaims], [c].[AuthorizationCodeLifetime], [c].[BackChannelLogoutSessionRequired], [c].[BackChannelLogoutUri], [c].[ClientClaimsPrefix], [c].[ClientId], [c].[ClientName], [c].[ClientUri], [c].[ConsentLifetime], [c].[Created], [c].[Description], [c].[DeviceCodeLifetime], [c].[EnableLocalLogin], [c].[Enabled], [c].[FrontChannelLogoutSessionRequired], [c].[FrontChannelLogoutUri], [c].[IdentityTokenLifetime], [c].[IncludeJwtId], [c].[LastAccessed], [c].[LogoUri], [c].[NonEditable], [c].[PairWiseSubjectSalt], [c].[ProtocolType], [c].[RefreshTokenExpiration], [c].[RefreshTokenUsage], [c].[RequireClientSecret], [c].[RequireConsent], [c].[RequirePkce], [c].[RequireRequestObject], [c].[SlidingRefreshTokenLifetime], [c].[UpdateAccessTokenClaimsOnRefresh], [c].[Updated], [c].[UserCodeType], [c].[UserSsoLifetime]
FROM [Clients] AS [c]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T08:43:38.1059970+00:00][INFO][27][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("10"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[Origin]
FROM [Clients] AS [c]
INNER JOIN [ClientCorsOrigins] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T08:43:38.1183919+00:00][INFO][18][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("3"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[GrantType]
FROM [Clients] AS [c]
INNER JOIN [ClientGrantTypes] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T08:43:38.1279780+00:00][INFO][23][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("3"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[Scope]
FROM [Clients] AS [c]
INNER JOIN [ClientScopes] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T08:43:38.1602949+00:00][INFO][27][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("26"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[Type], [c0].[Value]
FROM [Clients] AS [c]
INNER JOIN [ClientClaims] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T08:43:38.1724957+00:00][INFO][24][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("4"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[Created], [c0].[Description], [c0].[Expiration], [c0].[Type], [c0].[Value]
FROM [Clients] AS [c]
INNER JOIN [ClientSecrets] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T08:43:38.1946432+00:00][INFO][18][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("13"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[Provider]
FROM [Clients] AS [c]
INNER JOIN [ClientIdPRestrictions] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T08:43:38.2173690+00:00][INFO][18][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("19"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[PostLogoutRedirectUri]
FROM [Clients] AS [c]
INNER JOIN [ClientPostLogoutRedirectUris] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T08:43:38.2365241+00:00][INFO][24][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("4"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[Key], [c0].[Value]
FROM [Clients] AS [c]
INNER JOIN [ClientProperties] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T08:43:38.2650698+00:00][INFO][18][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("25"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[RedirectUri]
FROM [Clients] AS [c]
INNER JOIN [ClientRedirectUris] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T08:43:38.2769825+00:00][INFO][24][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("8"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [i].[Id], [i].[Created], [i].[Description], [i].[DisplayName], [i].[Emphasize], [i].[Enabled], [i].[Name], [i].[NonEditable], [i].[Required], [i].[ShowInDiscoveryDocument], [i].[Updated], [i0].[Id], [i0].[IdentityResourceId], [i0].[Type], [i1].[Id], [i1].[IdentityResourceId], [i1].[Key], [i1].[Value]
FROM [IdentityResources] AS [i]
LEFT JOIN [IdentityResourceClaims] AS [i0] ON [i].[Id] = [i0].[IdentityResourceId]
LEFT JOIN [IdentityResourceProperties] AS [i1] ON [i].[Id] = [i1].[IdentityResourceId]
WHERE [i].[Name] IN (N'openid', N'profile', N'email', N'roles')
ORDER BY [i].[Id], [i0].[Id], [i1].[Id]"
[2020-12-30T08:43:38.2880736+00:00][INFO][18][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("6"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [a].[Id], [a].[AllowedAccessTokenSigningAlgorithms], [a].[Created], [a].[Description], [a].[DisplayName], [a].[Enabled], [a].[LastAccessed], [a].[Name], [a].[NonEditable], [a].[ShowInDiscoveryDocument], [a].[Updated], [a0].[Id], [a0].[ApiResourceId], [a0].[Created], [a0].[Description], [a0].[Expiration], [a0].[Type], [a0].[Value], [a1].[Id], [a1].[ApiResourceId], [a1].[Scope], [a2].[Id], [a2].[ApiResourceId], [a2].[Type], [a3].[Id], [a3].[ApiResourceId], [a3].[Key], [a3].[Value]
FROM [ApiResources] AS [a]
LEFT JOIN [ApiResourceSecrets] AS [a0] ON [a].[Id] = [a0].[ApiResourceId]
LEFT JOIN [ApiResourceScopes] AS [a1] ON [a].[Id] = [a1].[ApiResourceId]
LEFT JOIN [ApiResourceClaims] AS [a2] ON [a].[Id] = [a2].[ApiResourceId]
LEFT JOIN [ApiResourceProperties] AS [a3] ON [a].[Id] = [a3].[ApiResourceId]
WHERE EXISTS (
    SELECT 1
    FROM [ApiResourceScopes] AS [a4]
    WHERE ([a].[Id] = [a4].[ApiResourceId]) AND [a4].[Scope] IN (N'openid', N'profile', N'email', N'roles'))
ORDER BY [a].[Id], [a0].[Id], [a1].[Id], [a2].[Id], [a3].[Id]"
[2020-12-30T08:43:38.3095232+00:00][INFO][24][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("6"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [a].[Id], [a].[Description], [a].[DisplayName], [a].[Emphasize], [a].[Enabled], [a].[Name], [a].[Required], [a].[ShowInDiscoveryDocument], [a0].[Id], [a0].[ScopeId], [a0].[Type], [a1].[Id], [a1].[Key], [a1].[ScopeId], [a1].[Value]
FROM [ApiScopes] AS [a]
LEFT JOIN [ApiScopeClaims] AS [a0] ON [a].[Id] = [a0].[ScopeId]
LEFT JOIN [ApiScopeProperties] AS [a1] ON [a].[Id] = [a1].[ScopeId]
WHERE [a].[Name] IN (N'openid', N'profile', N'email', N'roles')
ORDER BY [a].[Id], [a0].[Id], [a1].[Id]"
[2020-12-30T08:43:38.3135862+00:00][INFO][24][IdentityServer4.ResponseHandling.AuthorizeInteractionResponseGenerator] Showing login: User is not authenticated
[2020-12-30T08:43:38.3166051+00:00][INFO][24][Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/1.1 GET http://www.em.host/connect/authorize?client_id=urn%3Aem%3Aclient&redirect_uri=https%3A%2F%2Fwww.em.host%2Fadmin%2Fidentity%2Fsignin-oidc&response_type=code&scope=openid%20profile%20email%20roles&code_challenge=-k989HzIY2WVFHefkpxbEIcbl13xgkW15t4pQoihaTc&code_challenge_method=S256&response_mode=form_post&nonce=637449146179569090.YTdkYTZmNmUtMjY4MC00MjQxLTgyMTctNjk0Y2Y4NDY4MTE3MGQzZmQ3NzgtNTc5YS00OGNkLTllMTQtOWQ2M2QzZWYwN2Q2&state=CfDJ8ASI9RBeE6hBsIC3rORyZw1txmc7deqGbBDkAfk8JQwUhKwskIlcLc1zoYPBUx8maCZGKdW-1ld9ry1GZUc2iMoJmA4pSGd7UUaGbQcGIIeOY-NrqKZ6DJb2k8bLMoJLpjJ_8-CQIoy3NabQazOmfEgtOisltChfFoyzet44A2aDTN4BVtzXQQaD-Go3AxphAryUnweVazTpqD38IkxAkH38uNUqYwpZ9gcPYwnG85y0JXXqyRtzswN8nVb_1k4lv86bt2HqSq2GzQ-V0jQInDi4QqCe74EkV1N0S3mehkp1Y0aoCcXOvWetoYRGzhoQLH4pt4bBPrTHCzOBmW3JLzsZLDoYgnG90FwSFJd_fVrSOB6deGXId6RC9cp6MrtnBA&x-client-SKU=ID_NETSTANDARD2_0&x-client-ver=5.6.0.0 - - - 302 0 - 316.4116ms
[2020-12-30T08:43:38.3529095+00:00][INFO][24][Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 GET http://www.em.host/identity/account/login?ReturnUrl=%2Fconnect%2Fauthorize%2Fcallback%3Fclient_id%3Durn%253Aem%253Aclient%26redirect_uri%3Dhttps%253A%252F%252Fwww.em.host%252Fadmin%252Fidentity%252Fsignin-oidc%26response_type%3Dcode%26scope%3Dopenid%2520profile%2520email%2520roles%26code_challenge%3D-k989HzIY2WVFHefkpxbEIcbl13xgkW15t4pQoihaTc%26code_challenge_method%3DS256%26response_mode%3Dform_post%26nonce%3D637449146179569090.YTdkYTZmNmUtMjY4MC00MjQxLTgyMTctNjk0Y2Y4NDY4MTE3MGQzZmQ3NzgtNTc5YS00OGNkLTllMTQtOWQ2M2QzZWYwN2Q2%26state%3DCfDJ8ASI9RBeE6hBsIC3rORyZw1txmc7deqGbBDkAfk8JQwUhKwskIlcLc1zoYPBUx8maCZGKdW-1ld9ry1GZUc2iMoJmA4pSGd7UUaGbQcGIIeOY-NrqKZ6DJb2k8bLMoJLpjJ_8-CQIoy3NabQazOmfEgtOisltChfFoyzet44A2aDTN4BVtzXQQaD-Go3AxphAryUnweVazTpqD38IkxAkH38uNUqYwpZ9gcPYwnG85y0JXXqyRtzswN8nVb_1k4lv86bt2HqSq2GzQ-V0jQInDi4QqCe74EkV1N0S3mehkp1Y0aoCcXOvWetoYRGzhoQLH4pt4bBPrTHCzOBmW3JLzsZLDoYgnG90FwSFJd_fVrSOB6deGXId6RC9cp6MrtnBA%26x-client-SKU%3DID_NETSTANDARD2_0%26x-client-ver%3D5.6.0.0 - -
[2020-12-30T08:43:38.3610556+00:00][INFO][24][Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/1.1 GET http://www.em.host/identity/account/login?ReturnUrl=%2Fconnect%2Fauthorize%2Fcallback%3Fclient_id%3Durn%253Aem%253Aclient%26redirect_uri%3Dhttps%253A%252F%252Fwww.em.host%252Fadmin%252Fidentity%252Fsignin-oidc%26response_type%3Dcode%26scope%3Dopenid%2520profile%2520email%2520roles%26code_challenge%3D-k989HzIY2WVFHefkpxbEIcbl13xgkW15t4pQoihaTc%26code_challenge_method%3DS256%26response_mode%3Dform_post%26nonce%3D637449146179569090.YTdkYTZmNmUtMjY4MC00MjQxLTgyMTctNjk0Y2Y4NDY4MTE3MGQzZmQ3NzgtNTc5YS00OGNkLTllMTQtOWQ2M2QzZWYwN2Q2%26state%3DCfDJ8ASI9RBeE6hBsIC3rORyZw1txmc7deqGbBDkAfk8JQwUhKwskIlcLc1zoYPBUx8maCZGKdW-1ld9ry1GZUc2iMoJmA4pSGd7UUaGbQcGIIeOY-NrqKZ6DJb2k8bLMoJLpjJ_8-CQIoy3NabQazOmfEgtOisltChfFoyzet44A2aDTN4BVtzXQQaD-Go3AxphAryUnweVazTpqD38IkxAkH38uNUqYwpZ9gcPYwnG85y0JXXqyRtzswN8nVb_1k4lv86bt2HqSq2GzQ-V0jQInDi4QqCe74EkV1N0S3mehkp1Y0aoCcXOvWetoYRGzhoQLH4pt4bBPrTHCzOBmW3JLzsZLDoYgnG90FwSFJd_fVrSOB6deGXId6RC9cp6MrtnBA%26x-client-SKU%3DID_NETSTANDARD2_0%26x-client-ver%3D5.6.0.0 - - - 404 0 - 8.1399ms
[2020-12-30T08:45:07.0752731+00:00][INFO][18][Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 GET http://www.em.host/connect/authorize?client_id=urn%3Aem%3Aclient&redirect_uri=https%3A%2F%2Fwww.em.host%2Fadmin%2Fidentity%2Fsignin-oidc&response_type=code&scope=openid%20profile%20email%20roles&code_challenge=9ujfRlwm5TziTTfnl3z6QZPY5OCGeyjOLbdGLlZhZXw&code_challenge_method=S256&response_mode=form_post&nonce=637449147070302756.MWY0MmZjZWYtMmZmZC00NjQ2LWEzZWEtZjRjM2U2Y2E3MWEyMDBkZGU3NGYtNTY3My00NjQ0LWEwYTYtODk2NGRkZmY5MDA3&state=CfDJ8ASI9RBeE6hBsIC3rORyZw0iSEbR2-wMkyUbNkk1Yen5szNIx1XP-XDiNCIjqFFsR8aHp7_RDJcNQLhidx3fCAIJrLQPSNTrqseri7yIXgH7T_BquNa9W9pO0T8iOZBngZiugV8RDO6FvcrmCoski5l74Uesai3lZcmwjdiEBGLbeGhdsUB9r6-4QuOUbAx5t9mQFJ_d9vH84kM1A7QcJsxTBzGJQ8ydbpPEECU439I3qci5edC7pDW5agbIE8iZl91puMvKndVXeP-RuMf3NyMWc7hUffVh_FNhMVPjoaRApLYpZNPln9hyy_CJfK-bo4dYvGAypyfs79IIW80jjAvlpN7VbfpIhMz9mAY0RENCGAut4sRRNZz8GTOhDWcmpw&x-client-SKU=ID_NETSTANDARD2_0&x-client-ver=5.6.0.0 - -
[2020-12-30T08:45:07.1014635+00:00][INFO][18][IdentityServer4.Hosting.IdentityServerMiddleware] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize"
[2020-12-30T08:45:07.1129420+00:00][INFO][18][Microsoft.EntityFrameworkCore.Infrastructure] Entity Framework Core "5.0.1" initialized '"IdentityServerConfigurationDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=EventManager.Identity.Admin.EntityFramework.SqlServer "
[2020-12-30T08:45:07.1233042+00:00][INFO][29][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("3"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c].[Id], [c].[AbsoluteRefreshTokenLifetime], [c].[AccessTokenLifetime], [c].[AccessTokenType], [c].[AllowAccessTokensViaBrowser], [c].[AllowOfflineAccess], [c].[AllowPlainTextPkce], [c].[AllowRememberConsent], [c].[AllowedIdentityTokenSigningAlgorithms], [c].[AlwaysIncludeUserClaimsInIdToken], [c].[AlwaysSendClientClaims], [c].[AuthorizationCodeLifetime], [c].[BackChannelLogoutSessionRequired], [c].[BackChannelLogoutUri], [c].[ClientClaimsPrefix], [c].[ClientId], [c].[ClientName], [c].[ClientUri], [c].[ConsentLifetime], [c].[Created], [c].[Description], [c].[DeviceCodeLifetime], [c].[EnableLocalLogin], [c].[Enabled], [c].[FrontChannelLogoutSessionRequired], [c].[FrontChannelLogoutUri], [c].[IdentityTokenLifetime], [c].[IncludeJwtId], [c].[LastAccessed], [c].[LogoUri], [c].[NonEditable], [c].[PairWiseSubjectSalt], [c].[ProtocolType], [c].[RefreshTokenExpiration], [c].[RefreshTokenUsage], [c].[RequireClientSecret], [c].[RequireConsent], [c].[RequirePkce], [c].[RequireRequestObject], [c].[SlidingRefreshTokenLifetime], [c].[UpdateAccessTokenClaimsOnRefresh], [c].[Updated], [c].[UserCodeType], [c].[UserSsoLifetime]
FROM [Clients] AS [c]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T08:45:07.1650020+00:00][INFO][24][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("5"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[Origin]
FROM [Clients] AS [c]
INNER JOIN [ClientCorsOrigins] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T08:45:07.1775797+00:00][INFO][18][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("5"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[GrantType]
FROM [Clients] AS [c]
INNER JOIN [ClientGrantTypes] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T08:45:07.1997837+00:00][INFO][24][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("4"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[Scope]
FROM [Clients] AS [c]
INNER JOIN [ClientScopes] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T08:45:07.2133840+00:00][INFO][18][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("4"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[Type], [c0].[Value]
FROM [Clients] AS [c]
INNER JOIN [ClientClaims] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T08:45:07.2254105+00:00][INFO][29][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("10"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[Created], [c0].[Description], [c0].[Expiration], [c0].[Type], [c0].[Value]
FROM [Clients] AS [c]
INNER JOIN [ClientSecrets] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T08:45:07.2545859+00:00][INFO][18][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("26"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[Provider]
FROM [Clients] AS [c]
INNER JOIN [ClientIdPRestrictions] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T08:45:07.2609284+00:00][INFO][18][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("4"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[PostLogoutRedirectUri]
FROM [Clients] AS [c]
INNER JOIN [ClientPostLogoutRedirectUris] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T08:45:07.2698443+00:00][INFO][29][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("6"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[Key], [c0].[Value]
FROM [Clients] AS [c]
INNER JOIN [ClientProperties] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T08:45:07.2994232+00:00][INFO][18][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("7"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[RedirectUri]
FROM [Clients] AS [c]
INNER JOIN [ClientRedirectUris] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T08:45:07.3113781+00:00][INFO][29][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("9"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [i].[Id], [i].[Created], [i].[Description], [i].[DisplayName], [i].[Emphasize], [i].[Enabled], [i].[Name], [i].[NonEditable], [i].[Required], [i].[ShowInDiscoveryDocument], [i].[Updated], [i0].[Id], [i0].[IdentityResourceId], [i0].[Type], [i1].[Id], [i1].[IdentityResourceId], [i1].[Key], [i1].[Value]
FROM [IdentityResources] AS [i]
LEFT JOIN [IdentityResourceClaims] AS [i0] ON [i].[Id] = [i0].[IdentityResourceId]
LEFT JOIN [IdentityResourceProperties] AS [i1] ON [i].[Id] = [i1].[IdentityResourceId]
WHERE [i].[Name] IN (N'openid', N'profile', N'email', N'roles')
ORDER BY [i].[Id], [i0].[Id], [i1].[Id]"
[2020-12-30T08:45:07.3699049+00:00][INFO][18][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("47"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [a].[Id], [a].[AllowedAccessTokenSigningAlgorithms], [a].[Created], [a].[Description], [a].[DisplayName], [a].[Enabled], [a].[LastAccessed], [a].[Name], [a].[NonEditable], [a].[ShowInDiscoveryDocument], [a].[Updated], [a0].[Id], [a0].[ApiResourceId], [a0].[Created], [a0].[Description], [a0].[Expiration], [a0].[Type], [a0].[Value], [a1].[Id], [a1].[ApiResourceId], [a1].[Scope], [a2].[Id], [a2].[ApiResourceId], [a2].[Type], [a3].[Id], [a3].[ApiResourceId], [a3].[Key], [a3].[Value]
FROM [ApiResources] AS [a]
LEFT JOIN [ApiResourceSecrets] AS [a0] ON [a].[Id] = [a0].[ApiResourceId]
LEFT JOIN [ApiResourceScopes] AS [a1] ON [a].[Id] = [a1].[ApiResourceId]
LEFT JOIN [ApiResourceClaims] AS [a2] ON [a].[Id] = [a2].[ApiResourceId]
LEFT JOIN [ApiResourceProperties] AS [a3] ON [a].[Id] = [a3].[ApiResourceId]
WHERE EXISTS (
    SELECT 1
    FROM [ApiResourceScopes] AS [a4]
    WHERE ([a].[Id] = [a4].[ApiResourceId]) AND [a4].[Scope] IN (N'openid', N'profile', N'email', N'roles'))
ORDER BY [a].[Id], [a0].[Id], [a1].[Id], [a2].[Id], [a3].[Id]"
[2020-12-30T08:45:07.3815329+00:00][INFO][29][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [a].[Id], [a].[Description], [a].[DisplayName], [a].[Emphasize], [a].[Enabled], [a].[Name], [a].[Required], [a].[ShowInDiscoveryDocument], [a0].[Id], [a0].[ScopeId], [a0].[Type], [a1].[Id], [a1].[Key], [a1].[ScopeId], [a1].[Value]
FROM [ApiScopes] AS [a]
LEFT JOIN [ApiScopeClaims] AS [a0] ON [a].[Id] = [a0].[ScopeId]
LEFT JOIN [ApiScopeProperties] AS [a1] ON [a].[Id] = [a1].[ScopeId]
WHERE [a].[Name] IN (N'openid', N'profile', N'email', N'roles')
ORDER BY [a].[Id], [a0].[Id], [a1].[Id]"
[2020-12-30T08:45:07.3851266+00:00][INFO][29][IdentityServer4.ResponseHandling.AuthorizeInteractionResponseGenerator] Showing login: User is not authenticated
[2020-12-30T08:45:07.3910370+00:00][INFO][29][Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/1.1 GET http://www.em.host/connect/authorize?client_id=urn%3Aem%3Aclient&redirect_uri=https%3A%2F%2Fwww.em.host%2Fadmin%2Fidentity%2Fsignin-oidc&response_type=code&scope=openid%20profile%20email%20roles&code_challenge=9ujfRlwm5TziTTfnl3z6QZPY5OCGeyjOLbdGLlZhZXw&code_challenge_method=S256&response_mode=form_post&nonce=637449147070302756.MWY0MmZjZWYtMmZmZC00NjQ2LWEzZWEtZjRjM2U2Y2E3MWEyMDBkZGU3NGYtNTY3My00NjQ0LWEwYTYtODk2NGRkZmY5MDA3&state=CfDJ8ASI9RBeE6hBsIC3rORyZw0iSEbR2-wMkyUbNkk1Yen5szNIx1XP-XDiNCIjqFFsR8aHp7_RDJcNQLhidx3fCAIJrLQPSNTrqseri7yIXgH7T_BquNa9W9pO0T8iOZBngZiugV8RDO6FvcrmCoski5l74Uesai3lZcmwjdiEBGLbeGhdsUB9r6-4QuOUbAx5t9mQFJ_d9vH84kM1A7QcJsxTBzGJQ8ydbpPEECU439I3qci5edC7pDW5agbIE8iZl91puMvKndVXeP-RuMf3NyMWc7hUffVh_FNhMVPjoaRApLYpZNPln9hyy_CJfK-bo4dYvGAypyfs79IIW80jjAvlpN7VbfpIhMz9mAY0RENCGAut4sRRNZz8GTOhDWcmpw&x-client-SKU=ID_NETSTANDARD2_0&x-client-ver=5.6.0.0 - - - 302 0 - 315.8142ms
[2020-12-30T08:45:07.4203326+00:00][INFO][34][Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 GET http://www.em.host/account/login?ReturnUrl=%2Fconnect%2Fauthorize%2Fcallback%3Fclient_id%3Durn%253Aem%253Aclient%26redirect_uri%3Dhttps%253A%252F%252Fwww.em.host%252Fadmin%252Fidentity%252Fsignin-oidc%26response_type%3Dcode%26scope%3Dopenid%2520profile%2520email%2520roles%26code_challenge%3D9ujfRlwm5TziTTfnl3z6QZPY5OCGeyjOLbdGLlZhZXw%26code_challenge_method%3DS256%26response_mode%3Dform_post%26nonce%3D637449147070302756.MWY0MmZjZWYtMmZmZC00NjQ2LWEzZWEtZjRjM2U2Y2E3MWEyMDBkZGU3NGYtNTY3My00NjQ0LWEwYTYtODk2NGRkZmY5MDA3%26state%3DCfDJ8ASI9RBeE6hBsIC3rORyZw0iSEbR2-wMkyUbNkk1Yen5szNIx1XP-XDiNCIjqFFsR8aHp7_RDJcNQLhidx3fCAIJrLQPSNTrqseri7yIXgH7T_BquNa9W9pO0T8iOZBngZiugV8RDO6FvcrmCoski5l74Uesai3lZcmwjdiEBGLbeGhdsUB9r6-4QuOUbAx5t9mQFJ_d9vH84kM1A7QcJsxTBzGJQ8ydbpPEECU439I3qci5edC7pDW5agbIE8iZl91puMvKndVXeP-RuMf3NyMWc7hUffVh_FNhMVPjoaRApLYpZNPln9hyy_CJfK-bo4dYvGAypyfs79IIW80jjAvlpN7VbfpIhMz9mAY0RENCGAut4sRRNZz8GTOhDWcmpw%26x-client-SKU%3DID_NETSTANDARD2_0%26x-client-ver%3D5.6.0.0 - -
[2020-12-30T08:45:07.4283968+00:00][INFO][34][Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/1.1 GET http://www.em.host/account/login?ReturnUrl=%2Fconnect%2Fauthorize%2Fcallback%3Fclient_id%3Durn%253Aem%253Aclient%26redirect_uri%3Dhttps%253A%252F%252Fwww.em.host%252Fadmin%252Fidentity%252Fsignin-oidc%26response_type%3Dcode%26scope%3Dopenid%2520profile%2520email%2520roles%26code_challenge%3D9ujfRlwm5TziTTfnl3z6QZPY5OCGeyjOLbdGLlZhZXw%26code_challenge_method%3DS256%26response_mode%3Dform_post%26nonce%3D637449147070302756.MWY0MmZjZWYtMmZmZC00NjQ2LWEzZWEtZjRjM2U2Y2E3MWEyMDBkZGU3NGYtNTY3My00NjQ0LWEwYTYtODk2NGRkZmY5MDA3%26state%3DCfDJ8ASI9RBeE6hBsIC3rORyZw0iSEbR2-wMkyUbNkk1Yen5szNIx1XP-XDiNCIjqFFsR8aHp7_RDJcNQLhidx3fCAIJrLQPSNTrqseri7yIXgH7T_BquNa9W9pO0T8iOZBngZiugV8RDO6FvcrmCoski5l74Uesai3lZcmwjdiEBGLbeGhdsUB9r6-4QuOUbAx5t9mQFJ_d9vH84kM1A7QcJsxTBzGJQ8ydbpPEECU439I3qci5edC7pDW5agbIE8iZl91puMvKndVXeP-RuMf3NyMWc7hUffVh_FNhMVPjoaRApLYpZNPln9hyy_CJfK-bo4dYvGAypyfs79IIW80jjAvlpN7VbfpIhMz9mAY0RENCGAut4sRRNZz8GTOhDWcmpw%26x-client-SKU%3DID_NETSTANDARD2_0%26x-client-ver%3D5.6.0.0 - - - 404 0 - 8.0357ms
[2020-12-30T08:46:43.0720550+00:00][INFO][31][Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 GET http://www.em.host/identity/account/login?ReturnUrl=%2Fconnect%2Fauthorize%2Fcallback%3Fclient_id%3Durn%253Aem%253Aclient%26redirect_uri%3Dhttps%253A%252F%252Fwww.em.host%252Fadmin%252Fidentity%252Fsignin-oidc%26response_type%3Dcode%26scope%3Dopenid%2520profile%2520email%2520roles%26code_challenge%3D9ujfRlwm5TziTTfnl3z6QZPY5OCGeyjOLbdGLlZhZXw%26code_challenge_method%3DS256%26response_mode%3Dform_post%26nonce%3D637449147070302756.MWY0MmZjZWYtMmZmZC00NjQ2LWEzZWEtZjRjM2U2Y2E3MWEyMDBkZGU3NGYtNTY3My00NjQ0LWEwYTYtODk2NGRkZmY5MDA3%26state%3DCfDJ8ASI9RBeE6hBsIC3rORyZw0iSEbR2-wMkyUbNkk1Yen5szNIx1XP-XDiNCIjqFFsR8aHp7_RDJcNQLhidx3fCAIJrLQPSNTrqseri7yIXgH7T_BquNa9W9pO0T8iOZBngZiugV8RDO6FvcrmCoski5l74Uesai3lZcmwjdiEBGLbeGhdsUB9r6-4QuOUbAx5t9mQFJ_d9vH84kM1A7QcJsxTBzGJQ8ydbpPEECU439I3qci5edC7pDW5agbIE8iZl91puMvKndVXeP-RuMf3NyMWc7hUffVh_FNhMVPjoaRApLYpZNPln9hyy_CJfK-bo4dYvGAypyfs79IIW80jjAvlpN7VbfpIhMz9mAY0RENCGAut4sRRNZz8GTOhDWcmpw%26x-client-SKU%3DID_NETSTANDARD2_0%26x-client-ver%3D5.6.0.0 - -
[2020-12-30T08:46:43.0748233+00:00][INFO][31][Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/1.1 GET http://www.em.host/identity/account/login?ReturnUrl=%2Fconnect%2Fauthorize%2Fcallback%3Fclient_id%3Durn%253Aem%253Aclient%26redirect_uri%3Dhttps%253A%252F%252Fwww.em.host%252Fadmin%252Fidentity%252Fsignin-oidc%26response_type%3Dcode%26scope%3Dopenid%2520profile%2520email%2520roles%26code_challenge%3D9ujfRlwm5TziTTfnl3z6QZPY5OCGeyjOLbdGLlZhZXw%26code_challenge_method%3DS256%26response_mode%3Dform_post%26nonce%3D637449147070302756.MWY0MmZjZWYtMmZmZC00NjQ2LWEzZWEtZjRjM2U2Y2E3MWEyMDBkZGU3NGYtNTY3My00NjQ0LWEwYTYtODk2NGRkZmY5MDA3%26state%3DCfDJ8ASI9RBeE6hBsIC3rORyZw0iSEbR2-wMkyUbNkk1Yen5szNIx1XP-XDiNCIjqFFsR8aHp7_RDJcNQLhidx3fCAIJrLQPSNTrqseri7yIXgH7T_BquNa9W9pO0T8iOZBngZiugV8RDO6FvcrmCoski5l74Uesai3lZcmwjdiEBGLbeGhdsUB9r6-4QuOUbAx5t9mQFJ_d9vH84kM1A7QcJsxTBzGJQ8ydbpPEECU439I3qci5edC7pDW5agbIE8iZl91puMvKndVXeP-RuMf3NyMWc7hUffVh_FNhMVPjoaRApLYpZNPln9hyy_CJfK-bo4dYvGAypyfs79IIW80jjAvlpN7VbfpIhMz9mAY0RENCGAut4sRRNZz8GTOhDWcmpw%26x-client-SKU%3DID_NETSTANDARD2_0%26x-client-ver%3D5.6.0.0 - - - 404 0 - 3.1947ms
[2020-12-30T08:46:48.7227067+00:00][INFO][35][Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 GET http://www.em.host/connect/authorize?client_id=urn%3Aem%3Aclient&redirect_uri=https%3A%2F%2Fwww.em.host%2Fadmin%2Fidentity%2Fsignin-oidc&response_type=code&scope=openid%20profile%20email%20roles&code_challenge=YOk_TQiZRscRVMgt5q-4k5XWORcJL9uc8SNshM_fmv4&code_challenge_method=S256&response_mode=form_post&nonce=637449148086513557.NmZhN2EzYzMtYTdjNC00YjI2LTk4MGYtMTJlODhiNDU1MTE0YjU2ZTRhZDAtMjY2MS00NzczLTlmNzItOWQ5OTY5YzQxMzJi&state=CfDJ8ASI9RBeE6hBsIC3rORyZw2rURXJWsWgI8O2YSs6T8i5cX31lspCbiAAqy-TrubFeoWxtceJsecZz4TesW_mIbLLrZ-LiK02-3Of_pi_rtt8EDFoxWhTF8CCL4Tu5ZSwyEpIbAfZ97-X5tNL7giDlqohniDiANimPCaH_O5Mkcyhncm19mZJ8HGa9h4F34guVl2ywHT3ruzwu9Gv60xIDz16_a90Fl89evAyhrZKWoJjcdlasFIlvmn_wZXBDzuzJeY0B3to0mXJPY1ru8gWFnALuqeDYT2w-cUqk0uVcUc5zBMJO0nBEDscNbNz2eOs0bWVKeeVRqI8PJ0jxvgHS9K3JVAG59gBG7OacSWZ8dk98WfAWS3PFu6MPFtEn7NQYg&x-client-SKU=ID_NETSTANDARD2_0&x-client-ver=5.6.0.0 - -
[2020-12-30T08:46:48.7303145+00:00][INFO][35][IdentityServer4.Hosting.IdentityServerMiddleware] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize"
[2020-12-30T08:46:48.7340885+00:00][INFO][35][Microsoft.EntityFrameworkCore.Infrastructure] Entity Framework Core "5.0.1" initialized '"IdentityServerConfigurationDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=EventManager.Identity.Admin.EntityFramework.SqlServer "
[2020-12-30T08:46:48.7597597+00:00][INFO][37][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("7"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c].[Id], [c].[AbsoluteRefreshTokenLifetime], [c].[AccessTokenLifetime], [c].[AccessTokenType], [c].[AllowAccessTokensViaBrowser], [c].[AllowOfflineAccess], [c].[AllowPlainTextPkce], [c].[AllowRememberConsent], [c].[AllowedIdentityTokenSigningAlgorithms], [c].[AlwaysIncludeUserClaimsInIdToken], [c].[AlwaysSendClientClaims], [c].[AuthorizationCodeLifetime], [c].[BackChannelLogoutSessionRequired], [c].[BackChannelLogoutUri], [c].[ClientClaimsPrefix], [c].[ClientId], [c].[ClientName], [c].[ClientUri], [c].[ConsentLifetime], [c].[Created], [c].[Description], [c].[DeviceCodeLifetime], [c].[EnableLocalLogin], [c].[Enabled], [c].[FrontChannelLogoutSessionRequired], [c].[FrontChannelLogoutUri], [c].[IdentityTokenLifetime], [c].[IncludeJwtId], [c].[LastAccessed], [c].[LogoUri], [c].[NonEditable], [c].[PairWiseSubjectSalt], [c].[ProtocolType], [c].[RefreshTokenExpiration], [c].[RefreshTokenUsage], [c].[RequireClientSecret], [c].[RequireConsent], [c].[RequirePkce], [c].[RequireRequestObject], [c].[SlidingRefreshTokenLifetime], [c].[UpdateAccessTokenClaimsOnRefresh], [c].[Updated], [c].[UserCodeType], [c].[UserSsoLifetime]
FROM [Clients] AS [c]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T08:46:48.8347759+00:00][INFO][38][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("21"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[Origin]
FROM [Clients] AS [c]
INNER JOIN [ClientCorsOrigins] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T08:46:48.8446259+00:00][INFO][38][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("4"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[GrantType]
FROM [Clients] AS [c]
INNER JOIN [ClientGrantTypes] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T08:46:48.8641292+00:00][INFO][31][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("17"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[Scope]
FROM [Clients] AS [c]
INNER JOIN [ClientScopes] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T08:46:48.8782996+00:00][INFO][37][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("12"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[Type], [c0].[Value]
FROM [Clients] AS [c]
INNER JOIN [ClientClaims] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T08:46:48.9186133+00:00][INFO][39][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("28"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[Created], [c0].[Description], [c0].[Expiration], [c0].[Type], [c0].[Value]
FROM [Clients] AS [c]
INNER JOIN [ClientSecrets] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T08:46:48.9484198+00:00][INFO][38][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("23"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[Provider]
FROM [Clients] AS [c]
INNER JOIN [ClientIdPRestrictions] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T08:46:48.9679238+00:00][INFO][24][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("16"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[PostLogoutRedirectUri]
FROM [Clients] AS [c]
INNER JOIN [ClientPostLogoutRedirectUris] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T08:46:48.9931602+00:00][INFO][32][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("17"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[Key], [c0].[Value]
FROM [Clients] AS [c]
INNER JOIN [ClientProperties] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T08:46:49.0116423+00:00][INFO][32][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("15"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[RedirectUri]
FROM [Clients] AS [c]
INNER JOIN [ClientRedirectUris] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T08:46:49.0300073+00:00][INFO][41][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [i].[Id], [i].[Created], [i].[Description], [i].[DisplayName], [i].[Emphasize], [i].[Enabled], [i].[Name], [i].[NonEditable], [i].[Required], [i].[ShowInDiscoveryDocument], [i].[Updated], [i0].[Id], [i0].[IdentityResourceId], [i0].[Type], [i1].[Id], [i1].[IdentityResourceId], [i1].[Key], [i1].[Value]
FROM [IdentityResources] AS [i]
LEFT JOIN [IdentityResourceClaims] AS [i0] ON [i].[Id] = [i0].[IdentityResourceId]
LEFT JOIN [IdentityResourceProperties] AS [i1] ON [i].[Id] = [i1].[IdentityResourceId]
WHERE [i].[Name] IN (N'openid', N'profile', N'email', N'roles')
ORDER BY [i].[Id], [i0].[Id], [i1].[Id]"
[2020-12-30T08:46:49.0830559+00:00][INFO][38][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("13"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [a].[Id], [a].[AllowedAccessTokenSigningAlgorithms], [a].[Created], [a].[Description], [a].[DisplayName], [a].[Enabled], [a].[LastAccessed], [a].[Name], [a].[NonEditable], [a].[ShowInDiscoveryDocument], [a].[Updated], [a0].[Id], [a0].[ApiResourceId], [a0].[Created], [a0].[Description], [a0].[Expiration], [a0].[Type], [a0].[Value], [a1].[Id], [a1].[ApiResourceId], [a1].[Scope], [a2].[Id], [a2].[ApiResourceId], [a2].[Type], [a3].[Id], [a3].[ApiResourceId], [a3].[Key], [a3].[Value]
FROM [ApiResources] AS [a]
LEFT JOIN [ApiResourceSecrets] AS [a0] ON [a].[Id] = [a0].[ApiResourceId]
LEFT JOIN [ApiResourceScopes] AS [a1] ON [a].[Id] = [a1].[ApiResourceId]
LEFT JOIN [ApiResourceClaims] AS [a2] ON [a].[Id] = [a2].[ApiResourceId]
LEFT JOIN [ApiResourceProperties] AS [a3] ON [a].[Id] = [a3].[ApiResourceId]
WHERE EXISTS (
    SELECT 1
    FROM [ApiResourceScopes] AS [a4]
    WHERE ([a].[Id] = [a4].[ApiResourceId]) AND [a4].[Scope] IN (N'openid', N'profile', N'email', N'roles'))
ORDER BY [a].[Id], [a0].[Id], [a1].[Id], [a2].[Id], [a3].[Id]"
[2020-12-30T08:46:49.0961067+00:00][INFO][40][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("10"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [a].[Id], [a].[Description], [a].[DisplayName], [a].[Emphasize], [a].[Enabled], [a].[Name], [a].[Required], [a].[ShowInDiscoveryDocument], [a0].[Id], [a0].[ScopeId], [a0].[Type], [a1].[Id], [a1].[Key], [a1].[ScopeId], [a1].[Value]
FROM [ApiScopes] AS [a]
LEFT JOIN [ApiScopeClaims] AS [a0] ON [a].[Id] = [a0].[ScopeId]
LEFT JOIN [ApiScopeProperties] AS [a1] ON [a].[Id] = [a1].[ScopeId]
WHERE [a].[Name] IN (N'openid', N'profile', N'email', N'roles')
ORDER BY [a].[Id], [a0].[Id], [a1].[Id]"
[2020-12-30T08:46:49.0990322+00:00][INFO][40][IdentityServer4.ResponseHandling.AuthorizeInteractionResponseGenerator] Showing login: User is not authenticated
[2020-12-30T08:46:49.1002115+00:00][INFO][40][Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/1.1 GET http://www.em.host/connect/authorize?client_id=urn%3Aem%3Aclient&redirect_uri=https%3A%2F%2Fwww.em.host%2Fadmin%2Fidentity%2Fsignin-oidc&response_type=code&scope=openid%20profile%20email%20roles&code_challenge=YOk_TQiZRscRVMgt5q-4k5XWORcJL9uc8SNshM_fmv4&code_challenge_method=S256&response_mode=form_post&nonce=637449148086513557.NmZhN2EzYzMtYTdjNC00YjI2LTk4MGYtMTJlODhiNDU1MTE0YjU2ZTRhZDAtMjY2MS00NzczLTlmNzItOWQ5OTY5YzQxMzJi&state=CfDJ8ASI9RBeE6hBsIC3rORyZw2rURXJWsWgI8O2YSs6T8i5cX31lspCbiAAqy-TrubFeoWxtceJsecZz4TesW_mIbLLrZ-LiK02-3Of_pi_rtt8EDFoxWhTF8CCL4Tu5ZSwyEpIbAfZ97-X5tNL7giDlqohniDiANimPCaH_O5Mkcyhncm19mZJ8HGa9h4F34guVl2ywHT3ruzwu9Gv60xIDz16_a90Fl89evAyhrZKWoJjcdlasFIlvmn_wZXBDzuzJeY0B3to0mXJPY1ru8gWFnALuqeDYT2w-cUqk0uVcUc5zBMJO0nBEDscNbNz2eOs0bWVKeeVRqI8PJ0jxvgHS9K3JVAG59gBG7OacSWZ8dk98WfAWS3PFu6MPFtEn7NQYg&x-client-SKU=ID_NETSTANDARD2_0&x-client-ver=5.6.0.0 - - - 302 0 - 377.6670ms
[2020-12-30T08:46:49.1448963+00:00][INFO][32][Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 GET http://www.em.host/identity/account/login?ReturnUrl=%2Fconnect%2Fauthorize%2Fcallback%3Fclient_id%3Durn%253Aem%253Aclient%26redirect_uri%3Dhttps%253A%252F%252Fwww.em.host%252Fadmin%252Fidentity%252Fsignin-oidc%26response_type%3Dcode%26scope%3Dopenid%2520profile%2520email%2520roles%26code_challenge%3DYOk_TQiZRscRVMgt5q-4k5XWORcJL9uc8SNshM_fmv4%26code_challenge_method%3DS256%26response_mode%3Dform_post%26nonce%3D637449148086513557.NmZhN2EzYzMtYTdjNC00YjI2LTk4MGYtMTJlODhiNDU1MTE0YjU2ZTRhZDAtMjY2MS00NzczLTlmNzItOWQ5OTY5YzQxMzJi%26state%3DCfDJ8ASI9RBeE6hBsIC3rORyZw2rURXJWsWgI8O2YSs6T8i5cX31lspCbiAAqy-TrubFeoWxtceJsecZz4TesW_mIbLLrZ-LiK02-3Of_pi_rtt8EDFoxWhTF8CCL4Tu5ZSwyEpIbAfZ97-X5tNL7giDlqohniDiANimPCaH_O5Mkcyhncm19mZJ8HGa9h4F34guVl2ywHT3ruzwu9Gv60xIDz16_a90Fl89evAyhrZKWoJjcdlasFIlvmn_wZXBDzuzJeY0B3to0mXJPY1ru8gWFnALuqeDYT2w-cUqk0uVcUc5zBMJO0nBEDscNbNz2eOs0bWVKeeVRqI8PJ0jxvgHS9K3JVAG59gBG7OacSWZ8dk98WfAWS3PFu6MPFtEn7NQYg%26x-client-SKU%3DID_NETSTANDARD2_0%26x-client-ver%3D5.6.0.0 - -
[2020-12-30T08:46:49.1469679+00:00][INFO][32][Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/1.1 GET http://www.em.host/identity/account/login?ReturnUrl=%2Fconnect%2Fauthorize%2Fcallback%3Fclient_id%3Durn%253Aem%253Aclient%26redirect_uri%3Dhttps%253A%252F%252Fwww.em.host%252Fadmin%252Fidentity%252Fsignin-oidc%26response_type%3Dcode%26scope%3Dopenid%2520profile%2520email%2520roles%26code_challenge%3DYOk_TQiZRscRVMgt5q-4k5XWORcJL9uc8SNshM_fmv4%26code_challenge_method%3DS256%26response_mode%3Dform_post%26nonce%3D637449148086513557.NmZhN2EzYzMtYTdjNC00YjI2LTk4MGYtMTJlODhiNDU1MTE0YjU2ZTRhZDAtMjY2MS00NzczLTlmNzItOWQ5OTY5YzQxMzJi%26state%3DCfDJ8ASI9RBeE6hBsIC3rORyZw2rURXJWsWgI8O2YSs6T8i5cX31lspCbiAAqy-TrubFeoWxtceJsecZz4TesW_mIbLLrZ-LiK02-3Of_pi_rtt8EDFoxWhTF8CCL4Tu5ZSwyEpIbAfZ97-X5tNL7giDlqohniDiANimPCaH_O5Mkcyhncm19mZJ8HGa9h4F34guVl2ywHT3ruzwu9Gv60xIDz16_a90Fl89evAyhrZKWoJjcdlasFIlvmn_wZXBDzuzJeY0B3to0mXJPY1ru8gWFnALuqeDYT2w-cUqk0uVcUc5zBMJO0nBEDscNbNz2eOs0bWVKeeVRqI8PJ0jxvgHS9K3JVAG59gBG7OacSWZ8dk98WfAWS3PFu6MPFtEn7NQYg%26x-client-SKU%3DID_NETSTANDARD2_0%26x-client-ver%3D5.6.0.0 - - - 404 0 - 2.1041ms
[2020-12-30T08:47:10.7915172+00:00][INFO][43][Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 GET http://www.em.host/identity/account - -
[2020-12-30T08:47:11.1340081+00:00][EROR][43][Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware] An unhandled exception has occurred while executing the request.
Microsoft.AspNetCore.Routing.Matching.AmbiguousMatchException: The request matched multiple endpoints. Matches: 

EventManager.Identity.STS.Identity.Controllers.AccountController<EventManager.Identity.Admin.EntityFramework.Shared.Entities.Identity.UserIdentity, string>.LoginWith2fa (EventManager.Identity.STS.Identity)
EventManager.Identity.STS.Identity.Controllers.AccountController<EventManager.Identity.Admin.EntityFramework.Shared.Entities.Identity.UserIdentity, string>.ResetPassword (EventManager.Identity.STS.Identity)
EventManager.Identity.STS.Identity.Controllers.AccountController<EventManager.Identity.Admin.EntityFramework.Shared.Entities.Identity.UserIdentity, string>.ForgotPassword (EventManager.Identity.STS.Identity)
EventManager.Identity.STS.Identity.Controllers.AccountController<EventManager.Identity.Admin.EntityFramework.Shared.Entities.Identity.UserIdentity, string>.ResetPasswordConfirmation (EventManager.Identity.STS.Identity)
EventManager.Identity.STS.Identity.Controllers.AccountController<EventManager.Identity.Admin.EntityFramework.Shared.Entities.Identity.UserIdentity, string>.ForgotPasswordConfirmation (EventManager.Identity.STS.Identity)
EventManager.Identity.STS.Identity.Controllers.AccountController<EventManager.Identity.Admin.EntityFramework.Shared.Entities.Identity.UserIdentity, string>.Login (EventManager.Identity.STS.Identity)
EventManager.Identity.STS.Identity.Controllers.AccountController<EventManager.Identity.Admin.EntityFramework.Shared.Entities.Identity.UserIdentity, string>.ExternalLoginCallback (EventManager.Identity.STS.Identity)
EventManager.Identity.STS.Identity.Controllers.AccountController<EventManager.Identity.Admin.EntityFramework.Shared.Entities.Identity.UserIdentity, string>.LoginWithRecoveryCode (EventManager.Identity.STS.Identity)
EventManager.Identity.STS.Identity.Controllers.AccountController<EventManager.Identity.Admin.EntityFramework.Shared.Entities.Identity.UserIdentity, string>.Logout (EventManager.Identity.STS.Identity)
EventManager.Identity.STS.Identity.Controllers.AccountController<EventManager.Identity.Admin.EntityFramework.Shared.Entities.Identity.UserIdentity, string>.Register (EventManager.Identity.STS.Identity)
EventManager.Identity.STS.Identity.Controllers.AccountController<EventManager.Identity.Admin.EntityFramework.Shared.Entities.Identity.UserIdentity, string>.ExternalLogin (EventManager.Identity.STS.Identity)
EventManager.Identity.STS.Identity.Controllers.AccountController<EventManager.Identity.Admin.EntityFramework.Shared.Entities.Identity.UserIdentity, string>.ConfirmEmail (EventManager.Identity.STS.Identity)
   at Microsoft.AspNetCore.Routing.Matching.DefaultEndpointSelector.ReportAmbiguity(CandidateState[] candidateState)
   at Microsoft.AspNetCore.Routing.Matching.DefaultEndpointSelector.ProcessFinalCandidates(HttpContext httpContext, CandidateState[] candidateState)
   at Microsoft.AspNetCore.Routing.Matching.DefaultEndpointSelector.Select(HttpContext httpContext, CandidateState[] candidateState)
   at Microsoft.AspNetCore.Routing.Matching.DfaMatcher.MatchAsync(HttpContext httpContext)
   at Microsoft.AspNetCore.Routing.Matching.DataSourceDependentMatcher.MatchAsync(HttpContext httpContext)
   at Microsoft.AspNetCore.Routing.EndpointRoutingMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Localization.RequestLocalizationMiddleware.Invoke(HttpContext context)
   at IdentityServer4.Hosting.IdentityServerMiddleware.Invoke(HttpContext context, IEndpointRouter router, IUserSession session, IEventService events, IBackChannelLogoutService backChannelLogoutService)
   at IdentityServer4.Hosting.MutualTlsEndpointMiddleware.Invoke(HttpContext context, IAuthenticationSchemeProvider schemes)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at IdentityServer4.Hosting.BaseUrlMiddleware.Invoke(HttpContext context)
   at NWebsec.AspNetCore.Middleware.Middleware.CspMiddleware.Invoke(HttpContext context)
   at NWebsec.AspNetCore.Middleware.Middleware.MiddlewareBase.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
[2020-12-30T08:47:11.2442255+00:00][INFO][43][Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/1.1 GET http://www.em.host/identity/account - - - 500 - text/html;+charset=utf-8 452.6639ms
[2020-12-30T08:47:43.6217687+00:00][INFO][45][Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 GET http://www.em.host/identity/account/Login?ReturnUrl=%2Fconnect%2Fauthorize%2Fcallback%3Fclient_id%3Durn%253Aem%253Aclient%26redirect_uri%3Dhttps%253A%252F%252Fwww.em.host%252Fadmin%252Fidentity%252Fsignin-oidc%26response_type%3Dcode%26scope%3Dopenid%2520profile%2520email%2520roles%26code_challenge%3DYOk_TQiZRscRVMgt5q-4k5XWORcJL9uc8SNshM_fmv4%26code_challenge_method%3DS256%26response_mode%3Dform_post%26nonce%3D637449148086513557.NmZhN2EzYzMtYTdjNC00YjI2LTk4MGYtMTJlODhiNDU1MTE0YjU2ZTRhZDAtMjY2MS00NzczLTlmNzItOWQ5OTY5YzQxMzJi%26state%3DCfDJ8ASI9RBeE6hBsIC3rORyZw2rURXJWsWgI8O2YSs6T8i5cX31lspCbiAAqy-TrubFeoWxtceJsecZz4TesW_mIbLLrZ-LiK02-3Of_pi_rtt8EDFoxWhTF8CCL4Tu5ZSwyEpIbAfZ97-X5tNL7giDlqohniDiANimPCaH_O5Mkcyhncm19mZJ8HGa9h4F34guVl2ywHT3ruzwu9Gv60xIDz16_a90Fl89evAyhrZKWoJjcdlasFIlvmn_wZXBDzuzJeY0B3to0mXJPY1ru8gWFnALuqeDYT2w-cUqk0uVcUc5zBMJO0nBEDscNbNz2eOs0bWVKeeVRqI8PJ0jxvgHS9K3JVAG59gBG7OacSWZ8dk98WfAWS3PFu6MPFtEn7NQYg%26x-client-SKU%3DID_NETSTANDARD2_0%26x-client-ver%3D5.6.0.0 - -
[2020-12-30T08:47:43.6242033+00:00][INFO][45][Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/1.1 GET http://www.em.host/identity/account/Login?ReturnUrl=%2Fconnect%2Fauthorize%2Fcallback%3Fclient_id%3Durn%253Aem%253Aclient%26redirect_uri%3Dhttps%253A%252F%252Fwww.em.host%252Fadmin%252Fidentity%252Fsignin-oidc%26response_type%3Dcode%26scope%3Dopenid%2520profile%2520email%2520roles%26code_challenge%3DYOk_TQiZRscRVMgt5q-4k5XWORcJL9uc8SNshM_fmv4%26code_challenge_method%3DS256%26response_mode%3Dform_post%26nonce%3D637449148086513557.NmZhN2EzYzMtYTdjNC00YjI2LTk4MGYtMTJlODhiNDU1MTE0YjU2ZTRhZDAtMjY2MS00NzczLTlmNzItOWQ5OTY5YzQxMzJi%26state%3DCfDJ8ASI9RBeE6hBsIC3rORyZw2rURXJWsWgI8O2YSs6T8i5cX31lspCbiAAqy-TrubFeoWxtceJsecZz4TesW_mIbLLrZ-LiK02-3Of_pi_rtt8EDFoxWhTF8CCL4Tu5ZSwyEpIbAfZ97-X5tNL7giDlqohniDiANimPCaH_O5Mkcyhncm19mZJ8HGa9h4F34guVl2ywHT3ruzwu9Gv60xIDz16_a90Fl89evAyhrZKWoJjcdlasFIlvmn_wZXBDzuzJeY0B3to0mXJPY1ru8gWFnALuqeDYT2w-cUqk0uVcUc5zBMJO0nBEDscNbNz2eOs0bWVKeeVRqI8PJ0jxvgHS9K3JVAG59gBG7OacSWZ8dk98WfAWS3PFu6MPFtEn7NQYg%26x-client-SKU%3DID_NETSTANDARD2_0%26x-client-ver%3D5.6.0.0 - - - 404 0 - 2.3318ms
[2020-12-30T08:47:59.8375295+00:00][INFO][45][Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 GET http://www.em.host/identity/account/ - -
[2020-12-30T08:48:00.1261395+00:00][EROR][45][Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware] An unhandled exception has occurred while executing the request.
Microsoft.AspNetCore.Routing.Matching.AmbiguousMatchException: The request matched multiple endpoints. Matches: 

EventManager.Identity.STS.Identity.Controllers.AccountController<EventManager.Identity.Admin.EntityFramework.Shared.Entities.Identity.UserIdentity, string>.LoginWith2fa (EventManager.Identity.STS.Identity)
EventManager.Identity.STS.Identity.Controllers.AccountController<EventManager.Identity.Admin.EntityFramework.Shared.Entities.Identity.UserIdentity, string>.ResetPassword (EventManager.Identity.STS.Identity)
EventManager.Identity.STS.Identity.Controllers.AccountController<EventManager.Identity.Admin.EntityFramework.Shared.Entities.Identity.UserIdentity, string>.ForgotPassword (EventManager.Identity.STS.Identity)
EventManager.Identity.STS.Identity.Controllers.AccountController<EventManager.Identity.Admin.EntityFramework.Shared.Entities.Identity.UserIdentity, string>.ResetPasswordConfirmation (EventManager.Identity.STS.Identity)
EventManager.Identity.STS.Identity.Controllers.AccountController<EventManager.Identity.Admin.EntityFramework.Shared.Entities.Identity.UserIdentity, string>.ForgotPasswordConfirmation (EventManager.Identity.STS.Identity)
EventManager.Identity.STS.Identity.Controllers.AccountController<EventManager.Identity.Admin.EntityFramework.Shared.Entities.Identity.UserIdentity, string>.Login (EventManager.Identity.STS.Identity)
EventManager.Identity.STS.Identity.Controllers.AccountController<EventManager.Identity.Admin.EntityFramework.Shared.Entities.Identity.UserIdentity, string>.ExternalLoginCallback (EventManager.Identity.STS.Identity)
EventManager.Identity.STS.Identity.Controllers.AccountController<EventManager.Identity.Admin.EntityFramework.Shared.Entities.Identity.UserIdentity, string>.LoginWithRecoveryCode (EventManager.Identity.STS.Identity)
EventManager.Identity.STS.Identity.Controllers.AccountController<EventManager.Identity.Admin.EntityFramework.Shared.Entities.Identity.UserIdentity, string>.Logout (EventManager.Identity.STS.Identity)
EventManager.Identity.STS.Identity.Controllers.AccountController<EventManager.Identity.Admin.EntityFramework.Shared.Entities.Identity.UserIdentity, string>.Register (EventManager.Identity.STS.Identity)
EventManager.Identity.STS.Identity.Controllers.AccountController<EventManager.Identity.Admin.EntityFramework.Shared.Entities.Identity.UserIdentity, string>.ExternalLogin (EventManager.Identity.STS.Identity)
EventManager.Identity.STS.Identity.Controllers.AccountController<EventManager.Identity.Admin.EntityFramework.Shared.Entities.Identity.UserIdentity, string>.ConfirmEmail (EventManager.Identity.STS.Identity)
   at Microsoft.AspNetCore.Routing.Matching.DefaultEndpointSelector.ReportAmbiguity(CandidateState[] candidateState)
   at Microsoft.AspNetCore.Routing.Matching.DefaultEndpointSelector.ProcessFinalCandidates(HttpContext httpContext, CandidateState[] candidateState)
   at Microsoft.AspNetCore.Routing.Matching.DefaultEndpointSelector.Select(HttpContext httpContext, CandidateState[] candidateState)
   at Microsoft.AspNetCore.Routing.Matching.DfaMatcher.MatchAsync(HttpContext httpContext)
   at Microsoft.AspNetCore.Routing.Matching.DataSourceDependentMatcher.MatchAsync(HttpContext httpContext)
   at Microsoft.AspNetCore.Routing.EndpointRoutingMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Localization.RequestLocalizationMiddleware.Invoke(HttpContext context)
   at IdentityServer4.Hosting.IdentityServerMiddleware.Invoke(HttpContext context, IEndpointRouter router, IUserSession session, IEventService events, IBackChannelLogoutService backChannelLogoutService)
   at IdentityServer4.Hosting.MutualTlsEndpointMiddleware.Invoke(HttpContext context, IAuthenticationSchemeProvider schemes)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at IdentityServer4.Hosting.BaseUrlMiddleware.Invoke(HttpContext context)
   at NWebsec.AspNetCore.Middleware.Middleware.CspMiddleware.Invoke(HttpContext context)
   at NWebsec.AspNetCore.Middleware.Middleware.MiddlewareBase.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
[2020-12-30T08:48:00.1476889+00:00][INFO][45][Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/1.1 GET http://www.em.host/identity/account/ - - - 500 - text/html;+charset=utf-8 303.0517ms
[2020-12-30T08:48:05.5088188+00:00][INFO][49][Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 GET http://www.em.host/identity/account/login - -
[2020-12-30T08:48:05.5105428+00:00][INFO][49][Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/1.1 GET http://www.em.host/identity/account/login - - - 404 0 - 1.6550ms
[2020-12-30T08:48:16.8408247+00:00][INFO][49][Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 GET http://www.em.host/identity/account/Login - -
[2020-12-30T08:48:16.8483210+00:00][INFO][49][Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/1.1 GET http://www.em.host/identity/account/Login - - - 404 0 - 7.5356ms
[2020-12-30T08:49:31.4588264+00:00][INFO][52][Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 GET http://www.em.host/identity/account/Login - -
[2020-12-30T08:49:31.4704977+00:00][INFO][52][Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/1.1 GET http://www.em.host/identity/account/Login - - - 404 0 - 11.7033ms
[2020-12-30T08:49:33.0319271+00:00][INFO][48][Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 GET http://www.em.host/identity/account/Login - -
[2020-12-30T08:49:33.0335437+00:00][INFO][48][Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/1.1 GET http://www.em.host/identity/account/Login - - - 404 0 - 1.5657ms
[2020-12-30T08:49:33.7984148+00:00][INFO][51][Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 GET http://www.em.host/identity/account/Login - -
[2020-12-30T08:49:33.8000810+00:00][INFO][51][Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/1.1 GET http://www.em.host/identity/account/Login - - - 404 0 - 1.6333ms
[2020-12-30T08:49:34.6859421+00:00][INFO][51][Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 GET http://www.em.host/identity/account/Login - -
[2020-12-30T08:49:34.6878306+00:00][INFO][51][Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/1.1 GET http://www.em.host/identity/account/Login - - - 404 0 - 1.7842ms
[2020-12-30T08:49:39.1266909+00:00][INFO][48][Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 GET http://www.em.host/identity/account/login - -
[2020-12-30T08:49:39.1286230+00:00][INFO][48][Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/1.1 GET http://www.em.host/identity/account/login - - - 404 0 - 1.8153ms
[2020-12-30T08:49:45.0650438+00:00][INFO][53][Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 GET http://www.em.host/identity/account - -
[2020-12-30T08:49:45.3347704+00:00][EROR][53][Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware] An unhandled exception has occurred while executing the request.
Microsoft.AspNetCore.Routing.Matching.AmbiguousMatchException: The request matched multiple endpoints. Matches: 

EventManager.Identity.STS.Identity.Controllers.AccountController<EventManager.Identity.Admin.EntityFramework.Shared.Entities.Identity.UserIdentity, string>.LoginWith2fa (EventManager.Identity.STS.Identity)
EventManager.Identity.STS.Identity.Controllers.AccountController<EventManager.Identity.Admin.EntityFramework.Shared.Entities.Identity.UserIdentity, string>.ResetPassword (EventManager.Identity.STS.Identity)
EventManager.Identity.STS.Identity.Controllers.AccountController<EventManager.Identity.Admin.EntityFramework.Shared.Entities.Identity.UserIdentity, string>.ForgotPassword (EventManager.Identity.STS.Identity)
EventManager.Identity.STS.Identity.Controllers.AccountController<EventManager.Identity.Admin.EntityFramework.Shared.Entities.Identity.UserIdentity, string>.ResetPasswordConfirmation (EventManager.Identity.STS.Identity)
EventManager.Identity.STS.Identity.Controllers.AccountController<EventManager.Identity.Admin.EntityFramework.Shared.Entities.Identity.UserIdentity, string>.ForgotPasswordConfirmation (EventManager.Identity.STS.Identity)
EventManager.Identity.STS.Identity.Controllers.AccountController<EventManager.Identity.Admin.EntityFramework.S[2020-12-30T08:54:02.2241006+00:00][INFO][1][Microsoft.EntityFrameworkCore.Infrastructure] Entity Framework Core "5.0.1" initialized '"IdentityServerDataProtectionDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=EventManager.Identity.Admin.EntityFramework.SqlServer "
[2020-12-30T08:54:04.0668546+00:00][INFO][1][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("51"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [d].[Id], [d].[FriendlyName], [d].[Xml]
FROM [DataProtectionKeys] AS [d]"
[2020-12-30T08:54:04.2402678+00:00][INFO][1][IdentityServer4.Startup] Starting IdentityServer4 version "4.1.1+cebd52f5bc61bdefc262fd20739d4d087c6f961f"
[2020-12-30T08:54:04.3265700+00:00][INFO][1][IdentityServer4.Startup] Using the default authentication scheme "Identity.Application" for IdentityServer
[2020-12-30T08:54:04.8985666+00:00][INFO][1][Microsoft.Hosting.Lifetime] Now listening on: "http://[::]:50003"
[2020-12-30T08:54:04.9029813+00:00][INFO][1][Microsoft.Hosting.Lifetime] Application started. Press Ctrl+C to shut down.
[2020-12-30T08:54:04.9055945+00:00][INFO][1][Microsoft.Hosting.Lifetime] Hosting environment: "Development"
[2020-12-30T08:54:04.9097544+00:00][INFO][1][Microsoft.Hosting.Lifetime] Content root path: "/app"
[2020-12-30T08:54:27.3592493+00:00][INFO][14][Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 GET http://www.em.host/identity/account/logout - -
[2020-12-30T08:54:27.5236841+00:00][INFO][14][Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/1.1 GET http://www.em.host/identity/account/logout - - - 404 0 - 165.3588ms
[2020-12-30T08:54:43.5431067+00:00][INFO][5][Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 GET http://www.em.host/.well-known/openid-configuration - -
[2020-12-30T08:54:43.6032548+00:00][INFO][5][IdentityServer4.Hosting.IdentityServerMiddleware] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.DiscoveryEndpoint" for "/.well-known/openid-configuration"
[2020-12-30T08:54:44.1453654+00:00][INFO][5][Microsoft.EntityFrameworkCore.Infrastructure] Entity Framework Core "5.0.1" initialized '"IdentityServerConfigurationDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=EventManager.Identity.Admin.EntityFramework.SqlServer "
[2020-12-30T08:54:44.3393661+00:00][WARN][5][Microsoft.EntityFrameworkCore.Query] Compiling a query which loads related collections for more than one collection navigation either via 'Include' or through projection but no 'QuerySplittingBehavior' has been configured. By default Entity Framework will use 'QuerySplittingBehavior.SingleQuery' which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'
[2020-12-30T08:54:44.4384582+00:00][INFO][13][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("22"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [i].[Id], [i].[Created], [i].[Description], [i].[DisplayName], [i].[Emphasize], [i].[Enabled], [i].[Name], [i].[NonEditable], [i].[Required], [i].[ShowInDiscoveryDocument], [i].[Updated], [i0].[Id], [i0].[IdentityResourceId], [i0].[Type], [i1].[Id], [i1].[IdentityResourceId], [i1].[Key], [i1].[Value]
FROM [IdentityResources] AS [i]
LEFT JOIN [IdentityResourceClaims] AS [i0] ON [i].[Id] = [i0].[IdentityResourceId]
LEFT JOIN [IdentityResourceProperties] AS [i1] ON [i].[Id] = [i1].[IdentityResourceId]
ORDER BY [i].[Id], [i0].[Id], [i1].[Id]"
[2020-12-30T08:54:44.6020652+00:00][WARN][13][Microsoft.EntityFrameworkCore.Query] Compiling a query which loads related collections for more than one collection navigation either via 'Include' or through projection but no 'QuerySplittingBehavior' has been configured. By default Entity Framework will use 'QuerySplittingBehavior.SingleQuery' which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'
[2020-12-30T08:54:44.6710939+00:00][INFO][13][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("28"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [a].[Id], [a].[AllowedAccessTokenSigningAlgorithms], [a].[Created], [a].[Description], [a].[DisplayName], [a].[Enabled], [a].[LastAccessed], [a].[Name], [a].[NonEditable], [a].[ShowInDiscoveryDocument], [a].[Updated], [a0].[Id], [a0].[ApiResourceId], [a0].[Created], [a0].[Description], [a0].[Expiration], [a0].[Type], [a0].[Value], [a1].[Id], [a1].[ApiResourceId], [a1].[Scope], [a2].[Id], [a2].[ApiResourceId], [a2].[Type], [a3].[Id], [a3].[ApiResourceId], [a3].[Key], [a3].[Value]
FROM [ApiResources] AS [a]
LEFT JOIN [ApiResourceSecrets] AS [a0] ON [a].[Id] = [a0].[ApiResourceId]
LEFT JOIN [ApiResourceScopes] AS [a1] ON [a].[Id] = [a1].[ApiResourceId]
LEFT JOIN [ApiResourceClaims] AS [a2] ON [a].[Id] = [a2].[ApiResourceId]
LEFT JOIN [ApiResourceProperties] AS [a3] ON [a].[Id] = [a3].[ApiResourceId]
ORDER BY [a].[Id], [a0].[Id], [a1].[Id], [a2].[Id], [a3].[Id]"
[2020-12-30T08:54:44.6854483+00:00][WARN][13][Microsoft.EntityFrameworkCore.Query] Compiling a query which loads related collections for more than one collection navigation either via 'Include' or through projection but no 'QuerySplittingBehavior' has been configured. By default Entity Framework will use 'QuerySplittingBehavior.SingleQuery' which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'
[2020-12-30T08:54:44.7069313+00:00][INFO][16][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [a].[Id], [a].[Description], [a].[DisplayName], [a].[Emphasize], [a].[Enabled], [a].[Name], [a].[Required], [a].[ShowInDiscoveryDocument], [a0].[Id], [a0].[ScopeId], [a0].[Type], [a1].[Id], [a1].[Key], [a1].[ScopeId], [a1].[Value]
FROM [ApiScopes] AS [a]
LEFT JOIN [ApiScopeClaims] AS [a0] ON [a].[Id] = [a0].[ScopeId]
LEFT JOIN [ApiScopeProperties] AS [a1] ON [a].[Id] = [a1].[ScopeId]
ORDER BY [a].[Id], [a0].[Id], [a1].[Id]"
[2020-12-30T08:54:45.2572643+00:00][INFO][16][Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/1.1 GET http://www.em.host/.well-known/openid-configuration - - - 200 - application/json;+charset=UTF-8 1714.1731ms
[2020-12-30T08:54:45.3899863+00:00][INFO][16][Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 GET http://www.em.host/.well-known/openid-configuration/jwks - -
[2020-12-30T08:54:45.4024071+00:00][INFO][16][IdentityServer4.Hosting.IdentityServerMiddleware] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.DiscoveryKeyEndpoint" for "/.well-known/openid-configuration/jwks"
[2020-12-30T08:54:45.4589832+00:00][INFO][16][Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/1.1 GET http://www.em.host/.well-known/openid-configuration/jwks - - - 200 - application/json;+charset=UTF-8 68.9933ms
[2020-12-30T08:54:45.5966129+00:00][INFO][15][Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 GET http://www.em.host/connect/authorize?client_id=urn%3Aem%3Aclient&redirect_uri=https%3A%2F%2Fwww.em.host%2Fadmin%2Fidentity%2Fsignin-oidc&response_type=code&scope=openid%20profile%20email%20roles&code_challenge=XHDkQB2RrKCJrD14OQ4ulr9XpqJ_RVQ5BPZuLe_ipeU&code_challenge_method=S256&response_mode=form_post&nonce=637449152855118244.M2Q5MDM2NGItMTYzMy00MzQ5LTgyYmYtZmFkZTQ0NTZkYTFmNDNhZTljMzAtNTg5OC00OGE0LTlhNzMtYWE3ZjgxOGE1MjAy&state=CfDJ8ASI9RBeE6hBsIC3rORyZw0Sp_LNsXgy3Q7meVeoSJSFEEeUP_orkQFbFyacfzxxj3oQNGLcEWUlUmpgWGo1wRjSCsZit8U2j0oSu4q_t_pqyXfBJ65wqRn9SbgP8iU_sdPAtg7hOU8irtqO6YZXzWxNWVo7aeDvU8RXyE5JqDdmGRLAa-8_3A8lsIEnuC-Iuk5-hs7nT6q4eWcMHCod4YP24-T70rOQ_vHeRhHOSqlzD3H2ilPodCyxcbKqcgaStGCKpuS-DLSQzuuphUbbA3GUJ3OkYaz_d81-uoRvZpb75yO0qLVbkpvci9ivBy2mhpXGidy3oRDFHZRjy0273qzeutW5GFky54-wHOoZFg8v40FA_30FZcNmRLCKujnNlw&x-client-SKU=ID_NETSTANDARD2_0&x-client-ver=5.6.0.0 - -
[2020-12-30T08:54:45.6459530+00:00][INFO][15][IdentityServer4.Hosting.IdentityServerMiddleware] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize"
[2020-12-30T08:54:45.6825241+00:00][INFO][15][Microsoft.EntityFrameworkCore.Infrastructure] Entity Framework Core "5.0.1" initialized '"IdentityServerConfigurationDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=EventManager.Identity.Admin.EntityFramework.SqlServer "
[2020-12-30T08:54:45.7836149+00:00][INFO][16][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("19"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c].[Id], [c].[AbsoluteRefreshTokenLifetime], [c].[AccessTokenLifetime], [c].[AccessTokenType], [c].[AllowAccessTokensViaBrowser], [c].[AllowOfflineAccess], [c].[AllowPlainTextPkce], [c].[AllowRememberConsent], [c].[AllowedIdentityTokenSigningAlgorithms], [c].[AlwaysIncludeUserClaimsInIdToken], [c].[AlwaysSendClientClaims], [c].[AuthorizationCodeLifetime], [c].[BackChannelLogoutSessionRequired], [c].[BackChannelLogoutUri], [c].[ClientClaimsPrefix], [c].[ClientId], [c].[ClientName], [c].[ClientUri], [c].[ConsentLifetime], [c].[Created], [c].[Description], [c].[DeviceCodeLifetime], [c].[EnableLocalLogin], [c].[Enabled], [c].[FrontChannelLogoutSessionRequired], [c].[FrontChannelLogoutUri], [c].[IdentityTokenLifetime], [c].[IncludeJwtId], [c].[LastAccessed], [c].[LogoUri], [c].[NonEditable], [c].[PairWiseSubjectSalt], [c].[ProtocolType], [c].[RefreshTokenExpiration], [c].[RefreshTokenUsage], [c].[RequireClientSecret], [c].[RequireConsent], [c].[RequirePkce], [c].[RequireRequestObject], [c].[SlidingRefreshTokenLifetime], [c].[UpdateAccessTokenClaimsOnRefresh], [c].[Updated], [c].[UserCodeType], [c].[UserSsoLifetime]
FROM [Clients] AS [c]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T08:54:45.9425944+00:00][INFO][6][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("3"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[Origin]
FROM [Clients] AS [c]
INNER JOIN [ClientCorsOrigins] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T08:54:45.9856131+00:00][INFO][15][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("2"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[GrantType]
FROM [Clients] AS [c]
INNER JOIN [ClientGrantTypes] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T08:54:46.0254577+00:00][INFO][12][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("5"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[Scope]
FROM [Clients] AS [c]
INNER JOIN [ClientScopes] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T08:54:46.0598322+00:00][INFO][5][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("2"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[Type], [c0].[Value]
FROM [Clients] AS [c]
INNER JOIN [ClientClaims] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T08:54:46.0812373+00:00][INFO][12][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("3"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[Created], [c0].[Description], [c0].[Expiration], [c0].[Type], [c0].[Value]
FROM [Clients] AS [c]
INNER JOIN [ClientSecrets] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T08:54:46.1122221+00:00][INFO][4][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("3"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[Provider]
FROM [Clients] AS [c]
INNER JOIN [ClientIdPRestrictions] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T08:54:46.1372585+00:00][INFO][14][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("2"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[PostLogoutRedirectUri]
FROM [Clients] AS [c]
INNER JOIN [ClientPostLogoutRedirectUris] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T08:54:46.1641427+00:00][INFO][15][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("2"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[Key], [c0].[Value]
FROM [Clients] AS [c]
INNER JOIN [ClientProperties] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T08:54:46.2028883+00:00][INFO][14][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("23"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[RedirectUri]
FROM [Clients] AS [c]
INNER JOIN [ClientRedirectUris] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T08:54:46.5052091+00:00][WARN][14][Microsoft.EntityFrameworkCore.Query] Compiling a query which loads related collections for more than one collection navigation either via 'Include' or through projection but no 'QuerySplittingBehavior' has been configured. By default Entity Framework will use 'QuerySplittingBehavior.SingleQuery' which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'
[2020-12-30T08:54:46.5365940+00:00][INFO][12][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [i].[Id], [i].[Created], [i].[Description], [i].[DisplayName], [i].[Emphasize], [i].[Enabled], [i].[Name], [i].[NonEditable], [i].[Required], [i].[ShowInDiscoveryDocument], [i].[Updated], [i0].[Id], [i0].[IdentityResourceId], [i0].[Type], [i1].[Id], [i1].[IdentityResourceId], [i1].[Key], [i1].[Value]
FROM [IdentityResources] AS [i]
LEFT JOIN [IdentityResourceClaims] AS [i0] ON [i].[Id] = [i0].[IdentityResourceId]
LEFT JOIN [IdentityResourceProperties] AS [i1] ON [i].[Id] = [i1].[IdentityResourceId]
WHERE [i].[Name] IN (N'openid', N'profile', N'email', N'roles')
ORDER BY [i].[Id], [i0].[Id], [i1].[Id]"
[2020-12-30T08:54:46.5837204+00:00][WARN][12][Microsoft.EntityFrameworkCore.Query] Compiling a query which loads related collections for more than one collection navigation either via 'Include' or through projection but no 'QuerySplittingBehavior' has been configured. By default Entity Framework will use 'QuerySplittingBehavior.SingleQuery' which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'
[2020-12-30T08:54:46.6235289+00:00][INFO][14][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [a].[Id], [a].[AllowedAccessTokenSigningAlgorithms], [a].[Created], [a].[Description], [a].[DisplayName], [a].[Enabled], [a].[LastAccessed], [a].[Name], [a].[NonEditable], [a].[ShowInDiscoveryDocument], [a].[Updated], [a0].[Id], [a0].[ApiResourceId], [a0].[Created], [a0].[Description], [a0].[Expiration], [a0].[Type], [a0].[Value], [a1].[Id], [a1].[ApiResourceId], [a1].[Scope], [a2].[Id], [a2].[ApiResourceId], [a2].[Type], [a3].[Id], [a3].[ApiResourceId], [a3].[Key], [a3].[Value]
FROM [ApiResources] AS [a]
LEFT JOIN [ApiResourceSecrets] AS [a0] ON [a].[Id] = [a0].[ApiResourceId]
LEFT JOIN [ApiResourceScopes] AS [a1] ON [a].[Id] = [a1].[ApiResourceId]
LEFT JOIN [ApiResourceClaims] AS [a2] ON [a].[Id] = [a2].[ApiResourceId]
LEFT JOIN [ApiResourceProperties] AS [a3] ON [a].[Id] = [a3].[ApiResourceId]
WHERE EXISTS (
    SELECT 1
    FROM [ApiResourceScopes] AS [a4]
    WHERE ([a].[Id] = [a4].[ApiResourceId]) AND [a4].[Scope] IN (N'openid', N'profile', N'email', N'roles'))
ORDER BY [a].[Id], [a0].[Id], [a1].[Id], [a2].[Id], [a3].[Id]"
[2020-12-30T08:54:46.6629005+00:00][WARN][12][Microsoft.EntityFrameworkCore.Query] Compiling a query which loads related collections for more than one collection navigation either via 'Include' or through projection but no 'QuerySplittingBehavior' has been configured. By default Entity Framework will use 'QuerySplittingBehavior.SingleQuery' which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'
[2020-12-30T08:54:46.6844004+00:00][INFO][14][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [a].[Id], [a].[Description], [a].[DisplayName], [a].[Emphasize], [a].[Enabled], [a].[Name], [a].[Required], [a].[ShowInDiscoveryDocument], [a0].[Id], [a0].[ScopeId], [a0].[Type], [a1].[Id], [a1].[Key], [a1].[ScopeId], [a1].[Value]
FROM [ApiScopes] AS [a]
LEFT JOIN [ApiScopeClaims] AS [a0] ON [a].[Id] = [a0].[ScopeId]
LEFT JOIN [ApiScopeProperties] AS [a1] ON [a].[Id] = [a1].[ScopeId]
WHERE [a].[Name] IN (N'openid', N'profile', N'email', N'roles')
ORDER BY [a].[Id], [a0].[Id], [a1].[Id]"
[2020-12-30T08:54:46.7243285+00:00][INFO][14][IdentityServer4.ResponseHandling.AuthorizeInteractionResponseGenerator] Showing login: User is not authenticated
[2020-12-30T08:54:46.7395062+00:00][INFO][14][Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/1.1 GET http://www.em.host/connect/authorize?client_id=urn%3Aem%3Aclient&redirect_uri=https%3A%2F%2Fwww.em.host%2Fadmin%2Fidentity%2Fsignin-oidc&response_type=code&scope=openid%20profile%20email%20roles&code_challenge=XHDkQB2RrKCJrD14OQ4ulr9XpqJ_RVQ5BPZuLe_ipeU&code_challenge_method=S256&response_mode=form_post&nonce=637449152855118244.M2Q5MDM2NGItMTYzMy00MzQ5LTgyYmYtZmFkZTQ0NTZkYTFmNDNhZTljMzAtNTg5OC00OGE0LTlhNzMtYWE3ZjgxOGE1MjAy&state=CfDJ8ASI9RBeE6hBsIC3rORyZw0Sp_LNsXgy3Q7meVeoSJSFEEeUP_orkQFbFyacfzxxj3oQNGLcEWUlUmpgWGo1wRjSCsZit8U2j0oSu4q_t_pqyXfBJ65wqRn9SbgP8iU_sdPAtg7hOU8irtqO6YZXzWxNWVo7aeDvU8RXyE5JqDdmGRLAa-8_3A8lsIEnuC-Iuk5-hs7nT6q4eWcMHCod4YP24-T70rOQ_vHeRhHOSqlzD3H2ilPodCyxcbKqcgaStGCKpuS-DLSQzuuphUbbA3GUJ3OkYaz_d81-uoRvZpb75yO0qLVbkpvci9ivBy2mhpXGidy3oRDFHZRjy0273qzeutW5GFky54-wHOoZFg8v40FA_30FZcNmRLCKujnNlw&x-client-SKU=ID_NETSTANDARD2_0&x-client-ver=5.6.0.0 - - - 302 0 - 1142.7915ms
[2020-12-30T08:54:46.7624571+00:00][INFO][16][Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 GET http://www.em.host/identity/account/login?ReturnUrl=%2Fconnect%2Fauthorize%2Fcallback%3Fclient_id%3Durn%253Aem%253Aclient%26redirect_uri%3Dhttps%253A%252F%252Fwww.em.host%252Fadmin%252Fidentity%252Fsignin-oidc%26response_type%3Dcode%26scope%3Dopenid%2520profile%2520email%2520roles%26code_challenge%3DXHDkQB2RrKCJrD14OQ4ulr9XpqJ_RVQ5BPZuLe_ipeU%26code_challenge_method%3DS256%26response_mode%3Dform_post%26nonce%3D637449152855118244.M2Q5MDM2NGItMTYzMy00MzQ5LTgyYmYtZmFkZTQ0NTZkYTFmNDNhZTljMzAtNTg5OC00OGE0LTlhNzMtYWE3ZjgxOGE1MjAy%26state%3DCfDJ8ASI9RBeE6hBsIC3rORyZw0Sp_LNsXgy3Q7meVeoSJSFEEeUP_orkQFbFyacfzxxj3oQNGLcEWUlUmpgWGo1wRjSCsZit8U2j0oSu4q_t_pqyXfBJ65wqRn9SbgP8iU_sdPAtg7hOU8irtqO6YZXzWxNWVo7aeDvU8RXyE5JqDdmGRLAa-8_3A8lsIEnuC-Iuk5-hs7nT6q4eWcMHCod4YP24-T70rOQ_vHeRhHOSqlzD3H2ilPodCyxcbKqcgaStGCKpuS-DLSQzuuphUbbA3GUJ3OkYaz_d81-uoRvZpb75yO0qLVbkpvci9ivBy2mhpXGidy3oRDFHZRjy0273qzeutW5GFky54-wHOoZFg8v40FA_30FZcNmRLCKujnNlw%26x-client-SKU%3DID_NETSTANDARD2_0%26x-client-ver%3D5.6.0.0 - -
[2020-12-30T08:54:46.7680178+00:00][INFO][16][Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/1.1 GET http://www.em.host/identity/account/login?ReturnUrl=%2Fconnect%2Fauthorize%2Fcallback%3Fclient_id%3Durn%253Aem%253Aclient%26redirect_uri%3Dhttps%253A%252F%252Fwww.em.host%252Fadmin%252Fidentity%252Fsignin-oidc%26response_type%3Dcode%26scope%3Dopenid%2520profile%2520email%2520roles%26code_challenge%3DXHDkQB2RrKCJrD14OQ4ulr9XpqJ_RVQ5BPZuLe_ipeU%26code_challenge_method%3DS256%26response_mode%3Dform_post%26nonce%3D637449152855118244.M2Q5MDM2NGItMTYzMy00MzQ5LTgyYmYtZmFkZTQ0NTZkYTFmNDNhZTljMzAtNTg5OC00OGE0LTlhNzMtYWE3ZjgxOGE1MjAy%26state%3DCfDJ8ASI9RBeE6hBsIC3rORyZw0Sp_LNsXgy3Q7meVeoSJSFEEeUP_orkQFbFyacfzxxj3oQNGLcEWUlUmpgWGo1wRjSCsZit8U2j0oSu4q_t_pqyXfBJ65wqRn9SbgP8iU_sdPAtg7hOU8irtqO6YZXzWxNWVo7aeDvU8RXyE5JqDdmGRLAa-8_3A8lsIEnuC-Iuk5-hs7nT6q4eWcMHCod4YP24-T70rOQ_vHeRhHOSqlzD3H2ilPodCyxcbKqcgaStGCKpuS-DLSQzuuphUbbA3GUJ3OkYaz_d81-uoRvZpb75yO0qLVbkpvci9ivBy2mhpXGidy3oRDFHZRjy0273qzeutW5GFky54-wHOoZFg8v40FA_30FZcNmRLCKujnNlw%26x-client-SKU%3DID_NETSTANDARD2_0%26x-client-ver%3D5.6.0.0 - - - 404 0 - 5.5334ms
[2020-12-30T08:56:15.9242951+00:00][INFO][19][Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 GET http://www.em.host/account/login?ReturnUrl=%2Fconnect%2Fauthorize%2Fcallback%3Fclient_id%3Durn%253Aem%253Aclient%26redirect_uri%3Dhttps%253A%252F%252Fwww.em.host%252Fadmin%252Fidentity%252Fsignin-oidc%26response_type%3Dcode%26scope%3Dopenid%2520profile%2520email%2520roles%26code_challenge%3DXHDkQB2RrKCJrD14OQ4ulr9XpqJ_RVQ5BPZuLe_ipeU%26code_challenge_method%3DS256%26response_mode%3Dform_post%26nonce%3D637449152855118244.M2Q5MDM2NGItMTYzMy00MzQ5LTgyYmYtZmFkZTQ0NTZkYTFmNDNhZTljMzAtNTg5OC00OGE0LTlhNzMtYWE3ZjgxOGE1MjAy%26state%3DCfDJ8ASI9RBeE6hBsIC3rORyZw0Sp_LNsXgy3Q7meVeoSJSFEEeUP_orkQFbFyacfzxxj3oQNGLcEWUlUmpgWGo1wRjSCsZit8U2j0oSu4q_t_pqyXfBJ65wqRn9SbgP8iU_sdPAtg7hOU8irtqO6YZXzWxNWVo7aeDvU8RXyE5JqDdmGRLAa-8_3A8lsIEnuC-Iuk5-hs7nT6q4eWcMHCod4YP24-T70rOQ_vHeRhHOSqlzD3H2ilPodCyxcbKqcgaStGCKpuS-DLSQzuuphUbbA3GUJ3OkYaz_d81-uoRvZpb75yO0qLVbkpvci9ivBy2mhpXGidy3oRDFHZRjy0273qzeutW5GFky54-wHOoZFg8v40FA_30FZcNmRLCKujnNlw%26x-client-SKU%3DID_NETSTANDARD2_0%26x-client-ver%3D5.6.0.0 - -
[2020-12-30T08:56:15.9285522+00:00][INFO][19][Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/1.1 GET http://www.em.host/account/login?ReturnUrl=%2Fconnect%2Fauthorize%2Fcallback%3Fclient_id%3Durn%253Aem%253Aclient%26redirect_uri%3Dhttps%253A%252F%252Fwww.em.host%252Fadmin%252Fidentity%252Fsignin-oidc%26response_type%3Dcode%26scope%3Dopenid%2520profile%2520email%2520roles%26code_challenge%3DXHDkQB2RrKCJrD14OQ4ulr9XpqJ_RVQ5BPZuLe_ipeU%26code_challenge_method%3DS256%26response_mode%3Dform_post%26nonce%3D637449152855118244.M2Q5MDM2NGItMTYzMy00MzQ5LTgyYmYtZmFkZTQ0NTZkYTFmNDNhZTljMzAtNTg5OC00OGE0LTlhNzMtYWE3ZjgxOGE1MjAy%26state%3DCfDJ8ASI9RBeE6hBsIC3rORyZw0Sp_LNsXgy3Q7meVeoSJSFEEeUP_orkQFbFyacfzxxj3oQNGLcEWUlUmpgWGo1wRjSCsZit8U2j0oSu4q_t_pqyXfBJ65wqRn9SbgP8iU_sdPAtg7hOU8irtqO6YZXzWxNWVo7aeDvU8RXyE5JqDdmGRLAa-8_3A8lsIEnuC-Iuk5-hs7nT6q4eWcMHCod4YP24-T70rOQ_vHeRhHOSqlzD3H2ilPodCyxcbKqcgaStGCKpuS-DLSQzuuphUbbA3GUJ3OkYaz_d81-uoRvZpb75yO0qLVbkpvci9ivBy2mhpXGidy3oRDFHZRjy0273qzeutW5GFky54-wHOoZFg8v40FA_30FZcNmRLCKujnNlw%26x-client-SKU%3DID_NETSTANDARD2_0%26x-client-ver%3D5.6.0.0 - - - 404 0 - 3.3648ms
[2020-12-30T08:58:10.1361892+00:00][INFO][22][Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 GET http://www.em.host/connect/authorize?client_id=urn%3Aem%3Aclient&redirect_uri=https%3A%2F%2Fwww.em.host%2Fadmin%2Fidentity%2Fsignin-oidc&response_type=code&scope=openid%20profile%20email%20roles&code_challenge=NAdbNnnkMTUR4AMG5xdGLjs4Fx8okvWJ7CQphQSI4cM&code_challenge_method=S256&response_mode=form_post&nonce=637449154900474564.Y2I2ZWIyNjItZDM3Ny00YjQ5LTljMGEtNWU0ZDE1NTIyMTVlNWE2MjYyYzQtMWM3NC00YjgzLWJkN2YtNjc1MDlmZDhjNzYx&state=CfDJ8ASI9RBeE6hBsIC3rORyZw2zdvXLQ0BGsVJkiwXTKF7JHdCL5qd7Leap-XcP9MgsSeITsLJ_KyI8yAhx6b1Q26Chq6Up9eRorwJRTHA8y9H0OIX21_wh5suqp7m7x07f3m66VK_LObJ1YulHrkFiGhR1cstCvdYpGVcOelgmc3v9t9L_KP5uTkhlFshG76MDDilC94gUif-7G83jBIEJVCQNiq_JmX_CWd-0-zgAs8evGKlKuY5TElRB_nIeHXdfR-aMaTv484flRaDov5e7ttkcpfJPEydo-RSuQvcD_Mlspv3PN5Bwuf8c8jhKjzJQwFeyQ8UJGfcs57HR1v35nBAUQyOzdsSo_n_LmJJLcWuClw7bf0QcJ74IOvOW4Ebq2A&x-client-SKU=ID_NETSTANDARD2_0&x-client-ver=5.6.0.0 - -
[2020-12-30T08:58:10.1437848+00:00][INFO][22][IdentityServer4.Hosting.IdentityServerMiddleware] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize"
[2020-12-30T08:58:10.1520954+00:00][INFO][22][Microsoft.EntityFrameworkCore.Infrastructure] Entity Framework Core "5.0.1" initialized '"IdentityServerConfigurationDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=EventManager.Identity.Admin.EntityFramework.SqlServer "
[2020-12-30T08:58:10.2074813+00:00][INFO][23][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("17"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c].[Id], [c].[AbsoluteRefreshTokenLifetime], [c].[AccessTokenLifetime], [c].[AccessTokenType], [c].[AllowAccessTokensViaBrowser], [c].[AllowOfflineAccess], [c].[AllowPlainTextPkce], [c].[AllowRememberConsent], [c].[AllowedIdentityTokenSigningAlgorithms], [c].[AlwaysIncludeUserClaimsInIdToken], [c].[AlwaysSendClientClaims], [c].[AuthorizationCodeLifetime], [c].[BackChannelLogoutSessionRequired], [c].[BackChannelLogoutUri], [c].[ClientClaimsPrefix], [c].[ClientId], [c].[ClientName], [c].[ClientUri], [c].[ConsentLifetime], [c].[Created], [c].[Description], [c].[DeviceCodeLifetime], [c].[EnableLocalLogin], [c].[Enabled], [c].[FrontChannelLogoutSessionRequired], [c].[FrontChannelLogoutUri], [c].[IdentityTokenLifetime], [c].[IncludeJwtId], [c].[LastAccessed], [c].[LogoUri], [c].[NonEditable], [c].[PairWiseSubjectSalt], [c].[ProtocolType], [c].[RefreshTokenExpiration], [c].[RefreshTokenUsage], [c].[RequireClientSecret], [c].[RequireConsent], [c].[RequirePkce], [c].[RequireRequestObject], [c].[SlidingRefreshTokenLifetime], [c].[UpdateAccessTokenClaimsOnRefresh], [c].[Updated], [c].[UserCodeType], [c].[UserSsoLifetime]
FROM [Clients] AS [c]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T08:58:10.2385961+00:00][INFO][22][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("3"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[Origin]
FROM [Clients] AS [c]
INNER JOIN [ClientCorsOrigins] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T08:58:10.2528302+00:00][INFO][21][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("3"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[GrantType]
FROM [Clients] AS [c]
INNER JOIN [ClientGrantTypes] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T08:58:10.2584183+00:00][INFO][21][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("3"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[Scope]
FROM [Clients] AS [c]
INNER JOIN [ClientScopes] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T08:58:10.2867520+00:00][INFO][21][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("4"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[Type], [c0].[Value]
FROM [Clients] AS [c]
INNER JOIN [ClientClaims] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T08:58:10.3281367+00:00][INFO][22][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("31"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[Created], [c0].[Description], [c0].[Expiration], [c0].[Type], [c0].[Value]
FROM [Clients] AS [c]
INNER JOIN [ClientSecrets] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T08:58:10.3408317+00:00][INFO][20][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("10"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[Provider]
FROM [Clients] AS [c]
INNER JOIN [ClientIdPRestrictions] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T08:58:10.3645838+00:00][INFO][23][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("19"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[PostLogoutRedirectUri]
FROM [Clients] AS [c]
INNER JOIN [ClientPostLogoutRedirectUris] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T08:58:10.3751578+00:00][INFO][25][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("5"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[Key], [c0].[Value]
FROM [Clients] AS [c]
INNER JOIN [ClientProperties] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T08:58:10.3939886+00:00][INFO][23][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("13"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[RedirectUri]
FROM [Clients] AS [c]
INNER JOIN [ClientRedirectUris] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T08:58:10.4114304+00:00][INFO][25][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [i].[Id], [i].[Created], [i].[Description], [i].[DisplayName], [i].[Emphasize], [i].[Enabled], [i].[Name], [i].[NonEditable], [i].[Required], [i].[ShowInDiscoveryDocument], [i].[Updated], [i0].[Id], [i0].[IdentityResourceId], [i0].[Type], [i1].[Id], [i1].[IdentityResourceId], [i1].[Key], [i1].[Value]
FROM [IdentityResources] AS [i]
LEFT JOIN [IdentityResourceClaims] AS [i0] ON [i].[Id] = [i0].[IdentityResourceId]
LEFT JOIN [IdentityResourceProperties] AS [i1] ON [i].[Id] = [i1].[IdentityResourceId]
WHERE [i].[Name] IN (N'openid', N'profile', N'email', N'roles')
ORDER BY [i].[Id], [i0].[Id], [i1].[Id]"
[2020-12-30T08:58:10.4393739+00:00][INFO][18][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("9"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [a].[Id], [a].[AllowedAccessTokenSigningAlgorithms], [a].[Created], [a].[Description], [a].[DisplayName], [a].[Enabled], [a].[LastAccessed], [a].[Name], [a].[NonEditable], [a].[ShowInDiscoveryDocument], [a].[Updated], [a0].[Id], [a0].[ApiResourceId], [a0].[Created], [a0].[Description], [a0].[Expiration], [a0].[Type], [a0].[Value], [a1].[Id], [a1].[ApiResourceId], [a1].[Scope], [a2].[Id], [a2].[ApiResourceId], [a2].[Type], [a3].[Id], [a3].[ApiResourceId], [a3].[Key], [a3].[Value]
FROM [ApiResources] AS [a]
LEFT JOIN [ApiResourceSecrets] AS [a0] ON [a].[Id] = [a0].[ApiResourceId]
LEFT JOIN [ApiResourceScopes] AS [a1] ON [a].[Id] = [a1].[ApiResourceId]
LEFT JOIN [ApiResourceClaims] AS [a2] ON [a].[Id] = [a2].[ApiResourceId]
LEFT JOIN [ApiResourceProperties] AS [a3] ON [a].[Id] = [a3].[ApiResourceId]
WHERE EXISTS (
    SELECT 1
    FROM [ApiResourceScopes] AS [a4]
    WHERE ([a].[Id] = [a4].[ApiResour[2020-12-30T09:44:18.0985912+00:00][INFO][1][Microsoft.EntityFrameworkCore.Infrastructure] Entity Framework Core "5.0.1" initialized '"IdentityServerDataProtectionDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=EventManager.Identity.Admin.EntityFramework.SqlServer "
[2020-12-30T09:44:24.6771711+00:00][INFO][1][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("330"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [d].[Id], [d].[FriendlyName], [d].[Xml]
FROM [DataProtectionKeys] AS [d]"
[2020-12-30T09:44:27.1938709+00:00][INFO][1][IdentityServer4.Startup] Starting IdentityServer4 version "4.1.1+cebd52f5bc61bdefc262fd20739d4d087c6f961f"
[2020-12-30T09:44:27.3895100+00:00][INFO][1][IdentityServer4.Startup] Using the default authentication scheme "Identity.Application" for IdentityServer
[2020-12-30T09:44:31.3168643+00:00][INFO][1][Microsoft.Hosting.Lifetime] Now listening on: "http://[::]:50003"
[2020-12-30T09:44:31.3314195+00:00][INFO][1][Microsoft.Hosting.Lifetime] Application started. Press Ctrl+C to shut down.
[2020-12-30T09:44:31.3354211+00:00][INFO][1][Microsoft.Hosting.Lifetime] Hosting environment: "Development"
[2020-12-30T09:44:31.3631089+00:00][INFO][1][Microsoft.Hosting.Lifetime] Content root path: "/app"
[2020-12-30T09:45:46.3943475+00:00][INFO][13][Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 GET http://sts.em.host/.well-known/openid-configuration - -
[2020-12-30T09:45:46.5377824+00:00][INFO][13][IdentityServer4.Hosting.IdentityServerMiddleware] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.DiscoveryEndpoint" for "/.well-known/openid-configuration"
[2020-12-30T09:45:47.3017189+00:00][INFO][13][Microsoft.EntityFrameworkCore.Infrastructure] Entity Framework Core "5.0.1" initialized '"IdentityServerConfigurationDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=EventManager.Identity.Admin.EntityFramework.SqlServer "
[2020-12-30T09:45:47.6087765+00:00][WARN][13][Microsoft.EntityFrameworkCore.Query] Compiling a query which loads related collections for more than one collection navigation either via 'Include' or through projection but no 'QuerySplittingBehavior' has been configured. By default Entity Framework will use 'QuerySplittingBehavior.SingleQuery' which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'
[2020-12-30T09:45:47.7613910+00:00][INFO][15][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("61"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [i].[Id], [i].[Created], [i].[Description], [i].[DisplayName], [i].[Emphasize], [i].[Enabled], [i].[Name], [i].[NonEditable], [i].[Required], [i].[ShowInDiscoveryDocument], [i].[Updated], [i0].[Id], [i0].[IdentityResourceId], [i0].[Type], [i1].[Id], [i1].[IdentityResourceId], [i1].[Key], [i1].[Value]
FROM [IdentityResources] AS [i]
LEFT JOIN [IdentityResourceClaims] AS [i0] ON [i].[Id] = [i0].[IdentityResourceId]
LEFT JOIN [IdentityResourceProperties] AS [i1] ON [i].[Id] = [i1].[IdentityResourceId]
ORDER BY [i].[Id], [i0].[Id], [i1].[Id]"
[2020-12-30T09:45:48.0014271+00:00][WARN][15][Microsoft.EntityFrameworkCore.Query] Compiling a query which loads related collections for more than one collection navigation either via 'Include' or through projection but no 'QuerySplittingBehavior' has been configured. By default Entity Framework will use 'QuerySplittingBehavior.SingleQuery' which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'
[2020-12-30T09:45:48.1970500+00:00][INFO][15][Microsoft.EntityFrameworkCore.Data[2020-12-30T10:05:05.6570008+00:00][INFO][1][Microsoft.EntityFrameworkCore.Infrastructure] Entity Framework Core "5.0.1" initialized '"IdentityServerDataProtectionDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=EventManager.Identity.Admin.EntityFramework.SqlServer "
[2020-12-30T10:05:07.3799326+00:00][INFO][1][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("41"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [d].[Id], [d].[FriendlyName], [d].[Xml]
FROM [DataProtectionKeys] AS [d]"
[2020-12-30T10:05:07.6804782+00:00][INFO][1][IdentityServer4.Startup] Starting IdentityServer4 version "4.1.1+cebd52f5bc61bdefc262fd20739d4d087c6f961f"
[2020-12-30T10:05:07.7379992+00:00][INFO][1][IdentityServer4.Startup] Using the default authentication scheme "Identity.Application" for IdentityServer
[2020-12-30T10:05:08.4521071+00:00][INFO][1][Microsoft.Hosting.Lifetime] Now listening on: "http://[::]:50003"
[2020-12-30T10:05:08.4606798+00:00][INFO][1][Microsoft.Hosting.Lifetime] Application started. Press Ctrl+C to shut down.
[2020-12-30T10:05:08.4683981+00:00][INFO][1][Microsoft.Hosting.Lifetime] Hosting environment: "Development"
[2020-12-30T10:05:08.4721532+00:00][INFO][1][Microsoft.Hosting.Lifetime] Content root path: "/app"
[2020-12-30T10:06:00.3481416+00:00][INFO][12][Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 GET http://sts.em.host/account/login - -
[2020-12-30T10:06:00.6719035+00:00][INFO][12][Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/1.1 GET http://sts.em.host/account/login - - - 404 0 - 326.1224ms
[2020-12-30T10:06:10.8539699+00:00][INFO][14][Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 GET http://sts.em.host/account - -
[2020-12-30T10:06:10.8947316+00:00][INFO][14][Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/1.1 GET http://sts.em.host/account - - - 404 0 - 40.7270ms
[2020-12-30T10:06:17.8238748+00:00][INFO][17][Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 GET http://sts.em.host/Account - -
[2020-12-30T10:06:17.8347772+00:00][INFO][17][Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/1.1 GET http://sts.em.host/Account - - - 404 0 - 10.8811ms
[2020-12-30T10:12:01.5907967+00:00][INFO][25][Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 GET http://sts.em.host/Account - -
[2020-12-30T10:12:01.5986154+00:00][INFO][25][Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/1.1 GET http://sts.em.host/Account - - - 404 0 - 7.9900ms
[2020-12-30T10:13:16.1482027+00:00][INFO][24][Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 GET http://sts.em.host/Account - -
[2020-12-30T10:13:16.1770196+00:00][INFO][24][Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/1.1 GET http://sts.em.host/Account - - - 404 0 - 28.4372ms
[2020-12-30T10:15:35.5914695+00:00][INFO][32][Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 GET http://sts.em.host/Account - -
[2020-12-30T10:15:35.5954734+00:00][INFO][32][Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/1.1 GET http://sts.em.host/Account - - - 404 0 - 4.0434ms
[2020-12-30T10:34:57.5423236+00:00][INFO][42][Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 GET http://sts.em.host/Account/ - -
[2020-12-30T10:34:57.5480476+00:00][INFO][42][Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/1.1 GET http://sts.em.host/Account/ - - - 404 0 - 5.7659ms
[2020-12-30T10:36:48.1571044+00:00][INFO][47][Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 GET http://sts.em.host/.well-known/openid-configuration - -
[2020-12-30T10:36:48.1924234+00:00][INFO][47][IdentityServer4.Hosting.IdentityServerMiddleware] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.DiscoveryEndpoint" for "/.well-known/openid-configuration"
[2020-12-30T10:36:48.7683804+00:00][INFO][47][Microsoft.EntityFrameworkCore.Infrastructure] Entity Framework Core "5.0.1" initialized '"IdentityServerConfigurationDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=EventManager.Identity.Admin.EntityFramework.SqlServer "
[2020-12-30T10:36:48.9753810+00:00][WARN][47][Microsoft.EntityFrameworkCore.Query] Compiling a query which loads related collections for more than one collection navigation either via 'Include' or through projection but no 'QuerySplittingBehavior' has been configured. By default Entity Framework will use 'QuerySplittingBehavior.SingleQuery' which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'
[2020-12-30T10:36:49.2958616+00:00][INFO][40][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("53"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [i].[Id], [i].[Created], [i].[Description], [i].[DisplayName], [i].[Emphasize], [i].[Enabled], [i].[Name], [i].[NonEditable], [i].[Required], [i].[ShowInDiscoveryDocument], [i].[Updated], [i0].[Id], [i0].[IdentityResourceId], [i0].[Type], [i1].[Id], [i1].[IdentityResourceId], [i1].[Key], [i1].[Value]
FROM [IdentityResources] AS [i]
LEFT JOIN [IdentityResourceClaims] AS [i0] ON [i].[Id] = [i0].[IdentityResourceId]
LEFT JOIN [IdentityResourceProperties] AS [i1] ON [i].[Id] = [i1].[IdentityResourceId]
ORDER BY [i].[Id], [i0].[Id], [i1].[Id]"
[2020-12-30T10:36:49.5123180+00:00][WARN][40][Microsoft.EntityFrameworkCore.Query] Compiling a query which loads related collections for more than one collection navigation either via 'Include' or through projection but no 'QuerySplittingBehavior' has been configured. By default Entity Framework will use 'QuerySplittingBehavior.SingleQuery' which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'
[2020-12-30T10:36:49.5699418+00:00][INFO][40][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("13"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [a].[Id], [a].[AllowedAccessTokenSigningAlgorithms], [a].[Created], [a].[Description], [a].[DisplayName], [a].[Enabled], [a].[LastAccessed], [a].[Name], [a].[NonEditable], [a].[ShowInDiscoveryDocument], [a].[Updated], [a0].[Id], [a0].[ApiResourceId], [a0].[Created], [a0].[Description], [a0].[Expiration], [a0].[Type], [a0].[Value], [a1].[Id], [a1].[ApiResourceId], [a1].[Scope], [a2].[Id], [a2].[ApiResourceId], [a2].[Type], [a3].[Id], [a3].[ApiResourceId], [a3].[Key], [a3].[Value]
FROM [ApiResources] AS [a]
LEFT JOIN [ApiResourceSecrets] AS [a0] ON [a].[Id] = [a0].[ApiResourceId]
LEFT JOIN [ApiResourceScopes] AS [a1] ON [a].[Id] = [a1].[ApiResourceId]
LEFT JOIN [ApiResourceClaims] AS [a2] ON [a].[Id] = [a2].[ApiResourceId]
LEFT JOIN [ApiResourceProperties] AS [a3] ON [a].[Id] = [a3].[ApiResourceId]
ORDER BY [a].[Id], [a0].[Id], [a1].[Id], [a2].[Id], [a3].[Id]"
[2020-12-30T10:36:49.5862406+00:00][WARN][40][Microsoft.EntityFrameworkCore.Query] Compiling a query which loads related collections for more than one collection navigation either via 'Include' or through projection but no 'QuerySplittingBehavior' has been configured. By default Entity Framework will use 'QuerySplittingBehavior.SingleQuery' which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'
[2020-12-30T10:36:49.6173874+00:00][INFO][48][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("8"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [a].[Id], [a].[Description], [a].[DisplayName], [a].[Emphasize], [a].[Enabled], [a].[Name], [a].[Required], [a].[ShowInDiscoveryDocument], [a0].[Id], [a0].[ScopeId], [a0].[Type], [a1].[Id], [a1].[Key], [a1].[ScopeId], [a1].[Value]
FROM [ApiScopes] AS [a]
LEFT JOIN [ApiScopeClaims] AS [a0] ON [a].[Id] = [a0].[ScopeId]
LEFT JOIN [ApiScopeProperties] AS [a1] ON [a].[Id] = [a1].[ScopeId]
ORDER BY [a].[Id], [a0].[Id], [a1].[Id]"
[2020-12-30T10:36:50.1881481+00:00][INFO][48][Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/1.1 GET http://sts.em.host/.well-known/openid-configuration - - - 200 - application/json;+charset=UTF-8 2031.0269ms
[2020-12-30T10:36:50.3037131+00:00][INFO][45][Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 GET http://sts.em.host/.well-known/openid-configuration/jwks - -
[2020-12-30T10:36:50.3068818+00:00][INFO][45][IdentityServer4.Hosting.IdentityServerMiddleware] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.DiscoveryKeyEndpoint" for "/.well-known/openid-configuration/jwks"
[2020-12-30T10:36:50.4330885+00:00][INFO][45][Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/1.1 GET http://sts.em.host/.well-known/openid-configuration/jwks - - - 200 - application/json;+charset=UTF-8 129.3980ms
[2020-12-30T10:36:50.5716009+00:00][INFO][40][Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 GET http://sts.em.host/connect/authorize?client_id=urn%3Aem%3Aclient&redirect_uri=https%3A%2F%2Fwww.em.host%2Fadmin%2Fidentity%2Fsignin-oidc&response_type=code&scope=openid%20profile%20email%20roles&code_challenge=3DML2WuKap8ryN_Xz0jrOcmrSytawCdg4W2RTWNrxgU&code_challenge_method=S256&response_mode=form_post&nonce=637449214104809484.ODBhMDdlYWQtNWI2Ny00YjhkLWE1MTMtNzJiMzBkZWNkZWRmOGIxNjMyMTktMGVjNi00ZTFiLTlkMjItN2FmNmM1Yzk2MGZk&state=CfDJ8ASI9RBeE6hBsIC3rORyZw2h9Ka5QqUxCYmyGbFDc5EbGAbGVqU2zsZztQUqbQzJznFmBQvp8pG8jZ2r0ajlWtsPkNQmpMU_IBG1Hapdn6BrhL3HTsTzS2px12BaWTmtcu-qNgT8BMHnpQMVZVZvkJuJMB8b0XRTooEZjWPT7104fl6cS_kZjIcVwx2Y8DYlvRdNuO-kzDi_p4UZBBte8GTUkpDbNvH6DYQhH5cV_eh-3ihfpl_rA4FYoAu1moRwmML588hwXbCkJCL9EqCfKv1iR79uxJiVpx05bE5au1BY6cZ6T-s78D_QBJg_Na7z2aLQt8MtIbeuhKye1PhRRjQ8NatDBoKsJls7Lz3YLLMrRFVc0vktquA3uH4fnI1vKg&x-client-SKU=ID_NETSTANDARD2_0&x-client-ver=5.6.0.0 - -
[2020-12-30T10:36:50.6939249+00:00][INFO][40][IdentityServer4.Hosting.IdentityServerMiddleware] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize"
[2020-12-30T10:36:50.7286229+00:00][INFO][40][Microsoft.EntityFrameworkCore.Infrastructure] Entity Framework Core "5.0.1" initialized '"IdentityServerConfigurationDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=EventManager.Identity.Admin.EntityFramework.SqlServer "
[2020-12-30T10:36:50.8235670+00:00][INFO][46][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("31"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c].[Id], [c].[AbsoluteRefreshTokenLifetime], [c].[AccessTokenLifetime], [c].[AccessTokenType], [c].[AllowAccessTokensViaBrowser], [c].[AllowOfflineAccess], [c].[AllowPlainTextPkce], [c].[AllowRememberConsent], [c].[AllowedIdentityTokenSigningAlgorithms], [c].[AlwaysIncludeUserClaimsInIdToken], [c].[AlwaysSendClientClaims], [c].[AuthorizationCodeLifetime], [c].[BackChannelLogoutSessionRequired], [c].[BackChannelLogoutUri], [c].[ClientClaimsPrefix], [c].[ClientId], [c].[ClientName], [c].[ClientUri], [c].[ConsentLifetime], [c].[Created], [c].[Description], [c].[DeviceCodeLifetime], [c].[EnableLocalLogin], [c].[Enabled], [c].[FrontChannelLogoutSessionRequired], [c].[FrontChannelLogoutUri], [c].[IdentityTokenLifetime], [c].[IncludeJwtId], [c].[LastAccessed], [c].[LogoUri], [c].[NonEditable], [c].[PairWiseSubjectSalt], [c].[ProtocolType], [c].[RefreshTokenExpiration], [c].[RefreshTokenUsage], [c].[RequireClientSecret], [c].[RequireConsent], [c].[RequirePkce], [c].[RequireRequestObject], [c].[SlidingRefreshTokenLifetime], [c].[UpdateAccessTokenClaimsOnRefresh], [c].[Updated], [c].[UserCodeType], [c].[UserSsoLifetime]
FROM [Clients] AS [c]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T10:36:50.9821102+00:00][INFO][47][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("15"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[Origin]
FROM [Clients] AS [c]
INNER JOIN [ClientCorsOrigins] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T10:36:51.0180007+00:00][INFO][43][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("6"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[GrantType]
FROM [Clients] AS [c]
INNER JOIN [ClientGrantTypes] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T10:36:51.0579291+00:00][INFO][48][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("6"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[Scope]
FROM [Clients] AS [c]
INNER JOIN [ClientScopes] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T10:36:51.1133212+00:00][INFO][42][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("4"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[Type], [c0].[Value]
FROM [Clients] AS [c]
INNER JOIN [ClientClaims] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T10:36:51.1648455+00:00][INFO][48][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("9"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[Created], [c0].[Description], [c0].[Expiration], [c0].[Type], [c0].[Value]
FROM [Clients] AS [c]
INNER JOIN [ClientSecrets] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T10:36:51.2041934+00:00][INFO][42][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("5"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[Provider]
FROM [Clients] AS [c]
INNER JOIN [ClientIdPRestrictions] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T10:36:51.2260942+00:00][INFO][48][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("7"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[PostLogoutRedirectUri]
FROM [Clients] AS [c]
INNER JOIN [ClientPostLogoutRedirectUris] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T10:36:51.2526688+00:00][INFO][48][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("4"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[Key], [c0].[Value]
FROM [Clients] AS [c]
INNER JOIN [ClientProperties] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T10:36:51.2743567+00:00][INFO][46][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("5"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[RedirectUri]
FROM [Clients] AS [c]
INNER JOIN [ClientRedirectUris] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T10:36:51.5727956+00:00][WARN][46][Microsoft.EntityFrameworkCore.Query] Compiling a query which loads related collections for more than one collection navigation either via 'Include' or through projection but no 'QuerySplittingBehavior' has been configured. By default Entity Framework will use 'QuerySplittingBehavior.SingleQuery' which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'
[2020-12-30T10:36:51.6040804+00:00][INFO][43][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("7"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [i].[Id], [i].[Created], [i].[Description], [i].[DisplayName], [i].[Emphasize], [i].[Enabled], [i].[Name], [i].[NonEditable], [i].[Required], [i].[ShowInDiscoveryDocument], [i].[Updated], [i0].[Id], [i0].[IdentityResourceId], [i0].[Type], [i1].[Id], [i1].[IdentityResourceId], [i1].[Key], [i1].[Value]
FROM [IdentityResources] AS [i]
LEFT JOIN [IdentityResourceClaims] AS [i0] ON [i].[Id] = [i0].[IdentityResourceId]
LEFT JOIN [IdentityResourceProperties] AS [i1] ON [i].[Id] = [i1].[IdentityResourceId]
WHERE [i].[Name] IN (N'openid', N'profile', N'email', N'roles')
ORDER BY [i].[Id], [i0].[Id], [i1].[Id]"
[2020-12-30T10:36:51.6570585+00:00][WARN][43][Microsoft.EntityFrameworkCore.Query] Compiling a query which loads related collections for more than one collection navigation either via 'Include' or through projection but no 'QuerySplittingBehavior' has been configured. By default Entity Framework will use 'QuerySplittingBehavior.SingleQuery' which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'
[2020-12-30T10:36:51.7068750+00:00][INFO][46][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("15"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [a].[Id], [a].[AllowedAccessTokenSigningAlgorithms], [a].[Created], [a].[Description], [a].[DisplayName], [a].[Enabled], [a].[LastAccessed], [a].[Name], [a].[NonEditable], [a].[ShowInDiscoveryDocument], [a].[Updated], [a0].[Id], [a0].[ApiResourceId], [a0].[Created], [a0].[Description], [a0].[Expiration], [a0].[Type], [a0].[Value], [a1].[Id], [a1].[ApiResourceId], [a1].[Scope], [a2].[Id], [a2].[ApiResourceId], [a2].[Type], [a3].[Id], [a3].[ApiResourceId], [a3].[Key], [a3].[Value]
FROM [ApiResources] AS [a]
LEFT JOIN [ApiResourceSecrets] AS [a0] ON [a].[Id] = [a0].[ApiResourceId]
LEFT JOIN [ApiResourceScopes] AS [a1] ON [a].[Id] = [a1].[ApiResourceId]
LEFT JOIN [ApiResourceClaims] AS [a2] ON [a].[Id] = [a2].[ApiResourceId]
LEFT JOIN [ApiResourceProperties] AS [a3] ON [a].[Id] = [a3].[ApiResourceId]
WHERE EXISTS (
    SELECT 1
    FROM [ApiResourceScopes] AS [a4]
    WHERE ([a].[Id] = [a4].[ApiResourceId]) AND [a4].[Scope] IN (N'openid', N'profile', N'email', N'roles'))
ORDER BY [a].[Id], [a0].[Id], [a1].[Id], [a2].[Id], [a3].[Id]"
[2020-12-30T10:36:51.7217888+00:00][WARN][46][Microsoft.EntityFrameworkCore.Query] Compiling a query which loads related collections for more than one collection navigation either via 'Include' or through projection but no 'QuerySplittingBehavior' has been configured. By default Entity Framework will use 'QuerySplittingBehavior.SingleQuery' which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'
[2020-12-30T10:36:51.7444714+00:00][INFO][43][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("5"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [a].[Id], [a].[Description], [a].[DisplayName], [a].[Emphasize], [a].[Enabled], [a].[Name], [a].[Required], [a].[ShowInDiscoveryDocument], [a0].[Id], [a0].[ScopeId], [a0].[Type], [a1].[Id], [a1].[Key], [a1].[ScopeId], [a1].[Value]
FROM [ApiScopes] AS [a]
LEFT JOIN [ApiScopeClaims] AS [a0] ON [a].[Id] = [a0].[ScopeId]
LEFT JOIN [ApiScopeProperties] AS [a1] ON [a].[Id] = [a1].[ScopeId]
WHERE [a].[Name] IN (N'openid', N'profile', N'email', N'roles')
ORDER BY [a].[Id], [a0].[Id], [a1].[Id]"
[2020-12-30T10:36:51.7955356+00:00][INFO][43][IdentityServer4.ResponseHandling.AuthorizeInteractionResponseGenerator] Showing login: User is not authenticated
[2020-12-30T10:36:51.8089672+00:00][INFO][43][Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/1.1 GET http://sts.em.host/connect/authorize?client_id=urn%3Aem%3Aclient&redirect_uri=https%3A%2F%2Fwww.em.host%2Fadmin%2Fidentity%2Fsignin-oidc&response_type=code&scope=openid%20profile%20email%20roles&code_challenge=3DML2WuKap8ryN_Xz0jrOcmrSytawCdg4W2RTWNrxgU&code_challenge_method=S256&response_mode=form_post&nonce=637449214104809484.ODBhMDdlYWQtNWI2Ny00YjhkLWE1MTMtNzJiMzBkZWNkZWRmOGIxNjMyMTktMGVjNi00ZTFiLTlkMjItN2FmNmM1Yzk2MGZk&state=CfDJ8ASI9RBeE6hBsIC3rORyZw2h9Ka5QqUxCYmyGbFDc5EbGAbGVqU2zsZztQUqbQzJznFmBQvp8pG8jZ2r0ajlWtsPkNQmpMU_IBG1Hapdn6BrhL3HTsTzS2px12BaWTmtcu-qNgT8BMHnpQMVZVZvkJuJMB8b0XRTooEZjWPT7104fl6cS_kZjIcVwx2Y8DYlvRdNuO-kzDi_p4UZBBte8GTUkpDbNvH6DYQhH5cV_eh-3ihfpl_rA4FYoAu1moRwmML588hwXbCkJCL9EqCfKv1iR79uxJiVpx05bE5au1BY6cZ6T-s78D_QBJg_Na7z2aLQt8MtIbeuhKye1PhRRjQ8NatDBoKsJls7Lz3YLLMrRFVc0vktquA3uH4fnI1vKg&x-client-SKU=ID_NETSTANDARD2_0&x-client-ver=5.6.0.0 - - - 302 0 - 1237.3574ms
[2020-12-30T10:36:51.8529299+00:00][INFO][46][Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 GET http://sts.em.host/Account/Login?ReturnUrl=%2Fconnect%2Fauthorize%2Fcallback%3Fclient_id%3Durn%253Aem%253Aclient%26redirect_uri%3Dhttps%253A%252F%252Fwww.em.host%252Fadmin%252Fidentity%252Fsignin-oidc%26response_type%3Dcode%26scope%3Dopenid%2520profile%2520email%2520roles%26code_challenge%3D3DML2WuKap8ryN_Xz0jrOcmrSytawCdg4W2RTWNrxgU%26code_challenge_method%3DS256%26response_mode%3Dform_post%26nonce%3D637449214104809484.ODBhMDdlYWQtNWI2Ny00YjhkLWE1MTMtNzJiMzBkZWNkZWRmOGIxNjMyMTktMGVjNi00ZTFiLTlkMjItN2FmNmM1Yzk2MGZk%26state%3DCfDJ8ASI9RBeE6hBsIC3rORyZw2h9Ka5QqUxCYmyGbFDc5EbGAbGVqU2zsZztQUqbQzJznFmBQvp8pG8jZ2r0ajlWtsPkNQmpMU_IBG1Hapdn6BrhL3HTsTzS2px12BaWTmtcu-qNgT8BMHnpQMVZVZvkJuJMB8b0XRTooEZjWPT7104fl6cS_kZjIcVwx2Y8DYlvRdNuO-kzDi_p4UZBBte8GTUkpDbNvH6DYQhH5cV_eh-3ihfpl_rA4FYoAu1moRwmML588hwXbCkJCL9EqCfKv1iR79uxJiVpx05bE5au1BY6cZ6T-s78D_QBJg_Na7z2aLQt8MtIbeuhKye1PhRRjQ8NatDBoKsJls7Lz3YLLMrRFVc0vktquA3uH4fnI1vKg%26x-client-SKU%3DID_NETSTANDARD2_0%26x-client-ver%3D5.6.0.0 - -
[2020-12-30T10:36:51.8559888+00:00][INFO][46][Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/1.1 GET http://sts.em.host/Account/Login?ReturnUrl=%2Fconnect%2Fauthorize%2Fcallback%3Fclient_id%3Durn%253Aem%253Aclient%26redirect_uri%3Dhttps%253A%252F%252Fwww.em.host%252Fadmin%252Fidentity%252Fsignin-oidc%26response_type%3Dcode%26scope%3Dopenid%2520profile%2520email%2520roles%26code_challenge%3D3DML2WuKap8ryN_Xz0jrOcmrSytawCdg4W2RTWNrxgU%26code_challenge_method%3DS256%26response_mode%3Dform_post%26nonce%3D637449214104809484.ODBhMDdlYWQtNWI2Ny00YjhkLWE1MTMtNzJiMzBkZWNkZWRmOGIxNjMyMTktMGVjNi00ZTFiLTlkMjItN2FmNmM1Yzk2MGZk%26state%3DCfDJ8ASI9RBeE6hBsIC3rORyZw2h9Ka5QqUxCYmyGbFDc5EbGAbGVqU2zsZztQUqbQzJznFmBQvp8pG8jZ2r0ajlWtsPkNQmpMU_IBG1Hapdn6BrhL3HTsTzS2px12BaWTmtcu-qNgT8BMHnpQMVZVZvkJuJMB8b0XRTooEZjWPT7104fl6cS_kZjIcVwx2Y8DYlvRdNuO-kzDi_p4UZBBte8GTUkpDbNvH6DYQhH5cV_eh-3ihfpl_rA4FYoAu1moRwmML588hwXbCkJCL9EqCfKv1iR79uxJiVpx05bE5au1BY6cZ6T-s78D_QBJg_Na7z2aLQt8MtIbeuhKye1PhRRjQ8NatDBoKsJls7Lz3YLLMrRFVc0vktquA3uH4fnI1vKg%26x-client-SKU%3DID_NETSTANDARD2_0%26x-client-ver%3D5.6.0.0 - - - 404 0 - 3.0886ms
[2020-12-30T10:37:17.3010369+00:00][INFO][39][Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 GET http://sts.em.host/account/Login?ReturnUrl=%2Fconnect%2Fauthorize%2Fcallback%3Fclient_id%3Durn%253Aem%253Aclient%26redirect_uri%3Dhttps%253A%252F%252Fwww.em.host%252Fadmin%252Fidentity%252Fsignin-oidc%26response_type%3Dcode%26scope%3Dopenid%2520profile%2520email%2520roles%26code_challenge%3D3DML2WuKap8ryN_Xz0jrOcmrSytawCdg4W2RTWNrxgU%26code_challenge_method%3DS256%26response_mode%3Dform_post%26nonce%3D637449214104809484.ODBhMDdlYWQtNWI2Ny00YjhkLWE1MTMtNzJiMzBkZWNkZWRmOGIxNjMyMTktMGVjNi00ZTFiLTlkMjItN2Fm[2020-12-30T11:21:44.0263129+00:00][INFO][1][Microsoft.EntityFrameworkCore.Infrastructure] Entity Framework Core "5.0.1" initialized '"IdentityServerDataProtectionDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=EventManager.Identity.Admin.EntityFramework.SqlServer "
[2020-12-30T11:21:49.9715214+00:00][INFO][1][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("90"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [d].[Id], [d].[FriendlyName], [d].[Xml]
FROM [DataProtectionKeys] AS [d]"
[2020-12-30T11:21:51.0182352+00:00][INFO][1][IdentityServer4.Startup] Starting IdentityServer4 version "4.1.1+cebd52f5bc61bdefc262fd20739d4d087c6f961f"
[2020-12-30T11:21:51.3675424+00:00][INFO][1][IdentityServer4.Startup] Using the default authentication scheme "Identity.Application" for IdentityServer
[2020-12-30T11:21:53.8346639+00:00][INFO][1][Microsoft.Hosting.Lifetime] Now listening on: "http://[::]:50003"
[2020-12-30T11:21:53.8391300+00:00][INFO][1][Microsoft.Hosting.Lifetime] Application started. Press Ctrl+C to shut down.
[2020-12-30T11:21:53.8445882+00:00][INFO][1][Microsoft.Hosting.Lifetime] Hosting environment: "Development"
[2020-12-30T11:21:53.8458571+00:00][INFO][1][Microsoft.Hosting.Lifetime] Content root path: "/app"
[2020-12-30T11:26:38.5366688+00:00][INFO][17][Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 GET http://sts.em.host/.well-known/openid-configuration - -
[2020-12-30T11:26:38.6650348+00:00][INFO][17][IdentityServer4.Hosting.IdentityServerMiddleware] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.DiscoveryEndpoint" for "/.well-known/openid-configuration"
[2020-12-30T11:26:39.5401769+00:00][INFO][17][Microsoft.EntityFrameworkCore.Infrastructure] Entity Framework Core "5.0.1" initialized '"IdentityServerConfigurationDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=EventManager.Identity.Admin.EntityFramework.SqlServer "
[2020-12-30T11:26:39.7724045+00:00][WARN][17][Microsoft.EntityFrameworkCore.Query] Compiling a query which loads related collections for more than one collection navigation either via 'Include' or through projection but no 'QuerySplittingBehavior' has been configured. By default Entity Framework will use 'QuerySplittingBehavior.SingleQuery' which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'
[2020-12-30T11:26:39.9189856+00:00][INFO][15][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("62"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [i].[Id], [i].[Created], [i].[Description], [i].[DisplayName], [i].[Emphasize], [i].[Enabled], [i].[Name], [i].[NonEditable], [i].[Required], [i].[ShowInDiscoveryDocument], [i].[Updated], [i0].[Id], [i0].[IdentityResourceId], [i0].[Type], [i1].[Id], [i1].[IdentityResourceId], [i1].[Key], [i1].[Value]
FROM [IdentityResources] AS [i]
LEFT JOIN [IdentityResourceClaims] AS [i0] ON [i].[Id] = [i0].[IdentityResourceId]
LEFT JOIN [IdentityResourceProperties] AS [i1] ON [i].[Id] = [i1].[IdentityResourceId]
ORDER BY [i].[Id], [i0].[Id], [i1].[Id]"
[2020-12-30T11:26:40.0721127+00:00][WARN][15][Microsoft.EntityFrameworkCore.Query] Compiling a query which loads related collections for more than one collection navigation either via 'Include' or through projection but no 'QuerySplittingBehavior' has been configured. By default Entity Framework will use 'QuerySplittingBehavior.SingleQuery' which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'
[2020-12-30T11:26:40.1231543+00:00][INFO][15][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("18"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [a].[Id], [a].[AllowedAccessTokenSigningAlgorithms], [a].[Created], [a].[Description], [a].[DisplayName], [a].[Enabled], [a].[LastAccessed], [a].[Name], [a].[NonEditable], [a].[ShowInDiscoveryDocument], [a].[Updated], [a0].[Id], [a0].[ApiResourceId], [a0].[Created], [a0].[Description], [a0].[Expiration], [a0].[Type], [a0].[Value], [a1].[Id], [a1].[ApiResourceId], [a1].[Scope], [a2].[Id], [a2].[ApiResourceId], [a2].[Type], [a3].[Id], [a3].[ApiResourceId], [a3].[Key], [a3].[Value]
FROM [ApiResources] AS [a]
LEFT JOIN [ApiResourceSecrets] AS [a0] ON [a].[Id] = [a0].[ApiResourceId]
LEFT JOIN [ApiResourceScopes] AS [a1] ON [a].[Id] = [a1].[ApiResourceId]
LEFT JOIN [ApiResourceClaims] AS [a2] ON [a].[Id] = [a2].[ApiResourceId]
LEFT JOIN [ApiResourceProperties] AS [a3] ON [a].[Id] = [a3].[ApiResourceId]
ORDER BY [a].[Id], [a0].[Id], [a1].[Id], [a2].[Id], [a3].[Id]"
[2020-12-30T11:26:40.1384999+00:00][WARN][15][Microsoft.EntityFrameworkCore.Query] Compiling a query which loads related collections for more than one collection navigation either via 'Include' or through projection but no 'QuerySplittingBehavior' has been configured. By default Entity Framework will use 'QuerySplittingBehavior.SingleQuery' which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'
[2020-12-30T11:26:40.1736381+00:00][INFO][19][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("10"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [a].[Id], [a].[Description], [a].[DisplayName], [a].[Emphasize], [a].[Enabled], [a].[Name], [a].[Required], [a].[ShowInDiscoveryDocument], [a0].[Id], [a0].[ScopeId], [a0].[Type], [a1].[Id], [a1].[Key], [a1].[ScopeId], [a1].[Value]
FROM [ApiScopes] AS [a]
LEFT JOIN [ApiScopeClaims] AS [a0] ON [a].[Id] = [a0].[ScopeId]
LEFT JOIN [ApiScopeProperties] AS [a1] ON [a].[Id] = [a1].[ScopeId]
ORDER BY [a].[Id], [a0].[Id], [a1].[Id]"
[2020-12-30T11:26:40.8021967+00:00][INFO][19][Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/1.1 GET http://sts.em.host/.well-known/openid-configuration - - - 200 - application/json;+charset=UTF-8 2268.8683ms
[2020-12-30T11:26:49.3957982+00:00][INFO][10][Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 GET http://sts.em.host/.well-known/ - -
[2020-12-30T11:26:49.4838376+00:00][INFO][10][Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/1.1 GET http://sts.em.host/.well-known/ - - - 404 0 - 87.8980ms
[2020-12-30T11:26:53.3761845+00:00][INFO][10][Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 GET http://sts.em.host/.well-known - -
[2020-12-30T11:26:53.3932978+00:00][INFO][10][Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/1.1 GET http://sts.em.host/.well-known - - - 404 0 - 16.6376ms
[2020-12-30T11:27:04.7765247+00:00][INFO][17][Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 GET http://sts.em.host/account - -
[2020-12-30T11:27:04.7788029+00:00][INFO][17][Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/1.1 GET http://sts.em.host/account - - - 404 0 - 2.3120ms
[2020-12-30T11:27:11.1100910+00:00][INFO][12][Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 GET http://sts.em.host/account/login - -
[2020-12-30T11:27:11.1119407+00:00][INFO][12][Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/1.1 GET http://sts.em.host/account/login - - - 404 0 - 1.7985ms
[2020-12-30T11:28:04.1511889+00:00][INFO][5][Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 GET http://sts.em.host/Account/ - -
[2020-12-30T11:28:04.1530998+00:00][INFO][5][Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/1.1 GET http://sts.em.host/Account/ - - - 404 0 - 1.8723ms
[2020-12-30T11:28:09.7176327+00:00][INFO][23][Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 GET http://sts.em.host/Account/ - -
[2020-12-30T11:28:09.7191562+00:00][INFO][23][Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/1.1 GET http://sts.em.host/Account/ - - - 404 0 - 1.4967ms
[2020-12-30T11:28:14.6549280+00:00][INFO][23][Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 GET http://sts.em.host/Account/Login - -
[2020-12-30T11:28:14.6570145+00:00][INFO][23][Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/1.1 GET http://sts.em.host/Account/Login - - - 404 0 - 2.0687ms
[2020-12-30T11:28:24.9248640+00:00][INFO][5][Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 GET http://sts.em.host/.well-known/openid-configuration - -
[2020-12-30T11:28:24.9355137+00:00][INFO][5][IdentityServer4.Hosting.IdentityServerMiddleware] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.DiscoveryEndpoint" for "/.well-known/openid-configuration"
[2020-12-30T11:28:24.9569914+00:00][INFO][5][Microsoft.EntityFrameworkCore.Infrastructure] Entity Framework Core "5.0.1" initialized '"IdentityServerConfigurationDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=EventManager.Identity.Admin.EntityFramework.SqlServer "
[2020-12-30T11:28:24.9825669+00:00][INFO][21][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("9"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [i].[Id], [i].[Created], [i].[Description], [i].[DisplayName], [i].[Emphasize], [i].[Enabled], [i].[Name], [i].[NonEditable], [i].[Required], [i].[ShowInDiscoveryDocument], [i].[Updated], [i0].[Id], [i0].[IdentityResourceId], [i0].[Type], [i1].[Id], [i1].[IdentityResourceId], [i1].[Key], [i1].[Value]
FROM [IdentityResources] AS [i]
LEFT JOIN [IdentityResourceClaims] AS [i0] ON [i].[Id] = [i0].[IdentityResourceId]
LEFT JOIN [IdentityResourceProperties] AS [i1] ON [i].[Id] = [i1].[IdentityResourceId]
ORDER BY [i].[Id], [i0].[Id], [i1].[Id]"
[2020-12-30T11:28:25.0383103+00:00][INFO][22][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [a].[Id], [a].[AllowedAccessTokenSigningAlgorithms], [a].[Created], [a].[Description], [a].[DisplayName], [a].[Enabled], [a].[LastAccessed], [a].[Name], [a].[NonEditable], [a].[ShowInDiscoveryDocument], [a].[Updated], [a0].[Id], [a0].[ApiResourceId], [a0].[Created], [a0].[Description], [a0].[Expiration], [a0].[Type], [a0].[Value], [a1].[Id], [a1].[ApiResourceId], [a1].[Scope], [a2].[Id], [a2].[ApiResourceId], [a2].[Type], [a3].[Id], [a3].[ApiResourceId], [a3].[Key], [a3].[Value]
FROM [ApiResources] AS [a]
LEFT JOIN [ApiResourceSecrets] AS [a0] ON [a].[Id] = [a0].[ApiResourceId]
LEFT JOIN [ApiResourceScopes] AS [a1] ON [a].[Id] = [a1].[ApiResourceId]
LEFT JOIN [ApiResourceClaims] AS [a2] ON [a].[Id] = [a2].[ApiResourceId]
LEFT JOIN [ApiResourceProperties] AS [a3] ON [a].[Id] = [a3].[ApiResourceId]
ORDER BY [a].[Id], [a0].[Id], [a1].[Id], [a2].[Id], [a3].[Id]"
[2020-12-30T11:28:25.0547288+00:00][INFO][20][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [a].[Id], [a].[Description], [a].[DisplayName], [a].[Emphasize], [a].[Enabled], [a].[Name], [a].[Required], [a].[ShowInDiscoveryDocument], [a0].[Id], [a0].[ScopeId], [a0].[Type], [a1].[Id], [a1].[Key], [a1].[ScopeId], [a1].[Value]
FROM [ApiScopes] AS [a]
LEFT JOIN [ApiScopeClaims] AS [a0] ON [a].[Id] = [a0].[ScopeId]
LEFT JOIN [ApiScopeProperties] AS [a1] ON [a].[Id] = [a1].[ScopeId]
ORDER BY [a].[Id], [a0].[Id], [a1].[Id]"
[2020-12-30T11:28:25.0659032+00:00][INFO][22][Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/1.1 GET http://sts.em.host/.well-known/openid-configuration - - - 200 - application/json;+charset=UTF-8 140.6762ms
[2020-12-30T11:28:25.2224405+00:00][INFO][5][Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 GET http://sts.em.host/.well-known/openid-configuration/jwks - -
[2020-12-30T11:28:25.2254265+00:00][INFO][5][IdentityServer4.Hosting.IdentityServerMiddleware] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.DiscoveryKeyEndpoint" for "/.well-known/openid-configuration/jwks"
[2020-12-30T11:28:25.3398644+00:00][INFO][5][Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/1.1 GET http://sts.em.host/.well-known/openid-configuration/jwks - - - 200 - application/json;+charset=UTF-8 117.3614ms
[2020-12-30T11:28:25.4927076+00:00][INFO][20][Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 GET http://sts.em.host/connect/authorize?client_id=urn%3Aem%3Aclient&redirect_uri=https%3A%2F%2Fwww.em.host%2Fadmin%2Fidentity%2Fsignin-oidc&response_type=code&scope=openid%20profile%20email%20roles&code_challenge=3ABYnJHKLx2qDD07fpcBQn-hqqA8euZv622UOLUu5u4&code_challenge_method=S256&response_mode=form_post&nonce=637449245054039371.ZDY5YmU4MDktNzgzMi00MjU4LTg3ZmQtZjhiYmRlMWQ5YWM0NjEyYmI1MDctZDM0My00NTFkLThhYzAtY2ZlNTk4NmFhZTE0&state=CfDJ8ASI9RBeE6hBsIC3rORyZw14YscFsByAFRP3GJ1PSzJOGsCV_2HrYYiwAIrsj2vYcbSBTn2NOYvwO2BrbilwgIfUbAnPjasnK-PgHrFyaK87pX0GVkl7nMQq-QIYmrosMFD8FvESV6NtWr6D8wSdzfDFqURVzU4VI-2_hhp-szmn7srbCKc-AjNWDhep5WCtGqwLankoIGpg8xrGj-ZNQUu7BB0MO2GTr_5Z-svYrBHjFzGJl1gI7YU2FEHTTAhup4PqFwi-3RIOkHI8uX17-S1mPzoeNCQv7DMhUj2gAqcQIsPhxVsBZQDDLbbeuOTC0mULC2Qm4drKue7G-uu1REX64kgeJOciUGOZfwnZ5_boHdkM5SR-ZiMuesoE_rcgmw&x-client-SKU=ID_NETSTANDARD2_0&x-client-ver=5.6.0.0 - -
[2020-12-30T11:28:25.6165347+00:00][INFO][20][IdentityServer4.Hosting.IdentityServerMiddleware] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize"
[2020-12-30T11:28:25.6487984+00:00][INFO][20][Microsoft.EntityFrameworkCore.Infrastructure] Entity Framework Core "5.0.1" initialized '"IdentityServerConfigurationDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=EventManager.Identity.Admin.EntityFramework.SqlServer "
[2020-12-30T11:28:25.7203064+00:00][INFO][18][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("31"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c].[Id], [c].[AbsoluteRefreshTokenLifetime], [c].[AccessTokenLifetime], [c].[AccessTokenType], [c].[AllowAccessTokensViaBrowser], [c].[AllowOfflineAccess], [c].[AllowPlainTextPkce], [c].[AllowRememberConsent], [c].[AllowedIdentityTokenSigningAlgorithms], [c].[AlwaysIncludeUserClaimsInIdToken], [c].[AlwaysSendClientClaims], [c].[AuthorizationCodeLifetime], [c].[BackChannelLogoutSessionRequired], [c].[BackChannelLogoutUri], [c].[ClientClaimsPrefix], [c].[ClientId], [c].[ClientName], [c].[ClientUri], [c].[ConsentLifetime], [c].[Created], [c].[Description], [c].[DeviceCodeLifetime], [c].[EnableLocalLogin], [c].[Enabled], [c].[FrontChannelLogoutSessionRequired], [c].[FrontChannelLogoutUri], [c].[IdentityTokenLifetime], [c].[IncludeJwtId], [c].[LastAccessed], [c].[LogoUri], [c].[NonEditable], [c].[PairWiseSubjectSalt], [c].[ProtocolType], [c].[RefreshTokenExpiration], [c].[RefreshTokenUsage], [c].[RequireClientSecret], [c].[RequireConsent], [c].[RequirePkce], [c].[RequireRequestObject], [c].[SlidingRefreshTokenLifetime], [c].[UpdateAccessTokenClaimsOnRefresh], [c].[Updated], [c].[UserCodeType], [c].[UserSsoLifetime]
FROM [Clients] AS [c]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T11:28:25.8901154+00:00][INFO][23][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("11"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[Origin]
FROM [Clients] AS [c]
INNER JOIN [ClientCorsOrigins] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T11:28:25.9274907+00:00][INFO][18][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("9"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[GrantType]
FROM [Clients] AS [c]
INNER JOIN [ClientGrantTypes] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T11:28:25.9713173+00:00][INFO][23][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("5"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[Scope]
FROM [Clients] AS [c]
INNER JOIN [ClientScopes] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T11:28:26.0232067+00:00][INFO][22][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("16"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[Type], [c0].[Value]
FROM [Clients] AS [c]
INNER JOIN [ClientClaims] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T11:28:26.0770193+00:00][INFO][21][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("25"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[Created], [c0].[Description], [c0].[Expiration], [c0].[Type], [c0].[Value]
FROM [Clients] AS [c]
INNER JOIN [ClientSecrets] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T11:28:26.1321389+00:00][INFO][16][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("6"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[Provider]
FROM [Clients] AS [c]
INNER JOIN [ClientIdPRestrictions] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T11:28:26.1595030+00:00][INFO][21][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("8"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[PostLogoutRedirectUri]
FROM [Clients] AS [c]
INNER JOIN [ClientPostLogoutRedirectUris] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T11:28:26.1903776+00:00][INFO][21][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("4"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[Key], [c0].[Value]
FROM [Clients] AS [c]
INNER JOIN [ClientProperties] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T11:28:26.2097722+00:00][INFO][4][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("6"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[RedirectUri]
FROM [Clients] AS [c]
INNER JOIN [ClientRedirectUris] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T11:28:26.5855695+00:00][WARN][4][Microsoft.EntityFrameworkCore.Query] Compiling a query which loads related collections for more than one collection navigation either via 'Include' or through projection but no 'QuerySplittingBehavior' has been configured. By default Entity Framework will use 'QuerySplittingBehavior.SingleQuery' which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'
[2020-12-30T11:28:26.6250255+00:00][INFO][16][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("16"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [i].[Id], [i].[Created], [i].[Description], [i].[DisplayName], [i].[Emphasize], [i].[Enabled], [i].[Name], [i].[NonEditable], [i].[Required], [i].[ShowInDiscoveryDocument], [i].[Updated], [i0].[Id], [i0].[IdentityResourceId], [i0].[Type], [i1].[Id], [i1].[IdentityResourceId], [i1].[Key], [i1].[Value]
FROM [IdentityResources] AS [i]
LEFT JOIN [IdentityResourceClaims] AS [i0] ON [i].[Id] = [i0].[IdentityResourceId]
LEFT JOIN [IdentityResourceProperties] AS [i1] ON [i].[Id] = [i1].[IdentityResourceId]
WHERE [i].[Name] IN (N'openid', N'profile', N'email', N'roles')
ORDER BY [i].[Id], [i0].[Id], [i1].[Id]"
[2020-12-30T11:28:26.6534955+00:00][WARN][16][Microsoft.EntityFrameworkCore.Query] Compiling a query which loads related collections for more than one collection navigation either via 'Include' or through projection but no 'QuerySplittingBehavior' has been configured. By default Entity Framework will use 'QuerySplittingBehavior.SingleQuery' which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'
[2020-12-30T11:28:26.7433660+00:00][INFO][16][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("22"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [a].[Id], [a].[AllowedAccessTokenSigningAlgorithms], [a].[Created], [a].[Description], [a].[DisplayName], [a].[Enabled], [a].[LastAccessed], [a].[Name], [a].[NonEditable], [a].[ShowInDiscoveryDocument], [a].[Updated], [a0].[Id], [a0].[ApiResourceId], [a0].[Created], [a0].[Description], [a0].[Expiration], [a0].[Type], [a0].[Value], [a1].[Id], [a1].[ApiResourceId], [a1].[Scope], [a2].[Id], [a2].[ApiResourceId], [a2].[Type], [a3].[Id], [a3].[ApiResourceId], [a3].[Key], [a3].[Value]
FROM [ApiResources] AS [a]
LEFT JOIN [ApiResourceSecrets] AS [a0] ON [a].[Id] = [a0].[ApiResourceId]
LEFT JOIN [ApiResourceScopes] AS [a1] ON [a].[Id] = [a1].[ApiResourceId]
LEFT JOIN [ApiResourceClaims] AS [a2] ON [a].[Id] = [a2].[ApiResourceId]
LEFT JOIN [ApiResourceProperties] AS [a3] ON [a].[Id] = [a3].[ApiResourceId]
WHERE EXISTS (
    SELECT 1
    FROM [ApiResourceScopes] AS [a4]
    WHERE ([a].[Id] = [a4].[ApiResourceId]) AND [a4].[Scope] IN (N'openid', N'profile', N'email', N'roles'))
ORDER BY [a].[Id], [a0].[Id], [a1].[Id], [a2].[Id], [a3].[Id]"
[2020-12-30T11:28:26.7664215+00:00][WARN][16][Microsoft.EntityFrameworkCore.Query] Compiling a query which loads related collections for more than one collection navigation either via 'Include' or through projection but no 'QuerySplittingBehavior' has been configured. By default Entity Framework will use 'QuerySplittingBehavior.SingleQuery' which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'
[2020-12-30T11:28:26.8050327+00:00][INFO][21][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("9"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [a].[Id], [a].[Description], [a].[DisplayName], [a].[Emphasize], [a].[Enabled], [a].[Name], [a].[Required], [a].[ShowInDiscoveryDocument], [a0].[Id], [a0].[ScopeId], [a0].[Type], [a1].[Id], [a1].[Key], [a1].[ScopeId], [a1].[Value]
FROM [ApiScopes] AS [a]
LEFT JOIN [ApiScopeClaims] AS [a0] ON [a].[Id] = [a0].[ScopeId]
LEFT JOIN [ApiScopeProperties] AS [a1] ON [a].[Id] = [a1].[ScopeId]
WHERE [a].[Name] IN (N'openid', N'profile', N'email', N'roles')
ORDER BY [a].[Id], [a0].[Id], [a1].[Id]"
[2020-12-30T11:28:26.8544685+00:00][INFO][21][IdentityServer4.ResponseHandling.AuthorizeInteractionResponseGenerator] Showing login: User is not authenticated
[2020-12-30T11:28:26.8728031+00:00][INFO][21][Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/1.1 GET http://sts.em.host/connect/authorize?client_id=urn%3Aem%3Aclient&redirect_uri=https%3A%2F%2Fwww.em.host%2Fadmin%2Fidentity%2Fsignin-oidc&response_type=code&scope=openid%20profile%20email%20roles&code_challenge=3ABYnJHKLx2qDD07fpcBQn-hqqA8euZv622UOLUu5u4&code_challenge_method=S256&response_mode=form_post&nonce=637449245054039371.ZDY5YmU4MDktNzgzMi00MjU4LTg3ZmQtZjhiYmRlMWQ5YWM0NjEyYmI1MDctZDM0My00NTFkLThhYzAtY2ZlNTk4NmFhZTE0&state=CfDJ8ASI9RBeE6hBsIC3rORyZw14YscFsByAFRP3GJ1PSzJOGsCV_2HrYYiwAIrsj2vYcbSBTn2NOYvwO2BrbilwgIfUbAnPjasnK-PgHrFyaK87pX0GVkl7nMQq-QIYmrosMFD8FvESV6NtWr6D8wSdzfDFqURVzU4VI-2_hhp-szmn7srbCKc-AjNWDhep5WCtGqwLankoIGpg8xrGj-ZNQUu7BB0MO2GTr_5Z-svYrBHjFzGJl1gI7YU2FEHTTAhup4PqFwi-3RIOkHI8uX17-S1mPzoeNCQv7DMhUj2gAqcQIsPhxVsBZQDDLbbeuOTC0mULC2Qm4drKue7G-uu1REX64kgeJOciUGOZfwnZ5_boHdkM5SR-ZiMuesoE_rcgmw&x-client-SKU=ID_NETSTANDARD2_0&x-client-ver=5.6.0.0 - - - 302 0 - 1377.9152ms
[2020-12-30T11:28:26.8991967+00:00][INFO][16][Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 GET http://sts.em.host/Account/Login?ReturnUrl=%2Fconnect%2Fauthorize%2Fcallback%3Fclient_id%3Durn%253Aem%253Aclient%26redirect_uri%3Dhttps%253A%252F%252Fwww.em.host%252Fadmin%252Fidentity%252Fsignin-oidc%26response_type%3Dcode%26scope%3Dopenid%2520profile%2520email%2520roles%26code_challenge%3D3ABYnJHKLx2qDD07fpcBQn-hqqA8euZv622UOLUu5u4%26code_challenge_method%3DS256%26response_mode%3Dform_post%26nonce%3D637449245054039371.ZDY5YmU4MDktNzgzMi00MjU4LTg3ZmQtZjhiYmRlMWQ5YWM0NjEyYmI1MDctZDM0My00NTFkLThhYzAtY2ZlNTk4NmFhZTE0%26state%3DCfDJ8ASI9RBeE6hBsIC3rORyZw14YscFsByAFRP3GJ1PSzJOGsCV_2HrYYiwAIrsj2vYcbSBTn2NOYvwO2BrbilwgIfUbAnPjasnK-PgHrFyaK87pX0GVkl7nMQq-QIYmrosMFD8FvESV6NtWr6D8wSdzfDFqURVzU4VI-2_hhp-szmn7srbCKc-AjNWDhep5WCtGqwLankoIGpg8xrGj-ZNQUu7BB0MO2GTr_5Z-svYrBHjFzGJl1gI7YU2FEHTTAhup4PqFwi-3RIOkHI8uX17-S1mPzoeNCQv7DMhUj2gAqcQIsPhxVsBZQDDLbbeuOTC0mULC2Qm4drKue7G-uu1REX64kgeJOciUGOZfwnZ5_boHdkM5SR-ZiMuesoE_rcgmw%26x-client-SKU%3DID_NETSTANDARD2_0%26x-client-ver%3D5.6.0.0 - -
[2020-12-30T11:28:26.9058872+00:00][INFO][16][Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/1.1 GET http://sts.em.host/Account/Login?ReturnUrl=%2Fconnect%2Fauthorize%2Fcallback%3Fclient_id%3Durn%253Aem%253Aclient%26redirect_uri%3Dhttps%253A%252F%252Fwww.em.host%252Fadmin%252Fidentity%252Fsignin-oidc%26response_type%3Dcode%26scope%3Dopenid%2520profile%2520email%2520roles%26code_challenge%3D3ABYnJHKLx2qDD07fpcBQn-hqqA8euZv622UOLUu5u4%26code_challenge_method%3DS256%26response_mode%3Dform_post%26nonce%3D637449245054039371.ZDY5YmU4MDktNzgzMi00MjU4LTg3ZmQtZjhiYmRlMWQ5YWM0NjEyYmI1MDctZDM0My00NTFkLThhYzAtY2ZlNTk4NmFhZTE0%26state%3DCfDJ8ASI9RBeE6hBsIC3rORyZw14YscFsByAFRP3GJ1PSzJOGsCV_2HrYYiwAIrsj2vYcbSBTn2NOYvwO2BrbilwgIfUbAnPjasnK-PgHrFyaK87pX0GVkl7nMQq-QIYmrosMFD8FvESV6NtWr6D8wSdzfDFqURVzU4VI-2_hhp-szmn7srbCKc-AjNWDhep5WCtGqwLankoIGpg8xrGj-ZNQUu7BB0MO2GTr_5Z-svYrBHjFzGJl1gI7YU2FEHTTAhup4PqFwi-3RIOkHI8uX17-S1mPzoeNCQv7DMhUj2gAqcQIsPhxVsBZQDDLbbeuOTC0mULC2Qm4drKue7G-uu1REX64kgeJOciUGOZfwnZ5_boHdkM5SR-ZiMuesoE_rcgmw%26x-client-SKU%3DID_NETSTANDARD2_0%26x-client-ver%3D5.6.0.0 - - - 404 0 - 6.6285ms
[2020-12-30T11:30:50.2480257+00:00][INFO][27][Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 GET http://sts.em.host/connect/authorize?client_id=urn%3Aem%3Aclient&redirect_uri=https%3A%2F%2Fwww.em.host%2Fadmin%2Fidentity%2Fsignin-oidc&response_type=code&scope=openid%20profile%20email%20roles&code_challenge=iMmbaQNQqvgDBb9LiQWbOuNEBjPWvAuoTliL87gIKrY&code_challenge_method=S256&response_mode=form_post&nonce=637449246501802329.YzUwODVmZTItY2VlNi00MGQyLTk0NTMtY2VlMzI2MjVkMjFjZjc2NGNkYTktZjEzYi00ODVjLWJmZGMtYzM5OWM3NjQxNjQ4&state=CfDJ8ASI9RBeE6hBsIC3rORyZw3eGI_NjvvSwOy0vN93u1mEOItnAGXYeRoXp5-fHQ1685ppv2F4T9xZUvPy04BvZr9VRQeYgbRp4ffskHkHfsKewYr82_DBG1JPk9v4UDUd_ys2CFPqhA_1Lxm8om-6JpEZfUzBdhxfY9loTsiiv10Y3PmeNEoozvLCJIFdPk-igOucge8OdjkP2bKIhbOd1_pp8Gpii4BG6VXUHVuTSHQvLVYzzTG1lKLuCQGYPY2CSmbYOpf3tfR20heVxXuNdUibHxhAxnyOvi2RYA3DKKg0mm1BK4iiv9tjqBhmtPoezDKBpJRzPy9ae3drH3Domi8-6hmxSkXgYrMo7g5-0jBqR-RuwGG8ZGtK2xlLUhIqNw&x-client-SKU=ID_NETSTANDARD2_0&x-client-ver=5.6.0.0 - -
[2020-12-30T11:30:50.2576425+00:00][INFO][27][IdentityServer4.Hosting.IdentityServerMiddleware] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize"
[2020-12-30T11:30:50.2601571+00:00][INFO][27][Microsoft.EntityFrameworkCore.Infrastructure] Entity Framework Core "5.0.1" initialized '"IdentityServerConfigurationDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=EventManager.Identity.Admin.EntityFramework.SqlServer "
[2020-12-30T11:30:50.2650483+00:00][INFO][26][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("3"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c].[Id], [c].[AbsoluteRefreshTokenLifetime], [c].[AccessTokenLifetime], [c].[AccessTokenType], [c].[AllowAccessTokensViaBrowser], [c].[AllowOfflineAccess], [c].[AllowPlainTextPkce], [c].[AllowRememberConsent], [c].[AllowedIdentityTokenSigningAlgorithms], [c].[AlwaysIncludeUserClaimsInIdToken], [c].[AlwaysSendClientClaims], [c].[AuthorizationCodeLifetime], [c].[BackChannelLogoutSessionRequired], [c].[BackChannelLogoutUri], [c].[ClientClaimsPrefix], [c].[ClientId], [c].[ClientName], [c].[ClientUri], [c].[ConsentLifetime], [c].[Created], [c].[Description], [c].[DeviceCodeLifetime], [c].[EnableLocalLogin], [c].[Enabled], [c].[FrontChannelLogoutSessionRequired], [c].[FrontChannelLogoutUri], [c].[IdentityTokenLifetime], [c].[IncludeJwtId], [c].[LastAccessed], [c].[LogoUri], [c].[NonEditable], [c].[PairWiseSubjectSalt], [c].[ProtocolType], [c].[RefreshTokenExpiration], [c].[RefreshTokenUsage], [c].[RequireClientSecret], [c].[RequireConsent], [c].[RequirePkce], [c].[RequireRequestObject], [c].[SlidingRefreshTokenLifetime], [c].[UpdateAccessTokenClaimsOnRefresh], [c].[Updated], [c].[UserCodeType], [c].[UserSsoLifetime]
FROM [Clients] AS [c]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T11:30:50.3028499+00:00][INFO][26][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("25"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[Origin]
FROM [Clients] AS [c]
INNER JOIN [ClientCorsOrigins] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T11:30:50.4016747+00:00][INFO][16][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("4"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[GrantType]
FROM [Clients] AS [c]
INNER JOIN [ClientGrantTypes] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T11:30:50.4120453+00:00][INFO][16][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("6"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[Scope]
FROM [Clients] AS [c]
INNER JOIN [ClientScopes] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T11:30:50.4288625+00:00][INFO][27][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("12"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[Type], [c0].[Value]
FROM [Clients] AS [c]
INNER JOIN [ClientClaims] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T11:30:50.4344377+00:00][INFO][26][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("3"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[Created], [c0].[Description], [c0].[Expiration], [c0].[Type], [c0].[Value]
FROM [Clients] AS [c]
INNER JOIN [ClientSecrets] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T11:30:50.4536781+00:00][INFO][26][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("3"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[Provider]
FROM [Clients] AS [c]
INNER JOIN [ClientIdPRestrictions] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T11:30:50.5075767+00:00][INFO][28][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("22"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[PostLogoutRedirectUri]
FROM [Clients] AS [c]
INNER JOIN [ClientPostLogoutRedirectUris] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T11:30:50.5224315+00:00][INFO][26][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("11"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[Key], [c0].[Value]
FROM [Clients] AS [c]
INNER JOIN [ClientProperties] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T11:30:50.5311107+00:00][INFO][28][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("4"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[RedirectUri]
FROM [Clients] AS [c]
INNER JOIN [ClientRedirectUris] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T11:30:50.5849671+00:00][INFO][16][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("29"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [i].[Id], [i].[Created], [i].[Description], [i].[DisplayName], [i].[Emphasize], [i].[Enabled], [i].[Name], [i].[NonEditable], [i].[Required], [i].[ShowInDiscoveryDocument], [i].[Updated], [i0].[Id], [i0].[IdentityResourceId], [i0].[Type], [i1].[Id], [i1].[IdentityResourceId], [i1].[Key], [i1].[Value]
FROM [IdentityResources] AS [i]
LEFT JOIN [IdentityResourceClaims] AS [i0] ON [i].[Id] = [i0].[IdentityResourceId]
LEFT JOIN [IdentityResourceProperties] AS [i1] ON [i].[Id] = [i1].[IdentityResourceId]
WHERE [i].[Name] IN (N'openid', N'profile', N'email', N'roles')
ORDER BY [i].[Id], [i0].[Id], [i1].[Id]"
[2020-12-30T11:30:50.5992679+00:00][INFO][16][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("7"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [a].[Id], [a].[AllowedAccessTokenSigningAlgorithms], [a].[Created], [a].[Description], [a].[DisplayName], [a].[Enabled], [a].[LastAccessed], [a].[Name], [a].[NonEditable], [a].[ShowInDiscoveryDocument], [a].[Updated], [a0].[Id], [a0].[ApiResourceId], [a0].[Created], [a0].[Description], [a0].[Expiration], [a0].[Type], [a0].[Value], [a1].[Id], [a1].[ApiResourceId], [a1].[Scope], [a2].[Id], [a2].[ApiResourceId], [a2].[Type], [a3].[Id], [a3].[ApiResourceId], [a3].[Key], [a3].[Value]
FROM [ApiResources] AS [a]
LEFT JOIN [ApiResourceSecrets] AS [a0] ON [a].[Id] = [a0].[ApiResourceId]
LEFT JOIN [ApiResourceScopes] AS [a1] ON [a].[Id] = [a1].[ApiResourceId]
LEFT JOIN [ApiResourceClaims] AS [a2] ON [a].[Id] = [a2].[ApiResourceId]
LEFT JOIN [ApiResourceProperties] AS [a3] ON [a].[Id] = [a3].[ApiResourceId]
WHERE EXISTS (
    SELECT 1
    FROM [ApiResourceScopes] AS [a4]
    WHERE ([a].[Id] = [a4].[ApiResourceId]) AND [a4].[Scope] IN (N'openid', N'profile', N'email', N'roles'))
ORDER BY [a].[Id], [a0].[Id], [a1].[Id], [a2].[Id], [a3].[Id]"
[2020-12-30T11:30:50.6041606+00:00][INFO][27][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [a].[Id], [a].[Description], [a].[DisplayName], [a].[Emphasize], [a].[Enabled], [a].[Name], [a].[Required], [a].[ShowInDiscoveryDocument], [a0].[Id], [a0].[ScopeId], [a0].[Type], [a1].[Id], [a1].[Key], [a1].[ScopeId], [a1].[Value]
FROM [ApiScopes] AS [a]
LEFT JOIN [ApiScopeClaims] AS [a0] ON [a].[Id] = [a0].[ScopeId]
LEFT JOIN [ApiScopeProperties] AS [a1] ON [a].[Id] = [a1].[ScopeId]
WHERE [a].[Name] IN (N'openid', N'profile', N'email', N'roles')
ORDER BY [a].[Id], [a0].[Id], [a1].[Id]"
[2020-12-30T11:30:50.6456369+00:00][INFO][26][IdentityServer4.ResponseHandling.AuthorizeInteractionResponseGenerator] Showing login: User is not authenticated
[2020-12-30T11:30:50.6538778+00:00][INFO][26][Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/1.1 GET http://sts.em.host/connect/authorize?client_id=urn%3Aem%3Aclient&redirect_uri=https%3A%2F%2Fwww.em.host%2Fadmin%2Fidentity%2Fsignin-oidc&response_type=code&scope=openid%20profile%20email%20roles&code_challenge=iMmbaQNQqvgDBb9LiQWbOuNEBjPWvAuoTliL87gIKrY&code_challenge_method=S256&response_mode=form_post&nonce=637449246501802329.YzUwODVmZTItY2VlNi00MGQyLTk0NTMtY2VlMzI2MjVkMjFjZjc2NGNkYTktZjEzYi00ODVjLWJmZGMtYzM5OWM3NjQxNjQ4&state=CfDJ8ASI9RBeE6hBsIC3rORyZw3eGI_NjvvSwOy0vN93u1mEOItnAGXYeRoXp5-fHQ1685ppv2F4T9xZUvPy04BvZr9VRQeYgbRp4ffskHkHfsKewYr82_DBG1JPk9v4UDUd_ys2CFPqhA_1Lxm8om-6JpEZfUzBdhxfY9loTsiiv10Y3PmeNEoozvLCJIFdPk-igOucge8OdjkP2bKIhbOd1_pp8Gpii4BG6VXUHVuTSHQvLVYzzTG1lKLuCQGYPY2CSmbYOpf3tfR20heVxXuNdUibHxhAxnyOvi2RYA3DKKg0mm1BK4iiv9tjqBhmtPoezDKBpJRzPy9ae3drH3Domi8-6hmxSkXgYrMo7g5-0jBqR-RuwGG8ZGtK2xlLUhIqNw&x-client-SKU=ID_NETSTANDARD2_0&x-client-ver=5.6.0.0 - - - 302 0 - 405.5593ms
[2020-12-30T11:30:50.6945986+00:00][INFO][32][Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 GET http://sts.em.host/Account/Login?ReturnUrl=%2Fconnect%2Fauthorize%2Fcallback%3Fclient_id%3Durn%253Aem%253Aclient%26redirect_uri%3Dhttps%253A%252F%252Fwww.em.host%252Fadmin%252Fidentity%252Fsignin-oidc%26response_type%3Dcode%26scope%3Dopenid%2520profile%2520email%2520roles%26code_challenge%3DiMmbaQNQqvgDBb9LiQWbOuNEBjPWvAuoTliL87gIKrY%26code_challenge_method%3DS256%26response_mode%3Dform_post%26nonce%3D637449246501802329.YzUwODVmZTItY2VlNi00MGQyLTk0NTMtY2VlMzI2MjVkMjFjZjc2NGNkYTktZjEzYi00ODVjLWJmZGMtYzM5OWM3NjQxNjQ4%26state%3DCfDJ8ASI9RBeE6hBsIC3rORyZw3eGI_NjvvSwOy0vN93u1mEOItnAGXYeRoXp5-fHQ1685ppv2F4T9xZUvPy04BvZr9VRQeYgbRp4ffskHkHfsKewYr82_DBG1JPk9v4UDUd_ys2CFPqhA_1Lxm8om-6JpEZfUzBdhxfY9loTsiiv10Y3PmeNEoozvLCJIFdPk-igOucge8OdjkP2bKIhbOd1_pp8Gpii4BG6VXUHVuTSHQvLVYzzTG1lKLuCQGYPY2CSmbYOpf3tfR20heVxXuNdUibHxhAxnyOvi2RYA3DKKg0mm1BK4iiv9tjqBhmtPoezDKBpJRzPy9ae3drH3Domi8-6hmxSkXgYrMo7g5-0jBqR-RuwGG8ZGtK2xlLUhIqNw%26x-client-SKU%3DID_NETSTANDARD2_0%26x-client-ver%3D5.6.0.0 - -
[2020-12-30T11:30:50.7032549+00:00][INFO][32][Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/1.1 GET http://sts.em.host/Account/Login?ReturnUrl=%2Fconnect%2Fauthorize%2Fcallback%3Fclient_id%3Durn%253Aem%253Aclient%26redirect_uri%3Dhttps%253A%252F%252Fwww.em.host%252Fadmin%252Fidentity%252Fsignin-oidc%26response_type%3Dcode%26scope%3Dopenid%2520profile%2520email%2520roles%26code_challenge%3DiMmbaQNQqvgDBb9LiQWbOuNEBjPWvAuoTliL87gIKrY%26code_challenge_method%3DS256%26response_mode%3Dform_post%26nonce%3D637449246501802329.YzUwODVmZTItY2VlNi00MGQyLTk0NTMtY2VlMzI2MjVkMjFjZjc2NGNkYTktZjEzYi00ODVjLWJmZGMtYzM5OWM3NjQxNjQ4%26state%3DCfDJ8ASI9RBeE6hBsIC3rORyZw3eGI_NjvvSwOy0vN93u1mEOItnAGXYeRoXp5-fHQ1685ppv2F4T9xZUvPy04BvZr9VRQeYgbRp4ffskHkHfsKewYr82_DBG1JPk9v4UDUd_ys2CFPqhA_1Lxm8om-6JpEZfUzBdhxfY9loTsiiv10Y3PmeNEoozvLCJIFdPk-igOucge8OdjkP2bKIhbOd1_pp8Gpii4BG6VXUHVuTSHQvLVYzzTG1lKLuCQGYPY2CSmbYOpf3tfR20heVxXuNdUibHxhAxnyOvi2RYA3DKKg0mm1BK4iiv9tjqBhmtPoezDKBpJRzPy9ae3drH3Domi8-6hmxSkXgYrMo7g5-0jBqR-RuwGG8ZGtK2xlLUhIqNw%26x-client-SKU%3DID_NETSTANDARD2_0%26x-client-ver%3D5.6.0.0 - - - 404 0 - 8.6518ms
[2020-12-30T11:33:07.2540036+00:00][INFO][34][Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 GET http://sts.em.host:50003/Account/Login?ReturnUrl=%2Fconnect%2Fauthorize%2Fcallback%3Fclient_id%3Durn%253Aem%253Aclient%26redirect_uri%3Dhttps%253A%252F%252Fwww.em.host%252Fadmin%252Fidentity%252Fsignin-oidc%26response_type%3Dcode%26scope%3Dopenid%2520profile%2520email%2520roles%26code_challenge%3DiMmbaQNQqvgDBb9LiQWbOuNEBjPWvAuoTliL87gIKrY%26code_challenge_method%3DS256%26response_mode%3Dform_post%26nonce%3D637449246501802329.YzUwODVmZTItY2VlNi00MGQyLTk0NTMtY2VlMzI2MjVkMjFjZjc2NGNkYTktZjEzYi00ODVjLWJmZGMtYzM5OWM3NjQxNjQ4%26state%3DCfDJ8ASI9RBeE6hBsIC3rORyZw3eGI_NjvvSwOy0vN93u1mEOItnAGXYeRoXp5-fHQ1685ppv2F4T9xZUvPy04BvZr9VRQeYgbRp4ffskHkHfsKewYr82_DBG1JPk9v4UDUd_ys2CFPqhA_1Lxm8om-6JpEZfUzBdhxfY9loTsiiv10Y3PmeNEoozvLCJIFdPk-igOucge8OdjkP2bKIhbOd1_pp8Gpii4BG6VXUHVuTSHQvLVYzzTG1lKLuCQGYPY2CSmbYOpf3tfR20heVxXuNdUibHxhA[2020-12-30T11:36:49.2665035+00:00][INFO][1][Microsoft.EntityFrameworkCore.Infrastructure] Entity Framework Core "5.0.1" initialized '"IdentityServerDataProtectionDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=EventManager.Identity.Admin.EntityFramework.SqlServer "
[2020-12-30T11:36:50.9439766+00:00][INFO][1][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("48"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [d].[Id], [d].[FriendlyName], [d].[Xml]
FROM [DataProtectionKeys] AS [d]"
[2020-12-30T11:36:51.1244527+00:00][INFO][1][IdentityServer4.Startup] Starting IdentityServer4 version "4.1.1+cebd52f5bc61bdefc262fd20739d4d087c6f961f"
[2020-12-30T11:36:51.2200911+00:00][INFO][1][IdentityServer4.Startup] Using the default authentication scheme "Identity.Application" for IdentityServer
[2020-12-30T11:36:51.8084977+00:00][INFO][1][Microsoft.Hosting.Lifetime] Now listening on: "http://[::]:50003"
[2020-12-30T11:36:51.8127493+00:00][INFO][1][Microsoft.Hosting.Lifetime] Application started. Press Ctrl+C to shut down.
[2020-12-30T11:36:51.8172382+00:00][INFO][1][Microsoft.Hosting.Lifetime] Hosting environment: "Development"
[2020-12-30T11:36:51.8201772+00:00][INFO][1][Microsoft.Hosting.Lifetime] Content root path: "/app"
[2020-12-30T11:37:33.8590739+00:00][INFO][14][Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 GET http://sts.em.host:50003/Account/ - -
[2020-12-30T11:37:34.0378205+00:00][INFO][14][Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/1.1 GET http://sts.em.host:50003/Account/ - - - 404 0 - 179.9637ms
[2020-12-30T11:37:51.8814882+00:00][INFO][15][Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 GET http://sts.em.host/.well-known/openid-configuration - -
[2020-12-30T11:37:51.9226839+00:00][INFO][15][IdentityServer4.Hosting.IdentityServerMiddleware] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.DiscoveryEndpoint" for "/.well-known/openid-configuration"
[2020-12-30T11:37:52.4218083+00:00][INFO][15][Microsoft.EntityFrameworkCore.Infrastructure] Entity Framework Core "5.0.1" initialized '"IdentityServerConfigurationDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=EventManager.Identity.Admin.EntityFramework.SqlServer "
[2020-12-30T11:37:52.5927983+00:00][WARN][15][Microsoft.EntityFrameworkCore.Query] Compiling a query which loads related collections for more than one collection navigation either via 'Include' or through projection but no 'QuerySplittingBehavior' has been configured. By default Entity Framework will use 'QuerySplittingBehavior.SingleQuery' which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'
[2020-12-30T11:37:52.6805273+00:00][INFO][12][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("22"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [i].[Id], [i].[Created], [i].[Description], [i].[DisplayName], [i].[Emphasize], [i].[Enabled], [i].[Name], [i].[NonEditable], [i].[Required], [i].[ShowInDiscoveryDocument], [i].[Updated], [i0].[Id], [i0].[IdentityResourceId], [i0].[Type], [i1].[Id], [i1].[IdentityResourceId], [i1].[Key], [i1].[Value]
FROM [IdentityResources] AS [i]
LEFT JOIN [IdentityResourceClaims] AS [i0] ON [i].[Id] = [i0].[IdentityResourceId]
LEFT JOIN [IdentityResourceProperties] AS [i1] ON [i].[Id] = [i1].[IdentityResourceId]
ORDER BY [i].[Id], [i0].[Id], [i1].[Id]"
[2020-12-30T11:37:52.8365826+00:00][WARN][12][Microsoft.EntityFrameworkCore.Query] Compiling a query which loads related collections for more than one collection navigation either via 'Include' or through projection but no 'QuerySplittingBehavior' has been configured. By default Entity Framework will use 'QuerySplittingBehavior.SingleQuery' which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'
[2020-12-30T11:37:52.8859297+00:00][INFO][13][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("5"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [a].[Id], [a].[AllowedAccessTokenSigningAlgorithms], [a].[Created], [a].[Description], [a].[DisplayName], [a].[Enabled], [a].[LastAccessed], [a].[Name], [a].[NonEditable], [a].[ShowInDiscoveryDocument], [a].[Updated], [a0].[Id], [a0].[ApiResourceId], [a0].[Created], [a0].[Description], [a0].[Expiration], [a0].[Type], [a0].[Value], [a1].[Id], [a1].[ApiResourceId], [a1].[Scope], [a2].[Id], [a2].[ApiResourceId], [a2].[Type], [a3].[Id], [a3].[ApiResourceId], [a3].[Key], [a3].[Value]
FROM [ApiResources] AS [a]
LEFT JOIN [ApiResourceSecrets] AS [a0] ON [a].[Id] = [a0].[ApiResourceId]
LEFT JOIN [ApiResourceScopes] AS [a1] ON [a].[Id] = [a1].[ApiResourceId]
LEFT JOIN [ApiResourceClaims] AS [a2] ON [a].[Id] = [a2].[ApiResourceId]
LEFT JOIN [ApiResourceProperties] AS [a3] ON [a].[Id] = [a3].[ApiResourceId]
ORDER BY [a].[Id], [a0].[Id], [a1].[Id], [a2].[Id], [a3].[Id]"
[2020-12-30T11:37:52.9062300+00:00][WARN][13][Microsoft.EntityFrameworkCore.Query] Compiling a query which loads related collections for more than one collection navigation either via 'Include' or through projection but no 'QuerySplittingBehavior' has been configured. By default Entity Framework will use 'QuerySplittingBehavior.SingleQuery' which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'
[2020-12-30T11:37:52.9517564+00:00][INFO][15][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [a].[Id], [a].[Description], [a].[DisplayName], [a].[Emphasize], [a].[Enabled], [a].[Name], [a].[Required], [a].[ShowInDiscoveryDocument], [a0].[Id], [a0].[ScopeId], [a0].[Type], [a1].[Id], [a1].[Key], [a1].[ScopeId], [a1].[Value]
FROM [ApiScopes] AS [a]
LEFT JOIN [ApiScopeClaims] AS [a0] ON [a].[Id] = [a0].[ScopeId]
LEFT JOIN [ApiScopeProperties] AS [a1] ON [a].[Id] = [a1].[ScopeId]
ORDER BY [a].[Id], [a0].[Id], [a1].[Id]"
[2020-12-30T11:37:53.5178841+00:00][INFO][15][Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/1.1 GET http://sts.em.host/.well-known/openid-configuration - - - 200 - application/json;+charset=UTF-8 1636.3825ms
[2020-12-30T11:37:53.6668562+00:00][INFO][15][Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 GET http://sts.em.host/.well-known/openid-configuration/jwks - -
[2020-12-30T11:37:53.6779264+00:00][INFO][15][IdentityServer4.Hosting.IdentityServerMiddleware] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.DiscoveryKeyEndpoint" for "/.well-known/openid-configuration/jwks"
[2020-12-30T11:37:53.7331575+00:00][INFO][15][Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/1.1 GET http://sts.em.host/.well-known/openid-configuration/jwks - - - 200 - application/json;+charset=UTF-8 64.3161ms
[2020-12-30T11:37:53.8908804+00:00][INFO][12][Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 GET http://sts.em.host/connect/authorize?client_id=urn%3Aem%3Aclient&redirect_uri=https%3A%2F%2Fwww.em.host%2Fadmin%2Fidentity%2Fsignin-oidc&response_type=code&scope=openid%20profile%20email%20roles&code_challenge=vIWM4VXMMFlBlAp3GPPQAXhTgwdyRtivCKFk_DBd3-4&code_challenge_method=S256&response_mode=form_post&nonce=637449250737825609.MDMxYmYwMDctNjZjOS00Mzg4LWE0MzQtNWE0MGQ0N2RkNGViMDJkMWM0OTAtMzE1My00N2IwLTg2MGQtMGQ4YjE4YjU0N2Ex&state=CfDJ8ASI9RBeE6hBsIC3rORyZw1xOj_21Bn5wfkE8AXYjYMuonyK-7aoVuz4TP6r7cn1eLODB1z98A0V0BzDAW1qsZ1euAkGk_M_6x0hoxU9EdaeSh2JW_AKasZapiKCaAesd1WSKjkwPtrBrS7lkPJ76bEHBdhLzTYxVYE7OqB2ZKJqdXbmahElkwpk6EmC2fu_OBIjdu_oskb3bXor3YnGZVlGPgQxVVeyKP27CAFWRh-DlRbNX7kMezJCyijs-xnIscLfAqylhyup1YmGGUKx2tkY_lKV3YtWEpIGeJpp5octDh3VoTu3-nLqaPE55-BEW5435oLTskzjxuRmG4dwE1BzISF_hfBld2IW5lGddC2SoLlO5e6uAfEqXZ5mN2jcgA&x-client-SKU=ID_NETSTANDARD2_0&x-client-ver=5.6.0.0 - -
[2020-12-30T11:37:53.9227260+00:00][INFO][12][IdentityServer4.Hosting.IdentityServerMiddleware] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize"
[2020-12-30T11:37:53.9663702+00:00][INFO][12][Microsoft.EntityFrameworkCore.Infrastructure] Entity Framework Core "5.0.1" initialized '"IdentityServerConfigurationDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=EventManager.Identity.Admin.EntityFramework.SqlServer "
[2020-12-30T11:37:54.0276020+00:00][INFO][17][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("22"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c].[Id], [c].[AbsoluteRefreshTokenLifetime], [c].[AccessTokenLifetime], [c].[AccessTokenType], [c].[AllowAccessTokensViaBrowser], [c].[AllowOfflineAccess], [c].[AllowPlainTextPkce], [c].[AllowRememberConsent], [c].[AllowedIdentityTokenSigningAlgorithms], [c].[AlwaysIncludeUserClaimsInIdToken], [c].[AlwaysSendClientClaims], [c].[AuthorizationCodeLifetime], [c].[BackChannelLogoutSessionRequired], [c].[BackChannelLogoutUri], [c].[ClientClaimsPrefix], [c].[ClientId], [c].[ClientName], [c].[ClientUri], [c].[ConsentLifetime], [c].[Created], [c].[Description], [c].[DeviceCodeLifetime], [c].[EnableLocalLogin], [c].[Enabled], [c].[FrontChannelLogoutSessionRequired], [c].[FrontChannelLogoutUri], [c].[IdentityTokenLifetime], [c].[IncludeJwtId], [c].[LastAccessed], [c].[LogoUri], [c].[NonEditable], [c].[PairWiseSubjectSalt], [c].[ProtocolType], [c].[RefreshTokenExpiration], [c].[RefreshTokenUsage], [c].[RequireClientSecret], [c].[RequireConsent], [c].[RequirePkce], [c].[RequireRequestObject], [c].[SlidingRefreshTokenLifetime], [c].[UpdateAccessTokenClaimsOnRefresh], [c].[Updated], [c].[UserCodeType], [c].[UserSsoLifetime]
FROM [Clients] AS [c]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T11:37:54.1531538+00:00][INFO][12][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("3"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[Origin]
FROM [Clients] AS [c]
INNER JOIN [ClientCorsOrigins] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T11:37:54.1905980+00:00][INFO][4][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("2"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[GrantType]
FROM [Clients] AS [c]
INNER JOIN [ClientGrantTypes] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T11:37:54.2106493+00:00][INFO][16][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("2"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[Scope]
FROM [Clients] AS [c]
INNER JOIN [ClientScopes] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T11:37:54.2390285+00:00][INFO][16][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("3"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[Type], [c0].[Value]
FROM [Clients] AS [c]
INNER JOIN [ClientClaims] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T11:37:54.2683697+00:00][INFO][4][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("2"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[Created], [c0].[Description], [c0].[Expiration], [c0].[Type], [c0].[Value]
FROM [Clients] AS [c]
INNER JOIN [ClientSecrets] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T11:37:54.3189250+00:00][INFO][13][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("2"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[Provider]
FROM [Clients] AS [c]
INNER JOIN [ClientIdPRestrictions] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T11:37:54.3362100+00:00][INFO][16][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("3"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[PostLogoutRedirectUri]
FROM [Clients] AS [c]
INNER JOIN [ClientPostLogoutRedirectUris] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T11:37:54.3823620+00:00][INFO][6][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("2"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[Key], [c0].[Value]
FROM [Clients] AS [c]
INNER JOIN [ClientProperties] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T11:37:54.4285454+00:00][INFO][17][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("23"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[RedirectUri]
FROM [Clients] AS [c]
INNER JOIN [ClientRedirectUris] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T11:37:54.6864782+00:00][WARN][17][Microsoft.EntityFrameworkCore.Query] Compiling a query which loads related collections for more than one collection navigation either via 'Include' or through projection but no 'QuerySplittingBehavior' has been configured. By default Entity Framework will use 'QuerySplittingBehavior.SingleQuery' which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'
[2020-12-30T11:37:54.7179671+00:00][INFO][4][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [i].[Id], [i].[Created], [i].[Description], [i].[DisplayName], [i].[Emphasize], [i].[Enabled], [i].[Name], [i].[NonEditable], [i].[Required], [i].[ShowInDiscoveryDocument], [i].[Updated], [i0].[Id], [i0].[IdentityResourceId], [i0].[Type], [i1].[Id], [i1].[IdentityResourceId], [i1].[Key], [i1].[Value]
FROM [IdentityResources] AS [i]
LEFT JOIN [IdentityResourceClaims] AS [i0] ON [i].[Id] = [i0].[IdentityResourceId]
LEFT JOIN [IdentityResourceProperties] AS [i1] ON [i].[Id] = [i1].[IdentityResourceId]
WHERE [i].[Name] IN (N'openid', N'profile', N'email', N'roles')
ORDER BY [i].[Id], [i0].[Id], [i1].[Id]"
[2020-12-30T11:37:54.7507701+00:00][WARN][4][Microsoft.EntityFrameworkCore.Query] Compiling a query which loads related collections for more than one collection navigation either via 'Include' or through projection but no 'QuerySplittingBehavior' has been configured. By default Entity Framework will use 'QuerySplittingBehavior.SingleQuery' which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'
[2020-12-30T11:37:54.7897861+00:00][INFO][15][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [a].[Id], [a].[AllowedAccessTokenSigningAlgorithms], [a].[Created], [a].[Description], [a].[DisplayName], [a].[Enabled], [a].[LastAccessed], [a].[Name], [a].[NonEditable], [a].[ShowInDiscoveryDocument], [a].[Updated], [a0].[Id], [a0].[ApiResourceId], [a0].[Created], [a0].[Description], [a0].[Expiration], [a0].[Type], [a0].[Value], [a1].[Id], [a1].[ApiResourceId], [a1].[Scope], [a2].[Id], [a2].[ApiResourceId], [a2].[Type], [a3].[Id], [a3].[ApiResourceId], [a3].[Key], [a3].[Value]
FROM [ApiResources] AS [a]
LEFT JOIN [ApiResourceSecrets] AS [a0] ON [a].[Id] = [a0].[ApiResourceId]
LEFT JOIN [ApiResourceScopes] AS [a1] ON [a].[Id] = [a1].[ApiResourceId]
LEFT JOIN [ApiResourceClaims] AS [a2] ON [a].[Id] = [a2].[ApiResourceId]
LEFT JOIN [ApiResourceProperties] AS [a3] ON [a].[Id] = [a3].[ApiResourceId]
WHERE EXISTS (
    SELECT 1
    FROM [ApiResourceScopes] AS [a4]
    WHERE ([a].[Id] = [a4].[ApiResourceId]) AND [a4].[Scope] IN (N'openid', N'profile', N'email', N'roles'))
ORDER BY [a].[Id], [a0].[Id], [a1].[Id], [a2].[Id], [a3].[Id]"
[2020-12-30T11:37:54.8072935+00:00][WARN][17][Microsoft.EntityFrameworkCore.Query] Compiling a query which loads related collections for more than one collection navigation either via 'Include' or through projection but no 'QuerySplittingBehavior' has been configured. By default Entity Framework will use 'QuerySplittingBehavior.SingleQuery' which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'
[2020-12-30T11:37:54.8270910+00:00][INFO][5][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [a].[Id], [a].[Description], [a].[DisplayName], [a].[Emphasize], [a].[Enabled], [a].[Name], [a].[Required], [a].[ShowInDiscoveryDocument], [a0].[Id], [a0].[ScopeId], [a0].[Type], [a1].[Id], [a1].[Key], [a1].[ScopeId], [a1].[Value]
FROM [ApiScopes] AS [a]
LEFT JOIN [ApiScopeClaims] AS [a0] ON [a].[Id] = [a0].[ScopeId]
LEFT JOIN [ApiScopeProperties] AS [a1] ON [a].[Id] = [a1].[ScopeId]
WHERE [a].[Name] IN (N'openid', N'profile', N'email', N'roles')
ORDER BY [a].[Id], [a0].[Id], [a1].[Id]"
[2020-12-30T11:37:54.8664542+00:00][INFO][5][IdentityServer4.ResponseHandling.AuthorizeInteractionResponseGenerator] Showing login: User is not authenticated
[2020-12-30T11:37:54.8782232+00:00][INFO][5][Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/1.1 GET http://sts.em.host/connect/authorize?client_id=urn%3Aem%3Aclient&redirect_uri=https%3A%2F%2Fwww.em.host%2Fadmin%2Fidentity%2Fsignin-oidc&response_type=code&scope=openid%20profile%20email%20roles&code_challenge=vIWM4VXMMFlBlAp3GPPQAXhTgwdyRtivCKFk_DBd3-4&code_challenge_method=S256&response_mode=form_post&nonce=637449250737825609.MDMxYmYwMDctNjZjOS00Mzg4LWE0MzQtNWE0MGQ0N2RkNGViMDJkMWM0OTAtMzE1My00N2IwLTg2MGQtMGQ4YjE4YjU0N2Ex&state=CfDJ8ASI9RBeE6hBsIC3rORyZw1xOj_21Bn5wfkE8AXYjYMuonyK-7aoVuz4TP6r7cn1eLODB1z98A0V0BzDAW1qsZ1euAkGk_M_6x0hoxU9EdaeSh2JW_AKasZapiKCaAesd1WSKjkwPtrBrS7lkPJ76bEHBdhLzTYxVYE7OqB2ZKJqdXbmahElkwpk6EmC2fu_OBIjdu_oskb3bXor3YnGZVlGPgQxVVeyKP27CAFWRh-DlRbNX7kMezJCyijs-xnIscLfAqylhyup1YmGGUKx2tkY_lKV3YtWEpIGeJpp5octDh3VoTu3-nLqaPE55-BEW5435oLTskzjxuRmG4dwE1BzISF_hfBld2IW5lGddC2SoLlO5e6uAfEqXZ5mN2jcgA&x-client-SKU=ID_NETSTANDARD2_0&x-client-ver=5.6.0.0 - - - 302 0 - 987.2224ms
[2020-12-30T11:37:54.9039255+00:00][INFO][4][Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 GET http://sts.em.host/Account/Login?ReturnUrl=%2Fconnect%2Fauthorize%2Fcallback%3Fclient_id%3Durn%253Aem%253Aclient%26redirect_uri%3Dhttps%253A%252F%252Fwww.em.host%252Fadmin%252Fidentity%252Fsignin-oidc%26response_type%3Dcode%26scope%3Dopenid%2520profile%2520email%2520roles%26code_challenge%3DvIWM4VXMMFlBlAp3GPPQAXhTgwdyRtivCKFk_DBd3-4%26code_challenge_method%3DS256%26response_mode%3Dform_post%26nonce%3D637449250737825609.MDMxYmYwMDctNjZjOS00Mzg4LWE0MzQtNWE0MGQ0N2RkNGViMDJkMWM0OTAtMzE1My00N2IwLTg2MGQtMGQ4YjE4YjU0N2Ex%26state%3DCfDJ8ASI9RBeE6hBsIC3rORyZw1xOj_21Bn5wfkE8AXYjYMuonyK-7aoVuz4TP6r7cn1eLODB1z98A0V0BzDAW1qsZ1euAkGk_M_6x0hoxU9EdaeSh2JW_AKasZapiKCaAesd1WSKjkwPtrBrS7lkPJ76bEHBdhLzTYxVYE7OqB2ZKJqdXbmahElkwpk6EmC2fu_OBIjdu_oskb3bXor3YnGZVlGPgQxVVeyKP27CAFWRh-DlRbNX7kMezJCyijs-xnIscLfAqylhyup1YmGGUKx2tkY_lKV3YtWEpIGeJpp5octDh3VoTu3-nLqaPE55-BEW5435oLTskzjxuRmG4dwE1BzISF_hfBld2IW5lGddC2SoLlO5e6uAfEqXZ5mN2jcgA%26x-client-SKU%3DID_NETSTANDARD2_0%26x-client-ver%3D5.6.0.0 - -
[2020-12-30T11:37:54.9272797+00:00][INFO][4][Microsoft.AspNetCore.Routing.EndpointMiddleware] Executing endpoint '"EventManager.Identity.STS.Identity.Controllers.AccountController<EventManager.Identity.Admin.EntityFramework.Shared.Entities.Identity.UserIdentity, string>.Login (EventManager.Identity.STS.Identity)"'
[2020-12-30T11:37:54.9882998+00:00][INFO][4][Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Route matched with "{action = \"Login\", controller = \"Account\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(System.String)" on controller "EventManager.Identity.STS.Identity.Controllers.AccountController<EventManager.Identity.Admin.EntityFramework.Shared.Entities.Identity.UserIdentity, string>" ("EventManager.Identity.STS.Identity").
[2020-12-30T11:37:55.0697315+00:00][INFO][4][Microsoft.EntityFrameworkCore.Infrastructure] Entity Framework Core "5.0.1" initialized '"IdentityServerConfigurationDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=EventManager.Identity.Admin.EntityFramework.SqlServer "
[2020-12-30T11:37:55.0780788+00:00][INFO][5][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("3"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c].[Id], [c].[AbsoluteRefreshTokenLifetime], [c].[AccessTokenLifetime], [c].[AccessTokenType], [c].[AllowAccessTokensViaBrowser], [c].[AllowOfflineAccess], [c].[AllowPlainTextPkce], [c].[AllowRememberConsent], [c].[AllowedIdentityTokenSigningAlgorithms], [c].[AlwaysIncludeUserClaimsInIdToken], [c].[AlwaysSendClientClaims], [c].[AuthorizationCodeLifetime], [c].[BackChannelLogoutSessionRequired], [c].[BackChannelLogoutUri], [c].[ClientClaimsPrefix], [c].[ClientId], [c].[ClientName], [c].[ClientUri], [c].[ConsentLifetime], [c].[Created], [c].[Description], [c].[DeviceCodeLifetime], [c].[EnableLocalLogin], [c].[Enabled], [c].[FrontChannelLogoutSessionRequired], [c].[FrontChannelLogoutUri], [c].[IdentityTokenLifetime], [c].[IncludeJwtId], [c].[LastAccessed], [c].[LogoUri], [c].[NonEditable], [c].[PairWiseSubjectSalt], [c].[ProtocolType], [c].[RefreshTokenExpiration], [c].[RefreshTokenUsage], [c].[RequireClientSecret], [c].[RequireConsent], [c].[RequirePkce], [c].[RequireRequestObject], [c].[SlidingRefreshTokenLifetime], [c].[UpdateAccessTokenClaimsOnRefresh], [c].[Updated], [c].[UserCodeType], [c].[UserSsoLifetime]
FROM [Clients] AS [c]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T11:37:55.1123591+00:00][INFO][12][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("6"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[Origin]
FROM [Clients] AS [c]
INNER JOIN [ClientCorsOrigins] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T11:37:55.1436426+00:00][INFO][18][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("28"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[GrantType]
FROM [Clients] AS [c]
INNER JOIN [ClientGrantTypes] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T11:37:55.1718806+00:00][INFO][16][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("4"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[Scope]
FROM [Clients] AS [c]
INNER JOIN [ClientScopes] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T11:37:55.2006231+00:00][INFO][14][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("3"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[Type], [c0].[Value]
FROM [Clients] AS [c]
INNER JOIN [ClientClaims] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T11:37:55.2059604+00:00][INFO][13][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("3"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[Created], [c0].[Description], [c0].[Expiration], [c0].[Type], [c0].[Value]
FROM [Clients] AS [c]
INNER JOIN [ClientSecrets] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T11:37:55.2406036+00:00][INFO][15][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("9"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[Provider]
FROM [Clients] AS [c]
INNER JOIN [ClientIdPRestrictions] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T11:37:55.2900599+00:00][INFO][14][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("23"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[PostLogoutRedirectUri]
FROM [Clients] AS [c]
INNER JOIN [ClientPostLogoutRedirectUris] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T11:37:55.2971255+00:00][INFO][12][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("3"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[Key], [c0].[Value]
FROM [Clients] AS [c]
INNER JOIN [ClientProperties] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T11:37:55.3118725+00:00][INFO][17][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("3"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[RedirectUri]
FROM [Clients] AS [c]
INNER JOIN [ClientRedirectUris] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T11:37:55.3272937+00:00][INFO][6][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("11"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [i].[Id], [i].[Created], [i].[Description], [i].[DisplayName], [i].[Emphasize], [i].[Enabled], [i].[Name], [i].[NonEditable], [i].[Required], [i].[ShowInDiscoveryDocument], [i].[Updated], [i0].[Id], [i0].[IdentityResourceId], [i0].[Type], [i1].[Id], [i1].[IdentityResourceId], [i1].[Key], [i1].[Value]
FROM [IdentityResources] AS [i]
LEFT JOIN [IdentityResourceClaims] AS [i0] ON [i].[Id] = [i0].[IdentityResourceId]
LEFT JOIN [IdentityResourceProperties] AS [i1] ON [i].[Id] = [i1].[IdentityResourceId]
WHERE [i].[Name] IN (N'openid', N'profile', N'email', N'roles')
ORDER BY [i].[Id], [i0].[Id], [i1].[Id]"
[2020-12-30T11:37:55.3630009+00:00][INFO][17][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [a].[Id], [a].[AllowedAccessTokenSigningAlgorithms], [a].[Created], [a].[Description], [a].[DisplayName], [a].[Enabled], [a].[LastAccessed], [a].[Name], [a].[NonEditable], [a].[ShowInDiscoveryDocument], [a].[Updated], [a0].[Id], [a0].[ApiResourceId], [a0].[Created], [a0].[Description], [a0].[Expiration], [a0].[Type], [a0].[Value], [a1].[Id], [a1].[ApiResourceId], [a1].[Scope], [a2].[Id], [a2].[ApiResourceId], [a2].[Type], [a3].[Id], [a3].[ApiResourceId], [a3].[Key], [a3].[Value]
FROM [ApiResources] AS [a]
LEFT JOIN [ApiResourceSecrets] AS [a0] ON [a].[Id] = [a0].[ApiResourceId]
LEFT JOIN [ApiResourceScopes] AS [a1] ON [a].[Id] = [a1].[ApiResourceId]
LEFT JOIN [ApiResourceClaims] AS [a2] ON [a].[Id] = [a2].[ApiResourceId]
LEFT JOIN [ApiResourceProperties] AS [a3] ON [a].[Id] = [a3].[ApiResourceId]
WHERE EXISTS (
    SELECT 1
    FROM [ApiResourceScopes] AS [a4]
    WHERE ([a].[Id] = [a4].[ApiResourceId]) AND [a4].[Scope] IN (N'openid', N'profile', N'email', N'roles'))
ORDER BY [a].[Id], [a0].[Id], [a1].[Id], [a2].[Id], [a3].[Id]"
[2020-12-30T11:37:55.3765935+00:00][INFO][6][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("5"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [a].[Id], [a].[Description], [a].[DisplayName], [a].[Emphasize], [a].[Enabled], [a].[Name], [a].[Required], [a].[ShowInDiscoveryDocument], [a0].[Id], [a0].[ScopeId], [a0].[Type], [a1].[Id], [a1].[Key], [a1].[ScopeId], [a1].[Value]
FROM [ApiScopes] AS [a]
LEFT JOIN [ApiScopeClaims] AS [a0] ON [a].[Id] = [a0].[ScopeId]
LEFT JOIN [ApiScopeProperties] AS [a1] ON [a].[Id] = [a1].[ScopeId]
WHERE [a].[Name] IN (N'openid', N'profile', N'email', N'roles')
ORDER BY [a].[Id], [a0].[Id], [a1].[Id]"
[2020-12-30T11:37:55.4329337+00:00][INFO][4][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("25"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c].[Id], [c].[AbsoluteRefreshTokenLifetime], [c].[AccessTokenLifetime], [c].[AccessTokenType], [c].[AllowAccessTokensViaBrowser], [c].[AllowOfflineAccess], [c].[AllowPlainTextPkce], [c].[AllowRememberConsent], [c].[AllowedIdentityTokenSigningAlgorithms], [c].[AlwaysIncludeUserClaimsInIdToken], [c].[AlwaysSendClientClaims], [c].[AuthorizationCodeLifetime], [c].[BackChannelLogoutSessionRequired], [c].[BackChannelLogoutUri], [c].[ClientClaimsPrefix], [c].[ClientId], [c].[ClientName], [c].[ClientUri], [c].[ConsentLifetime], [c].[Created], [c].[Description], [c].[DeviceCodeLifetime], [c].[EnableLocalLogin], [c].[Enabled], [c].[FrontChannelLogoutSessionRequired], [c].[FrontChannelLogoutUri], [c].[IdentityTokenLifetime], [c].[IncludeJwtId], [c].[LastAccessed], [c].[LogoUri], [c].[NonEditable], [c].[PairWiseSubjectSalt], [c].[ProtocolType], [c].[RefreshTokenExpiration], [c].[RefreshTokenUsage], [c].[RequireClientSecret], [c].[RequireConsent], [c].[RequirePkce], [c].[RequireRequestObject], [c].[SlidingRefreshTokenLifetime], [c].[UpdateAccessTokenClaimsOnRefresh], [c].[Updated], [c].[UserCodeType], [c].[UserSsoLifetime]
FROM [Clients] AS [c]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T11:37:55.4387327+00:00][INFO][18][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("3"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[Origin]
FROM [Clients] AS [c]
INNER JOIN [ClientCorsOrigins] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T11:37:55.4594163+00:00][INFO][17][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("8"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[GrantType]
FROM [Clients] AS [c]
INNER JOIN [ClientGrantTypes] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T11:37:55.4725679+00:00][INFO][6][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("9"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[Scope]
FROM [Clients] AS [c]
INNER JOIN [ClientScopes] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T11:37:55.4835479+00:00][INFO][17][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("7"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[Type], [c0].[Value]
FROM [Clients] AS [c]
INNER JOIN [ClientClaims] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T11:37:55.5027951+00:00][INFO][17][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("4"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[Created], [c0].[Description], [c0].[Expiration], [c0].[Type], [c0].[Value]
FROM [Clients] AS [c]
INNER JOIN [ClientSecrets] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T11:37:55.5165610+00:00][INFO][18][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("5"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[Provider]
FROM [Clients] AS [c]
INNER JOIN [ClientIdPRestrictions] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T11:37:55.5310630+00:00][INFO][4][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("10"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[PostLogoutRedirectUri]
FROM [Clients] AS [c]
INNER JOIN [ClientPostLogoutRedirectUris] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T11:37:55.5479384+00:00][INFO][6][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("5"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[Key], [c0].[Value]
FROM [Clients] AS [c]
INNER JOIN [ClientProperties] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T11:37:55.5559907+00:00][INFO][4][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("4"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[RedirectUri]
FROM [Clients] AS [c]
INNER JOIN [ClientRedirectUris] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T11:37:55.6306350+00:00][INFO][4][Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor] Executing ViewResult, running view "Login".
[2020-12-30T11:37:56.8476969+00:00][INFO][4][Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor] Executed ViewResult - view "Login" executed in 1221.1654ms.
[2020-12-30T11:37:56.8552297+00:00][INFO][4][Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Executed action "EventManager.Identity.STS.Identity.Controllers.AccountController<EventManager.Identity.Admin.EntityFramework.Shared.Entities.Identity.UserIdentity, string>.Login (EventManager.Identity.STS.Identity)" in 1862.4772ms
[2020-12-30T11:37:56.8611230+00:00][INFO][4][Microsoft.AspNetCore.Routing.EndpointMiddleware] Executed endpoint '"EventManager.Identity.STS.Identity.Controllers.AccountController<EventManager.Identity.Admin.EntityFramework.Shared.Entities.Identity.UserIdentity, string>.Login (EventManager.Identity.STS.Identity)"'
[2020-12-30T11:37:56.8706436+00:00][INFO][4][Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/1.1 GET http://sts.em.host/Account/Login?ReturnUrl=%2Fconnect%2Fauthorize%2Fcallback%3Fclient_id%3Durn%253Aem%253Aclient%26redirect_uri%3Dhttps%253A%252F%252Fwww.em.host%252Fadmin%252Fidentity%252Fsignin-oidc%26response_type%3Dcode%26scope%3Dopenid%2520profile%2520email%2520roles%26code_challenge%3DvIWM4VXMMFlBlAp3GPPQAXhTgwdyRtivCKFk_DBd3-4%26code_challenge_method%3DS256%26response_mode%3Dform_post%26nonce%3D637449250737825609.MDMxYmYwMDctNjZjOS00Mzg4LWE0MzQtNWE0MGQ0N2RkNGViMDJkMWM0OTAtMzE1My00N2IwLTg2MGQtMGQ4YjE4YjU0N2Ex%26state%3DCfDJ8ASI9RBeE6hBsIC3rORyZw1xOj_21Bn5wfkE8AXYjYMuonyK-7aoVuz4TP6r7cn1eLODB1z98A0V0BzDAW1qsZ1euAkGk_M_6x0hoxU9EdaeSh2JW_AKasZapiKCaAesd1WSKjkwPtrBrS7lkPJ76bEHBdhLzTYxVYE7OqB2ZKJqdXbmahElkwpk6EmC2fu_OBIjdu_oskb3bXor3YnGZVlGPgQxVVeyKP27CAFWRh-DlRbNX7kMezJCyijs-xnIscLfAqylhyup1YmGGUKx2tkY_lKV3YtWEpIGeJpp5octDh3VoTu3-nLqaPE55-BEW5435oLTskzjxuRmG4dwE1BzISF_hfBld2IW5lGddC2SoLlO5e6uAfEqXZ5mN2jcgA%26x-client-SKU%3DID_NETSTANDARD2_0%26x-client-ver%3D5.6.0.0 - - - 200 - text/html;+charset=utf-8 1966.6323ms
[2020-12-30T11:37:57.1258699+00:00][INFO][4][Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 GET http://sts.em.host/dist/css/bundle.min.css?v=6Y8xGSDMhkjYMZuaFSdp3fqA3xdNX-Q6_xp14ExGbY8 - -
[2020-12-30T11:37:57.1675160+00:00][INFO][18][Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 GET http://sts.em.host/dist/css/web.css?v=gzbQ_J4PfKys2r0KpTe01uKRO7lnqK_lEp7OvIB7ZAA - -
[2020-12-30T11:37:57.1912623+00:00][INFO][13][Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 GET http://sts.em.host/dist/js/bundle.min.js?v=11Fw87BWmEIjIw_LrA_JwvJM5t0w9WbTFIog6ElarB0 - -
[2020-12-30T11:37:57.4288627+00:00][INFO][6][Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware] Sending file. Request path: '"/dist/css/web.css"'. Physical path: '"/app/wwwroot/dist/css/web.css"'
[2020-12-30T11:37:57.4286905+00:00][INFO][17][Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware] Sending file. Request path: '"/dist/css/bundle.min.css"'. Physical path: '"/app/wwwroot/dist/css/bundle.min.css"'
[2020-12-30T11:37:57.4306141+00:00][INFO][6][Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/1.1 GET http://sts.em.host/dist/css/web.css?v=gzbQ_J4PfKys2r0KpTe01uKRO7lnqK_lEp7OvIB7ZAA - - - 200 8009 text/css 263.0270ms
[2020-12-30T11:37:57.4432035+00:00][INFO][17][Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/1.1 GET http://sts.em.host/dist/css/bundle.min.css?v=6Y8xGSDMhkjYMZuaFSdp3fqA3xdNX-Q6_xp14ExGbY8 - - - 200 205310 text/css 317.2670ms
[2020-12-30T11:37:57.4994890+00:00][INFO][12][Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware] Sending file. Request path: '"/dist/js/bundle.min.js"'. Physical path: '"/app/wwwroot/dist/js/bundle.min.js"'
[2020-12-30T11:37:57.5046628+00:00][INFO][12][Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/1.1 GET http://sts.em.host/dist/js/bundle.min.js?v=11Fw87BWmEIjIw_LrA_JwvJM5t0w9WbTFIog6ElarB0 - - - 200 250698 application/javascript 313.5458ms
[2020-12-30T11:37:57.6515922+00:00][INFO][13][Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 GET http://sts.em.host/dist/fonts/open-iconic.woff - -
[2020-12-30T11:37:57.6538854+00:00][INFO][5][Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 GET http://sts.em.host/dist/fonts/fontawesome-webfont.woff2?v=4.7.0 - -
[2020-12-30T11:37:57.7532405+00:00][INFO][16][Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware] Sending file. Request path: '"/dist/fonts/open-iconic.woff"'. Physical path: '"/app/wwwroot/dist/fonts/open-iconic.woff"'
[2020-12-30T11:37:57.7997462+00:00][INFO][6][Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/1.1 GET http://sts.em.host/dist/fonts/open-iconic.woff - - - 200 14984 application/font-woff 148.2287ms
[2020-12-30T11:37:57.8199864+00:00][INFO][16][Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware] Sending file. Request path: '"/dist/fonts/fontawesome-webfont.woff2"'. Physical path: '"/app/wwwroot/dist/fonts/fontawesome-webfont.woff2"'
[2020-12-30T11:37:57.8252355+00:00][INFO][16][Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/1.1 GET http://sts.em.host/dist/fonts/fontawesome-webfont.woff2?v=4.7.0 - - - 200 77160 font/woff2 171.2128ms
[2020-12-30T11:38:33.1576910+00:00][INFO][5][Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 GET http://sts.em.host/Account/Login?ReturnUrl=%2Fconnect%2Fauthorize%2Fcallback%3Fclient_id%3Durn%253Aem%253Aclient%26redirect_uri%3Dhttps%253A%252F%252Fwww.em.host%252Fadmin%252Fidentity%252Fsignin-oidc%26response_type%3Dcode%26scope%3Dopenid%2520profile%2520email%2520roles%26code_challenge%3DvIWM4VXMMFlBlAp3GPPQAXhTgwdyRtivCKFk_DBd3-4%26code_challenge_method%3DS256%26response_mode%3Dform_post%26nonce%3D637449250737825609.MDMxYmYwMDctNjZjOS00Mzg4LWE0MzQtNWE0MGQ0N2RkNGViMDJkMWM0OTAtMzE1My00N2IwLTg2MGQtMGQ4YjE4YjU0N2Ex%26state%3DCfDJ8ASI9RBeE6hBsIC3rORyZw1xOj_21Bn5wfkE8AXYjYMuonyK-7aoVuz4TP6r7cn1eLODB1z98A0V0BzDAW1qsZ1euAkGk_M_6x0hoxU9EdaeSh2JW_AKasZapiKCaAesd1WSKjkwPtrBrS7lkPJ76bEHBdhLzTYxVYE7OqB2ZKJqdXbmahElkwpk6EmC2fu_OBIjdu_oskb3bXor3YnGZVlGPgQxVVeyKP27CAFWRh-DlRbNX7kMezJCyijs-xnIscLfAqylhyup1YmGGUKx2tkY_lKV3YtWEpIGeJpp5octDh3VoTu3-nLqaPE55-BEW5435oLTskzjxuRmG4dwE1BzISF_hfBld2IW5lGddC2SoLlO5e6uAfEqXZ5mN2jcgA%26x-client-SKU%3DID_NETSTANDARD2_0%26x-client-ver%3D5.6.0.0 - -
[2020-12-30T11:38:33.1736939+00:00][INFO][5][Microsoft.AspNetCore.Routing.EndpointMiddleware] Executing endpoint '"EventManager.Identity.STS.Identity.Controllers.AccountController<EventManager.Identity.Admin.EntityFramework.Shared.Entities.Identity.UserIdentity, string>.Login (EventManager.Identity.STS.Identity)"'
[2020-12-30T11:38:33.1790453+00:00][INFO][5][Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Route matched with "{action = \"Login\", controller = \"Account\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(System.String)" on controller "EventManager.Identity.STS.Identity.Controllers.AccountController<EventManager.Identity.Admin.EntityFramework.Shared.Entities.Identity.UserIdentity, string>" ("EventManager.Identity.STS.Identity").
[2020-12-30T11:38:33.1899682+00:00][INFO][5][Microsoft.EntityFrameworkCore.Infrastructure] Entity Framework Core "5.0.1" initialized '"IdentityServerConfigurationDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=EventManager.Identity.Admin.EntityFramework.SqlServer "
[2020-12-30T11:38:33.2251820+00:00][INFO][6][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("18"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c].[Id], [c].[AbsoluteRefreshTokenLifetime], [c].[AccessTokenLifetime], [c].[AccessTokenType], [c].[AllowAccessTokensViaBrowser], [c].[AllowOfflineAccess], [c].[AllowPlainTextPkce], [c].[AllowRememberConsent], [c].[AllowedIdentityTokenSigningAlgorithms], [c].[AlwaysIncludeUserClaimsInIdToken], [c].[AlwaysSendClientClaims], [c].[AuthorizationCodeLifetime], [c].[BackChannelLogoutSessionRequired], [c].[BackChannelLogoutUri], [c].[ClientClaimsPrefix], [c].[ClientId], [c].[ClientName], [c].[ClientUri], [c].[ConsentLifetime], [c].[Created], [c].[Description], [c].[DeviceCodeLifetime], [c].[EnableLocalLogin], [c].[Enabled], [c].[FrontChannelLogoutSessionRequired], [c].[FrontChannelLogoutUri], [c].[IdentityTokenLifetime], [c].[IncludeJwtId], [c].[LastAccessed], [c].[LogoUri], [c].[NonEditable], [c].[PairWiseSubjectSalt], [c].[ProtocolType], [c].[RefreshTokenExpiration], [c].[RefreshTokenUsage], [c].[RequireClientSecret], [c].[RequireConsent], [c].[RequirePkce], [c].[RequireRequestObject], [c].[SlidingRefreshTokenLifetime], [c].[UpdateAccessTokenClaimsOnRefresh], [c].[Updated], [c].[UserCodeType], [c].[UserSsoLifetime]
FROM [Clients] AS [c]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T11:38:33.3261650+00:00][INFO][25][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("5"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[Origin]
FROM [Clients] AS [c]
INNER JOIN [ClientCorsOrigins] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T11:38:33.4266426+00:00][INFO][15][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("3"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[GrantType]
FROM [Clients] AS [c]
INNER JOIN [ClientGrantTypes] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T11:38:33.4656832+00:00][INFO][5][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("33"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[Scope]
FROM [Clients] AS [c]
INNER JOIN [ClientScopes] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T11:38:33.4730952+00:00][INFO][25][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("5"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[Type], [c0].[Value]
FROM [Clients] AS [c]
INNER JOIN [ClientClaims] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T11:38:33.4860217+00:00][INFO][15][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("10"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[Created], [c0].[Description], [c0].[Expiration], [c0].[Type], [c0].[Value]
FROM [Clients] AS [c]
INNER JOIN [ClientSecrets] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T11:38:33.5190620+00:00][INFO][25][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("2"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[Provider]
FROM [Clients] AS [c]
INNER JOIN [ClientIdPRestrictions] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T11:38:33.5339844+00:00][INFO][5][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("7"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[PostLogoutRedirectUri]
FROM [Clients] AS [c]
INNER JOIN [ClientPostLogoutRedirectUris] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T11:38:33.5605889+00:00][INFO][15][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("4"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[Key], [c0].[Value]
FROM [Clients] AS [c]
INNER JOIN [ClientProperties] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T11:38:33.5739790+00:00][INFO][25][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("4"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[RedirectUri]
FROM [Clients] AS [c]
INNER JOIN [ClientRedirectUris] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T11:38:33.5907987+00:00][INFO][15][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [i].[Id], [i].[Created], [i].[Description], [i].[DisplayName], [i].[Emphasize], [i].[Enabled], [i].[Name], [i].[NonEditable], [i].[Required], [i].[ShowInDiscoveryDocument], [i].[Updated], [i0].[Id], [i0].[IdentityResourceId], [i0].[Type], [i1].[Id], [i1].[IdentityResourceId], [i1].[Key], [i1].[Value]
FROM [IdentityResources] AS [i]
LEFT JOIN [IdentityResourceClaims] AS [i0] ON [i].[Id] = [i0].[IdentityResourceId]
LEFT JOIN [IdentityResourceProperties] AS [i1] ON [i].[Id] = [i1].[IdentityResourceId]
WHERE [i].[Name] IN (N'openid', N'profile', N'email', N'roles')
ORDER BY [i].[Id], [i0].[Id], [i1].[Id]"
[2020-12-30T11:38:33.6230177+00:00][INFO][6][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [a].[Id], [a].[AllowedAccessTokenSigningAlgorithms], [a].[Created], [a].[Description], [a].[DisplayName], [a].[Enabled], [a].[LastAccessed], [a].[Name], [a].[NonEditable], [a].[ShowInDiscoveryDocument], [a].[Updated], [a0].[Id], [a0].[ApiResourceId], [a0].[Created], [a0].[Description], [a0].[Expiration], [a0].[Type], [a0].[Value], [a1].[Id], [a1].[ApiResourceId], [a1].[Scope], [a2].[Id], [a2].[ApiResourceId], [a2].[Type], [a3].[Id], [a3].[ApiResourceId], [a3].[Key], [a3].[Value]
FROM [ApiResources] AS [a]
LEFT JOIN [ApiResourceSecrets] AS [a0] ON [a].[Id] = [a0].[ApiResourceId]
LEFT JOIN [ApiResourceScopes] AS [a1] ON [a].[Id] = [a1].[ApiResourceId]
LEFT JOIN [ApiResourceClaims] AS [a2] ON [a].[Id] = [a2].[ApiResourceId]
LEFT JOIN [ApiResourceProperties] AS [a3] ON [a].[Id] = [a3].[ApiResourceId]
WHERE EXISTS (
    SELECT 1
    FROM [ApiResourceScopes] AS [a4]
    WHERE ([a].[Id] = [a4].[ApiResourceId]) AND [a4].[Scope] IN (N'openid', N'profile', N'email', N'roles'))
ORDER BY [a].[Id], [a0].[Id], [a1].[Id], [a2].[Id], [a3].[Id]"
[2020-12-30T11:38:33.6357019+00:00][INFO][6][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("10"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [a].[Id], [a].[Description], [a].[DisplayName], [a].[Emphasize], [a].[Enabled], [a].[Name], [a].[Required], [a].[ShowInDiscoveryDocument], [a0].[Id], [a0].[ScopeId], [a0].[Type], [a1].[Id], [a1].[Key], [a1].[ScopeId], [a1].[Value]
FROM [ApiScopes] AS [a]
LEFT JOIN [ApiScopeClaims] AS [a0] ON [a].[Id] = [a0].[ScopeId]
LEFT JOIN [ApiScopeProperties] AS [a1] ON [a].[Id] = [a1].[ScopeId]
WHERE [a].[Name] IN (N'openid', N'profile', N'email', N'roles')
ORDER BY [a].[Id], [a0].[Id], [a1].[Id]"
[2020-12-30T11:38:33.6433489+00:00][INFO][25][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("5"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c].[Id], [c].[AbsoluteRefreshTokenLifetime], [c].[AccessTokenLifetime], [c].[AccessTokenType], [c].[AllowAccessTokensViaBrowser], [c].[AllowOfflineAccess], [c].[AllowPlainTextPkce], [c].[AllowRememberConsent], [c].[AllowedIdentityTokenSigningAlgorithms], [c].[AlwaysIncludeUserClaimsInIdToken], [c].[AlwaysSendClientClaims], [c].[AuthorizationCodeLifetime], [c].[BackChannelLogoutSessionRequired], [c].[BackChannelLogoutUri], [c].[ClientClaimsPrefix], [c].[ClientId], [c].[ClientName], [c].[ClientUri], [c].[ConsentLifetime], [c].[Created], [c].[Description], [c].[DeviceCodeLifetime], [c].[EnableLocalLogin], [c].[Enabled], [c].[FrontChannelLogoutSessionRequired], [c].[FrontChannelLogoutUri], [c].[IdentityTokenLifetime], [c].[IncludeJwtId], [c].[LastAccessed], [c].[LogoUri], [c].[NonEditable], [c].[PairWiseSubjectSalt], [c].[ProtocolType], [c].[RefreshTokenExpiration], [c].[RefreshTokenUsage], [c].[RequireClientSecret], [c].[RequireConsent], [c].[RequirePkce], [c].[RequireRequestObject], [c].[SlidingRefreshTokenLifetime], [c].[UpdateAccessTokenClaimsOnRefresh], [c].[Updated], [c].[UserCodeType], [c].[UserSsoLifetime]
FROM [Clients] AS [c]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T11:38:33.6730976+00:00][INFO][6][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("3"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[Origin]
FROM [Clients] AS [c]
INNER JOIN [ClientCorsOrigins] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T11:38:33.6857725+00:00][INFO][5][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("4"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[GrantType]
FROM [Clients] AS [c]
INNER JOIN [ClientGrantTypes] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T11:38:33.6961540+00:00][INFO][6][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("8"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[Scope]
FROM [Clients] AS [c]
INNER JOIN [ClientScopes] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T11:38:33.7091840+00:00][INFO][15][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("4"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[Type], [c0].[Value]
FROM [Clients] AS [c]
INNER JOIN [ClientClaims] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T11:38:33.7215074+00:00][INFO][6][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("8"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[Created], [c0].[Description], [c0].[Expiration], [c0].[Type], [c0].[Value]
FROM [Clients] AS [c]
INNER JOIN [ClientSecrets] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T11:38:33.7296625+00:00][INFO][6][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("5"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[Provider]
FROM [Clients] AS [c]
INNER JOIN [ClientIdPRestrictions] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T11:38:33.7589507+00:00][INFO][25][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("6"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[PostLogoutRedirectUri]
FROM [Clients] AS [c]
INNER JOIN [ClientPostLogoutRedirectUris] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T11:38:33.7658516+00:00][INFO][15][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("3"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[Key], [c0].[Value]
FROM [Clients] AS [c]
INNER JOIN [ClientProperties] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T11:38:33.7796304+00:00][INFO][25][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("10"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[RedirectUri]
FROM [Clients] AS [c]
INNER JOIN [ClientRedirectUris] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T11:38:33.7817055+00:00][INFO][25][Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor] Executing ViewResult, running view "Login".
[2020-12-30T11:38:33.8033607+00:00][INFO][25][Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor] Executed ViewResult - view "Login" executed in 21.8868ms.
[2020-12-30T11:38:33.8046963+00:00][INFO][25][Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Executed action "EventManager.Identity.STS.Identity.Controllers.AccountController<EventManager.Identity.Admin.EntityFramework.Shared.Entities.Identity.UserIdentity, string>.Login (EventManager.Identity.STS.Identity)" in 618.9355ms
[2020-12-30T11:38:33.8058202+00:00][INFO][25][Microsoft.AspNetCore.Routing.EndpointMiddleware] Executed endpoint '"EventManager.Identity.STS.Identity.Controllers.AccountController<EventManager.Identity.Admin.EntityFramework.Shared.Entities.Identity.UserIdentity, string>.Login (EventManager.Identity.STS.Identity)"'
[2020-12-30T11:38:33.8068367+00:00][INFO][25][Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/1.1 GET http://sts.em.host/Account/Login?ReturnUrl=%2Fconnect%2Fauthorize%2Fcallback%3Fclient_id%3Durn%253Aem%253Aclient%26redirect_uri%3Dhttps%253A%252F%252Fwww.em.host%252Fadmin%252Fidentity%252Fsignin-oidc%26response_type%3Dcode%26scope%3Dopenid%2520profile%2520email%2520roles%26code_challenge%3DvIWM4VXMMFlBlAp3GPPQAXhTgwdyRtivCKFk_DBd3-4%26code_challenge_method%3DS256%26response_mode%3Dform_post%26nonce%3D637449250737825609.MDMxYmYwMDctNjZjOS00Mzg4LWE0MzQtNWE0MGQ0N2RkNGViMDJkMWM0OTAtMzE1My00N2IwLTg2MGQtMGQ4YjE4YjU0N2Ex%26state%3DCfDJ8ASI9RBeE6hBsIC3rORyZw1xOj_21Bn5wfkE8AXYjYMuonyK-7aoVuz4TP6r7cn1eLODB1z98A0V0BzDAW1qsZ1euAkGk_M_6x0hoxU9EdaeSh2JW_AKasZapiKCaAesd1WSKjkwPtrBrS7lkPJ76bEHBdhLzTYxVYE7OqB2ZKJqdXbmahElkwpk6EmC2fu_OBIjdu_oskb3bXor3YnGZVlGPgQxVVeyKP27CAFWRh-DlRbNX7kMezJCyijs-xnIscLfAqylhyup1YmGGUKx2tkY_lKV3YtWEpIGeJpp5octDh3VoTu3-nLqaPE55-BEW5435oLTskzjxuRmG4dwE1BzISF_hfBld2IW5lGddC2SoLlO5e6uAfEqXZ5mN2jcgA%26x-client-SKU%3DID_NETSTANDARD2_0%26x-client-ver%3D5.6.0.0 - - - 200 - text/html;+charset=utf-8 649.0994ms
[2020-12-30T11:38:38.0331685+00:00][INFO][6][Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 GET http://sts.em.host/Account/ForgotPassword - -
[2020-12-30T11:38:38.0361229+00:00][INFO][6][Microsoft.AspNetCore.Routing.EndpointMiddleware] Executing endpoint '"EventManager.Identity.STS.Identity.Controllers.AccountController<EventManager.Identity.Admin.EntityFramework.Shared.Entities.Identity.UserIdentity, string>.ForgotPassword (EventManager.Identity.STS.Identity)"'
[2020-12-30T11:38:38.0408939+00:00][INFO][6][Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Route matched with "{action = \"ForgotPassword\", controller = \"Account\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult ForgotPassword()" on controller "EventManager.Identity.STS.Identity.Controllers.AccountController<EventManager.Identity.Admin.EntityFramework.Shared.Entities.Identity.UserIdentity, string>" ("EventManager.Identity.STS.Identity").
[2020-12-30T11:38:38.0717582+00:00][INFO][6][Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor] Executing ViewResult, running view "ForgotPassword".
[2020-12-30T11:38:38.2695371+00:00][INFO][6][Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor] Executed ViewResult - view "ForgotPassword" executed in 198.6226ms.
[2020-12-30T11:38:38.2701429+00:00][INFO][6][Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Executed action "EventManager.Identity.STS.Identity.Controllers.AccountController<EventManager.Identity.Admin.EntityFramework.Shared.Entities.Identity.UserIdentity, string>.ForgotPassword (EventManager.Identity.STS.Identity)" in 216.2347ms
[2020-12-30T11:38:38.2708557+00:00][INFO][6][Microsoft.AspNetCore.Routing.EndpointMiddleware] Executed endpoint '"EventManager.Identity.STS.Identity.Controllers.AccountController<EventManager.Identity.Admin.EntityFramework.Shared.Entities.Identity.UserIdentity, string>.ForgotPassword (EventManager.Identity.STS.Identity)"'
[2020-12-30T11:38:38.2775242+00:00][INFO][6][Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/1.1 GET http://sts.em.host/Account/ForgotPassword - - - 200 - text/html;+charset=utf-8 244.3220ms
[2020-12-30T11:38:38.4086213+00:00][INFO][6][Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 GET http://sts.em.host/js/forgot-password.js - -
[2020-12-30T11:38:38.5202622+00:00][INFO][26][Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware] Sending file. Request path: '"/js/forgot-password.js"'. Physical path: '"/app/wwwroot/js/forgot-password.js"'
[2020-12-30T11:38:38.5211264+00:00][INFO][26][Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/1.1 GET http://sts.em.host/js/forgot-password.js - - - 200 287 application/javascript 112.4202ms
[2020-12-30T11:38:55.7629467+00:00][INFO][28][Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 GET http://sts.em.host/ - -
[2020-12-30T11:38:55.7646155+00:00][INFO][28][Microsoft.AspNetCore.Routing.EndpointMiddleware] Executing endpoint '"EventManager.Identity.STS.Identity.Controllers.HomeController.Index (EventManager.Identity.STS.Identity)"'
[2020-12-30T11:38:55.7674435+00:00][INFO][28][Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Route matched with "{action = \"Index\", controller = \"Home\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult Index()" on controller "EventManager.Identity.STS.Identity.Controllers.HomeController" ("EventManager.Identity.STS.Identity").
[2020-12-30T11:38:55.7710838+00:00][INFO][28][Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor] Executing ViewResult, running view "Index".
[2020-12-30T11:38:55.8067731+00:00][INFO][28][Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor] Executed ViewResult - view "Index" executed in 37.1449ms.
[2020-12-30T11:38:55.8074785+00:00][INFO][28][Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Executed action "EventManager.Identity.STS.Identity.Controllers.HomeController.Index (EventManager.Identity.STS.Identity)" in 38.995ms
[2020-12-30T11:38:55.8081427+00:00][INFO][28][Microsoft.AspNetCore.Routing.EndpointMiddleware] Executed endpoint '"EventManager.Identity.STS.Identity.Controllers.HomeController.Index (EventManager.Identity.STS.Identity)"'
[2020-12-30T11:38:55.8088787+00:00][INFO][28][Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/1.1 GET http://sts.em.host/ - - - 200 - text/html;+charset=utf-8 46.0003ms
[2020-12-30T11:38:55.8971107+00:00][INFO][28][Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 GET http://sts.em.host/images/skoruba-icon.png - -
[2020-12-30T11:38:55.9506267+00:00][INFO][6][Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware] Sending file. Request path: '"/images/skoruba-icon.png"'. Physical path: '"/app/wwwroot/images/skoruba-icon.png"'
[2020-12-30T11:38:55.9517641+00:00][INFO][6][Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/1.1 GET http://sts.em.host/images/skoruba-icon.png - - - 200 18074 image/png 54.1865ms
[2020-12-30T11:39:02.6509173+00:00][INFO][31][Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 GET http://sts.em.host/.well-known/openid-configuration - -
[2020-12-30T11:39:02.6543383+00:00][INFO][31][IdentityServer4.Hosting.IdentityServerMiddleware] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.DiscoveryEndpoint" for "/.well-known/openid-configuration"
[2020-12-30T11:39:02.6565476+00:00][INFO][31][Microsoft.EntityFrameworkCore.Infrastructure] Entity Framework Core "5.0.1" initialized '"IdentityServerConfigurationDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=EventManager.Identity.Admin.EntityFramework.SqlServer "
[2020-12-30T11:39:02.6706453+00:00][INFO][30][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("5"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [i].[Id], [i].[Created], [i].[Description], [i].[DisplayName], [i].[Emphasize], [i].[Enabled], [i].[Name], [i].[NonEditable], [i].[Required], [i].[ShowInDiscoveryDocument], [i].[Updated], [i0].[Id], [i0].[IdentityResourceId], [i0].[Type], [i1].[Id], [i1].[IdentityResourceId], [i1].[Key], [i1].[Value]
FROM [IdentityResources] AS [i]
LEFT JOIN [IdentityResourceClaims] AS [i0] ON [i].[Id] = [i0].[IdentityResourceId]
LEFT JOIN [IdentityResourceProperties] AS [i1] ON [i].[Id] = [i1].[IdentityResourceId]
ORDER BY [i].[Id], [i0].[Id], [i1].[Id]"
[2020-12-30T11:39:02.7322645+00:00][INFO][26][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("23"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [a].[Id], [a].[AllowedAccessTokenSigningAlgorithms], [a].[Created], [a].[Description], [a].[DisplayName], [a].[Enabled], [a].[LastAccessed], [a].[Name], [a].[NonEditable], [a].[ShowInDiscoveryDocument], [a].[Updated], [a0].[Id], [a0].[ApiResourceId], [a0].[Created], [a0].[Description], [a0].[Expiration], [a0].[Type], [a0].[Value], [a1].[Id], [a1].[ApiResourceId], [a1].[Scope], [a2].[Id], [a2].[ApiResourceId], [a2].[Type], [a3].[Id], [a3].[ApiResourceId], [a3].[Key], [a3].[Value]
FROM [ApiResources] AS [a]
LEFT JOIN [ApiResourceSecrets] AS [a0] ON [a].[Id] = [a0].[ApiResourceId]
LEFT JOIN [ApiResourceScopes] AS [a1] ON [a].[Id] = [a1].[ApiResourceId]
LEFT JOIN [ApiResourceClaims] AS [a2] ON [a].[Id] = [a2].[ApiResourceId]
LEFT JOIN [ApiResourceProperties] AS [a3] ON [a].[Id] = [a3].[ApiResourceId]
ORDER BY [a].[Id], [a0].[Id], [a1].[Id], [a2].[Id], [a3].[Id]"
[2020-12-30T11:39:02.7392670+00:00][INFO][29][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("4"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [a].[Id], [a].[Description], [a].[DisplayName], [a].[Emphasize], [a].[Enabled], [a].[Name], [a].[Required], [a].[ShowInDiscoveryDocument], [a0].[Id], [a0].[ScopeId], [a0].[Type], [a1].[Id], [a1].[Key], [a1].[ScopeId], [a1].[Value]
FROM [ApiScopes] AS [a]
LEFT JOIN [ApiScopeClaims] AS [a0] ON [a].[Id] = [a0].[ScopeId]
LEFT JOIN [ApiScopeProperties] AS [a1] ON [a].[Id] = [a1].[ScopeId]
ORDER BY [a].[Id], [a0].[Id], [a1].[Id]"
[2020-12-30T11:39:02.7458800+00:00][INFO][29][Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/1.1 GET http://sts.em.host/.well-known/openid-configuration - - - 200 - application/json;+charset=UTF-8 94.9548ms
[2020-12-30T11:39:05.1764922+00:00][INFO][27][Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 GET http://sts.em.host/ - -
[2020-12-30T11:39:05.1810700+00:00][INFO][27][Microsoft.AspNetCore.Routing.EndpointMiddleware] Executing endpoint '"EventManager.Identity.STS.Identity.Controllers.HomeController.Index (EventManager.Identity.STS.Identity)"'
[2020-12-30T11:39:05.1833124+00:00][INFO][27][Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Route matched with "{action = \"Index\", controller = \"Home\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult Index()" on controller "EventManager.Identity.STS.Identity.Controllers.HomeController" ("EventManager.Identity.STS.Identity").
[2020-12-30T11:39:05.1945268+00:00][INFO][27][Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor] Executing ViewResult, running view "Index".
[2020-12-30T11:39:05.2163071+00:00][INFO][27][Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor] Executed ViewResult - view "Index" executed in 21.802ms.
[2020-12-30T11:39:05.2176723+00:00][INFO][27][Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Executed action "EventManager.Identity.STS.Identity.Controllers.HomeController.Index (EventManager.Identity.STS.Identity)" in 23.7636ms
[2020-12-30T11:39:05.2183734+00:00][INFO][27][Microsoft.AspNetCore.Routing.EndpointMiddleware] Executed endpoint '"EventManager.Identity.STS.Identity.Controllers.HomeController.Index (EventManager.Identity.STS.Identity)"'
[2020-12-30T11:39:05.2193270+00:00][INFO][27][Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/1.1 GET http://sts.em.host/ - - - 200 - text/html;+charset=utf-8 42.7695ms
[2020-12-30T11:39:07.1244801+00:00][INFO][31][Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 GET http://sts.em.host/Account/Login - -
[2020-12-30T11:39:07.1260855+00:00][INFO][31][Microsoft.AspNetCore.Routing.EndpointMiddleware] Executing endpoint '"EventManager.Identity.STS.Identity.Controllers.AccountController<EventManager.Identity.Admin.EntityFramework.Shared.Entities.Identity.UserIdentity, string>.Login (EventManager.Identity.STS.Identity)"'
[2020-12-30T11:39:07.1269671+00:00][INFO][31][Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Route matched with "{action = \"Login\", controller = \"Account\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(System.String)" on controller "EventManager.Identity.STS.Identity.Controllers.AccountController<EventManager.Identity.Admin.EntityFramework.Shared.Entities.Identity.UserIdentity, string>" ("EventManager.Identity.STS.Identity").
[2020-12-30T11:39:07.1313419+00:00][INFO][31][Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor] Executing ViewResult, running view "Login".
[2020-12-30T11:39:07.1511427+00:00][INFO][31][Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor] Executed ViewResult - view "Login" executed in 19.9439ms.
[2020-12-30T11:39:07.1605204+00:00][INFO][31][Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Executed action "EventManager.Identity.STS.Identity.Controllers.AccountController<EventManager.Identity.Admin.EntityFramework.Shared.Entities.Identity.UserIdentity, string>.Login (EventManager.Identity.STS.Identity)" in 31.6262ms
[2020-12-30T11:39:07.1647800+00:00][INFO][31][Microsoft.AspNetCore.Routing.EndpointMiddleware] Executed endpoint '"EventManager.Identity.STS.Identity.Controllers.AccountController<EventManager.Identity.Admin.EntityFramework.Shared.Entities.Identity.UserIdentity, string>.Login (EventManager.Identity.STS.Identity)"'
[2020-12-30T11:39:07.1677857+00:00][INFO][31][Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/1.1 GET http://sts.em.host/Account/Login - - - 200 - text/html;+charset=utf-8 43.1903ms
[2020-12-30T11:42:55.8806721+00:00][INFO][38][Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 GET http://sts.em.host/Account/Login - -
[2020-12-30T11:42:55.8831681+00:00][INFO][38][Microsoft.AspNetCore.Routing.EndpointMiddleware] Executing endpoint '"EventManager.Identity.STS.Identity.Controllers.AccountController<EventManager.Identity.Admin.EntityFramework.Shared.Entities.Identity.UserIdentity, string>.Login (EventManager.Identity.STS.Identity)"'
[2020-12-30T11:42:55.8842868+00:00][INFO][38][Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Route matched with "{action = \"Login\", controller = \"Account\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(System.String)" on controller "EventManager.Identity.STS.Identity.Controllers.AccountController<EventManager.Identity.Admin.EntityFramework.Shared.Entities.Identity.UserIdentity, string>" ("EventManager.Identity.STS.Identity").
[2020-12-30T11:42:55.9000336+00:00][INFO][38][Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor] Executing ViewResult, running view "Login".
[2020-12-30T11:42:55.9164633+00:00][INFO][38][Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor] Executed ViewResult - view "Login" executed in 16.5541ms.
[2020-12-30T11:42:55.9181753+00:00][INFO][38][Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Executed action "EventManager.Identity.STS.Identity.Controllers.AccountController<EventManager.Identity.Admin.EntityFramework.Shared.Entities.Identity.UserIdentity, string>.Login (EventManager.Identity.STS.Identity)" in 21.3924ms
[2020-12-30T11:42:55.9207383+00:00][INFO][38][Microsoft.AspNetCore.Routing.EndpointMiddleware] Executed endpoint '"EventManager.Identity.STS.Identity.Controllers.AccountController<EventManager.Identity.Admin.EntityFramework.Shared.Entities.Identity.UserIdentity, string>.Login (EventManager.Identity.STS.Identity)"'
[2020-12-30T11:42:55.9229294+00:00][INFO][38][Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/1.1 GET http://sts.em.host/Account/Login - - - 200 - text/html;+charset=utf-8 42.2433ms
[2020-12-30T11:42:56.3694235+00:00][INFO][40][Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 GET http://sts.em.host/favicon.ico - -
[2020-12-30T11:42:56.3955553+00:00][INFO][39][Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware] Sending file. Request path: '"/favicon.ico"'. Physical path: '"/app/wwwroot/favicon.ico"'
[2020-12-30T11:42:56.3964240+00:00][INFO][39][Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/1.1 GET http://sts.em.host/favicon.ico - - - 200 4286 image/x-icon 26.9080ms
[2020-12-30T11:51:47.9106779+00:00][INFO][53][Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 POST http://sts.em.host/Account/Login application/x-www-form-urlencoded 256
[2020-12-30T11:51:47.9338363+00:00][INFO][53][Microsoft.AspNetCore.Cors.Infrastructure.CorsMiddleware] No CORS policy found for the specified request.
[2020-12-30T11:51:47.9440394+00:00][INFO][53][Microsoft.AspNetCore.Routing.EndpointMiddleware] Executing endpoint '"EventManager.Identity.STS.Identity.Controllers.AccountController<EventManager.Identity.Admin.EntityFramework.Shared.Entities.Identity.UserIdentity, string>.Login (EventManager.Identity.STS.Identity)"'
[2020-12-30T11:51:47.9632402+00:00][INFO][53][Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Route matched with "{action = \"Login\", controller = \"Account\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(EventManager.Identity.STS.Identity.ViewModels.Account.LoginInputModel, System.String)" on controller "EventManager.Identity.STS.Identity.Controllers.AccountController<EventManager.Identity.Admin.EntityFramework.Shared.Entities.Identity.UserIdentity, string>" ("EventManager.Identity.STS.Identity").
[2020-12-30T11:51:48.1214662+00:00][INFO][53][Microsoft.AspNetCore.Mvc.ViewFeatures.Filters.ValidateAntiforgeryTokenAuthorizationFilter] Antiforgery token validation failed. "The required antiforgery cookie \".AspNetCore.Antiforgery.B18KUtc8CAs\" is not present."
Microsoft.AspNetCore.Antiforgery.AntiforgeryValidationException: The required antiforgery cookie ".AspNetCore.Antiforgery.B18KUtc8CAs" is not present.
   at Microsoft.AspNetCore.Antiforgery.DefaultAntiforgery.ValidateRequestAsync(HttpContext httpContext)
   at Microsoft.AspNetCore.Mvc.ViewFeatures.Filters.ValidateAntiforgeryTokenAuthorizationFilter.OnAuthorizationAsync(AuthorizationFilterContext context)
[2020-12-30T11:51:48.1790615+00:00][INFO][53][Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Authorization failed for the request at filter '"Microsoft.AspNetCore.Mvc.ViewFeatures.Filters.ValidateAntiforgeryTokenAuthorizationFilter"'.
[2020-12-30T11:51:48.1942508+00:00][INFO][53][Microsoft.AspNetCore.Mvc.StatusCodeResult] Executing HttpStatusCodeResult, setting HTTP status code 400
[2020-12-30T11:51:48.1951652+00:00][INFO][53][Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Executed action "EventManager.Identity.STS.Identity.Controllers.AccountController<EventManager.Identity.Admin.EntityFramework.Shared.Entities.Identity.UserIdentity, string>.Login (EventManager.Identity.STS.Identity)" in 231.2436ms
[2020-12-30T11:51:48.1981199+00:00][INFO][53][Microsoft.AspNetCore.Routing.EndpointMiddleware] Executed endpoint '"EventManager.Identity.STS.Identity.Controllers.AccountController<EventManager.Identity.Admin.EntityFramework.Shared.Entities.Identity.UserIdentity, string>.Login (EventManager.Identity.STS.Identity)"'
[2020-12-30T11:51:48.2083956+00:00][INFO][53][Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/1.1 POST http://sts.em.host/Account/Login application/x-www-form-urlencoded 256 - 400 0 - 298.0398ms
[2020-12-30T11:51:51.4604131+00:00][INFO][56][Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 GET http://sts.em.host/Account/Login - -
[2020-12-30T11:51:51.4624240+00:00][INFO][56][Microsoft.AspNetCore.Routing.EndpointMiddleware] Executing endpoint '"EventManager.Identity.STS.Identity.Controllers.AccountController<EventManager.Identity.Admin.EntityFramework.Shared.Entities.Identity.UserIdentity, string>.Login (EventManager.Identity.STS.Identity)"'
[2020-12-30T11:51:51.4711469+00:00][INFO][56][Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Route matched with "{action = \"Login\", controller = \"Account\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(System.String)" on controller "EventManager.Identity.STS.Identity.Controllers.AccountController<EventManager.Identity.Admin.EntityFramework.Shared.Entities.Identity.UserIdentity, string>" ("EventManager.Identity.STS.Identity").
[2020-12-30T11:51:51.4741365+00:00][INFO][56][Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor] Executing ViewResult, running view "Login".
[2020-12-30T11:51:51.4866036+00:00][INFO][56][Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor] Executed ViewResult - view "Login" executed in 10.1271ms.
[2020-12-30T11:51:51.4883217+00:00][INFO][56][Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Executed action "EventManager.Identity.STS.Identity.Controllers.AccountController<EventManager.Identity.Admin.EntityFramework.Shared.Entities.Identity.UserIdentity, string>.Login (EventManager.Identity.STS.Identity)" in 15.3802ms
[2020-12-30T11:51:51.4899386+00:00][INFO][56][Microsoft.AspNetCore.Routing.EndpointMiddleware] Executed endpoint '"EventManager.Identity.STS.Identity.Controllers.AccountController<EventManager.Identity.Admin.EntityFramework.Shared.Entities.Identity.UserIdentity, string>.Login (EventManager.Identity.STS.Identity)"'
[2020-12-30T11:51:51.4925909+00:00][INFO][56][Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/1.1 GET http://sts.em.host/Account/Login - - - 200 - text/html;+charset=utf-8 32.1083ms
[2020-12-30T11:51:51.8342876+00:00][INFO][57][Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 GET http://sts.em.host/favicon.ico - -
[2020-12-30T11:51:51.8771839+00:00][INFO][53][Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware] Sending file. Request path: '"/favicon.ico"'. Physical path: '"/app/wwwroot/favicon.ico"'
[2020-12-30T11:51:51.8795832+00:00][INFO][53][Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/1.1 GET http://sts.em.host/favicon.ico - - - 200 4286 image/x-icon 45.3101ms
[2020-12-30T11:51:55.8749983+00:00][INFO][57][Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 POST http://sts.em.host/Account/Login application/x-www-form-urlencoded 256
[2020-12-30T11:51:55.8760021+00:00][INFO][57][Microsoft.AspNetCore.Cors.Infrastructure.CorsMiddleware] No CORS policy found for the specified request.
[2020-12-30T11:51:55.8772500+00:00][INFO][57][Microsoft.AspNetCore.Routing.EndpointMiddleware] Executing endpoint '"EventManager.Identity.STS.Identity.Controllers.AccountController<EventManager.Identity.Admin.EntityFramework.Shared.Entities.Identity.UserIdentity, string>.Login (EventManager.Identity.STS.Identity)"'
[2020-12-30T11:51:55.8905968+00:00][INFO][57][Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Route matched with "{action = \"Login\", controller = \"Account\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(EventManager.Identity.STS.Identity.ViewModels.Account.LoginInputModel, System.String)" on controller "EventManager.Identity.STS.Identity.Controllers.AccountController<EventManager.Identity.Admin.EntityFramework.Shared.Entities.Identity.UserIdentity, string>" ("EventManager.Identity.STS.Identity").
[2020-12-30T11:51:56.0449298+00:00][INFO][57][Microsoft.EntityFrameworkCore.Infrastructure] Entity Framework Core "5.0.1" initialized '"AdminIdentityDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=EventManager.Identity.Admin.EntityFramework.SqlServer "
[2020-12-30T11:51:56.2466844+00:00][INFO][53][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("2"ms) [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0"
[2020-12-30T11:51:56.3337408+00:00][INFO][57][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("23"ms) [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0"
[2020-12-30T11:51:56.4395849+00:00][WARN][57][Microsoft.AspNetCore.Identity.UserManager] Invalid password for user.
[2020-12-30T11:51:56.4419117+00:00][WARN][57][Microsoft.AspNetCore.Identity.SignInManager] User failed to provide the correct password.
[2020-12-30T11:51:56.4833719+00:00][INFO][61][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("23"ms) [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0"
[2020-12-30T11:51:56.5188945+00:00][INFO][61][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("2"ms) [Parameters=["@__normalizedEmail_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(2) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[NormalizedEmail] = @__normalizedEmail_0"
[2020-12-30T11:51:56.6730529+00:00][INFO][59][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("11"ms) [Parameters=["@p14='?' (Size = 450), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p15='?' (Size = 4000), @p2='?' (Size = 256), @p3='?' (DbType = Boolean), @p4='?' (DbType = Boolean), @p5='?' (DbType = DateTimeOffset), @p6='?' (Size = 256), @p7='?' (Size = 256), @p8='?' (Size = 4000), @p9='?' (Size = 4000), @p10='?' (DbType = Boolean), @p11='?' (Size = 4000), @p12='?' (DbType = Boolean), @p13='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
UPDATE [Users] SET [AccessFailedCount] = @p0, [ConcurrencyStamp] = @p1, [Email] = @p2, [EmailConfirmed] = @p3, [LockoutEnabled] = @p4, [LockoutEnd] = @p5, [NormalizedEmail] = @p6, [NormalizedUserName] = @p7, [PasswordHash] = @p8, [PhoneNumber] = @p9, [PhoneNumberConfirmed] = @p10, [SecurityStamp] = @p11, [TwoFactorEnabled] = @p12, [UserName] = @p13
WHERE [Id] = @p14 AND [ConcurrencyStamp] = @p15;
SELECT @@ROWCOUNT;"
[2020-12-30T11:51:56.7402464+00:00][INFO][59][IdentityServer4.Events.DefaultEventService] UserLoginFailureEvent { Username: "admin", Endpoint: "UI", ClientId: null, Category: "Authentication", Name: "User Login Failure", EventType: Failure, Id: 1001, Message: "invalid credentials", ActivityId: "0HM5CMT6AGFSK:00000002", TimeStamp: 12/30/2020 11:51:56, ProcessId: 1288, LocalIpAddress: "::ffff:172.18.0.7:50003", RemoteIpAddress: "172.18.0.1" }
[2020-12-30T11:51:56.7536925+00:00][INFO][59][Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor] Executing ViewResult, running view "Login".
[2020-12-30T11:51:56.7700088+00:00][INFO][59][Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor] Executed ViewResult - view "Login" executed in 16.3692ms.
[2020-12-30T11:51:56.7706805+00:00][INFO][59][Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Executed action "EventManager.Identity.STS.Identity.Controllers.AccountController<EventManager.Identity.Admin.EntityFramework.Shared.Entities.Identity.UserIdentity, string>.Login (EventManager.Identity.STS.Identity)" in 879.258ms
[2020-12-30T11:51:56.7845616+00:00][INFO][59][Microsoft.AspNetCore.Routing.EndpointMiddleware] Executed endpoint '"EventManager.Identity.STS.Identity.Controllers.AccountController<EventManager.Identity.Admin.EntityFramework.Shared.Entities.Identity.UserIdentity, string>.Login (EventManager.Identity.STS.Identity)"'
[2020-12-30T11:51:56.7857402+00:00][INFO][59][Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/1.1 POST http://sts.em.host/Account/Login application/x-www-form-urlencoded 256 - 200 - text/html;+charset=utf-8 910.7101ms
[2020-12-30T11:52:11.7990830+00:00][INFO][57][Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 POST http://sts.em.host/Account/Login application/x-www-form-urlencoded 261
[2020-12-30T11:52:11.8002530+00:00][INFO][57][Microsoft.AspNetCore.Cors.Infrastructure.CorsMiddleware] No CORS policy found for the specified request.
[2020-12-30T11:52:11.8019724+00:00][INFO][57][Microsoft.AspNetCore.Routing.EndpointMiddleware] Executing endpoint '"EventManager.Identity.STS.Identity.Controllers.AccountController<EventManager.Identity.Admin.EntityFramework.Shared.Entities.Identity.UserIdentity, string>.Login (EventManager.Identity.STS.Identity)"'
[2020-12-30T11:52:11.8028554+00:00][INFO][57][Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Route matched with "{action = \"Login\", controller = \"Account\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(EventManager.Identity.STS.Identity.ViewModels.Account.LoginInputModel, System.String)" on controller "EventManager.Identity.STS.Identity.Controllers.AccountController<EventManager.Identity.Admin.EntityFramework.Shared.Entities.Identity.UserIdentity, string>" ("EventManager.Identity.STS.Identity").
[2020-12-30T11:52:11.8179899+00:00][INFO][57][Microsoft.EntityFrameworkCore.Infrastructure] Entity Framework Core "5.0.1" initialized '"AdminIdentityDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=EventManager.Identity.Admin.EntityFramework.SqlServer "
[2020-12-30T11:52:11.8248673+00:00][INFO][63][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("5"ms) [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0"
[2020-12-30T11:52:11.8479357+00:00][INFO][62][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("5"ms) [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0"
[2020-12-30T11:52:11.9293213+00:00][INFO][63][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("23"ms) [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0"
[2020-12-30T11:52:11.9377654+00:00][INFO][63][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("1"ms) [Parameters=["@__normalizedEmail_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(2) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[NormalizedEmail] = @__normalizedEmail_0"
[2020-12-30T11:52:11.9495389+00:00][INFO][62][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("7"ms) [Parameters=["@p14='?' (Size = 450), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p15='?' (Size = 4000), @p2='?' (Size = 256), @p3='?' (DbType = Boolean), @p4='?' (DbType = Boolean), @p5='?' (DbType = DateTimeOffset), @p6='?' (Size = 256), @p7='?' (Size = 256), @p8='?' (Size = 4000), @p9='?' (Size = 4000), @p10='?' (DbType = Boolean), @p11='?' (Size = 4000), @p12='?' (DbType = Boolean), @p13='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
UPDATE [Users] SET [AccessFailedCount] = @p0, [ConcurrencyStamp] = @p1, [Email] = @p2, [EmailConfirmed] = @p3, [LockoutEnabled] = @p4, [LockoutEnd] = @p5, [NormalizedEmail] = @p6, [NormalizedUserName] = @p7, [PasswordHash] = @p8, [PhoneNumber] = @p9, [PhoneNumberConfirmed] = @p10, [SecurityStamp] = @p11, [TwoFactorEnabled] = @p12, [UserName] = @p13
WHERE [Id] = @p14 AND [ConcurrencyStamp] = @p15;
SELECT @@ROWCOUNT;"
[2020-12-30T11:52:12.0861038+00:00][INFO][57][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("48"ms) [Parameters=["@__user_Id_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [u].[Id], [u].[ClaimType], [u].[ClaimValue], [u].[UserId]
FROM [UserClaims] AS [u]
WHERE [u].[UserId] = @__user_Id_0"
[2020-12-30T11:52:12.1337331+00:00][INFO][60][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("7"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [r].[Name]
FROM [UserRoles] AS [u]
INNER JOIN [Roles] AS [r] ON [u].[RoleId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0"
[2020-12-30T11:52:12.1723826+00:00][INFO][57][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("2"ms) [Parameters=["@__normalizedName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [Roles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0"
[2020-12-30T11:52:12.2104219+00:00][INFO][63][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("5"ms) [Parameters=["@__role_Id_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [r].[ClaimType], [r].[ClaimValue]
FROM [RoleClaims] AS [r]
WHERE [r].[RoleId] = @__role_Id_0"
[2020-12-30T11:52:12.2504150+00:00][INFO][63][Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler] AuthenticationScheme: "Identity.Application" signed in.
[2020-12-30T11:52:12.2625687+00:00][INFO][63][IdentityServer4.Events.DefaultEventService] UserLoginSuccessEvent { Username: "admin", Provider: null, ProviderUserId: null, SubjectId: "fa12f9c0-7360-45db-9477-218afbaee607", DisplayName: "admin", Endpoint: "UI", ClientId: null, Category: "Authentication", Name: "User Login Success", EventType: Success, Id: 1000, Message: null, ActivityId: "0HM5CMT6AGFSL:00000002", TimeStamp: 12/30/2020 11:52:12, ProcessId: 1288, LocalIpAddress: "::ffff:172.18.0.7:50003", RemoteIpAddress: "172.18.0.1" }
[2020-12-30T11:52:12.2664499+00:00][INFO][63][Microsoft.AspNetCore.Mvc.Infrastructure.RedirectResultExecutor] Executing RedirectResult, redirecting to "/".
[2020-12-30T11:52:12.2674386+00:00][INFO][63][Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Executed action "EventManager.Identity.STS.Identity.Controllers.AccountController<EventManager.Identity.Admin.EntityFramework.Shared.Entities.Identity.UserIdentity, string>.Login (EventManager.Identity.STS.Identity)" in 463.7303ms
[2020-12-30T11:52:12.2682192+00:00][INFO][63][Microsoft.AspNetCore.Routing.EndpointMiddleware] Executed endpoint '"EventManager.Identity.STS.Identity.Controllers.AccountController<EventManager.Identity.Admin.EntityFramework.Shared.Entities.Identity.UserIdentity, string>.Login (EventManager.Identity.STS.Identity)"'
[2020-12-30T11:52:12.2692139+00:00][INFO][63][Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/1.1 POST http://sts.em.host/Account/Login application/x-www-form-urlencoded 261 - 302 0 - 470.0994ms
[2020-12-30T11:52:12.3097242+00:00][INFO][63][Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 GET http://sts.em.host/ - -
[2020-12-30T11:52:12.3343212+00:00][INFO][63][Microsoft.AspNetCore.Routing.EndpointMiddleware] Executing endpoint '"EventManager.Identity.STS.Identity.Controllers.HomeController.Index (EventManager.Identity.STS.Identity)"'
[2020-12-30T11:52:12.3353175+00:00][INFO][63][Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Route matched with "{action = \"Index\", controller = \"Home\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult Index()" on controller "EventManager.Identity.STS.Identity.Controllers.HomeController" ("EventManager.Identity.STS.Identity").
[2020-12-30T11:52:12.3390703+00:00][INFO][63][Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor] Executing ViewResult, running view "Index".
[2020-12-30T11:52:12.4060974+00:00][INFO][63][Microsoft.AspNetCore.Authorization.DefaultAuthorizationService] Authorization was successful.
[2020-12-30T11:52:12.4307029+00:00][INFO][63][Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor] Executed ViewResult - view "Index" executed in 91.2031ms.
[2020-12-30T11:52:12.4330558+00:00][INFO][63][Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Executed action "EventManager.Identity.STS.Identity.Controllers.HomeController.Index (EventManager.Identity.STS.Identity)" in 96.9602ms
[2020-12-30T11:52:12.4362465+00:00][INFO][63][Microsoft.AspNetCore.Routing.EndpointMiddleware] Executed endpoint '"EventManager.Identity.STS.Identity.Controllers.HomeController.Index (EventManager.Identity.STS.Identity)"'
[2020-12-30T11:52:12.4408640+00:00][INFO][63][Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/1.1 GET http://sts.em.host/ - - - 200 - text/html;+charset=utf-8 131.0531ms
[2020-12-30T11:52:32.0589943+00:00][INFO][63][Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 GET http://sts.em.host/Grants - -
[2020-12-30T11:52:32.0754449+00:00][INFO][63][Microsoft.AspNetCore.Authorization.DefaultAuthorizationService] Authorization was successful.
[2020-12-30T11:52:32.0774183+00:00][INFO][63][Microsoft.AspNetCore.Routing.EndpointMiddleware] Executing endpoint '"EventManager.Identity.STS.Identity.Controllers.GrantsController.Index (EventManager.Identity.STS.Identity)"'
[2020-12-30T11:52:32.0839324+00:00][INFO][63][Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Route matched with "{action = \"Index\", controller = \"Grants\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Index()" on controller "EventManager.Identity.STS.Identity.Controllers.GrantsController" ("EventManager.Identity.STS.Identity").
[2020-12-30T11:52:32.1390416+00:00][INFO][63][Microsoft.EntityFrameworkCore.Infrastructure] Entity Framework Core "5.0.1" initialized '"IdentityServerPersistedGrantDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=EventManager.Identity.Admin.EntityFramework.SqlServer "
[2020-12-30T11:52:32.1803680+00:00][INFO][56][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("25"ms) [Parameters=["@__filter_SubjectId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [p].[Key], [p].[ClientId], [p].[ConsumedTime], [p].[CreationTime], [p].[Data], [p].[Description], [p].[Expiration], [p].[SessionId], [p].[SubjectId], [p].[Type]
FROM [PersistedGrants] AS [p]
WHERE [p].[SubjectId] = @__filter_SubjectId_0"
[2020-12-30T11:52:32.2166062+00:00][INFO][56][Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor] Executing ViewResult, running view "Index".
[2020-12-30T11:52:32.2425941+00:00][INFO][56][Microsoft.AspNetCore.Authorization.DefaultAuthorizationService] Authorization was successful.
[2020-12-30T11:52:32.2587362+00:00][INFO][56][Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor] Executed ViewResult - view "Index" executed in 45.6515ms.
[2020-12-30T11:52:32.2594937+00:00][INFO][56][Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Executed action "EventManager.Identity.STS.Identity.Controllers.GrantsController.Index (EventManager.Identity.STS.Identity)" in 174.6525ms
[2020-12-30T11:52:32.2601144+00:00][INFO][56][Microsoft.AspNetCore.Routing.EndpointMiddleware] Executed endpoint '"EventManager.Identity.STS.Identity.Controllers.GrantsController.Index (EventManager.Identity.STS.Identity)"'
[2020-12-30T11:52:32.2621899+00:00][INFO][56][Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/1.1 GET http://sts.em.host/Grants - - - 200 - text/html;+charset=utf-8 203.2009ms
[2020-12-30T11:52:36.5854682+00:00][INFO][63][Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 GET http://sts.em.host/ - -
[2020-12-30T11:52:36.5889544+00:00][INFO][63][Microsoft.AspNetCore.Routing.EndpointMiddleware] Executing endpoint '"EventManager.Identity.STS.Identity.Controllers.HomeController.Index (EventManager.Identity.STS.Identity)"'
[2020-12-30T11:52:36.5900052+00:00][INFO][63][Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Route matched with "{action = \"Index\", controller = \"Home\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult Index()" on controller "EventManager.Identity.STS.Identity.Controllers.HomeController" ("EventManager.Identity.STS.Identity").
[2020-12-30T11:52:36.5917812+00:00][INFO][63][Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor] Executing ViewResult, running view "Index".
[2020-12-30T11:52:36.6028621+00:00][INFO][63][Microsoft.AspNetCore.Authorization.DefaultAuthorizationService] Authorization was successful.
[2020-12-30T11:52:36.6081180+00:00][INFO][63][Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor] Executed ViewResult - view "Index" executed in 16.3845ms.
[2020-12-30T11:52:36.6119628+00:00][INFO][63][Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Executed action "EventManager.Identity.STS.Identity.Controllers.HomeController.Index (EventManager.Identity.STS.Identity)" in 20.8778ms
[2020-12-30T11:52:36.6133670+00:00][INFO][63][Microsoft.AspNetCore.Routing.EndpointMiddleware] Executed endpoint '"EventManager.Identity.STS.Identity.Controllers.HomeController.Index (EventManager.Identity.STS.Identity)"'
[2020-12-30T11:52:36.6150153+00:00][INFO][63][Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/1.1 GET http://sts.em.host/ - - - 200 - text/html;+charset=utf-8 29.4692ms
[2020-12-30T11:52:39.1246728+00:00][INFO][63][Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 GET http://sts.em.host/Manage - -
[2020-12-30T11:52:39.1273234+00:00][INFO][63][Microsoft.AspNetCore.Authorization.DefaultAuthorizationService] Authorization was successful.
[2020-12-30T11:52:39.1283946+00:00][INFO][63][Microsoft.AspNetCore.Routing.EndpointMiddleware] Executing endpoint '"EventManager.Identity.STS.Identity.Controllers.ManageController<EventManager.Identity.Admin.EntityFramework.Shared.Entities.Identity.UserIdentity, string>.Index (EventManager.Identity.STS.Identity)"'
[2020-12-30T11:52:39.1449636+00:00][INFO][63][Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Route matched with "{action = \"Index\", controller = \"Manage\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Index()" on controller "EventManager.Identity.STS.Identity.Controllers.ManageController<EventManager.Identity.Admin.EntityFramework.Shared.Entities.Identity.UserIdentity, string>" ("EventManager.Identity.STS.Identity").
[2020-12-30T11:52:39.1657633+00:00][INFO][63][Microsoft.EntityFrameworkCore.Infrastructure] Entity Framework Core "5.0.1" initialized '"AdminIdentityDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=EventManager.Identity.Admin.EntityFramework.SqlServer "
[2020-12-30T11:52:39.1941652+00:00][INFO][56][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("4"ms) [Parameters=["@__p_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[Id] = @__p_0"
[2020-12-30T11:52:39.2265296+00:00][INFO][55][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("8"ms) [Parameters=["@__user_Id_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [u].[Id], [u].[ClaimType], [u].[ClaimValue], [u].[UserId]
FROM [UserClaims] AS [u]
WHERE [u].[UserId] = @__user_Id_0"
[2020-12-30T11:52:39.2838339+00:00][INFO][55][Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor] Executing ViewResult, running view "Index".
[2020-12-30T11:52:40.4797475+00:00][INFO][55][Microsoft.AspNetCore.Authorization.DefaultAuthorizationService] Authorization was successful.
[2020-12-30T11:52:40.4878983+00:00][INFO][55][Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor] Executed ViewResult - view "Index" executed in 1204.8441ms.
[2020-12-30T11:52:40.4886865+00:00][INFO][55][Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Executed action "EventManager.Identity.STS.Identity.Controllers.ManageController<EventManager.Identity.Admin.EntityFramework.Shared.Entities.Identity.UserIdentity, string>.Index (EventManager.Identity.STS.Identity)" in 1342.4349ms
[2020-12-30T11:52:40.4902516+00:00][INFO][55][Microsoft.AspNetCore.Routing.EndpointMiddleware] Executed endpoint '"EventManager.Identity.STS.Identity.Controllers.ManageController<EventManager.Identity.Admin.EntityFramework.Shared.Entities.Identity.UserIdentity, string>.Index (EventManager.Identity.STS.Identity)"'
[2020-12-30T11:52:40.4970708+00:00][INFO][55][Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/1.1 GET http://sts.em.host/Manage - - - 200 - text/html;+charset=utf-8 1371.8334ms
[2020-12-30T11:52:46.4329789+00:00][INFO][57][Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 GET http://sts.em.host/Manage/PersonalData - -
[2020-12-30T11:52:46.4380872+00:00][INFO][57][Microsoft.AspNetCore.Authorization.DefaultAuthorizationService] Authorization was successful.
[2020-12-30T11:52:46.4404798+00:00][INFO][57][Microsoft.AspNetCore.Routing.EndpointMiddleware] Executing endpoint '"EventManager.Identity.STS.Identity.Controllers.ManageController<EventManager.Identity.Admin.EntityFramework.Shared.Entities.Identity.UserIdentity, string>.PersonalData (EventManager.Identity.STS.Identity)"'
[2020-12-30T11:52:46.4589937+00:00][INFO][57][Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Route matched with "{action = \"PersonalData\", controller = \"Manage\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] PersonalData()" on controller "EventManager.Identity.STS.Identity.Controllers.ManageController<EventManager.Identity.Admin.EntityFramework.Shared.Entities.Identity.UserIdentity, string>" ("EventManager.Identity.STS.Identity").
[2020-12-30T11:52:46.4715751+00:00][INFO][57][Microsoft.EntityFrameworkCore.Infrastructure] Entity Framework Core "5.0.1" initialized '"AdminIdentityDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=EventManager.Identity.Admin.EntityFramework.SqlServer "
[2020-12-30T11:52:46.4795649+00:00][INFO][56][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("2"ms) [Parameters=["@__p_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[Id] = @__p_0"
[2020-12-30T11:52:46.5518076+00:00][INFO][55][Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor] Executing ViewResult, running view "PersonalData".
[2020-12-30T11:52:46.5836287+00:00][INFO][55][Microsoft.AspNetCore.Authorization.DefaultAuthorizationService] Authorization was successful.
[2020-12-30T11:52:46.5989203+00:00][INFO][55][Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor] Executed ViewResult - view "PersonalData" executed in 74.2608ms.
[2020-12-30T11:52:46.6001036+00:00][INFO][55][Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Executed action "EventManager.Identity.STS.Identity.Controllers.ManageController<EventManager.Identity.Admin.EntityFramework.Shared.Entities.Identity.UserIdentity, string>.PersonalData (EventManager.Identity.STS.Identity)" in 139.8437ms
[2020-12-30T11:52:46.6020972+00:00][INFO][55][Microsoft.AspNetCore.Routing.EndpointMiddleware] Executed endpoint '"EventManager.Identity.STS.Identity.Controllers.ManageController<EventManager.Identity.Admin.EntityFramework.Shared.Entities.Identity.UserIdentity, string>.PersonalData (EventManager.Identity.STS.Identity)"'
[2020-12-30T11:52:46.6028979+00:00][INFO][55][Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/1.1 GET http://sts.em.host/Manage/PersonalData - - - 200 - text/html;+charset=utf-8 169.8392ms
[2020-12-30T11:52:51.1107377+00:00][INFO][57][Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 GET http://sts.em.host/Grants - -
[2020-12-30T11:52:51.1133763+00:00][INFO][57][Microsoft.AspNetCore.Authorization.DefaultAuthorizationService] Authorization was successful.
[2020-12-30T11:52:51.1141050+00:00][INFO][57][Microsoft.AspNetCore.Routing.EndpointMiddleware] Executing endpoint '"EventManager.Identity.STS.Identity.Controllers.GrantsController.Index (EventManager.Identity.STS.Identity)"'
[2020-12-30T11:52:51.1208422+00:00][INFO][57][Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Route matched with "{action = \"Index\", controller = \"Grants\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Index()" on controller "EventManager.Identity.STS.Identity.Controllers.GrantsController" ("EventManager.Identity.STS.Identity").
[2020-12-30T11:52:51.1294021+00:00][INFO][57][Microsoft.EntityFrameworkCore.Infrastructure] Entity Framework Core "5.0.1" initialized '"IdentityServerPersistedGrantDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=EventManager.Identity.Admin.EntityFramework.SqlServer "
[2020-12-30T11:52:51.1686055+00:00][INFO][60][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("37"ms) [Parameters=["@__filter_SubjectId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [p].[Key], [p].[ClientId], [p].[ConsumedTime], [p].[CreationTime], [p].[Data], [p].[Description], [p].[Expiration], [p].[SessionId], [p].[SubjectId], [p].[Type]
FROM [PersistedGrants] AS [p]
WHERE [p].[SubjectId] = @__filter_SubjectId_0"
[2020-12-30T11:52:51.2169546+00:00][INFO][60][Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor] Executing ViewResult, running view "Index".
[2020-12-30T11:52:51.2421559+00:00][INFO][60][Microsoft.AspNetCore.Authorization.DefaultAuthorizationService] Authorization was successful.
[2020-12-30T11:52:51.2568605+00:00][INFO][60][Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor] Executed ViewResult - view "Index" executed in 39.9343ms.
[2020-12-30T11:52:51.2578059+00:00][INFO][60][Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Executed action "EventManager.Identity.STS.Identity.Controllers.GrantsController.Index (EventManager.Identity.STS.Identity)" in 135.8733ms
[2020-12-30T11:52:51.2626572+00:00][INFO][60][Microsoft.AspNetCore.Routing.EndpointMiddleware] Executed endpoint '"EventManager.Identity.STS.Identity.Controllers.GrantsController.Index (EventManager.Identity.STS.Identity)"'
[2020-12-30T11:52:51.2641251+00:00][INFO][60][Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/1.1 GET http://sts.em.host/Grants - - - 200 - text/html;+charset=utf-8 153.3529ms
[2020-12-30T11:52:57.7930801+00:00][INFO][63][Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 GET http://sts.em.host/connect/authorize?client_id=urn%3Aem%3Aclient&redirect_uri=https%3A%2F%2Fwww.em.host%2Fadmin%2Fidentity%2Fsignin-oidc&response_type=code&scope=openid%20profile%20email%20roles&code_challenge=STfGFBlfyy2eyF-p8nUYOYbUKPYpIQqBZbZZcLkPmww&code_challenge_method=S256&response_mode=form_post&nonce=637449259777504097.NmVhYzk3ZjAtMjZjMS00MzhkLWE4MDktZWFjNzk0ODRmMGYwMGQyNmNkOWQtMzk2Yi00YWMyLWJhNzYtZGRiZDJhZTNmZmFl&state=CfDJ8ASI9RBeE6hBsIC3rORyZw3UfnjDOyCp6E1WQwqpV9jGsOYYSkYivbAFvtBhhLW7tR5A2G-6ntmScFUNfnz-BM9h2V3daQmQEkAJH8yb2QCs58aYiWyIrp2NW3Zi2mfRbSSps60utM6G_BWWgXFpUJfzQHBpvoLP23lLqspxkwX1DWx4kjbFZYLXmMm_sUATpVlbhqBVykMKDjT75PiNEcNqZ1wor7n3Tx1wDW2fZDjyLlmTnTD5xdgfzWWpMKMDt-hYOUo1LeAx5AavmeJJO_uinnyxqts6v-4PZMCTv5Pecubr9SgCys_JnIdQS5bybYtSUDIGCL98BZMw7-dWzGC336BLalp_QR-tnmUyZtyg7TJhYi6CG_FNQv59lOGGFA&x-client-SKU=ID_NETSTANDARD2_0&x-client-ver=5.6.0.0 - -
[2020-12-30T11:52:57.7960874+00:00][INFO][63][IdentityServer4.Hosting.IdentityServerMiddleware] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize"
[2020-12-30T11:52:57.7974738+00:00][INFO][63][Microsoft.EntityFrameworkCore.Infrastructure] Entity Framework Core "5.0.1" initialized '"IdentityServerConfigurationDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=EventManager.Identity.Admin.EntityFramework.SqlServer "
[2020-12-30T11:52:57.8207393+00:00][INFO][60][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("22"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c].[Id], [c].[AbsoluteRefreshTokenLifetime], [c].[AccessTokenLifetime], [c].[AccessTokenType], [c].[AllowAccessTokensViaBrowser], [c].[AllowOfflineAccess], [c].[AllowPlainTextPkce], [c].[AllowRememberConsent], [c].[AllowedIdentityTokenSigningAlgorithms], [c].[AlwaysIncludeUserClaimsInIdToken], [c].[AlwaysSendClientClaims], [c].[AuthorizationCodeLifetime], [c].[BackChannelLogoutSessionRequired], [c].[BackChannelLogoutUri], [c].[ClientClaimsPrefix], [c].[ClientId], [c].[ClientName], [c].[ClientUri], [c].[ConsentLifetime], [c].[Created], [c].[Description], [c].[DeviceCodeLifetime], [c].[EnableLocalLogin], [c].[Enabled], [c].[FrontChannelLogoutSessionRequired], [c].[FrontChannelLogoutUri], [c].[IdentityTokenLifetime], [c].[IncludeJwtId], [c].[LastAccessed], [c].[LogoUri], [c].[NonEditable], [c].[PairWiseSubjectSalt], [c].[ProtocolType], [c].[RefreshTokenExpiration], [c].[RefreshTokenUsage], [c].[RequireClientSecret], [c].[RequireConsent], [c].[RequirePkce], [c].[RequireRequestObject], [c].[SlidingRefreshTokenLifetime], [c].[UpdateAccessTokenClaimsOnRefresh], [c].[Updated], [c].[UserCodeType], [c].[UserSsoLifetime]
FROM [Clients] AS [c]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T11:52:57.8518620+00:00][INFO][57][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("6"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[Origin]
FROM [Clients] AS [c]
INNER JOIN [ClientCorsOrigins] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T11:52:57.8743331+00:00][INFO][60][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("6"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[GrantType]
FROM [Clients] AS [c]
INNER JOIN [ClientGrantTypes] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T11:52:57.8823573+00:00][INFO][63][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("5"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[Scope]
FROM [Clients] AS [c]
INNER JOIN [ClientScopes] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T11:52:57.8925705+00:00][INFO][59][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("2"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[Type], [c0].[Value]
FROM [Clients] AS [c]
INNER JOIN [ClientClaims] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T11:52:57.9226148+00:00][INFO][62][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("28"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[Created], [c0].[Description], [c0].[Expiration], [c0].[Type], [c0].[Value]
FROM [Clients] AS [c]
INNER JOIN [ClientSecrets] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T11:52:57.9347244+00:00][INFO][62][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("3"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[Provider]
FROM [Clients] AS [c]
INNER JOIN [ClientIdPRestrictions] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T11:52:57.9415164+00:00][INFO][55][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("5"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[PostLogoutRedirectUri]
FROM [Clients] AS [c]
INNER JOIN [ClientPostLogoutRedirectUris] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T11:52:57.9558405+00:00][INFO][60][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("12"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[Key], [c0].[Value]
FROM [Clients] AS [c]
INNER JOIN [ClientProperties] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T11:52:57.9653658+00:00][INFO][56][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("6"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[RedirectUri]
FROM [Clients] AS [c]
INNER JOIN [ClientRedirectUris] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T11:52:57.9867138+00:00][INFO][63][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("10"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [i].[Id], [i].[Created], [i].[Description], [i].[DisplayName], [i].[Emphasize], [i].[Enabled], [i].[Name], [i].[NonEditable], [i].[Required], [i].[ShowInDiscoveryDocument], [i].[Updated], [i0].[Id], [i0].[IdentityResourceId], [i0].[Type], [i1].[Id], [i1].[IdentityResourceId], [i1].[Key], [i1].[Value]
FROM [IdentityResources] AS [i]
LEFT JOIN [IdentityResourceClaims] AS [i0] ON [i].[Id] = [i0].[IdentityResourceId]
LEFT JOIN [IdentityResourceProperties] AS [i1] ON [i].[Id] = [i1].[IdentityResourceId]
WHERE [i].[Name] IN (N'openid', N'profile', N'email', N'roles')
ORDER BY [i].[Id], [i0].[Id], [i1].[Id]"
[2020-12-30T11:52:58.0002106+00:00][INFO][55][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("7"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [a].[Id], [a].[AllowedAccessTokenSigningAlgorithms], [a].[Created], [a].[Description], [a].[DisplayName], [a].[Enabled], [a].[LastAccessed], [a].[Name], [a].[NonEditable], [a].[ShowInDiscoveryDocument], [a].[Updated], [a0].[Id], [a0].[ApiResourceId], [a0].[Created], [a0].[Description], [a0].[Expiration], [a0].[Type], [a0].[Value], [a1].[Id], [a1].[ApiResourceId], [a1].[Scope], [a2].[Id], [a2].[ApiResourceId], [a2].[Type], [a3].[Id], [a3].[ApiResourceId], [a3].[Key], [a3].[Value]
FROM [ApiResources] AS [a]
LEFT JOIN [ApiResourceSecrets] AS [a0] ON [a].[Id] = [a0].[ApiResourceId]
LEFT JOIN [ApiResourceScopes] AS [a1] ON [a].[Id] = [a1].[ApiResourceId]
LEFT JOIN [ApiResourceClaims] AS [a2] ON [a].[Id] = [a2].[ApiResourceId]
LEFT JOIN [ApiResourceProperties] AS [a3] ON [a].[Id] = [a3].[ApiResourceId]
WHERE EXISTS (
    SELECT 1
    FROM [ApiResourceScopes] AS [a4]
    WHERE ([a].[Id] = [a4].[ApiResourceId]) AND [a4].[Scope] IN (N'openid', N'profile', N'email', N'roles'))
ORDER BY [a].[Id], [a0].[Id], [a1].[Id], [a2].[Id], [a3].[Id]"
[2020-12-30T11:52:58.0272441+00:00][INFO][60][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("20"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [a].[Id], [a].[Description], [a].[DisplayName], [a].[Emphasize], [a].[Enabled], [a].[Name], [a].[Required], [a].[ShowInDiscoveryDocument], [a0].[Id], [a0].[ScopeId], [a0].[Type], [a1].[Id], [a1].[Key], [a1].[ScopeId], [a1].[Value]
FROM [ApiScopes] AS [a]
LEFT JOIN [ApiScopeClaims] AS [a0] ON [a].[Id] = [a0].[ScopeId]
LEFT JOIN [ApiScopeProperties] AS [a1] ON [a].[Id] = [a1].[ScopeId]
WHERE [a].[Name] IN (N'openid', N'profile', N'email', N'roles')
ORDER BY [a].[Id], [a0].[Id], [a1].[Id]"
[2020-12-30T11:52:58.0611352+00:00][INFO][63][Microsoft.EntityFrameworkCore.Infrastructure] Entity Framework Core "5.0.1" initialized '"AdminIdentityDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=EventManager.Identity.Admin.EntityFramework.SqlServer "
[2020-12-30T11:52:58.0778150+00:00][INFO][62][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("14"ms) [Parameters=["@__p_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[Id] = @__p_0"
[2020-12-30T11:52:58.3234214+00:00][INFO][66][Microsoft.EntityFrameworkCore.Infrastructure] Entity Framework Core "5.0.1" initialized '"IdentityServerPersistedGrantDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=EventManager.Identity.Admin.EntityFramework.SqlServer "
[2020-12-30T11:52:58.3415262+00:00][INFO][56][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("3"ms) [Parameters=["@__token_Key_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [p].[Key], [p].[ClientId], [p].[ConsumedTime], [p].[CreationTime], [p].[Data], [p].[Description], [p].[Expiration], [p].[SessionId], [p].[SubjectId], [p].[Type]
FROM [PersistedGrants] AS [p]
WHERE [p].[Key] = @__token_Key_0"
[2020-12-30T11:52:58.4209477+00:00][INFO][65][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("6"ms) [Parameters=["@p0='?' (Size = 200), @p1='?' (Size = 200), @p2='?' (DbType = DateTime2), @p3='?' (DbType = DateTime2), @p4='?' (Size = 4000), @p5='?' (Size = 200), @p6='?' (DbType = DateTime2), @p7='?' (Size = 100), @p8='?' (Size = 200), @p9='?' (Size = 50)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
INSERT INTO [PersistedGrants] ([Key], [ClientId], [ConsumedTime], [CreationTime], [Data], [Description], [Expiration], [SessionId], [SubjectId], [Type])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9);"
[2020-12-30T11:52:58.4558499+00:00][INFO][65][IdentityServer4.Events.DefaultEventService] TokenIssuedSuccessEvent { ClientId: "urn:em:client:mvc", ClientName: "Event Manager Identity Admin Client", RedirectUri: "https://www.em.host/admin/identity/signin-oidc", Endpoint: "Authorize", SubjectId: "fa12f9c0-7360-45db-9477-218afbaee607", Scopes: "openid profile email roles", GrantType: "authorization_code", Tokens: [Token { TokenType: "code", TokenValue: "****B8AD" }], Category: "Token", Name: "Token Issued Success", EventType: Success, Id: 2000, Message: null, ActivityId: "0HM5CMT6AGFSS:00000002", TimeStamp: 12/30/2020 11:52:58, ProcessId: 1288, LocalIpAddress: "::ffff:172.18.0.7:50003", RemoteIpAddress: "172.18.0.1" }
[2020-12-30T11:52:58.4727757+00:00][INFO][65][Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler] AuthenticationScheme: "Identity.Application" signed in.
[2020-12-30T11:52:58.4804877+00:00][INFO][65][Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/1.1 GET http://sts.em.host/connect/authorize?client_id=urn%3Aem%3Aclient&redirect_uri=https%3A%2F%2Fwww.em.host%2Fadmin%2Fidentity%2Fsignin-oidc&response_type=code&scope=openid%20profile%20email%20roles&code_challenge=STfGFBlfyy2eyF-p8nUYOYbUKPYpIQqBZbZZcLkPmww&code_challenge_method=S256&response_mode=form_post&nonce=637449259777504097.NmVhYzk3ZjAtMjZjMS00MzhkLWE4MDktZWFjNzk0ODRmMGYwMGQyNmNkOWQtMzk2Yi00YWMyLWJhNzYtZGRiZDJhZTNmZmFl&state=CfDJ8ASI9RBeE6hBsIC3rORyZw3UfnjDOyCp6E1WQwqpV9jGsOYYSkYivbAFvtBhhLW7tR5A2G-6ntmScFUNfnz-BM9h2V3daQmQEkAJH8yb2QCs58aYiWyIrp2NW3Zi2mfRbSSps60utM6G_BWWgXFpUJfzQHBpvoLP23lLqspxkwX1DWx4kjbFZYLXmMm_sUATpVlbhqBVykMKDjT75PiNEcNqZ1wor7n3Tx1wDW2fZDjyLlmTnTD5xdgfzWWpMKMDt-hYOUo1LeAx5AavmeJJO_uinnyxqts6v-4PZMCTv5Pecubr9SgCys_JnIdQS5bybYtSUDIGCL98BZMw7-dWzGC336BLalp_QR-tnmUyZtyg7TJhYi6CG_FNQv59lOGGFA&x-client-SKU=ID_NETSTANDARD2_0&x-client-ver=5.6.0.0 - - - 200 - text/html;+charset=UTF-8 687.3756ms
[2020-12-30T11:53:15.2078380+00:00][INFO][57][Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 GET http://sts.em.host/Grants - -
[2020-12-30T11:53:15.2106091+00:00][INFO][57][Microsoft.AspNetCore.Authorization.DefaultAuthorizationService] Authorization was successful.
[2020-12-30T11:53:15.2113496+00:00][INFO][57][Microsoft.AspNetCore.Routing.EndpointMiddleware] Executing endpoint '"EventManager.Identity.STS.Identity.Controllers.GrantsController.Index (EventManager.Identity.STS.Identity)"'
[2020-12-30T11:53:15.2165665+00:00][INFO][57][Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Route matched with "{action = \"Index\", controller = \"Grants\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Index()" on controller "EventManager.Identity.STS.Identity.Controllers.GrantsController" ("EventManager.Identity.STS.Identity").
[2020-12-30T11:53:15.2230251+00:00][INFO][57][Microsoft.EntityFrameworkCore.Infrastructure] Entity Framework Core "5.0.1" initialized '"IdentityServerPersistedGrantDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=EventManager.Identity.Admin.EntityFramework.SqlServer "
[2020-12-30T11:53:15.2560576+00:00][INFO][66][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("28"ms) [Parameters=["@__filter_SubjectId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [p].[Key], [p].[ClientId], [p].[ConsumedTime], [p].[CreationTime], [p].[Data], [p].[Description], [p].[Expiration], [p].[SessionId], [p].[SubjectId], [p].[Type]
FROM [PersistedGrants] AS [p]
WHERE [p].[SubjectId] = @__filter_SubjectId_0"
[2020-12-30T11:53:15.3404897+00:00][INFO][66][Microsoft.EntityFrameworkCore.Infrastructure] Entity Framework Core "5.0.1" initialized '"IdentityServerConfigurationDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=EventManager.Identity.Admin.EntityFramework.SqlServer "
[2020-12-30T11:53:15.3558757+00:00][INFO][62][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("9"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c].[Id], [c].[AbsoluteRefreshTokenLifetime], [c].[AccessTokenLifetime], [c].[AccessTokenType], [c].[AllowAccessTokensViaBrowser], [c].[AllowOfflineAccess], [c].[AllowPlainTextPkce], [c].[AllowRememberConsent], [c].[AllowedIdentityTokenSigningAlgorithms], [c].[AlwaysIncludeUserClaimsInIdToken], [c].[AlwaysSendClientClaims], [c].[AuthorizationCodeLifetime], [c].[BackChannelLogoutSessionRequired], [c].[BackChannelLogoutUri], [c].[ClientClaimsPrefix], [c].[ClientId], [c].[ClientName], [c].[ClientUri], [c].[ConsentLifetime], [c].[Created], [c].[Description], [c].[DeviceCodeLifetime], [c].[EnableLocalLogin], [c].[Enabled], [c].[FrontChannelLogoutSessionRequired], [c].[FrontChannelLogoutUri], [c].[IdentityTokenLifetime], [c].[IncludeJwtId], [c].[LastAccessed], [c].[LogoUri], [c].[NonEditable], [c].[PairWiseSubjectSalt], [c].[ProtocolType], [c].[RefreshTokenExpiration], [c].[RefreshTokenUsage], [c].[RequireClientSecret], [c].[RequireConsent], [c].[RequirePkce], [c].[RequireRequestObject], [c].[SlidingRefreshTokenLifetime], [c].[UpdateAccessTokenClaimsOnRefresh], [c].[Updated], [c].[UserCodeType], [c].[UserSsoLifetime]
FROM [Clients] AS [c]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T11:53:15.3715645+00:00][INFO][55][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("8"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[Origin]
FROM [Clients] AS [c]
INNER JOIN [ClientCorsOrigins] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T11:53:15.3841530+00:00][INFO][55][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("3"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[GrantType]
FROM [Clients] AS [c]
INNER JOIN [ClientGrantTypes] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T11:53:15.3938237+00:00][INFO][56][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("5"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[Scope]
FROM [Clients] AS [c]
INNER JOIN [ClientScopes] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T11:53:15.4061993+00:00][INFO][66][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("7"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[Type], [c0].[Value]
FROM [Clients] AS [c]
INNER JOIN [ClientClaims] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T11:53:15.4361561+00:00][INFO][62][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("26"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[Created], [c0].[Description], [c0].[Expiration], [c0].[Type], [c0].[Value]
FROM [Clients] AS [c]
INNER JOIN [ClientSecrets] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T11:53:15.4460434+00:00][INFO][56][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("5"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[Provider]
FROM [Clients] AS [c]
INNER JOIN [ClientIdPRestrictions] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T11:53:15.4561298+00:00][INFO][60][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("4"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[PostLogoutRedirectUri]
FROM [Clients] AS [c]
INNER JOIN [ClientPostLogoutRedirectUris] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T11:53:15.4667184+00:00][INFO][62][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("8"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[Key], [c0].[Value]
FROM [Clients] AS [c]
INNER JOIN [ClientProperties] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T11:53:15.4754181+00:00][INFO][55][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("5"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[RedirectUri]
FROM [Clients] AS [c]
INNER JOIN [ClientRedirectUris] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T11:53:15.4895685+00:00][INFO][55][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("6"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [i].[Id], [i].[Created], [i].[Description], [i].[DisplayName], [i].[Emphasize], [i].[Enabled], [i].[Name], [i].[NonEditable], [i].[Required], [i].[ShowInDiscoveryDocument], [i].[Updated], [i0].[Id], [i0].[IdentityResourceId], [i0].[Type], [i1].[Id], [i1].[IdentityResourceId], [i1].[Key], [i1].[Value]
FROM [IdentityResources] AS [i]
LEFT JOIN [IdentityResourceClaims] AS [i0] ON [i].[Id] = [i0].[IdentityResourceId]
LEFT JOIN [IdentityResourceProperties] AS [i1] ON [i].[Id] = [i1].[IdentityResourceId]
WHERE [i].[Name] IN (N'openid', N'profile', N'email', N'roles')
ORDER BY [i].[Id], [i0].[Id], [i1].[Id]"
[2020-12-30T11:53:15.5257691+00:00][INFO][63][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("26"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [a].[Id], [a].[AllowedAccessTokenSigningAlgorithms], [a].[Created], [a].[Description], [a].[DisplayName], [a].[Enabled], [a].[LastAccessed], [a].[Name], [a].[NonEditable], [a].[ShowInDiscoveryDocument], [a].[Updated], [a0].[Id], [a0].[ApiResourceId], [a0].[Created], [a0].[Description], [a0].[Expiration], [a0].[Type], [a0].[Value], [a1].[Id], [a1].[ApiResourceId], [a1].[Scope], [a2].[Id], [a2].[ApiResourceId], [a2].[Type], [a3].[Id], [a3].[ApiResourceId], [a3].[Key], [a3].[Value]
FROM [ApiResources] AS [a]
LEFT JOIN [ApiResourceSecrets] AS [a0] ON [a].[Id] = [a0].[ApiResourceId]
LEFT JOIN [ApiResourceScopes] AS [a1] ON [a].[Id] = [a1].[ApiResourceId]
LEFT JOIN [ApiResourceClaims] AS [a2] ON [a].[Id] = [a2].[ApiResourceId]
LEFT JOIN [ApiResourceProperties] AS [a3] ON [a].[Id] = [a3].[ApiResourceId]
WHERE EXISTS (
    SELECT 1
    FROM [ApiResourceScopes] AS [a4]
    WHERE ([a].[Id] = [a4].[ApiResourceId]) AND [a4].[Scope] IN (N'openid', N'profile', N'email', N'roles'))
ORDER BY [a].[Id], [a0].[Id], [a1].[Id], [a2].[Id], [a3].[Id]"
[2020-12-30T11:53:15.5352316+00:00][INFO][55][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("4"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [a].[Id], [a].[Description], [a].[DisplayName], [a].[Emphasize], [a].[Enabled], [a].[Name], [a].[Required], [a].[ShowInDiscoveryDocument], [a0].[Id], [a0].[ScopeId], [a0].[Type], [a1].[Id], [a1].[Key], [a1].[ScopeId], [a1].[Value]
FROM [ApiScopes] AS [a]
LEFT JOIN [ApiScopeClaims] AS [a0] ON [a].[Id] = [a0].[ScopeId]
LEFT JOIN [ApiScopeProperties] AS [a1] ON [a].[Id] = [a1].[ScopeId]
WHERE [a].[Name] IN (N'openid', N'profile', N'email', N'roles')
ORDER BY [a].[Id], [a0].[Id], [a1].[Id]"
[2020-12-30T11:53:15.5470539+00:00][INFO][65][Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor] Executing ViewResult, running view "Index".
[2020-12-30T11:53:15.5741764+00:00][INFO][65][Microsoft.AspNetCore.Authorization.DefaultAuthorizationService] Authorization was successful.
[2020-12-30T11:53:15.5826591+00:00][INFO][65][Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor] Executed ViewResult - view "Index" executed in 35.6858ms.
[2020-12-30T11:53:15.5845076+00:00][INFO][65][Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Executed action "EventManager.Identity.STS.Identity.Controllers.GrantsController.Index (EventManager.Identity.STS.Identity)" in 367.1092ms
[2020-12-30T11:53:15.5859116+00:00][INFO][65][Microsoft.AspNetCore.Routing.EndpointMiddleware] Executed endpoint '"EventManager.Identity.STS.Identity.Controllers.GrantsController.Index (EventManager.Identity.STS.Identity)"'
[2020-12-30T11:53:15.5868283+00:00][INFO][65][Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/1.1 GET http://sts.em.host/Grants - - - 200 - text/html;+charset=utf-8 378.9620ms
[2020-12-30T11:53:37.5043219+00:00][INFO][65][Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 GET http://sts.em.host/Manage - -
[2020-12-30T11:53:37.5112618+00:00][INFO][65][Microsoft.AspNetCore.Authorization.DefaultAuthorizationService] Authorization was successful.
[2020-12-30T11:53:37.5124123+00:00][INFO][65][Microsoft.AspNetCore.Routing.EndpointMiddleware] Executing endpoint '"EventManager.Identity.STS.Identity.Controllers.ManageController<EventManager.Identity.Admin.EntityFramework.Shared.Entities.Identity.UserIdentity, string>.Index (EventManager.Identity.STS.Identity)"'
[2020-12-30T11:53:37.5135622+00:00][INFO][65][Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Route matched with "{action = \"Index\", controller = \"Manage\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Index()" on controller "EventManager.Identity.STS.Identity.Controllers.ManageController<EventManager.Identity.Admin.EntityFramework.Shared.Entities.Identity.UserIdentity, string>" ("EventManager.Identity.STS.Identity").
[2020-12-30T11:53:37.5244858+00:00][INFO][65][Microsoft.EntityFrameworkCore.Infrastructure] Entity Framework Core "5.0.1" initialized '"AdminIdentityDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=EventManager.Identity.Admin.EntityFramework.SqlServer "
[2020-12-30T11:53:37.5410746+00:00][INFO][69][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("13"ms) [Parameters=["@__p_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[Id] = @__p_0"
[2020-12-30T11:53:37.6398271+00:00][INFO][68][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("4"ms) [Parameters=["@__user_Id_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [u].[Id], [u].[ClaimType], [u].[ClaimValue], [u].[UserId]
FROM [UserClaims] AS [u]
WHERE [u].[UserId] = @__user_Id_0"
[2020-12-30T11:53:37.6632371+00:00][INFO][68][Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor] Executing ViewResult, running view "Index".
[2020-12-30T11:53:37.6817054+00:00][INFO][68][Microsoft.AspNetCore.Authorization.DefaultAuthorizationService] Authorization was successful.
[2020-12-30T11:53:37.6889514+00:00][INFO][68][Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor] Executed ViewResult - view "Index" executed in 25.8788ms.
[2020-12-30T11:53:37.6896558+00:00][INFO][68][Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Executed action "EventManager.Identity.STS.Identity.Controllers.ManageController<EventManager.Identity.Admin.EntityFramework.Shared.Entities.Identity.UserIdentity, string>.Index (EventManager.Identity.STS.Identity)" in 166.7186ms
[2020-12-30T11:53:37.6911318+00:00][INFO][68][Microsoft.AspNetCore.Routing.EndpointMiddleware] Executed endpoint '"EventManager.Identity.STS.Identity.Controllers.ManageController<EventManager.Identity.Admin.EntityFramework.Shared.Entities.Identity.UserIdentity, string>.Index (EventManager.Identity.STS.Identity)"'
[2020-12-30T11:53:37.6921268+00:00][INFO][68][Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/1.1 GET http://sts.em.host/Manage - - - 200 - text/html;+charset=utf-8 187.8482ms
[2020-12-30T11:53:40.1708877+00:00][INFO][65][Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 GET http://sts.em.host/Grants - -
[2020-12-30T11:53:40.1734941+00:00][INFO][65][Microsoft.AspNetCore.Authorization.DefaultAuthorizationService] Authorization was successful.
[2020-12-30T11:53:40.1743791+00:00][INFO][65][Microsoft.AspNetCore.Routing.EndpointMiddleware] Executing endpoint '"EventManager.Identity.STS.Identity.Controllers.GrantsController.Index (EventManager.Identity.STS.Identity)"'
[2020-12-30T11:53:40.1756597+00:00][INFO][65][Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Route matched with "{action = \"Index\", controller = \"Grants\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Index()" on controller "EventManager.Identity.STS.Identity.Controllers.GrantsController" ("EventManager.Identity.STS.Identity").
[2020-12-30T11:53:40.1779522+00:00][INFO][65][Microsoft.EntityFrameworkCore.Infrastructure] Entity Framework Core "5.0.1" initialized '"IdentityServerPersistedGrantDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=EventManager.Identity.Admin.EntityFramework.SqlServer "
[2020-12-30T11:53:40.2009122+00:00][INFO][67][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("12"ms) [Parameters=["@__filter_SubjectId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [p].[Key], [p].[ClientId], [p].[ConsumedTime], [p].[CreationTime], [p].[Data], [p].[Description], [p].[Expiration], [p].[SessionId], [p].[SubjectId], [p].[Type]
FROM [PersistedGrants] AS [p]
WHERE [p].[SubjectId] = @__filter_SubjectId_0"
[2020-12-30T11:53:40.3091939+00:00][INFO][67][Microsoft.EntityFrameworkCore.Infrastructure] Entity Framework Core "5.0.1" initialized '"IdentityServerConfigurationDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=EventManager.Identity.Admin.EntityFramework.SqlServer "
[2020-12-30T11:53:40.3394289+00:00][INFO][60][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("27"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c].[Id], [c].[AbsoluteRefreshTokenLifetime], [c].[AccessTokenLifetime], [c].[AccessTokenType], [c].[AllowAccessTokensViaBrowser], [c].[AllowOfflineAccess], [c].[AllowPlainTextPkce], [c].[AllowRememberConsent], [c].[AllowedIdentityTokenSigningAlgorithms], [c].[AlwaysIncludeUserClaimsInIdToken], [c].[AlwaysSendClientClaims], [c].[AuthorizationCodeLifetime], [c].[BackChannelLogoutSessionRequired], [c].[BackChannelLogoutUri], [c].[ClientClaimsPrefix], [c].[ClientId], [c].[ClientName], [c].[ClientUri], [c].[ConsentLifetime], [c].[Created], [c].[Description], [c].[DeviceCodeLifetime], [c].[EnableLocalLogin], [c].[Enabled], [c].[FrontChannelLogoutSessionRequired], [c].[FrontChannelLogoutUri], [c].[IdentityTokenLifetime], [c].[IncludeJwtId], [c].[LastAccessed], [c].[LogoUri], [c].[NonEditable], [c].[PairWiseSubjectSalt], [c].[ProtocolType], [c].[RefreshTokenExpiration], [c].[RefreshTokenUsage], [c].[RequireClientSecret], [c].[RequireConsent], [c].[RequirePkce], [c].[RequireRequestObject], [c].[SlidingRefreshTokenLifetime], [c].[UpdateAccessTokenClaimsOnRefresh], [c].[Updated], [c].[UserCodeType], [c].[UserSsoLifetime]
FROM [Clients] AS [c]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T11:53:40.3475901+00:00][INFO][65][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("3"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[Origin]
FROM [Clients] AS [c]
INNER JOIN [ClientCorsOrigins] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T11:53:40.3584301+00:00][INFO][60][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("2"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[GrantType]
FROM [Clients] AS [c]
INNER JOIN [ClientGrantTypes] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T11:53:40.3655879+00:00][INFO][65][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("4"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[Scope]
FROM [Clients] AS [c]
INNER JOIN [ClientScopes] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T11:53:40.3770349+00:00][INFO][65][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("8"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[Type], [c0].[Value]
FROM [Clients] AS [c]
INNER JOIN [ClientClaims] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T11:53:40.3866824+00:00][INFO][67][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("5"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[Created], [c0].[Description], [c0].[Expiration], [c0].[Type], [c0].[Value]
FROM [Clients] AS [c]
INNER JOIN [ClientSecrets] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T11:53:40.3980998+00:00][INFO][65][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("4"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[Provider]
FROM [Clients] AS [c]
INNER JOIN [ClientIdPRestrictions] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T11:53:40.4503270+00:00][INFO][69][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("7"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[PostLogoutRedirectUri]
FROM [Clients] AS [c]
INNER JOIN [ClientPostLogoutRedirectUris] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T11:53:40.4878027+00:00][INFO][71][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("12"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[Key], [c0].[Value]
FROM [Clients] AS [c]
INNER JOIN [ClientProperties] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T11:53:40.5009047+00:00][INFO][70][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("8"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[RedirectUri]
FROM [Clients] AS [c]
INNER JOIN [ClientRedirectUris] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T11:53:40.5358813+00:00][INFO][71][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("9"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [i].[Id], [i].[Created], [i].[Description], [i].[DisplayName], [i].[Emphasize], [i].[Enabled], [i].[Name], [i].[NonEditable], [i].[Required], [i].[ShowInDiscoveryDocument], [i].[Updated], [i0].[Id], [i0].[IdentityResourceId], [i0].[Type], [i1].[Id], [i1].[IdentityResourceId], [i1].[Key], [i1].[Value]
FROM [IdentityResources] AS [i]
LEFT JOIN [IdentityResourceClaims] AS [i0] ON [i].[Id] = [i0].[IdentityResourceId]
LEFT JOIN [IdentityResourceProperties] AS [i1] ON [i].[Id] = [i1].[IdentityResourceId]
WHERE [i].[Name] IN (N'openid', N'profile', N'email', N'roles')
ORDER BY [i].[Id], [i0].[Id], [i1].[Id]"
[2020-12-30T11:53:40.5463112+00:00][INFO][68][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("5"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [a].[Id], [a].[AllowedAccessTokenSigningAlgorithms], [a].[Created], [a].[Description], [a].[DisplayName], [a].[Enabled], [a].[LastAccessed], [a].[Name], [a].[NonEditable], [a].[ShowInDiscoveryDocument], [a].[Updated], [a0].[Id], [a0].[ApiResourceId], [a0].[Created], [a0].[Description], [a0].[Expiration], [a0].[Type], [a0].[Value], [a1].[Id], [a1].[ApiResourceId], [a1].[Scope], [a2].[Id], [a2].[ApiResourceId], [a2].[Type], [a3].[Id], [a3].[ApiResourceId], [a3].[Key], [a3].[Value]
FROM [ApiResources] AS [a]
LEFT JOIN [ApiResourceSecrets] AS [a0] ON [a].[Id] = [a0].[ApiResourceId]
LEFT JOIN [ApiResourceScopes] AS [a1] ON [a].[Id] = [a1].[ApiResourceId]
LEFT JOIN [ApiResourceClaims] AS [a2] ON [a].[Id] = [a2].[ApiResourceId]
LEFT JOIN [ApiResourceProperties] AS [a3] ON [a].[Id] = [a3].[ApiResourceId]
WHERE EXISTS (
    SELECT 1
    FROM [ApiResourceScopes] AS [a4]
    WHERE ([a].[Id] = [a4].[ApiResourceId]) AND [a4].[Scope] IN (N'openid', N'profile', N'email', N'roles'))
ORDER BY [a].[Id], [a0].[Id], [a1].[Id], [a2].[Id], [a3].[Id]"
[2020-12-30T11:53:40.5566582+00:00][INFO][69][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [a].[Id], [a].[Description], [a].[DisplayName], [a].[Emphasize], [a].[Enabled], [a].[Name], [a].[Required], [a].[ShowInDiscoveryDocument], [a0].[Id], [a0].[ScopeId], [a0].[Type], [a1].[Id], [a1].[Key], [a1].[ScopeId], [a1].[Value]
FROM [ApiScopes] AS [a]
LEFT JOIN [ApiScopeClaims] AS [a0] ON [a].[Id] = [a0].[ScopeId]
LEFT JOIN [ApiScopeProperties] AS [a1] ON [a].[Id] = [a1].[ScopeId]
WHERE [a].[Name] IN (N'openid', N'profile', N'email', N'roles')
ORDER BY [a].[Id], [a0].[Id], [a1].[Id]"
[2020-12-30T11:53:40.5804383+00:00][INFO][69][Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor] Executing ViewResult, running view "Index".
[2020-12-30T11:53:40.5833948+00:00][INFO][69][Microsoft.AspNetCore.Authorization.DefaultAuthorizationService] Authorization was successful.
[2020-12-30T11:53:40.5979479+00:00][INFO][69][Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor] Executed ViewResult - view "Index" executed in 17.5244ms.
[2020-12-30T11:53:40.6009338+00:00][INFO][69][Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Executed action "EventManager.Identity.STS.Identity.Controllers.GrantsController.Index (EventManager.Identity.STS.Identity)" in 424.2188ms
[2020-12-30T11:53:40.6025751+00:00][INFO][69][Microsoft.AspNetCore.Routing.EndpointMiddleware] Executed endpoint '"EventManager.Identity.STS.Identity.Controllers.GrantsController.Index (EventManager.Identity.STS.Identity)"'
[2020-12-30T11:53:40.6125031+00:00][INFO][69][Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/1.1 GET http://sts.em.host/Grants - - - 200 - text/html;+charset=utf-8 441.5153ms
[2020-12-30T11:53:54.6973532+00:00][INFO][65][Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 GET http://sts.em.host/ - -
[2020-12-30T11:53:54.7004005+00:00][INFO][65][Microsoft.AspNetCore.Routing.EndpointMiddleware] Executing endpoint '"EventManager.Identity.STS.Identity.Controllers.HomeController.Index (EventManager.Identity.STS.Identity)"'
[2020-12-30T11:53:54.7011834+00:00][INFO][65][Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Route matched with "{action = \"Index\", controller = \"Home\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult Index()" on controller "EventManager.Identity.STS.Identity.Controllers.HomeController" ("EventManager.Identity.STS.Identity").
[2020-12-30T11:53:54.7098218+00:00][INFO][65][Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor] Executing ViewResult, running view "Index".
[2020-12-30T11:53:54.7116441+00:00][INFO][65][Microsoft.AspNetCore.Authorization.DefaultAuthorizationService] Authorization was successful.
[2020-12-30T11:53:54.7167853+00:00][INFO][65][Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor] Executed ViewResult - view "Index" executed in 8.4108ms.
[2020-12-30T11:53:54.7186637+00:00][INFO][65][Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Executed action "EventManager.Identity.STS.Identity.Controllers.HomeController.Index (EventManager.Identity.STS.Identity)" in 10.8838ms
[2020-12-30T11:53:54.7259025+00:00][INFO][65][Microsoft.AspNetCore.Routing.EndpointMiddleware] Executed endpoint '"EventManager.Identity.STS.Identity.Controllers.HomeController.Index (EventManager.Identity.STS.Identity)"'
[2020-12-30T11:53:54.7310065+00:00][INFO][65][Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/1.1 GET http://sts.em.host/ - - - 200 - text/html;+charset=utf-8 33.4826ms
[2020-12-30T11:54:02.7851815+00:00][INFO][70][Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 GET http://sts.em.host/Grants - -
[2020-12-30T11:54:02.7886424+00:00][INFO][70][Microsoft.AspNetCore.Authorization.DefaultAuthorizationService] Authorization was successful.
[2020-12-30T11:54:02.7905279+00:00][INFO][70][Microsoft.AspNetCore.Routing.EndpointMiddleware] Executing endpoint '"EventManager.Identity.STS.Identity.Controllers.GrantsController.Index (EventManager.Identity.STS.Identity)"'
[2020-12-30T11:54:02.7917070+00:00][INFO][70][Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Route matched with "{action = \"Index\", controller = \"Grants\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Index()" on controller "EventManager.Identity.STS.Identity.Controllers.GrantsController" ("EventManager.Identity.STS.Identity").
[2020-12-30T11:54:02.7941892+00:00][INFO][70][Microsoft.EntityFrameworkCore.Infrastructure] Entity Framework Core "5.0.1" initialized '"IdentityServerPersistedGrantDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=EventManager.Identity.Admin.EntityFramework.SqlServer "
[2020-12-30T11:54:02.8476413+00:00][INFO][60][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("52"ms) [Parameters=["@__filter_SubjectId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [p].[Key], [p].[ClientId], [p].[ConsumedTime], [p].[CreationTime], [p].[Data], [p].[Description], [p].[Expiration], [p].[SessionId], [p].[SubjectId], [p].[Type]
FROM [PersistedGrants] AS [p]
WHERE [p].[SubjectId] = @__filter_SubjectId_0"
[2020-12-30T11:54:02.8623952+00:00][INFO][60][Microsoft.EntityFrameworkCore.Infrastructure] Entity Framework Core "5.0.1" initialized '"IdentityServerConfigurationDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=EventManager.Identity.Admin.EntityFramework.SqlServer "
[2020-12-30T11:54:02.9119621+00:00][INFO][68][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("2"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c].[Id], [c].[AbsoluteRefreshTokenLifetime], [c].[AccessTokenLifetime], [c].[AccessTokenType], [c].[AllowAccessTokensViaBrowser], [c].[AllowOfflineAccess], [c].[AllowPlainTextPkce], [c].[AllowRememberConsent], [c].[AllowedIdentityTokenSigningAlgorithms], [c].[AlwaysIncludeUserClaimsInIdToken], [c].[AlwaysSendClientClaims], [c].[AuthorizationCodeLifetime], [c].[BackChannelLogoutSessionRequired], [c].[BackChannelLogoutUri], [c].[ClientClaimsPrefix], [c].[ClientId], [c].[ClientName], [c].[ClientUri], [c].[ConsentLifetime], [c].[Created], [c].[Description], [c].[DeviceCodeLifetime], [c].[EnableLocalLogin], [c].[Enabled], [c].[FrontChannelLogoutSessionRequired], [c].[FrontChannelLogoutUri], [c].[IdentityTokenLifetime], [c].[IncludeJwtId], [c].[LastAccessed], [c].[LogoUri], [c].[NonEditable], [c].[PairWiseSubjectSalt], [c].[ProtocolType], [c].[RefreshTokenExpiration], [c].[RefreshTokenUsage], [c].[RequireClientSecret], [c].[RequireConsent], [c].[RequirePkce], [c].[RequireRequestObject], [c].[SlidingRefreshTokenLifetime], [c].[UpdateAccessTokenClaimsOnRefresh], [c].[Updated], [c].[UserCodeType], [c].[UserSsoLifetime]
FROM [Clients] AS [c]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T11:54:02.9277888+00:00][INFO][69][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("8"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[Origin]
FROM [Clients] AS [c]
INNER JOIN [ClientCorsOrigins] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T11:54:02.9352372+00:00][INFO][70][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("2"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[GrantType]
FROM [Clients] AS [c]
INNER JOIN [ClientGrantTypes] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T11:54:02.9462186+00:00][INFO][65][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("8"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[Scope]
FROM [Clients] AS [c]
INNER JOIN [ClientScopes] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T11:54:02.9542193+00:00][INFO][65][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("5"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[Type], [c0].[Value]
FROM [Clients] AS [c]
INNER JOIN [ClientClaims] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T11:54:02.9635706+00:00][INFO][65][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("5"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[Created], [c0].[Description], [c0].[Expiration], [c0].[Type], [c0].[Value]
FROM [Clients] AS [c]
INNER JOIN [ClientSecrets] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T11:54:02.9766997+00:00][INFO][70][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("3"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[Provider]
FROM [Clients] AS [c]
INNER JOIN [ClientIdPRestrictions] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T11:54:02.9947836+00:00][INFO][69][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("8"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[PostLogoutRedirectUri]
FROM [Clients] AS [c]
INNER JOIN [ClientPostLogoutRedirectUris] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T11:54:03.0170137+00:00][INFO][60][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("19"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[Key], [c0].[Value]
FROM [Clients] AS [c]
INNER JOIN [ClientProperties] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T11:54:03.0317299+00:00][INFO][69][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("5"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[RedirectUri]
FROM [Clients] AS [c]
INNER JOIN [ClientRedirectUris] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T11:54:03.0512709+00:00][INFO][60][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("17"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [i].[Id], [i].[Created], [i].[Description], [i].[DisplayName], [i].[Emphasize], [i].[Enabled], [i].[Name], [i].[NonEditable], [i].[Required], [i].[ShowInDiscoveryDocument], [i].[Updated], [i0].[Id], [i0].[IdentityResourceId], [i0].[Type], [i1].[Id], [i1].[IdentityResourceId], [i1].[Key], [i1].[Value]
FROM [IdentityResources] AS [i]
LEFT JOIN [IdentityResourceClaims] AS [i0] ON [i].[Id] = [i0].[IdentityResourceId]
LEFT JOIN [IdentityResourceProperties] AS [i1] ON [i].[Id] = [i1].[IdentityResourceId]
WHERE [i].[Name] IN (N'openid', N'profile', N'email', N'roles')
ORDER BY [i].[Id], [i0].[Id], [i1].[Id]"
[2020-12-30T11:54:03.0841257+00:00][INFO][69][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("5"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [a].[Id], [a].[AllowedAccessTokenSigningAlgorithms], [a].[Created], [a].[Description], [a].[DisplayName], [a].[Enabled], [a].[LastAccessed], [a].[Name], [a].[NonEditable], [a].[ShowInDiscoveryDocument], [a].[Updated], [a0].[Id], [a0].[ApiResourceId], [a0].[Created], [a0].[Description], [a0].[Expiration], [a0].[Type], [a0].[Value], [a1].[Id], [a1].[ApiResourceId], [a1].[Scope], [a2].[Id], [a2].[ApiResourceId], [a2].[Type], [a3].[Id], [a3].[ApiResourceId], [a3].[Key], [a3].[Value]
FROM [ApiResources] AS [a]
LEFT JOIN [ApiResourceSecrets] AS [a0] ON [a].[Id] = [a0].[ApiResourceId]
LEFT JOIN [ApiResourceScopes] AS [a1] ON [a].[Id] = [a1].[ApiResourceId]
LEFT JOIN [ApiResourceClaims] AS [a2] ON [a].[Id] = [a2].[ApiResourceId]
LEFT JOIN [ApiResourceProperties] AS [a3] ON [a].[Id] = [a3].[ApiResourceId]
WHERE EXISTS (
    SELECT 1
    FROM [ApiResourceScopes] AS [a4]
    WHERE ([a].[Id] = [a4].[ApiResourceId]) AND [a4].[Scope] IN (N'openid', N'profile', N'email', N'roles'))
ORDER BY [a].[Id], [a0].[Id], [a1].[Id], [a2].[Id], [a3].[Id]"
[2020-12-30T11:54:03.1032381+00:00][INFO][65][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("14"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [a].[Id], [a].[Description], [a].[DisplayName], [a].[Emphasize], [a].[Enabled], [a].[Name], [a].[Required], [a].[ShowInDiscoveryDocument], [a0].[Id], [a0].[ScopeId], [a0].[Type], [a1].[Id], [a1].[Key], [a1].[ScopeId], [a1].[Value]
FROM [ApiScopes] AS [a]
LEFT JOIN [ApiScopeClaims] AS [a0] ON [a].[Id] = [a0].[ScopeId]
LEFT JOIN [ApiScopeProperties] AS [a1] ON [a].[Id] = [a1].[ScopeId]
WHERE [a].[Name] IN (N'openid', N'profile', N'email', N'roles')
ORDER BY [a].[Id], [a0].[Id], [a1].[Id]"
[2020-12-30T11:54:03.1073730+00:00][INFO][65][Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor] Executing ViewResult, running view "Index".
[2020-12-30T11:54:03.1115442+00:00][INFO][65][Microsoft.AspNetCore.Authorization.DefaultAuthorizationService] Authorization was successful.
[2020-12-30T11:54:03.1290830+00:00][INFO][65][Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor] Executed ViewResult - view "Index" executed in 21.7613ms.
[2020-12-30T11:54:03.1305711+00:00][INFO][65][Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Executed action "EventManager.Identity.STS.Identity.Controllers.GrantsController.Index (EventManager.Identity.STS.Identity)" in 337.8799ms
[2020-12-30T11:54:03.1439956+00:00][INFO][65][Microsoft.AspNetCore.Routing.EndpointMiddleware] Executed endpoint '"EventManager.Identity.STS.Identity.Controllers.GrantsController.Index (EventManager.Identity.STS.Identity)"'
[2020-12-30T11:54:03.1482477+00:00][INFO][65][Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/1.1 GET http://sts.em.host/Grants - - - 200 - text/html;+charset=utf-8 363.0037ms
[2020-12-30T11:54:09.9703734+00:00][INFO][70][Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 GET http://sts.em.host/connect/authorize?client_id=urn%3Aem%3Aclient&redirect_uri=https%3A%2F%2Fwww.em.host%2Fadmin%2Fidentity%2Fsignin-oidc&response_type=code&scope=openid%20profile%20email%20roles&code_challenge=PNYXytoee7Eozkjwnue4HKqGvL4GVUwtUpR5qQJx2v4&code_challenge_method=S256&response_mode=form_post&nonce=637449260499390925.Y2JhZGM4YWQtMDY3Yy00MDA1LTgwYjYtY2RiMWM3MWYwM2FjN2NjYzUyMTYtMTU5MS00ODlhLTlhZGYtYTk0NjQ4Y2JjZGRj&state=CfDJ8ASI9RBeE6hBsIC3rORyZw1nBuw5WWFJpzUq--49Oug1OMRkyn7HhE0gETNNf4qDtGHEfqewxPWZSTvc04Jkd0yVLmFGMjUCODlu7zxEdkw7u3ysyIIWzW4X7Kk1xmapDdPk_V2-bDUI-rmDBAbs5OjapNJU2lVGg5VWop2kA7nlvwzUsZ3ERgfdaojd-pNvLE3B8mo7KjOLhrAa6tNLwScOXmvsZcnnCJub7YtnMSMrYLrxGOixyS6ww9_BV6GZfx0fpdSsfvoyvHGmBZzAKunPxUi5rp56AG-TLg3X4kxCgEsGCcHavg-fhlSlJKKXMLWahXF9pyVj9zJAo6oFHhTEaQUDVWOEfrts2ffYYhT3FFOegbBamB83VCHSsje6BQ&x-client-SKU=ID_NETSTANDARD2_0&x-client-ver=5.6.0.0 - -
[2020-12-30T11:54:09.9978612+00:00][INFO][70][IdentityServer4.Hosting.IdentityServerMiddleware] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize"
[2020-12-30T11:54:10.0003538+00:00][INFO][70][Microsoft.EntityFrameworkCore.Infrastructure] Entity Framework Core "5.0.1" initialized '"IdentityServerConfigurationDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=EventManager.Identity.Admin.EntityFramework.SqlServer "
[2020-12-30T11:54:10.0145094+00:00][INFO][60][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("11"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c].[Id], [c].[AbsoluteRefreshTokenLifetime], [c].[AccessTokenLifetime], [c].[AccessTokenType], [c].[AllowAccessTokensViaBrowser], [c].[AllowOfflineAccess], [c].[AllowPlainTextPkce], [c].[AllowRememberConsent], [c].[AllowedIdentityTokenSigningAlgorithms], [c].[AlwaysIncludeUserClaimsInIdToken], [c].[AlwaysSendClientClaims], [c].[AuthorizationCodeLifetime], [c].[BackChannelLogoutSessionRequired], [c].[BackChannelLogoutUri], [c].[ClientClaimsPrefix], [c].[ClientId], [c].[ClientName], [c].[ClientUri], [c].[ConsentLifetime], [c].[Created], [c].[Description], [c].[DeviceCodeLifetime], [c].[EnableLocalLogin], [c].[Enabled], [c].[FrontChannelLogoutSessionRequired], [c].[FrontChannelLogoutUri], [c].[IdentityTokenLifetime], [c].[IncludeJwtId], [c].[LastAccessed], [c].[LogoUri], [c].[NonEditable], [c].[PairWiseSubjectSalt], [c].[ProtocolType], [c].[RefreshTokenExpiration], [c].[RefreshTokenUsage], [c].[RequireClientSecret], [c].[RequireConsent], [c].[RequirePkce], [c].[RequireRequestObject], [c].[SlidingRefreshTokenLifetime], [c].[UpdateAccessTokenClaimsOnRefresh], [c].[Updated], [c].[UserCodeType], [c].[UserSsoLifetime]
FROM [Clients] AS [c]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T11:54:10.0436880+00:00][INFO][70][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("8"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[Origin]
FROM [Clients] AS [c]
INNER JOIN [ClientCorsOrigins] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T11:54:10.0648267+00:00][INFO][65][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("19"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[GrantType]
FROM [Clients] AS [c]
INNER JOIN [ClientGrantTypes] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T11:54:10.0819268+00:00][INFO][72][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("15"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[Scope]
FROM [Clients] AS [c]
INNER JOIN [ClientScopes] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T11:54:10.1250782+00:00][INFO][69][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("33"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[Type], [c0].[Value]
FROM [Clients] AS [c]
INNER JOIN [ClientClaims] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T11:54:10.1295028+00:00][INFO][70][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("2"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[Created], [c0].[Description], [c0].[Expiration], [c0].[Type], [c0].[Value]
FROM [Clients] AS [c]
INNER JOIN [ClientSecrets] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T11:54:10.1569285+00:00][INFO][69][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("2"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[Provider]
FROM [Clients] AS [c]
INNER JOIN [ClientIdPRestrictions] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T11:54:10.1699240+00:00][INFO][73][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("9"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[PostLogoutRedirectUri]
FROM [Clients] AS [c]
INNER JOIN [ClientPostLogoutRedirectUris] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T11:54:10.2201853+00:00][INFO][60][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("4"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[Key], [c0].[Value]
FROM [Clients] AS [c]
INNER JOIN [ClientProperties] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T11:54:10.2284726+00:00][INFO][69][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("6"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[RedirectUri]
FROM [Clients] AS [c]
INNER JOIN [ClientRedirectUris] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T11:54:10.2391153+00:00][INFO][70][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [i].[Id], [i].[Created], [i].[Description], [i].[DisplayName], [i].[Emphasize], [i].[Enabled], [i].[Name], [i].[NonEditable], [i].[Required], [i].[ShowInDiscoveryDocument], [i].[Updated], [i0].[Id], [i0].[IdentityResourceId], [i0].[Type], [i1].[Id], [i1].[IdentityResourceId], [i1].[Key], [i1].[Value]
FROM [IdentityResources] AS [i]
LEFT JOIN [IdentityResourceClaims] AS [i0] ON [i].[Id] = [i0].[IdentityResourceId]
LEFT JOIN [IdentityResourceProperties] AS [i1] ON [i].[Id] = [i1].[IdentityResourceId]
WHERE [i].[Name] IN (N'openid', N'profile', N'email', N'roles')
ORDER BY [i].[Id], [i0].[Id], [i1].[Id]"
[2020-12-30T11:54:10.2633328+00:00][INFO][68][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [a].[Id], [a].[AllowedAccessTokenSigningAlgorithms], [a].[Created], [a].[Description], [a].[DisplayName], [a].[Enabled], [a].[LastAccessed], [a].[Name], [a].[NonEditable], [a].[ShowInDiscoveryDocument], [a].[Updated], [a0].[Id], [a0].[ApiResourceId], [a0].[Created], [a0].[Description], [a0].[Expiration], [a0].[Type], [a0].[Value], [a1].[Id], [a1].[ApiResourceId], [a1].[Scope], [a2].[Id], [a2].[ApiResourceId], [a2].[Type], [a3].[Id], [a3].[ApiResourceId], [a3].[Key], [a3].[Value]
FROM [ApiResources] AS [a]
LEFT JOIN [ApiResourceSecrets] AS [a0] ON [a].[Id] = [a0].[ApiResourceId]
LEFT JOIN [ApiResourceScopes] AS [a1] ON [a].[Id] = [a1].[ApiResourceId]
LEFT JOIN [ApiResourceClaims] AS [a2] ON [a].[Id] = [a2].[ApiResourceId]
LEFT JOIN [ApiResourceProperties] AS [a3] ON [a].[Id] = [a3].[ApiResourceId]
WHERE EXISTS (
    SELECT 1
    FROM [ApiResourceScopes] AS [a4]
    WHERE ([a].[Id] = [a4].[ApiResourceId]) AND [a4].[Scope] IN (N'openid', N'profile', N'email', N'roles'))
ORDER BY [a].[Id], [a0].[Id], [a1].[Id], [a2].[Id], [a3].[Id]"
[2020-12-30T11:54:10.2723374+00:00][INFO][70][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("7"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [a].[Id], [a].[Description], [a].[DisplayName], [a].[Emphasize], [a].[Enabled], [a].[Name], [a].[Required], [a].[ShowInDiscoveryDocument], [a0].[Id], [a0].[ScopeId], [a0].[Type], [a1].[Id], [a1].[Key], [a1].[ScopeId], [a1].[Value]
FROM [ApiScopes] AS [a]
LEFT JOIN [ApiScopeClaims] AS [a0] ON [a].[Id] = [a0].[ScopeId]
LEFT JOIN [ApiScopeProperties] AS [a1] ON [a].[Id] = [a1].[ScopeId]
WHERE [a].[Name] IN (N'openid', N'profile', N'email', N'roles')
ORDER BY [a].[Id], [a0].[Id], [a1].[Id]"
[2020-12-30T11:54:10.2851080+00:00][INFO][69][Microsoft.EntityFrameworkCore.Infrastructure] Entity Framework Core "5.0.1" initialized '"AdminIdentityDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=EventManager.Identity.Admin.EntityFramework.SqlServer "
[2020-12-30T11:54:10.3373705+00:00][INFO][68][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("6"ms) [Parameters=["@__p_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[Id] = @__p_0"
[2020-12-30T11:54:10.3437274+00:00][INFO][68][Microsoft.EntityFrameworkCore.Infrastructure] Entity Framework Core "5.0.1" initialized '"IdentityServerPersistedGrantDbContext"' using p[2020-12-30T12:55:15.4107622+00:00][INFO][1][Microsoft.EntityFrameworkCore.Infrastructure] Entity Framework Core "5.0.1" initialized '"IdentityServerDataProtectionDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=EventManager.Identity.Admin.EntityFramework.SqlServer "
[2020-12-30T12:55:27.7551587+00:00][EROR][1][Microsoft.EntityFrameworkCore.Database.Connection] An error occurred using the connection to database '"em-identity"' on server '"mssql.service.em.docker"'.
[2020-12-30T12:55:27.9020300+00:00][EROR][1][Microsoft.EntityFrameworkCore.Query] An exception occurred while iterating over the results of a query for context type '"EventManager.Identity.Admin.EntityFramework.Shared.DbContexts.IdentityServerDataProtectionDbContext"'."
""Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot open database \"em-identity\" requested by the login. The login failed.
Login failed for user 'sa'.
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.TdsParser.Run(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.CompleteLogin(Boolean enlistOK)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.AttemptOneLogin(ServerInfo serverInfo, String newPassword, SecureString newSecurePassword, Boolean ignoreSniOpenTimeout, TimeoutTimer timeout, Boolean withFailover)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.LoginNoFailover(ServerInfo serverInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString connectionOptions, SqlCredential credential, TimeoutTimer timeout)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.OpenLoginEnlist(TimeoutTimer timeout, SqlConnectionString connectionOptions, SqlCredential credential, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds..ctor(DbConnectionPoolIdentity identity, SqlConnectionString connectionOptions, SqlCredential credential, Object providerInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString userConnectionOptions, SessionData reconnectSessionData, Boolean applyTransientFaultHandling, String accessToken, DbConnectionPool pool)
   at Microsoft.Data.SqlClient.SqlConnectionFactory.CreateConnection(DbConnectionOptions options, DbConnectionPoolKey poolKey, Object poolGroupProviderInfo, DbConnectionPool pool, DbConnection owningConnection, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionFactory.CreatePooledConnection(DbConnectionPool pool, DbConnection owningObject, DbConnectionOptions options, DbConnectionPoolKey poolKey, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionPool.CreateObject(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.UserCreateRequest(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, UInt32 waitForMultipleObjectsTimeout, Boolean allowCreate, Boolean onlyOneCheckConnection, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, TaskCompletionSource`1 retry, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionFactory.TryGetConnection(DbConnection owningConnection, TaskCompletionSource`1 retry, DbConnectionOptions userOptions, DbConnectionInternal oldConnection, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionInternal.TryOpenConnectionInternal(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionClosed.TryOpenConnection(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)
   at Microsoft.Data.SqlClient.SqlConnection.TryOpen(TaskCompletionSource`1 retry, SqlConnectionOverrides overrides)
   at Microsoft.Data.SqlClient.SqlConnection.Open(SqlConnectionOverrides overrides)
   at Microsoft.Data.SqlClient.SqlConnection.Open()
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerConnection.OpenDbConnection(Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternal(Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.Open(Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReader(RelationalCommandParameterObject parameterObject)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.Enumerator.InitializeReader(DbContext _, Boolean result)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.Enumerator.MoveNext()
ClientConnectionId:6a686823-4eb5-4806-80ea-1c1ade0acf1a
Error Number:4060,State:1,Class:11"
Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot open database "em-identity" requested by the login. The login failed.
Login failed for user 'sa'.
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.TdsParser.Run(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.CompleteLogin(Boolean enlistOK)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.AttemptOneLogin(ServerInfo serverInfo, String newPassword, SecureString newSecurePassword, Boolean ignoreSniOpenTimeout, TimeoutTimer timeout, Boolean withFailover)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.LoginNoFailover(ServerInfo serverInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString connectionOptions, SqlCredential credential, TimeoutTimer timeout)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.OpenLoginEnlist(TimeoutTimer timeout, SqlConnectionString connectionOptions, SqlCredential credential, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds..ctor(DbConnectionPoolIdentity identity, SqlConnectionString connectionOptions, SqlCredential credential, Object providerInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString userConnectionOptions, SessionData reconnectSessionData, Boolean applyTransientFaultHandling, String accessToken, DbConnectionPool pool)
   at Microsoft.Data.SqlClient.SqlConnectionFactory.CreateConnection(DbConnectionOptions options, DbConnectionPoolKey poolKey, Object poolGroupProviderInfo, DbConnectionPool pool, DbConnection owningConnection, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionFactory.CreatePooledConnection(DbConnectionPool pool, DbConnection owningObject, DbConnectionOptions options, DbConnectionPoolKey poolKey, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionPool.CreateObject(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.UserCreateRequest(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, UInt32 waitForMultipleObjectsTimeout, Boolean allowCreate, Boolean onlyOneCheckConnection, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, TaskCompletionSource`1 retry, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionFactory.TryGetConnection(DbConnection owningConnection, TaskCompletionSource`1 retry, DbConnectionOptions userOptions, DbConnectionInternal oldConnection, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionInternal.TryOpenConnectionInternal(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionClosed.TryOpenConnection(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)
   at Microsoft.Data.SqlClient.SqlConnection.TryOpen(TaskCompletionSource`1 retry, SqlConnectionOverrides overrides)
   at Microsoft.Data.SqlClient.SqlConnection.Open(SqlConnectionOverrides overrides)
   at Microsoft.Data.SqlClient.SqlConnection.Open()
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerConnection.OpenDbConnection(Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternal(Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.Open(Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReader(RelationalCommandParameterObject parameterObject)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.Enumerator.InitializeReader(DbContext _, Boolean result)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.Enumerator.MoveNext()
ClientConnectionId:6a686823-4eb5-4806-80ea-1c1ade0acf1a
Error Number:4060,State:1,Class:11
[2020-12-30T12:55:28.0649589+00:00][EROR][1][Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingProvider] An error occurred while reading the key ring.
Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot open database "em-identity" requested by the login. The login failed.
Login failed for user 'sa'.
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.TdsParser.Run(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.CompleteLogin(Boolean enlistOK)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.AttemptOneLogin(ServerInfo serverInfo, String newPassword, SecureString newSecurePassword, Boolean ignoreSniOpenTimeout, TimeoutTimer timeout, Boolean withFailover)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.LoginNoFailover(ServerInfo serverInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString connectionOptions, SqlCredential credential, TimeoutTimer timeout)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.OpenLoginEnlist(TimeoutTimer timeout, SqlConnectionString connectionOptions, SqlCredential credential, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds..ctor(DbConnectionPoolIdentity identity, SqlConnectionString connectionOptions, SqlCredential credential, Object providerInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString userConnectionOptions, SessionData reconnectSessionData, Boolean applyTransientFaultHandling, String accessToken, DbConnectionPool pool)
   at Microsoft.Data.SqlClient.SqlConnectionFactory.CreateConnection(DbConnectionOptions options, DbConnectionPoolKey poolKey, Object poolGroupProviderInfo, DbConnectionPool pool, DbConnection owningConnection, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionFactory.CreatePooledConnection(DbConnectionPool pool, DbConnection owningObject, DbConnectionOptions options, DbConnectionPoolKey poolKey, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionPool.CreateObject(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.UserCreateRequest(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, UInt32 waitForMultipleObjectsTimeout, Boolean allowCreate, Boolean onlyOneCheckConnection, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, TaskCompletionSource`1 retry, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionFactory.TryGetConnection(DbConnection owningConnection, TaskCompletionSource`1 retry, DbConnectionOptions userOptions, DbConnectionInternal oldConnection, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionInternal.TryOpenConnectionInternal(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionClosed.TryOpenConnection(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)
   at Microsoft.Data.SqlClient.SqlConnection.TryOpen(TaskCompletionSource`1 retry, SqlConnectionOverrides overrides)
   at Microsoft.Data.SqlClient.SqlConnection.Open(SqlConnectionOverrides overrides)
   at Microsoft.Data.SqlClient.SqlConnection.Open()
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerConnection.OpenDbConnection(Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternal(Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.Open(Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReader(RelationalCommandParameterObject parameterObject)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.Enumerator.InitializeReader(DbContext _, Boolean result)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.Enumerator.MoveNext()
   at Microsoft.AspNetCore.DataProtection.EntityFrameworkCore.EntityFrameworkCoreXmlRepository`1.<GetAllElements>g__GetAllElementsCore|3_0()+MoveNext()
   at System.Collections.Generic.List`1..ctor(IEnumerable`1 collection)
   at System.Linq.Enumerable.ToList[TSource](IEnumerable`1 source)
   at Microsoft.AspNetCore.DataProtection.EntityFrameworkCore.EntityFrameworkCoreXmlRepository`1.GetAllElements()
   at Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager.GetAllKeys()
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingProvider.CreateCacheableKeyRingCore(DateTimeOffset now, IKey keyJustAdded)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingProvider.Microsoft.AspNetCore.DataProtection.KeyManagement.Internal.ICacheableKeyRingProvider.GetCacheableKeyRing(DateTimeOffset now)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingProvider.GetCurrentKeyRingCore(DateTime utcNow, Boolean forceRefresh)
ClientConnectionId:6a686823-4eb5-4806-80ea-1c1ade0acf1a
Error Number:4060,State:1,Class:11
[2020-12-30T12:55:28.1652000+00:00][INFO][1][Microsoft.AspNetCore.DataProtection.Internal.DataProtectionHostedService] Key ring failed to load during application startup.
Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot open database "em-identity" requested by the login. The login failed.
Login failed for user 'sa'.
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.TdsParser.Run(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.CompleteLogin(Boolean enlistOK)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.AttemptOneLogin(ServerInfo serverInfo, String newPassword, SecureString newSecurePassword, Boolean ignoreSniOpenTimeout, TimeoutTimer timeout, Boolean withFailover)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.LoginNoFailover(ServerInfo serverInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString connectionOptions, SqlCredential credential, TimeoutTimer timeout)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.OpenLoginEnlist(TimeoutTimer timeout, SqlConnectionString connectionOptions, SqlCredential credential, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds..ctor(DbConnectionPoolIdentity identity, SqlConnectionString connectionOptions, SqlCredential credential, Object providerInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString userConnectionOptions, SessionData reconnectSessionData, Boolean applyTransientFaultHandling, String accessToken, DbConnectionPool pool)
   at Microsoft.Data.SqlClient.SqlConnectionFactory.CreateConnection(DbConnectionOptions options, DbConnectionPoolKey poolKey, Object poolGroupProviderInfo, DbConnectionPool pool, DbConnection owningConnection, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionFactory.CreatePooledConnection(DbConnectionPool pool, DbConnection owningObject, DbConnectionOptions options, DbConnectionPoolKey poolKey, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionPool.CreateObject(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.UserCreateRequest(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   a[2020-12-30T13:18:21.3030812+00:00][INFO][1][Microsoft.EntityFrameworkCore.Infrastructure] Entity Framework Core "5.0.1" initialized '"IdentityServerDataProtectionDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=EventManager.Identity.Admin.EntityFramework.SqlServer "
[2020-12-30T13:18:33.4687359+00:00][EROR][1][Microsoft.EntityFrameworkCore.Database.Connection] An error occurred using the connection to database '"em-identity"' on server '"mssql.service.em.docker"'.
[2020-12-30T13:18:33.6060858+00:00][EROR][1][Microsoft.EntityFrameworkCore.Query] An exception occurred while iterating over the results of a query for context type '"EventManager.Identity.Admin.EntityFramework.Shared.DbContexts.IdentityServerDataProtectionDbContext"'."
""Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot open database \"em-identity\" requested by the login. The login failed.
Login failed for user 'sa'.
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.TdsParser.Run(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.CompleteLogin(Boolean enlistOK)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.AttemptOneLogin(ServerInfo serverInfo, String newPassword, SecureString newSecurePassword, Boolean ignoreSniOpenTimeout, TimeoutTimer timeout, Boolean withFailover)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.LoginNoFailover(ServerInfo serverInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString connectionOptions, SqlCredential credential, TimeoutTimer timeout)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.OpenLoginEnlist(TimeoutTimer timeout, SqlConnectionString connectionOptions, SqlCredential credential, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds..ctor(DbConnectionPoolIdentity identity, SqlConnectionString connectionOptions, SqlCredential credential, Object providerInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString userConnectionOptions, SessionData reconnectSessionData, Boolean applyTransientFaultHandling, String accessToken, DbConnectionPool pool)
   at Microsoft.Data.SqlClient.SqlConnectionFactory.CreateConnection(DbConnectionOptions options, DbConnectionPoolKey poolKey, Object poolGroupProviderInfo, DbConnectionPool pool, DbConnection owningConnection, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionFactory.CreatePooledConnection(DbConnectionPool pool, DbConnection owningObject, DbConnectionOptions options, DbConnectionPoolKey poolKey, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionPool.CreateObject(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.UserCreateRequest(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, UInt32 waitForMultipleObjectsTimeout, Boolean allowCreate, Boolean onlyOneCheckConnection, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, TaskCompletionSource`1 retry, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionFactory.TryGetConnection(DbConnection owningConnection, TaskCompletionSource`1 retry, DbConnectionOptions userOptions, DbConnectionInternal oldConnection, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionInternal.TryOpenConnectionInternal(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionClosed.TryOpenConnection(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)
   at Microsoft.Data.SqlClient.SqlConnection.TryOpen(TaskCompletionSource`1 retry, SqlConnectionOverrides overrides)
   at Microsoft.Data.SqlClient.SqlConnection.Open(SqlConnectionOverrides overrides)
   at Microsoft.Data.SqlClient.SqlConnection.Open()
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerConnection.OpenDbConnection(Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternal(Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.Open(Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReader(RelationalCommandParameterObject parameterObject)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.Enumerator.InitializeReader(DbContext _, Boolean result)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.Enumerator.MoveNext()
ClientConnectionId:94f4e765-3245-4837-8611-e49568b4a0d0
Error Number:4060,State:1,Class:11"
Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot open database "em-identity" requested by the login. The login failed.
Login failed for user 'sa'.
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.TdsParser.Run(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.CompleteLogin(Boolean enlistOK)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.AttemptOneLogin(ServerInfo serverInfo, String newPassword, SecureString newSecurePassword, Boolean ignoreSniOpenTimeout, TimeoutTimer timeout, Boolean withFailover)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.LoginNoFailover(ServerInfo serverInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString connectionOptions, SqlCredential credential, TimeoutTimer timeout)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.OpenLoginEnlist(TimeoutTimer timeout, SqlConnectionString connectionOptions, SqlCredential credential, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds..ctor(DbConnectionPoolIdentity identity, SqlConnectionString connectionOptions, SqlCredential credential, Object providerInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString userConnectionOptions, SessionData reconnectSessionData, Boolean applyTransientFaultHandling, String accessToken, DbConnectionPool pool)
   at Microsoft.Data.SqlClient.SqlConnectionFactory.CreateConnection(DbConnectionOptions options, DbConnectionPoolKey poolKey, Object poolGroupProviderInfo, DbConnectionPool pool, DbConnection owningConnection, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionFactory.CreatePooledConnection(DbConnectionPool pool, DbConnection owningObject, DbConnectionOptions options, DbConnectionPoolKey poolKey, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionPool.CreateObject(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.UserCreateRequest(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, UInt32 waitForMultipleObjectsTimeout, Boolean allowCreate, Boolean onlyOneCheckConnection, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, TaskCompletionSource`1 retry, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionFactory.TryGetConnection(DbConnection owningConnection, TaskCompletionSource`1 retry, DbConnectionOptions userOptions, DbConnectionInternal oldConnection, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionInternal.TryOpenConnectionInternal(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionClosed.TryOpenConnection(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)
   at Microsoft.Data.SqlClient.SqlConnection.TryOpen(TaskCompletionSource`1 retry, SqlConnectionOverrides overrides)
   at Microsoft.Data.SqlClient.SqlConnection.Open(SqlConnectionOverrides overrides)
   at Microsoft.Data.SqlClient.SqlConnection.Open()
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerConnection.OpenDbConnection(Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternal(Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.Open(Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReader(RelationalCommandParameterObject parameterObject)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.Enumerator.InitializeReader(DbContext _, Boolean result)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.Enumerator.MoveNext()
ClientConnectionId:94f4e765-3245-4837-8611-e49568b4a0d0
Error Number:4060,State:1,Class:11
[2020-12-30T13:18:33.7028924+00:00][EROR][1][Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingProvider] An error occurred while reading the key ring.
Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot open database "em-identity" requested by the login. The login failed.
Login failed for user 'sa'.
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.TdsParser.Run(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.CompleteLogin(Boolean enlistOK)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.AttemptOneLogin(ServerInfo serverInfo, String newPassword, SecureString newSecurePassword, Boolean ignoreSniOpenTimeout, TimeoutTimer timeout, Boolean withFailover)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.LoginNoFailover(ServerInfo serverInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString connectionOptions, SqlCredential credential, TimeoutTimer timeout)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.OpenLoginEnlist(TimeoutTimer timeout, SqlConnectionString connectionOptions, SqlCredential credential, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds..ctor(DbConnectionPoolIdentity identity, SqlConnectionString connectionOptions, SqlCredential credential, Object providerInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString userConnectionOptions, SessionData reconnectSessionData, Boolean applyTransientFaultHandling, String accessToken, DbConnectionPool pool)
   at Microsoft.Data.SqlClient.SqlConnectionFactory.CreateConnection(DbConnectionOptions options, DbConnectionPoolKey poolKey, Object poolGroupProviderInfo, DbConnectionPool pool, DbConnection owningConnection, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionFactory.CreatePooledConnection(DbConnectionPool pool, DbConnection owningObject, DbConnectionOptions options, DbConnectionPoolKey poolKey, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionPool.CreateObject(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.UserCreateRequest(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, UInt32 waitForMultipleObjectsTimeout, Boolean allowCreate, Boolean onlyOneCheckConnection, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, TaskCompletionSource`1 retry, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionFactory.TryGetConnection(DbConnection owningConnection, TaskCompletionSource`1 retry, DbConnectionOptions userOptions, DbConnectionInternal oldConnection, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionInternal.TryOpenConnectionInternal(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionClosed.TryOpenConnection(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)
   at Microsoft.Data.SqlClient.SqlConnection.TryOpen(TaskCompletionSource`1 retry, SqlConnectionOverrides overrides)
   at Microsoft.Data.SqlClient.SqlConnection.Open(SqlConnectionOverrides overrides)
   at Microsoft.Data.SqlClient.SqlConnection.Open()
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerConnection.OpenDbConnection(Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternal(Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.Open(Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReader(RelationalCommandParameterObject parameterObject)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.Enumerator.InitializeReader(DbContext _, Boolean result)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.Enumerator.MoveNext()
   at Microsoft.AspNetCore.DataProtection.EntityFrameworkCore.EntityFrameworkCoreXmlRepository`1.<GetAllElements>g__GetAllElementsCore|3_0()+MoveNext()
   at System.Collections.Generic.List`1..ctor(IEnumerable`1 collection)
   at System.Linq.Enumerable.ToList[TSource](IEnumerable`1 source)
   at Microsoft.AspNetCore.DataProtection.EntityFrameworkCore.EntityFrameworkCoreXmlRepository`1.GetAllElements()
   at Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager.GetAllKeys()
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingProvider.CreateCacheableKeyRingCore(DateTimeOffset now, IKey keyJustAdded)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingProvider.Microsoft.AspNetCore.DataProtection.KeyManagement.Internal.ICacheableKeyRingProvider.GetCacheableKeyRing(DateTimeOffset now)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingProvider.GetCurrentKeyRingCore(DateTime utcNow, Boolean forceRefresh)
ClientConnectionId:94f4e765-3245-4837-8611-e49568b4a0d0
Error Number:4060,State:1,Class:11
[2020-12-30T13:18:33.7906912+00:00][INFO][1][Microsoft.AspNetCore.DataProtection.Internal.DataProtectionHostedService] Key ring failed to load during application startup.
Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot open database "em-identity" requested by the login. The login failed.
Login failed for user 'sa'.
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.TdsParser.Run(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.CompleteLogin(Boolean enlistOK)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.AttemptOneLogin(ServerInfo serverInfo, String newPassword, SecureString newSecurePassword, Boolean ignoreSniOpenTimeout, TimeoutTimer timeout, Boolean withFailover)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.LoginNoFailover(ServerInfo serverInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString connectionOptions, SqlCredential credential, TimeoutTimer timeout)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.OpenLoginEnlist(TimeoutTimer timeout, SqlConnectionString connectionOptions, SqlCredential credential, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds..ctor(DbConnectionPoolIdentity identity, SqlConnectionString connectionOptions, SqlCredential credential, Object providerInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString userConnectionOptions, SessionData reconnectSessionData, Boolean applyTransientFaultHandling, String accessToken, DbConnectionPool pool)
   at Microsoft.Data.SqlClient.SqlConnectionFactory.CreateConnection(DbConnectionOptions options, DbConnectionPoolKey poolKey, Object poolGroupProviderInfo, DbConnectionPool pool, DbConnection owningConnection, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionFactory.CreatePooledConnection(DbConnectionPool pool, DbConnection owningObject, DbConnectionOptions options, DbConnectionPoolKey poolKey, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionPool.CreateObject(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.UserCreateRequest(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, UInt32 waitForMultipleObjectsTimeout, Boolean allowCreate, Boolean onlyOneCheckConnection, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, TaskCompletionSource`1 retry, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionFactory.TryGetConnection(DbConnection owningConnection, TaskCompletionSource`1 retry, DbConnectionOptions userOptions, DbConnectionInternal oldConnection, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionInternal.TryOpenConnectionInternal(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionClosed.TryOpenConnection(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)
   at Microsoft.Data.SqlClient.SqlConnection.TryOpen(TaskCompletionSource`1 retry, SqlConnectionOverrides overrides)
   at Microsoft.Data.SqlClient.SqlConnection.Open(SqlConnectionOverrides overrides)
   at Microsoft.Data.SqlClient.SqlConnection.Open()
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerConnection.OpenDbConnection(Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternal(Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.Open(Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReader(RelationalCommandParameterObject parameterObject)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.Enumerator.InitializeReader(DbContext _, Boolean result)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.Enumerator.MoveNext()
   at Microsoft.AspNetCore.DataProtection.EntityFrameworkCore.EntityFrameworkCoreXmlRepository`1.<GetAllElements>g__GetAllElementsCore|3_0()+MoveNext()
   at System.Collections.Generic.List`1..ctor(IEnumerable`1 collection)
   at System.Linq.Enumerable.ToList[TSource](IEnumerable`1 source)
   at Microsoft.AspNetCore.DataProtection.EntityFrameworkCore.EntityFrameworkCoreXmlRepository`1.GetAllElements()
   at Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager.GetAllKeys()
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingProvider.CreateCacheableKeyRingCore(DateTimeOffset now, IKey keyJustAdded)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingProvider.Microsoft.AspNetCore.DataProtection.KeyManagement.Internal.ICacheableKeyRingProvider.GetCacheableKeyRing(DateTimeOffset now)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingProvider.GetCurrentKeyRingCore(DateTime utcNow, Boolean forceRefresh)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingProvider.GetCurrentKeyRing()
   at Microsoft.AspNetCore.DataProtection.Internal.DataProtectionHostedService.StartAsync(CancellationToken token)
ClientConnectionId:94f4e765-3245-4837-8611-e49568b4a0d0
Error Number:4060,State:1,Class:11
[2020-12-30T13:18:33.9315166+00:00][INFO][1][IdentityServer4.Startup] Starting IdentityServer4 version "4.1.1+cebd52f5bc61bdefc262fd20739d4d087c6f961f"
[2020-12-30T13:18:34.0245113+00:00][INFO][1][IdentityServer4.Startup] Using the default authentication scheme "Identity.Application" for IdentityServer
[2020-12-30T13:18:34.7402140+00:00][INFO][1][Microsoft.Hosting.Lifetime] Now listening on: "http://[::]:50003"
[2020-12-30T13:18:34.7414533+00:00][INFO][1][Microsoft.Hosting.Lifetime] Application started. Press Ctrl+C to shut down.
[2020-12-30T13:18:34.7420377+00:00][INFO][1][Microsoft.Hosting.Lifetime] Hosting environment: "Development"
[2020-12-30T13:18:34.7425837+00:00][INFO][1][Microsoft.Hosting.Lifetime] Content root path: "/app"
[2020-12-30T13:19:08.4229532+00:00][INFO][4][Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 GET http://sts.em.host/.well-known/openid-configuration - -
[2020-12-30T13:19:08.5056142+00:00][INFO][4][IdentityServer4.Hosting.IdentityServerMiddleware] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.DiscoveryEndpoint" for "/.well-known/openid-configuration"
[2020-12-30T13:19:09.0718179+00:00][INFO][4][Microsoft.EntityFrameworkCore.Infrastructure] Entity Framework Core "5.0.1" initialized '"IdentityServerConfigurationDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=EventManager.Identity.Admin.EntityFramework.SqlServer "
[2020-12-30T13:19:09.3431228+00:00][WARN][4][Microsoft.EntityFrameworkCore.Query] Compiling a query which loads related collections for more than one collection navigation either via 'Include' or through projection but no 'QuerySplittingBehavior' has been configured. By default Entity Framework will use 'QuerySplittingBehavior.SingleQuery' which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'
[2020-12-30T13:19:09.5941173+00:00][INFO][4][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("70"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [i].[Id], [i].[Created], [i].[Description], [i].[DisplayName], [i].[Emphasize], [i].[Enabled], [i].[Name], [i].[NonEditable], [i].[Required], [i].[ShowInDiscoveryDocument], [i].[Updated], [i0].[Id], [i0].[IdentityResourceId], [i0].[Type], [i1].[Id], [i1].[IdentityResourceId], [i1].[Key], [i1].[Value]
FROM [IdentityResources] AS [i]
LEFT JOIN [IdentityResourceClaims] AS [i0] ON [i].[Id] = [i0].[IdentityResourceId]
LEFT JOIN [IdentityResourceProperties] AS [i1] ON [i].[Id] = [i1].[IdentityResourceId]
ORDER BY [i].[Id], [i0].[Id], [i1].[Id]"
[2020-12-30T13:19:09.7589969+00:00][WARN][4][Microsoft.EntityFrameworkCore.Query] Compiling a query which loads related collections for more than one collection navigation either via 'Include' or through projection but no 'QuerySplittingBehavior' has been configured. By default Entity Framework will use 'QuerySplittingBehavior.SingleQuery' which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'
[2020-12-30T13:19:09.8225245+00:00][INFO][13][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("30"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [a].[Id], [a].[AllowedAccessTokenSigningAlgorithms], [a].[Created], [a].[Description], [a].[DisplayName], [a].[Enabled], [a].[LastAccessed], [a].[Name], [a].[NonEditable], [a].[ShowInDiscoveryDocument], [a].[Updated], [a0].[Id], [a0].[ApiResourceId], [a0].[Created], [a0].[Description], [a0].[Expiration], [a0].[Type], [a0].[Value], [a1].[Id], [a1].[ApiResourceId], [a1].[Scope], [a2].[Id], [a2].[ApiResourceId], [a2].[Type], [a3].[Id], [a3].[ApiResourceId], [a3].[Key], [a3].[Value]
FROM [ApiResources] AS [a]
LEFT JOIN [ApiResourceSecrets] AS [a0] ON [a].[Id] = [a0].[ApiResourceId]
LEFT JOIN [ApiResourceScopes] AS [a1] ON [a].[Id] = [a1].[ApiResourceId]
LEFT JOIN [ApiResourceClaims] AS [a2] ON [a].[Id] = [a2].[ApiResourceId]
LEFT JOIN [ApiResourceProperties] AS [a3] ON [a].[Id] = [a3].[ApiResourceId]
ORDER BY [a].[Id], [a0].[Id], [a1].[Id], [a2].[Id], [a3].[Id]"
[2020-12-30T13:19:09.8359019+00:00][WARN][13][Microsoft.EntityFrameworkCore.Query] Compiling a query which loads related collections for more than one collection navigation either via 'Include' or through projection but no 'QuerySplittingBehavior' has been configured. By default Entity Framework will use 'QuerySplittingBehavior.SingleQuery' which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'
[2020-12-30T13:19:09.8823179+00:00][INFO][12][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("22"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [a].[Id], [a].[Description], [a].[DisplayName], [a].[Emphasize], [a].[Enabled], [a].[Name], [a].[Required], [a].[ShowInDiscoveryDocument], [a0].[Id], [a0].[ScopeId], [a0].[Type], [a1].[Id], [a1].[Key], [a1].[ScopeId], [a1].[Value]
FROM [ApiScopes] AS [a]
LEFT JOIN [ApiScopeClaims] AS [a0] ON [a].[Id] = [a0].[ScopeId]
LEFT JOIN [ApiScopeProperties] AS [a1] ON [a].[Id] = [a1].[ScopeId]
ORDER BY [a].[Id], [a0].[Id], [a1].[Id]"
[2020-12-30T13:19:10.5667132+00:00][INFO][12][Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/1.1 GET http://sts.em.host/.well-known/openid-configuration - - - 200 - application/json;+charset=UTF-8 2145.7498ms
[2020-12-30T13:19:10.7115169+00:00][INFO][16][Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 GET http://sts.em.host/.well-known/openid-configuration/jwks - -
[2020-12-30T13:19:10.7385042+00:00][INFO][16][IdentityServer4.Hosting.IdentityServerMiddleware] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.DiscoveryKeyEndpoint" for "/.well-known/openid-configuration/jwks"
[2020-12-30T13:19:10.8624991+00:00][INFO][16][Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/1.1 GET http://sts.em.host/.well-known/openid-configuration/jwks - - - 200 - application/json;+charset=UTF-8 150.9406ms
[2020-12-30T13:19:11.0139752+00:00][INFO][13][Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 GET http://sts.em.host/connect/authorize?client_id=urn%3Aem%3Aclient%3Amvc&redirect_uri=https%3A%2F%2Fwww.em.host%2Fadmin%2Fidentity%2Fsignin-oidc&response_type=code&scope=openid%20profile%20email%20roles&code_challenge=CVuGXO6X4mXTYizi4gs3ajaJkqjpOTfAZPRWwoSAD4Q&code_challenge_method=S256&response_mode=form_post&nonce=637449311509234702.NjRkMDg5MWEtZTc3YS00NjQ0LWI3YmEtNjZkMGJmNWNkNDkyODc2N2I3NjMtZDhjNC00NDAxLWFlYzItMjRhNGNmYzVjOTVj&state=CfDJ8IfTHaP7X4tMgtSdbTGk8GhpP32_vscvPK0IcaWrGZvp9gSEcHRu1cmezh132ZeS_RBzGoiVrTUdMlfuBDN4IC-DIJixQSh0NZJjRWD5twDYOG3mczi06uwDhgismgEcv9wmtZ8X3lVhTBPRYMUSeZQhPE-l-9WEGSqqL0APyoAvk3wa8k8H43vvFHrtiYbFjYJueE8BD8sE6PCzzbtanN_1g2OlKekXdT-M4WQeMrJhUXfqshiOPTUeQx7Y4L3aDpulzT48L7VS7-o_9gS_4VJualvXmsib-KJ5fs0T2nyBjkE6QDps85W3d6x778E7atfWsDh49ZxIcr77da6RjDS9b5nJFo9pnKOF9IC8VOfsJObSt9PRqBnDxAi9O4FrdQ&x-client-SKU=ID_NETSTANDARD2_0&x-client-ver=5.6.0.0 - -
[2020-12-30T13:19:11.1397848+00:00][INFO][13][IdentityServer4.Hosting.IdentityServerMiddleware] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize"
[2020-12-30T13:19:11.1722334+00:00][INFO][13][Microsoft.EntityFrameworkCore.Infrastructure] Entity Framework Core "5.0.1" initialized '"IdentityServerConfigurationDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=EventManager.Identity.Admin.EntityFramework.SqlServer "
[2020-12-30T13:19:11.2566095+00:00][INFO][14][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("38"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c].[Id], [c].[AbsoluteRefreshTokenLifetime], [c].[AccessTokenLifetime], [c].[AccessTokenType], [c].[AllowAccessTokensViaBrowser], [c].[AllowOfflineAccess], [c].[AllowPlainTextPkce], [c].[AllowRememberConsent], [c].[AllowedIdentityTokenSigningAlgorithms], [c].[AlwaysIncludeUserClaimsInIdToken], [c].[AlwaysSendClientClaims], [c].[AuthorizationCodeLifetime], [c].[BackChannelLogoutSessionRequired], [c].[BackChannelLogoutUri], [c].[ClientClaimsPrefix], [c].[ClientId], [c].[ClientName], [c].[ClientUri], [c].[ConsentLifetime], [c].[Created], [c].[Description], [c].[DeviceCodeLifetime], [c].[EnableLocalLogin], [c].[Enabled], [c].[FrontChannelLogoutSessionRequired], [c].[FrontChannelLogoutUri], [c].[IdentityTokenLifetime], [c].[IncludeJwtId], [c].[LastAccessed], [c].[LogoUri], [c].[NonEditable], [c].[PairWiseSubjectSalt], [c].[ProtocolType], [c].[RefreshTokenExpiration], [c].[RefreshTokenUsage], [c].[RequireClientSecret], [c].[RequireConsent], [c].[RequirePkce], [c].[RequireRequestObject], [c].[SlidingRefreshTokenLifetime], [c].[UpdateAccessTokenClaimsOnRefresh], [c].[Updated], [c].[UserCodeType], [c].[UserSsoLifetime]
FROM [Clients] AS [c]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T13:19:11.3970323+00:00][INFO][15][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("14"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[Origin]
FROM [Clients] AS [c]
INNER JOIN [ClientCorsOrigins] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T13:19:11.4315904+00:00][INFO][17][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("11"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[GrantType]
FROM [Clients] AS [c]
INNER JOIN [ClientGrantTypes] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T13:19:11.4633731+00:00][INFO][13][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("10"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[Scope]
FROM [Clients] AS [c]
INNER JOIN [ClientScopes] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T13:19:11.4983658+00:00][INFO][17][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("5"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[Type], [c0].[Value]
FROM [Clients] AS [c]
INNER JOIN [ClientClaims] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T13:19:11.5215302+00:00][INFO][14][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("9"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[Created], [c0].[Description], [c0].[Expiration], [c0].[Type], [c0].[Value]
FROM [Clients] AS [c]
INNER JOIN [ClientSecrets] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T13:19:11.5648979+00:00][INFO][15][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("5"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[Provider]
FROM [Clients] AS [c]
INNER JOIN [ClientIdPRestrictions] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T13:19:11.5882969+00:00][INFO][17][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("8"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[PostLogoutRedirectUri]
FROM [Clients] AS [c]
INNER JOIN [ClientPostLogoutRedirectUris] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T13:19:11.6128634+00:00][INFO][17][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("4"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[Key], [c0].[Value]
FROM [Clients] AS [c]
INNER JOIN [ClientProperties] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T13:19:11.6366131+00:00][INFO][12][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("12"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[RedirectUri]
FROM [Clients] AS [c]
INNER JOIN [ClientRedirectUris] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T13:19:12.0255803+00:00][WARN][12][Microsoft.EntityFrameworkCore.Query] Compiling a query which loads related collections for more than one collection navigation either via 'Include' or through projection but no 'QuerySplittingBehavior' has been configured. By default Entity Framework will use 'QuerySplittingBehavior.SingleQuery' which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'
[2020-12-30T13:19:12.0635283+00:00][INFO][13][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("11"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [i].[Id], [i].[Created], [i].[Description], [i].[DisplayName], [i].[Emphasize], [i].[Enabled], [i].[Name], [i].[NonEditable], [i].[Required], [i].[ShowInDiscoveryDocument], [i].[Updated], [i0].[Id], [i0].[IdentityResourceId], [i0].[Type], [i1].[Id], [i1].[IdentityResourceId], [i1].[Key], [i1].[Value]
FROM [IdentityResources] AS [i]
LEFT JOIN [IdentityResourceClaims] AS [i0] ON [i].[Id] = [i0].[IdentityResourceId]
LEFT JOIN [IdentityResourceProperties] AS [i1] ON [i].[Id] = [i1].[IdentityResourceId]
WHERE [i].[Name] IN (N'openid', N'profile', N'email', N'roles')
ORDER BY [i].[Id], [i0].[Id], [i1].[Id]"
[2020-12-30T13:19:12.2035747+00:00][WARN][13][Microsoft.EntityFrameworkCore.Query] Compiling a query which loads related collections for more than one collection navigation either via 'Include' or through projection but no 'QuerySplittingBehavior' has been configured. By default Entity Framework will use 'QuerySplittingBehavior.SingleQuery' which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'
[2020-12-30T13:19:12.3450072+00:00][INFO][14][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("58"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [a].[Id], [a].[AllowedAccessTokenSigningAlgorithms], [a].[Created], [a].[Description], [a].[DisplayName], [a].[Enabled], [a].[LastAccessed], [a].[Name], [a].[NonEditable], [a].[ShowInDiscoveryDocument], [a].[Updated], [a0].[Id], [a0].[ApiResourceId], [a0].[Created], [a0].[Description], [a0].[Expiration], [a0].[Type], [a0].[Value], [a1].[Id], [a1].[ApiResourceId], [a1].[Scope], [a2].[Id], [a2].[ApiResourceId], [a2].[Type], [a3].[Id], [a3].[ApiResourceId], [a3].[Key], [a3].[Value]
FROM [ApiResources] AS [a]
LEFT JOIN [ApiResourceSecrets] AS [a0] ON [a].[Id] = [a0].[ApiResourceId]
LEFT JOIN [ApiResourceScopes] AS [a1] ON [a].[Id] = [a1].[ApiResourceId]
LEFT JOIN [ApiResourceClaims] AS [a2] ON [a].[Id] = [a2].[ApiResourceId]
LEFT JOIN [ApiResourceProperties] AS [a3] ON [a].[Id] = [a3].[ApiResourceId]
WHERE EXISTS (
    SELECT 1
    FROM [ApiResourceScopes] AS [a4]
    WHERE ([a].[Id] = [a4].[ApiResourceId]) AND [a4].[Scope] IN (N'openid', N'profile', N'email', N'roles'))
ORDER BY [a].[Id], [a0].[Id], [a1].[Id], [a2].[Id], [a3].[Id]"
[2020-12-30T13:19:12.3671540+00:00][WARN][14][Microsoft.EntityFrameworkCore.Query] Compiling a query which loads related collections for more than one collection navigation either via 'Include' or through projection but no 'QuerySplittingBehavior' has been configured. By default Entity Framework will use 'QuerySplittingBehavior.SingleQuery' which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'
[2020-12-30T13:19:12.4151068+00:00][INFO][18][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("12"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [a].[Id], [a].[Description], [a].[DisplayName], [a].[Emphasize], [a].[Enabled], [a].[Name], [a].[Required], [a].[ShowInDiscoveryDocument], [a0].[Id], [a0].[ScopeId], [a0].[Type], [a1].[Id], [a1].[Key], [a1].[ScopeId], [a1].[Value]
FROM [ApiScopes] AS [a]
LEFT JOIN [ApiScopeClaims] AS [a0] ON [a].[Id] = [a0].[ScopeId]
LEFT JOIN [ApiScopeProperties] AS [a1] ON [a].[Id] = [a1].[ScopeId]
WHERE [a].[Name] IN (N'openid', N'profile', N'email', N'roles')
ORDER BY [a].[Id], [a0].[Id], [a1].[Id]"
[2020-12-30T13:19:12.4826358+00:00][INFO][18][IdentityServer4.ResponseHandling.AuthorizeInteractionResponseGenerator] Showing login: User is not authenticated
[2020-12-30T13:19:12.4988996+00:00][INFO][18][Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/1.1 GET http://sts.em.host/connect/authorize?client_id=urn%3Aem%3Aclient%3Amvc&redirect_uri=https%3A%2F%2Fwww.em.host%2Fadmin%2Fidentity%2Fsignin-oidc&response_type=code&scope=openid%20profile%20email%20roles&code_challenge=CVuGXO6X4mXTYizi4gs3ajaJkqjpOTfAZPRWwoSAD4Q&code_challenge_method=S256&response_mode=form_post&nonce=637449311509234702.NjRkMDg5MWEtZTc3YS00NjQ0LWI3YmEtNjZkMGJmNWNkNDkyODc2N2I3NjMtZDhjNC00NDAxLWFlYzItMjRhNGNmYzVjOTVj&state=CfDJ8IfTHaP7X4tMgtSdbTGk8GhpP32_vscvPK0IcaWrGZvp9gSEcHRu1cmezh132ZeS_RBzGoiVrTUdMlfuBDN4IC-DIJixQSh0NZJjRWD5twDYOG3mczi06uwDhgismgEcv9wmtZ8X3lVhTBPRYMUSeZQhPE-l-9WEGSqqL0APyoAvk3wa8k8H43vvFHrtiYbFjYJueE8BD8sE6PCzzbtanN_1g2OlKekXdT-M4WQeMrJhUXfqshiOPTUeQx7Y4L3aDpulzT48L7VS7-o_9gS_4VJualvXmsib-KJ5fs0T2nyBjkE6QDps85W3d6x778E7atfWsDh49ZxIcr77da6RjDS9b5nJFo9pnKOF9IC8VOfsJObSt9PRqBnDxAi9O4FrdQ&x-client-SKU=ID_NETSTANDARD2_0&x-client-ver=5.6.0.0 - - - 302 0 - 1483.5557ms
[2020-12-30T13:19:12.5283399+00:00][INFO][16][Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 GET http://sts.em.host/Account/Login?ReturnUrl=%2Fconnect%2Fauthorize%2Fcallback%3Fclient_id%3Durn%253Aem%253Aclient%253Amvc%26redirect_uri%3Dhttps%253A%252F%252Fwww.em.host%252Fadmin%252Fidentity%252Fsignin-oidc%26response_type%3Dcode%26scope%3Dopenid%2520profile%2520email%2520roles%26code_challenge%3DCVuGXO6X4mXTYizi4gs3ajaJkqjpOTfAZPRWwoSAD4Q%26code_challenge_method%3DS256%26response_mode%3Dform_post%26nonce%3D637449311509234702.NjRkMDg5MWEtZTc3YS00NjQ0LWI3YmEtNjZkMGJmNWNkNDkyODc2N2I3NjMtZDhjNC00NDAxLWFlYzItMjRhNGNmYzVjOTVj%26state%3DCfDJ8IfTHaP7X4tMgtSdbTGk8GhpP32_vscvPK0IcaWrGZvp9gSEcHRu1cmezh132ZeS_RBzGoiVrTUdMlfuBDN4IC-DIJixQSh0NZJjRWD5twDYOG3mczi06uwDhgismgEcv9wmtZ8X3lVhTBPRYMUSeZQhPE-l-9WEGSqqL0APyoAvk3wa8k8H43vvFHrtiYbFjYJueE8BD8sE6PCzzbtanN_1g2OlKekXdT-M4WQeMrJhUXfqshiOPTUeQx7Y4L3aDpulzT48L7VS7-o_9gS_4VJualvXmsib-KJ5fs0T2nyBjkE6QDps85W3d6x778E7atfWsDh49ZxIcr77da6RjDS9b5nJFo9pnKOF9IC8VOfsJObSt9PRqBnDxAi9O4FrdQ%26x-client-SKU%3DID_NETSTANDARD2_0%26x-client-ver%3D5.6.0.0 - -
[2020-12-30T13:19:12.6790187+00:00][INFO][16][Microsoft.AspNetCore.Routing.EndpointMiddleware] Executing endpoint '"EventManager.Identity.STS.Identity.Controllers.AccountController<EventManager.Identity.Admin.EntityFramework.Shared.Entities.Identity.UserIdentity, string>.Login (EventManager.Identity.STS.Identity)"'
[2020-12-30T13:19:12.7501720+00:00][INFO][16][Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Route matched with "{action = \"Login\", controller = \"Account\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(System.String)" on controller "EventManager.Identity.STS.Identity.Controllers.AccountController<EventManager.Identity.Admin.EntityFramework.Shared.Entities.Identity.UserIdentity, string>" ("EventManager.Identity.STS.Identity").
[2020-12-30T13:19:12.8192758+00:00][INFO][16][Microsoft.EntityFrameworkCore.Infrastructure] Entity Framework Core "5.0.1" initialized '"IdentityServerConfigurationDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=EventManager.Identity.Admin.EntityFramework.SqlServer "
[2020-12-30T13:19:12.8606827+00:00][INFO][17][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("22"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c].[Id], [c].[AbsoluteRefreshTokenLifetime], [c].[AccessTokenLifetime], [c].[AccessTokenType], [c].[AllowAccessTokensViaBrowser], [c].[AllowOfflineAccess], [c].[AllowPlainTextPkce], [c].[AllowRememberConsent], [c].[AllowedIdentityTokenSigningAlgorithms], [c].[AlwaysIncludeUserClaimsInIdToken], [c].[AlwaysSendClientClaims], [c].[AuthorizationCodeLifetime], [c].[BackChannelLogoutSessionRequired], [c].[BackChannelLogoutUri], [c].[ClientClaimsPrefix], [c].[ClientId], [c].[ClientName], [c].[ClientUri], [c].[ConsentLifetime], [c].[Created], [c].[Description], [c].[DeviceCodeLifetime], [c].[EnableLocalLogin], [c].[Enabled], [c].[FrontChannelLogoutSessionRequired], [c].[FrontChannelLogoutUri], [c].[IdentityTokenLifetime], [c].[IncludeJwtId], [c].[LastAccessed], [c].[LogoUri], [c].[NonEditable], [c].[PairWiseSubjectSalt], [c].[ProtocolType], [c].[RefreshTokenExpiration], [c].[RefreshTokenUsage], [c].[RequireClientSecret], [c].[RequireConsent], [c].[RequirePkce], [c].[RequireRequestObject], [c].[SlidingRefreshTokenLifetime], [c].[UpdateAccessTokenClaimsOnRefresh], [c].[Updated], [c].[UserCodeType], [c].[UserSsoLifetime]
FROM [Clients] AS [c]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T13:19:12.9236663+00:00][INFO][4][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("29"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[Origin]
FROM [Clients] AS [c]
INNER JOIN [ClientCorsOrigins] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T13:19:12.9396376+00:00][INFO][14][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("13"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[GrantType]
FROM [Clients] AS [c]
INNER JOIN [ClientGrantTypes] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T13:19:12.9604187+00:00][INFO][17][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("5"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[Scope]
FROM [Clients] AS [c]
INNER JOIN [ClientScopes] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T13:19:12.9876778+00:00][INFO][17][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("3"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[Type], [c0].[Value]
FROM [Clients] AS [c]
INNER JOIN [ClientClaims] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T13:19:13.0191017+00:00][INFO][14][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("11"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[Created], [c0].[Description], [c0].[Expiration], [c0].[Type], [c0].[Value]
FROM [Clients] AS [c]
INNER JOIN [ClientSecrets] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T13:19:13.0612368+00:00][INFO][4][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("24"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[Provider]
FROM [Clients] AS [c]
INNER JOIN [ClientIdPRestrictions] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T13:19:13.0880896+00:00][INFO][17][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("2"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[PostLogoutRedirectUri]
FROM [Clients] AS [c]
INNER JOIN [ClientPostLogoutRedirectUris] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T13:19:13.1223010+00:00][INFO][17][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("7"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[Key], [c0].[Value]
FROM [Clients] AS [c]
INNER JOIN [ClientProperties] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T13:19:13.1444092+00:00][INFO][4][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("10"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[RedirectUri]
FROM [Clients] AS [c]
INNER JOIN [ClientRedirectUris] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T13:19:13.2090636+00:00][INFO][17][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [i].[Id], [i].[Created], [i].[Description], [i].[DisplayName], [i].[Emphasize], [i].[Enabled], [i].[Name], [i].[NonEditable], [i].[Required], [i].[ShowInDiscoveryDocument], [i].[Updated], [i0].[Id], [i0].[IdentityResourceId], [i0].[Type], [i1].[Id], [i1].[IdentityResourceId], [i1].[Key], [i1].[Value]
FROM [IdentityResources] AS [i]
LEFT JOIN [IdentityResourceClaims] AS [i0] ON [i].[Id] = [i0].[IdentityResourceId]
LEFT JOIN [IdentityResourceProperties] AS [i1] ON [i].[Id] = [i1].[IdentityResourceId]
WHERE [i].[Name] IN (N'openid', N'profile', N'email', N'roles')
ORDER BY [i].[Id], [i0].[Id], [i1].[Id]"
[2020-12-30T13:19:13.2660255+00:00][INFO][15][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("4"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [a].[Id], [a].[AllowedAccessTokenSigningAlgorithms], [a].[Created], [a].[Description], [a].[DisplayName], [a].[Enabled], [a].[LastAccessed], [a].[Name], [a].[NonEditable], [a].[ShowInDiscoveryDocument], [a].[Updated], [a0].[Id], [a0].[ApiResourceId], [a0].[Created], [a0].[Description], [a0].[Expiration], [a0].[Type], [a0].[Value], [a1].[Id], [a1].[ApiResourceId], [a1].[Scope], [a2].[Id], [a2].[ApiResourceId], [a2].[Type], [a3].[Id], [a3].[ApiResourceId], [a3].[Key], [a3].[Value]
FROM [ApiResources] AS [a]
LEFT JOIN [ApiResourceSecrets] AS [a0] ON [a].[Id] = [a0].[ApiResourceId]
LEFT JOIN [ApiResourceScopes] AS [a1] ON [a].[Id] = [a1].[ApiResourceId]
LEFT JOIN [ApiResourceClaims] AS [a2] ON [a].[Id] = [a2].[ApiResourceId]
LEFT JOIN [ApiResourceProperties] AS [a3] ON [a].[Id] = [a3].[ApiResourceId]
WHERE EXISTS (
    SELECT 1
    FROM [ApiResourceScopes] AS [a4]
    WHERE ([a].[Id] = [a4].[ApiResourceId]) AND [a4].[Scope] IN (N'openid', N'profile', N'email', N'roles'))
ORDER BY [a].[Id], [a0].[Id], [a1].[Id], [a2].[Id], [a3].[Id]"
[2020-12-30T13:19:13.2751027+00:00][INFO][17][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("6"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [a].[Id], [a].[Description], [a].[DisplayName], [a].[Emphasize], [a].[Enabled], [a].[Name], [a].[Required], [a].[ShowInDiscoveryDocument], [a0].[Id], [a0].[ScopeId], [a0].[Type], [a1].[Id], [a1].[Key], [a1].[ScopeId], [a1].[Value]
FROM [ApiScopes] AS [a]
LEFT JOIN [ApiScopeClaims] AS [a0] ON [a].[Id] = [a0].[ScopeId]
LEFT JOIN [ApiScopeProperties] AS [a1] ON [a].[Id] = [a1].[ScopeId]
WHERE [a].[Name] IN (N'openid', N'profile', N'email', N'roles')
ORDER BY [a].[Id], [a0].[Id], [a1].[Id]"
[2020-12-30T13:19:13.3332681+00:00][INFO][4][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("8"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c].[Id], [c].[AbsoluteRefreshTokenLifetime], [c].[AccessTokenLifetime], [c].[AccessTokenType], [c].[AllowAccessTokensViaBrowser], [c].[AllowOfflineAccess], [c].[AllowPlainTextPkce], [c].[AllowRememberConsent], [c].[AllowedIdentityTokenSigningAlgorithms], [c].[AlwaysIncludeUserClaimsInIdToken], [c].[AlwaysSendClientClaims], [c].[AuthorizationCodeLifetime], [c].[BackChannelLogoutSessionRequired], [c].[BackChannelLogoutUri], [c].[ClientClaimsPrefix], [c].[ClientId], [c].[ClientName], [c].[ClientUri], [c].[ConsentLifetime], [c].[Created], [c].[Description], [c].[DeviceCodeLifetime], [c].[EnableLocalLogin], [c].[Enabled], [c].[FrontChannelLogoutSessionRequired], [c].[FrontChannelLogoutUri], [c].[IdentityTokenLifetime], [c].[IncludeJwtId], [c].[LastAccessed], [c].[LogoUri], [c].[NonEditable], [c].[PairWiseSubjectSalt], [c].[ProtocolType], [c].[RefreshTokenExpiration], [c].[RefreshTokenUsage], [c].[RequireClientSecret], [c].[RequireConsent], [c].[RequirePkce], [c].[RequireRequestObject], [c].[SlidingRefreshTokenLifetime], [c].[UpdateAccessTokenClaimsOnRefresh], [c].[Updated], [c].[UserCodeType], [c].[UserSsoLifetime]
FROM [Clients] AS [c]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T13:19:13.3697189+00:00][INFO][17][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("3"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[Origin]
FROM [Clients] AS [c]
INNER JOIN [ClientCorsOrigins] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T13:19:13.3997360+00:00][INFO][4][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("24"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[GrantType]
FROM [Clients] AS [c]
INNER JOIN [ClientGrantTypes] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T13:19:13.4257164+00:00][INFO][4][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("14"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[Scope]
FROM [Clients] AS [c]
INNER JOIN [ClientScopes] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T13:19:13.4366282+00:00][INFO][19][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("9"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[Type], [c0].[Value]
FROM [Clients] AS [c]
INNER JOIN [ClientClaims] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T13:19:13.4561979+00:00][INFO][19][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("16"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[Created], [c0].[Description], [c0].[Expiration], [c0].[Type], [c0].[Value]
FROM [Clients] AS [c]
INNER JOIN [ClientSecrets] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T13:19:13.4892749+00:00][INFO][16][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("3"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[Provider]
FROM [Clients] AS [c]
INNER JOIN [ClientIdPRestrictions] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T13:19:13.5443480+00:00][INFO][15][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("12"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[PostLogoutRedirectUri]
FROM [Clients] AS [c]
INNER JOIN [ClientPostLogoutRedirectUris] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T13:19:13.5613669+00:00][INFO][17][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("5"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[Key], [c0].[Value]
FROM [Clients] AS [c]
INNER JOIN [ClientProperties] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T13:19:13.5946361+00:00][INFO][4][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("13"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[RedirectUri]
FROM [Clients] AS [c]
INNER JOIN [ClientRedirectUris] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T13:19:13.6700740+00:00][INFO][15][Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor] Executing ViewResult, running view "Login".
[2020-12-30T13:19:13.8567796+00:00][INFO][15][Microsoft.EntityFrameworkCore.Infrastructure] Entity Framework Core "5.0.1" initialized '"IdentityServerDataProtectionDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=EventManager.Identity.Admin.EntityFramework.SqlServer "
[2020-12-30T13:19:13.8643935+00:00][INFO][15][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("4"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [d].[Id], [d].[FriendlyName], [d].[Xml]
FROM [DataProtectionKeys] AS [d]"
[2020-12-30T13:19:15.0839570+00:00][INFO][15][Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor] Executed ViewResult - view "Login" executed in 1421.7039ms.
[2020-12-30T13:19:15.0888383+00:00][INFO][15][Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Executed action "EventManager.Identity.STS.Identity.Controllers.AccountController<EventManager.Identity.Admin.EntityFramework.Shared.Entities.Identity.UserIdentity, string>.Login (EventManager.Identity.STS.Identity)" in 2336.1686ms
[2020-12-30T13:19:15.0907570+00:00][INFO][15][Microsoft.AspNetCore.Routing.EndpointMiddleware] Executed endpoint '"EventManager.Identity.STS.Identity.Controllers.AccountController<EventManager.Identity.Admin.EntityFramework.Shared.Entities.Identity.UserIdentity, string>.Login (EventManager.Identity.STS.Identity)"'
[2020-12-30T13:19:15.1063199+00:00][INFO][15][Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/1.1 GET http://sts.em.host/Account/Login?ReturnUrl=%2Fconnect%2Fauthorize%2Fcallback%3Fclient_id%3Durn%253Aem%253Aclient%253Amvc%26redirect_uri%3Dhttps%253A%252F%252Fwww.em.host%252Fadmin%252Fidentity%252Fsignin-oidc%26response_type%3Dcode%26scope%3Dopenid%2520profile%2520email%2520roles%26code_challenge%3DCVuGXO6X4mXTYizi4gs3ajaJkqjpOTfAZPRWwoSAD4Q%26code_challenge_method%3DS256%26response_mode%3Dform_post%26nonce%3D637449311509234702.NjRkMDg5MWEtZTc3YS00NjQ0LWI3YmEtNjZkMGJmNWNkNDkyODc2N2I3NjMtZDhjNC00NDAxLWFlYzItMjRhNGNmYzVjOTVj%26state%3DCfDJ8IfTHaP7X4tMgtSdbTGk8GhpP32_vscvPK0IcaWrGZvp9gSEcHRu1cmezh132ZeS_RBzGoiVrTUdMlfuBDN4IC-DIJixQSh0NZJjRWD5twDYOG3mczi06uwDhgismgEcv9wmtZ8X3lVhTBPRYMUSeZQhPE-l-9WEGSqqL0APyoAvk3wa8k8H43vvFHrtiYbFjYJueE8BD8sE6PCzzbtanN_1g2OlKekXdT-M4WQeMrJhUXfqshiOPTUeQx7Y4L3aDpulzT48L7VS7-o_9gS_4VJualvXmsib-KJ5fs0T2nyBjkE6QDps85W3d6x778E7atfWsDh49ZxIcr77da6RjDS9b5nJFo9pnKOF9IC8VOfsJObSt9PRqBnDxAi9O4FrdQ%26x-client-SKU%3DID_NETSTANDARD2_0%26x-client-ver%3D5.6.0.0 - - - 200 - text/html;+charset=utf-8 2573.8182ms
[2020-12-30T13:19:27.9048501+00:00][INFO][13][Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 POST http://sts.em.host/Account/Login?ReturnUrl=%2Fconnect%2Fauthorize%2Fcallback%3Fclient_id%3Durn%253Aem%253Aclient%253Amvc%26redirect_uri%3Dhttps%253A%252F%252Fwww.em.host%252Fadmin%252Fidentity%252Fsignin-oidc%26response_type%3Dcode%26scope%3Dopenid%2520profile%2520email%2520roles%26code_challenge%3DCVuGXO6X4mXTYizi4gs3ajaJkqjpOTfAZPRWwoSAD4Q%26code_challenge_method%3DS256%26response_mode%3Dform_post%26nonce%3D637449311509234702.NjRkMDg5MWEtZTc3YS00NjQ0LWI3YmEtNjZkMGJmNWNkNDkyODc2N2I3NjMtZDhjNC00NDAxLWFlYzItMjRhNGNmYzVjOTVj%26state%3DCfDJ8IfTHaP7X4tMgtSdbTGk8GhpP32_vscvPK0IcaWrGZvp9gSEcHRu1cmezh132ZeS_RBzGoiVrTUdMlfuBDN4IC-DIJixQSh0NZJjRWD5twDYOG3mczi06uwDhgismgEcv9wmtZ8X3lVhTBPRYMUSeZQhPE-l-9WEGSqqL0APyoAvk3wa8k8H43vvFHrtiYbFjYJueE8BD8sE6PCzzbtanN_1g2OlKekXdT-M4WQeMrJhUXfqshiOPTUeQx7Y4L3aDpulzT48L7VS7-o_9gS_4VJualvXmsib-KJ5fs0T2nyBjkE6QDps85W3d6x778E7atfWsDh49ZxIcr77da6RjDS9b5nJFo9pnKOF9IC8VOfsJObSt9PRqBnDxAi9O4FrdQ%26x-client-SKU%3DID_NETSTANDARD2_0%26x-client-ver%3D5.6.0.0 application/x-www-form-urlencoded 1207
[2020-12-30T13:19:27.9219456+00:00][INFO][13][Microsoft.AspNetCore.Cors.Infrastructure.CorsMiddleware] No CORS policy found for the specified request.
[2020-12-30T13:19:27.9356095+00:00][INFO][13][Microsoft.AspNetCore.Routing.EndpointMiddleware] Executing endpoint '"EventManager.Identity.STS.Identity.Controllers.AccountController<EventManager.Identity.Admin.EntityFramework.Shared.Entities.Identity.UserIdentity, string>.Login (EventManager.Identity.STS.Identity)"'
[2020-12-30T13:19:27.9544623+00:00][INFO][13][Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Route matched with "{action = \"Login\", controller = \"Account\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(EventManager.Identity.STS.Identity.ViewModels.Account.LoginInputModel, System.String)" on controller "EventManager.Identity.STS.Identity.Controllers.AccountController<EventManager.Identity.Admin.EntityFramework.Shared.Entities.Identity.UserIdentity, string>" ("EventManager.Identity.STS.Identity").
[2020-12-30T13:19:28.0198519+00:00][INFO][13][Microsoft.EntityFrameworkCore.Infrastructure] Entity Framework Core "5.0.1" initialized '"IdentityServerConfigurationDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=EventManager.Identity.Admin.EntityFramework.SqlServer "
[2020-12-30T13:19:28.0263818+00:00][INFO][15][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("3"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c].[Id], [c].[AbsoluteRefreshTokenLifetime], [c].[AccessTokenLifetime], [c].[AccessTokenType], [c].[AllowAccessTokensViaBrowser], [c].[AllowOfflineAccess], [c].[AllowPlainTextPkce], [c].[AllowRememberConsent], [c].[AllowedIdentityTokenSigningAlgorithms], [c].[AlwaysIncludeUserClaimsInIdToken], [c].[AlwaysSendClientClaims], [c].[AuthorizationCodeLifetime], [c].[BackChannelLogoutSessionRequired], [c].[BackChannelLogoutUri], [c].[ClientClaimsPrefix], [c].[ClientId], [c].[ClientName], [c].[ClientUri], [c].[ConsentLifetime], [c].[Created], [c].[Description], [c].[DeviceCodeLifetime], [c].[EnableLocalLogin], [c].[Enabled], [c].[FrontChannelLogoutSessionRequired], [c].[FrontChannelLogoutUri], [c].[IdentityTokenLifetime], [c].[IncludeJwtId], [c].[LastAccessed], [c].[LogoUri], [c].[NonEditable], [c].[PairWiseSubjectSalt], [c].[ProtocolType], [c].[RefreshTokenExpiration], [c].[RefreshTokenUsage], [c].[RequireClientSecret], [c].[RequireConsent], [c].[RequirePkce], [c].[RequireRequestObject], [c].[SlidingRefreshTokenLifetime], [c].[UpdateAccessTokenClaimsOnRefresh], [c].[Updated], [c].[UserCodeType], [c].[UserSsoLifetime]
FROM [Clients] AS [c]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T13:19:28.0635973+00:00][INFO][17][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("4"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[Origin]
FROM [Clients] AS [c]
INNER JOIN [ClientCorsOrigins] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T13:19:28.1006246+00:00][INFO][16][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("3"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[GrantType]
FROM [Clients] AS [c]
INNER JOIN [ClientGrantTypes] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T13:19:28.1319450+00:00][INFO][12][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("14"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[Scope]
FROM [Clients] AS [c]
INNER JOIN [ClientScopes] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T13:19:28.1877045+00:00][INFO][15][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("15"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[Type], [c0].[Value]
FROM [Clients] AS [c]
INNER JOIN [ClientClaims] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T13:19:28.2023029+00:00][INFO][14][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("2"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[Created], [c0].[Description], [c0].[Expiration], [c0].[Type], [c0].[Value]
FROM [Clients] AS [c]
INNER JOIN [ClientSecrets] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T13:19:28.2117205+00:00][INFO][14][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("6"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[Provider]
FROM [Clients] AS [c]
INNER JOIN [ClientIdPRestrictions] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T13:19:28.2204249+00:00][INFO][16][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("6"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[PostLogoutRedirectUri]
FROM [Clients] AS [c]
INNER JOIN [ClientPostLogoutRedirectUris] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T13:19:28.2500100+00:00][INFO][17][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("4"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[Key], [c0].[Value]
FROM [Clients] AS [c]
INNER JOIN [ClientProperties] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T13:19:28.2583883+00:00][INFO][4][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("6"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[RedirectUri]
FROM [Clients] AS [c]
INNER JOIN [ClientRedirectUris] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T13:19:28.2651801+00:00][INFO][19][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [i].[Id], [i].[Created], [i].[Description], [i].[DisplayName], [i].[Emphasize], [i].[Enabled], [i].[Name], [i].[NonEditable], [i].[Required], [i].[ShowInDiscoveryDocument], [i].[Updated], [i0].[Id], [i0].[IdentityResourceId], [i0].[Type], [i1].[Id], [i1].[IdentityResourceId], [i1].[Key], [i1].[Value]
FROM [IdentityResources] AS [i]
LEFT JOIN [IdentityResourceClaims] AS [i0] ON [i].[Id] = [i0].[IdentityResourceId]
LEFT JOIN [IdentityResourceProperties] AS [i1] ON [i].[Id] = [i1].[IdentityResourceId]
WHERE [i].[Name] IN (N'openid', N'profile', N'email', N'roles')
ORDER BY [i].[Id], [i0].[Id], [i1].[Id]"
[2020-12-30T13:19:28.2834350+00:00][INFO][16][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [a].[Id], [a].[AllowedAccessTokenSigningAlgorithms], [a].[Created], [a].[Description], [a].[DisplayName], [a].[Enabled], [a].[LastAccessed], [a].[Name], [a].[NonEditable], [a].[ShowInDiscoveryDocument], [a].[Updated], [a0].[Id], [a0].[ApiResourceId], [a0].[Created], [a0].[Description], [a0].[Expiration], [a0].[Type], [a0].[Value], [a1].[Id], [a1].[ApiResourceId], [a1].[Scope], [a2].[Id], [a2].[ApiResourceId], [a2].[Type], [a3].[Id], [a3].[ApiResourceId], [a3].[Key], [a3].[Value]
FROM [ApiResources] AS [a]
LEFT JOIN [ApiResourceSecrets] AS [a0] ON [a].[Id] = [a0].[ApiResourceId]
LEFT JOIN [ApiResourceScopes] AS [a1] ON [a].[Id] = [a1].[ApiResourceId]
LEFT JOIN [ApiResourceClaims] AS [a2] ON [a].[Id] = [a2].[ApiResourceId]
LEFT JOIN [ApiResourceProperties] AS [a3] ON [a].[Id] = [a3].[ApiResourceId]
WHERE EXISTS (
    SELECT 1
    FROM [ApiResourceScopes] AS [a4]
    WHERE ([a].[Id] = [a4].[ApiResourceId]) AND [a4].[Scope] IN (N'openid', N'profile', N'email', N'roles'))
ORDER BY [a].[Id], [a0].[Id], [a1].[Id], [a2].[Id], [a3].[Id]"
[2020-12-30T13:19:28.2971461+00:00][INFO][19][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [a].[Id], [a].[Description], [a].[DisplayName], [a].[Emphasize], [a].[Enabled], [a].[Name], [a].[Required], [a].[ShowInDiscoveryDocument], [a0].[Id], [a0].[ScopeId], [a0].[Type], [a1].[Id], [a1].[Key], [a1].[ScopeId], [a1].[Value]
FROM [ApiScopes] AS [a]
LEFT JOIN [ApiScopeClaims] AS [a0] ON [a].[Id] = [a0].[ScopeId]
LEFT JOIN [ApiScopeProperties] AS [a1] ON [a].[Id] = [a1].[ScopeId]
WHERE [a].[Name] IN (N'openid', N'profile', N'email', N'roles')
ORDER BY [a].[Id], [a0].[Id], [a1].[Id]"
[2020-12-30T13:19:28.3999373+00:00][INFO][19][Microsoft.EntityFrameworkCore.Infrastructure] Entity Framework Core "5.0.1" initialized '"AdminIdentityDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=EventManager.Identity.Admin.EntityFramework.SqlServer "
[2020-12-30T13:19:28.4274295+00:00][INFO][4][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("2"ms) [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0"
[2020-12-30T13:19:28.5005218+00:00][INFO][19][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("2"ms) [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0"
[2020-12-30T13:19:28.5986183+00:00][INFO][15][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("11"ms) [Parameters=["@__user_Id_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [u].[Id], [u].[ClaimType], [u].[ClaimValue], [u].[UserId]
FROM [UserClaims] AS [u]
WHERE [u].[UserId] = @__user_Id_0"
[2020-12-30T13:19:28.6887740+00:00][INFO][19][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("23"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [r].[Name]
FROM [UserRoles] AS [u]
INNER JOIN [Roles] AS [r] ON [u].[RoleId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0"
[2020-12-30T13:19:28.7057242+00:00][INFO][19][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("4"ms) [Parameters=["@__normalizedName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [Roles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0"
[2020-12-30T13:19:28.7321900+00:00][INFO][11][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("4"ms) [Parameters=["@__role_Id_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [r].[ClaimType], [r].[ClaimValue]
FROM [RoleClaims] AS [r]
WHERE [r].[RoleId] = @__role_Id_0"
[2020-12-30T13:19:28.7675857+00:00][INFO][11][Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler] AuthenticationScheme: "Identity.Application" signed in.
[2020-12-30T13:19:28.7892238+00:00][INFO][11][IdentityServer4.Events.DefaultEventService] UserLoginSuccessEvent { Username: "admin", Provider: null, ProviderUserId: null, SubjectId: "174c9a38-e759-45b6-b735-470eca298a31", DisplayName: "admin", Endpoint: "UI", ClientId: null, Category: "Authentication", Name: "User Login Success", EventType: Success, Id: 1000, Message: null, ActivityId: "0HM5COLUKQA77:00000002", TimeStamp: 12/30/2020 13:19:28, ProcessId: 1105, LocalIpAddress: "::ffff:192.168.160.7:50003", RemoteIpAddress: "192.168.160.1" }
[2020-12-30T13:19:28.8036522+00:00][INFO][11][Microsoft.AspNetCore.Mvc.Infrastructure.RedirectResultExecutor] Executing RedirectResult, redirecting to "/connect/authorize/callback?client_id=urn%3Aem%3Aclient%3Amvc&redirect_uri=https%3A%2F%2Fwww.em.host%2Fadmin%2Fidentity%2Fsignin-oidc&response_type=code&scope=openid%20profile%20email%20roles&code_challenge=CVuGXO6X4mXTYizi4gs3ajaJkqjpOTfAZPRWwoSAD4Q&code_challenge_method=S256&response_mode=form_post&nonce=637449311509234702.NjRkMDg5MWEtZTc3YS00NjQ0LWI3YmEtNjZkMGJmNWNkNDkyODc2N2I3NjMtZDhjNC00NDAxLWFlYzItMjRhNGNmYzVjOTVj&state=CfDJ8IfTHaP7X4tMgtSdbTGk8GhpP32_vscvPK0IcaWrGZvp9gSEcHRu1cmezh132ZeS_RBzGoiVrTUdMlfuBDN4IC-DIJixQSh0NZJjRWD5twDYOG3mczi06uwDhgismgEcv9wmtZ8X3lVhTBPRYMUSeZQhPE-l-9WEGSqqL0APyoAvk3wa8k8H43vvFHrtiYbFjYJueE8BD8sE6PCzzbtanN_1g2OlKekXdT-M4WQeMrJhUXfqshiOPTUeQx7Y4L3aDpulzT48L7VS7-o_9gS_4VJualvXmsib-KJ5fs0T2nyBjkE6QDps85W3d6x778E7atfWsDh49ZxIcr77da6RjDS9b5nJFo9pnKOF9IC8VOfsJObSt9PRqBnDxAi9O4FrdQ&x-client-SKU=ID_NETSTANDARD2_0&x-client-ver=5.6.0.0".
[2020-12-30T13:19:28.8122408+00:00][INFO][11][Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Executed action "EventManager.Identity.STS.Identity.Controllers.AccountController<EventManager.Identity.Admin.EntityFramework.Shared.Entities.Identity.UserIdentity, string>.Login (EventManager.Identity.STS.Identity)" in 856.716ms
[2020-12-30T13:19:28.8137786+00:00][INFO][11][Microsoft.AspNetCore.Routing.EndpointMiddleware] Executed endpoint '"EventManager.Identity.STS.Identity.Controllers.AccountController<EventManager.Identity.Admin.EntityFramework.Shared.Entities.Identity.UserIdentity, string>.Login (EventManager.Identity.STS.Identity)"'
[2020-12-30T13:19:28.8147378+00:00][INFO][11][Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/1.1 POST http://sts.em.host/Account/Login?ReturnUrl=%2Fconnect%2Fauthorize%2Fcallback%3Fclient_id%3Durn%253Aem%253Aclient%253Amvc%26redirect_uri%3Dhttps%253A%252F%252Fwww.em.host%252Fadmin%252Fidentity%252Fsignin-oidc%26response_type%3Dcode%26scope%3Dopenid%2520profile%2520email%2520roles%26code_challenge%3DCVuGXO6X4mXTYizi4gs3ajaJkqjpOTfAZPRWwoSAD4Q%26code_challenge_method%3DS256%26response_mode%3Dform_post%26nonce%3D637449311509234702.NjRkMDg5MWEtZTc3YS00NjQ0LWI3YmEtNjZkMGJmNWNkNDkyODc2N2I3NjMtZDhjNC00NDAxLWFlYzItMjRhNGNmYzVjOTVj%26state%3DCfDJ8IfTHaP7X4tMgtSdbTGk8GhpP32_vscvPK0IcaWrGZvp9gSEcHRu1cmezh132ZeS_RBzGoiVrTUdMlfuBDN4IC-DIJixQSh0NZJjRWD5twDYOG3mczi06uwDhgismgEcv9wmtZ8X3lVhTBPRYMUSeZQhPE-l-9WEGSqqL0APyoAvk3wa8k8H43vvFHrtiYbFjYJueE8BD8sE6PCzzbtanN_1g2OlKekXdT-M4WQeMrJhUXfqshiOPTUeQx7Y4L3aDpulzT48L7VS7-o_9gS_4VJualvXmsib-KJ5fs0T2nyBjkE6QDps85W3d6x778E7atfWsDh49ZxIcr77da6RjDS9b5nJFo9pnKOF9IC8VOfsJObSt9PRqBnDxAi9O4FrdQ%26x-client-SKU%3DID_NETSTANDARD2_0%26x-client-ver%3D5.6.0.0 application/x-www-form-urlencoded 1207 - 302 0 - 909.9046ms
[2020-12-30T13:19:28.8563621+00:00][INFO][11][Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 GET http://sts.em.host/connect/authorize/callback?client_id=urn%3Aem%3Aclient%3Amvc&redirect_uri=https%3A%2F%2Fwww.em.host%2Fadmin%2Fidentity%2Fsignin-oidc&response_type=code&scope=openid%20profile%20email%20roles&code_challenge=CVuGXO6X4mXTYizi4gs3ajaJkqjpOTfAZPRWwoSAD4Q&code_challenge_method=S256&response_mode=form_post&nonce=637449311509234702.NjRkMDg5MWEtZTc3YS00NjQ0LWI3YmEtNjZkMGJmNWNkNDkyODc2N2I3NjMtZDhjNC00NDAxLWFlYzItMjRhNGNmYzVjOTVj&state=CfDJ8IfTHaP7X4tMgtSdbTGk8GhpP32_vscvPK0IcaWrGZvp9gSEcHRu1cmezh132ZeS_RBzGoiVrTUdMlfuBDN4IC-DIJixQSh0NZJjRWD5twDYOG3mczi06uwDhgismgEcv9wmtZ8X3lVhTBPRYMUSeZQhPE-l-9WEGSqqL0APyoAvk3wa8k8H43vvFHrtiYbFjYJueE8BD8sE6PCzzbtanN_1g2OlKekXdT-M4WQeMrJhUXfqshiOPTUeQx7Y4L3aDpulzT48L7VS7-o_9gS_4VJualvXmsib-KJ5fs0T2nyBjkE6QDps85W3d6x778E7atfWsDh49ZxIcr77da6RjDS9b5nJFo9pnKOF9IC8VOfsJObSt9PRqBnDxAi9O4FrdQ&x-client-SKU=ID_NETSTANDARD2_0&x-client-ver=5.6.0.0 - -
[2020-12-30T13:19:28.8712735+00:00][INFO][11][IdentityServer4.Hosting.IdentityServerMiddleware] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeCallbackEndpoint" for "/connect/authorize/callback"
[2020-12-30T13:19:28.8886525+00:00][INFO][11][Microsoft.EntityFrameworkCore.Infrastructure] Entity Framework Core "5.0.1" initialized '"IdentityServerConfigurationDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=EventManager.Identity.Admin.EntityFramework.SqlServer "
[2020-12-30T13:19:28.9013983+00:00][INFO][19][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("7"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c].[Id], [c].[AbsoluteRefreshTokenLifetime], [c].[AccessTokenLifetime], [c].[AccessTokenType], [c].[AllowAccessTokensViaBrowser], [c].[AllowOfflineAccess], [c].[AllowPlainTextPkce], [c].[AllowRememberConsent], [c].[AllowedIdentityTokenSigningAlgorithms], [c].[AlwaysIncludeUserClaimsInIdToken], [c].[AlwaysSendClientClaims], [c].[AuthorizationCodeLifetime], [c].[BackChannelLogoutSessionRequired], [c].[BackChannelLogoutUri], [c].[ClientClaimsPrefix], [c].[ClientId], [c].[ClientName], [c].[ClientUri], [c].[ConsentLifetime], [c].[Created], [c].[Description], [c].[DeviceCodeLifetime], [c].[EnableLocalLogin], [c].[Enabled], [c].[FrontChannelLogoutSessionRequired], [c].[FrontChannelLogoutUri], [c].[IdentityTokenLifetime], [c].[IncludeJwtId], [c].[LastAccessed], [c].[LogoUri], [c].[NonEditable], [c].[PairWiseSubjectSalt], [c].[ProtocolType], [c].[RefreshTokenExpiration], [c].[RefreshTokenUsage], [c].[RequireClientSecret], [c].[RequireConsent], [c].[RequirePkce], [c].[RequireRequestObject], [c].[SlidingRefreshTokenLifetime], [c].[UpdateAccessTokenClaimsOnRefresh], [c].[Updated], [c].[UserCodeType], [c].[UserSsoLifetime]
FROM [Clients] AS [c]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T13:19:28.9805730+00:00][INFO][19][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("10"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[Origin]
FROM [Clients] AS [c]
INNER JOIN [ClientCorsOrigins] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T13:19:29.0053328+00:00][INFO][11][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("7"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[GrantType]
FROM [Clients] AS [c]
INNER JOIN [ClientGrantTypes] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T13:19:29.0145403+00:00][INFO][19][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("6"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[Scope]
FROM [Clients] AS [c]
INNER JOIN [ClientScopes] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T13:19:29.0427916+00:00][INFO][17][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("3"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[Type], [c0].[Value]
FROM [Clients] AS [c]
INNER JOIN [ClientClaims] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T13:19:29.0531615+00:00][INFO][11][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("3"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[Created], [c0].[Description], [c0].[Expiration], [c0].[Type], [c0].[Value]
FROM [Clients] AS [c]
INNER JOIN [ClientSecrets] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T13:19:29.0674523+00:00][INFO][19][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("11"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[Provider]
FROM [Clients] AS [c]
INNER JOIN [ClientIdPRestrictions] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T13:19:29.0812071+00:00][INFO][17][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("7"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[PostLogoutRedirectUri]
FROM [Clients] AS [c]
INNER JOIN [ClientPostLogoutRedirectUris] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T13:19:29.1143905+00:00][INFO][18][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("4"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[Key], [c0].[Value]
FROM [Clients] AS [c]
INNER JOIN [ClientProperties] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T13:19:29.1256315+00:00][INFO][11][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("8"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[RedirectUri]
FROM [Clients] AS [c]
INNER JOIN [ClientRedirectUris] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T13:19:29.1792725+00:00][INFO][11][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("4"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [i].[Id], [i].[Created], [i].[Description], [i].[DisplayName], [i].[Emphasize], [i].[Enabled], [i].[Name], [i].[NonEditable], [i].[Required], [i].[ShowInDiscoveryDocument], [i].[Updated], [i0].[Id], [i0].[IdentityResourceId], [i0].[Type], [i1].[Id], [i1].[IdentityResourceId], [i1].[Key], [i1].[Value]
FROM [IdentityResources] AS [i]
LEFT JOIN [IdentityResourceClaims] AS [i0] ON [i].[Id] = [i0].[IdentityResourceId]
LEFT JOIN [IdentityResourceProperties] AS [i1] ON [i].[Id] = [i1].[IdentityResourceId]
WHERE [i].[Name] IN (N'openid', N'profile', N'email', N'roles')
ORDER BY [i].[Id], [i0].[Id], [i1].[Id]"
[2020-12-30T13:19:29.2296980+00:00][INFO][18][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("20"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [a].[Id], [a].[AllowedAccessTokenSigningAlgorithms], [a].[Created], [a].[Description], [a].[DisplayName], [a].[Enabled], [a].[LastAccessed], [a].[Name], [a].[NonEditable], [a].[ShowInDiscoveryDocument], [a].[Updated], [a0].[Id], [a0].[ApiResourceId], [a0].[Created], [a0].[Description], [a0].[Expiration], [a0].[Type], [a0].[Value], [a1].[Id], [a1].[ApiResourceId], [a1].[Scope], [a2].[Id], [a2].[ApiResourceId], [a2].[Type], [a3].[Id], [a3].[ApiResourceId], [a3].[Key], [a3].[Value]
FROM [ApiResources] AS [a]
LEFT JOIN [ApiResourceSecrets] AS [a0] ON [a].[Id] = [a0].[ApiResourceId]
LEFT JOIN [ApiResourceScopes] AS [a1] ON [a].[Id] = [a1].[ApiResourceId]
LEFT JOIN [ApiResourceClaims] AS [a2] ON [a].[Id] = [a2].[ApiResourceId]
LEFT JOIN [ApiResourceProperties] AS [a3] ON [a].[Id] = [a3].[ApiResourceId]
WHERE EXISTS (
    SELECT 1
    FROM [ApiResourceScopes] AS [a4]
    WHERE ([a].[Id] = [a4].[ApiResourceId]) AND [a4].[Scope] IN (N'openid', N'profile', N'email', N'roles'))
ORDER BY [a][2020-12-30T16:00:01.3400736+00:00][INFO][1][Microsoft.EntityFrameworkCore.Infrastructure] Entity Framework Core "5.0.1" initialized '"IdentityServerDataProtectionDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=EventManager.Identity.Admin.EntityFramework.SqlServer "
[2020-12-30T16:00:03.7290739+00:00][INFO][1][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("74"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [d].[Id], [d].[FriendlyName], [d].[Xml]
FROM [DataProtectionKeys] AS [d]"
[2020-12-30T16:00:04.1138430+00:00][INFO][1][IdentityServer4.Startup] Starting IdentityServer4 version "4.1.1+cebd52f5bc61bdefc262fd20739d4d087c6f961f"
[2020-12-30T16:00:04.2812641+00:00][INFO][1][IdentityServer4.Startup] Using the default authentication scheme "Identity.Application" for IdentityServer
[2020-12-30T16:00:06.2090259+00:00][FATL][1][Microsoft.AspNetCore.Server.Kestrel] Unable to start Kestrel.
System.IO.IOException: Failed to bind to address https://[::]:50003: address already in use.
 ---> Microsoft.AspNetCore.Connections.AddressInUseException: Address already in use
 ---> System.Net.Sockets.SocketException (98): Address already in use
   at System.Net.Sockets.Socket.UpdateStatusAfterSocketErrorAndThrowException(SocketError error, String callerName)
   at System.Net.Sockets.Socket.DoBind(EndPoint endPointSnapshot, SocketAddress socketAddress)
   at System.Net.Sockets.Socket.Bind(EndPoint localEP)
   at Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets.SocketConnectionListener.<Bind>g__BindSocket|13_0(<>c__DisplayClass13_0& )
   --- End of inner exception stack trace ---
   at Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets.SocketConnectionListener.<Bind>g__BindSocket|13_0(<>c__DisplayClass13_0& )
   at Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets.SocketConnectionListener.Bind()
   at Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets.SocketTransportFactory.BindAsync(EndPoint endpoint, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Infrastructure.TransportManager.BindAsync(EndPoint endPoint, ConnectionDelegate connectionDelegate, EndpointConfig endpointConfig)
   at Microsoft.AspNetCore.Server.Kestrel.Core.KestrelServerImpl.<>c__DisplayClass29_0`1.<<StartAsync>g__OnBind|0>d.MoveNext()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.AddressBinder.BindEndpointAsync(ListenOptions endpoint, AddressBindContext context)
   --- End of inner exception stack trace ---
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.AddressBinder.BindEndpointAsync(ListenOptions endpoint, AddressBindContext context)
   at Microsoft.AspNetCore.Server.Kestrel.Core.ListenOptions.BindAsync(AddressBindContext context)
   at Microsoft.AspNetCore.Server.Kestrel.Core.AnyIPListenOptions.BindAsync(AddressBindContext context)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.AddressBinder.AddressesStrategy.BindAsync(AddressBindContext context)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.AddressBinder.BindAsync(IEnumerable`1 listenOptions, AddressBindContext context)
   at Microsoft.AspNetCore.Server.Kestrel.Core.KestrelServerImpl.BindAsync(CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.KestrelServerImpl.StartAsync[TContext](IHttpApplication`1 application, CancellationToken cancellationToken)
[2020-12-30T16:16:15.2695670+00:00][INFO][1][Microsoft.EntityFrameworkCore.Infrastructure] Entity Framework Core "5.0.1" initialized '"IdentityServerDataProtectionDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=EventManager.Identity.Admin.EntityFramework.SqlServer "
[2020-12-30T16:16:16.8924989+00:00][INFO][1][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("46"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [d].[Id], [d].[FriendlyName], [d].[Xml]
FROM [DataProtectionKeys] AS [d]"
[2020-12-30T16:16:17.1605970+00:00][INFO][1][IdentityServer4.Startup] Starting IdentityServer4 version "4.1.1+cebd52f5bc61bdefc262fd20739d4d087c6f961f"
[2020-12-30T16:16:17.2342733+00:00][INFO][1][IdentityServer4.Startup] Using the default authentication scheme "Identity.Application" for IdentityServer
[2020-12-30T16:16:18.4479436+00:00][INFO][1][Microsoft.Hosting.Lifetime] Now listening on: "https://[::]:50003"
[2020-12-30T16:16:18.4538458+00:00][INFO][1][Microsoft.Hosting.Lifetime] Application started. Press Ctrl+C to shut down.
[2020-12-30T16:16:18.4549534+00:00][INFO][1][Microsoft.Hosting.Lifetime] Hosting environment: "Development"
[2020-12-30T16:16:18.4555238+00:00][INFO][1][Microsoft.Hosting.Lifetime] Content root path: "/app"
[2020-12-30T16:17:36.4406604+00:00][INFO][15][Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 GET https://sts.em.host/.well-known/openid-configuration - -
[2020-12-30T16:17:36.5200570+00:00][INFO][15][IdentityServer4.Hosting.IdentityServerMiddleware] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.DiscoveryEndpoint" for "/.well-known/openid-configuration"
[2020-12-30T16:17:37.0727652+00:00][INFO][15][Microsoft.EntityFrameworkCore.Infrastructure] Entity Framework Core "5.0.1" initialized '"IdentityServerConfigurationDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=EventManager.Identity.Admin.EntityFramework.SqlServer "
[2020-12-30T16:17:37.2613461+00:00][WARN][15][Microsoft.EntityFrameworkCore.Query] Compiling a query which loads related collections for more than one collection navigation either via 'Include' or through projection but no 'QuerySplittingBehavior' has been configured. By default Entity Framework will use 'QuerySplittingBehavior.SingleQuery' which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'
[2020-12-30T16:17:37.3858023+00:00][INFO][16][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("55"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [i].[Id], [i].[Created], [i].[Description], [i].[DisplayName], [i].[Emphasize], [i].[Enabled], [i].[Name], [i].[NonEditable], [i].[Required], [i].[ShowInDiscoveryDocument], [i].[Updated], [i0].[Id], [i0].[IdentityResourceId], [i0].[Type], [i1].[Id], [i1].[IdentityResourceId], [i1].[Key], [i1].[Value]
FROM [IdentityResources] AS [i]
LEFT JOIN [IdentityResourceClaims] AS [i0] ON [i].[Id] = [i0].[IdentityResourceId]
LEFT JOIN [IdentityResourceProperties] AS [i1] ON [i].[Id] = [i1].[IdentityResourceId]
ORDER BY [i].[Id], [i0].[Id], [i1].[Id]"
[2020-12-30T16:17:37.5336414+00:00][WARN][16][Microsoft.EntityFrameworkCore.Query] Compiling a query which loads related collections for more than one collection navigation either via 'Include' or through projection but no 'QuerySplittingBehavior' has been configured. By default Entity Framework will use 'QuerySplittingBehavior.SingleQuery' which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'
[2020-12-30T16:17:37.5996719+00:00][INFO][16][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("33"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [a].[Id], [a].[AllowedAccessTokenSigningAlgorithms], [a].[Created], [a].[Description], [a].[DisplayName], [a].[Enabled], [a].[LastAccessed], [a].[Name], [a].[NonEditable], [a].[ShowInDiscoveryDocument], [a].[Updated], [a0].[Id], [a0].[ApiResourceId], [a0].[Created], [a0].[Description], [a0].[Expiration], [a0].[Type], [a0].[Value], [a1].[Id], [a1].[ApiResourceId], [a1].[Scope], [a2].[Id], [a2].[ApiResourceId], [a2].[Type], [a3].[Id], [a3].[ApiResourceId], [a3].[Key], [a3].[Value]
FROM [ApiResources] AS [a]
LEFT JOIN [ApiResourceSecrets] AS [a0] ON [a].[Id] = [a0].[ApiResourceId]
LEFT JOIN [ApiResourceScopes] AS [a1] ON [a].[Id] = [a1].[ApiResourceId]
LEFT JOIN [ApiResourceClaims] AS [a2] ON [a].[Id] = [a2].[ApiResourceId]
LEFT JOIN [ApiResourceProperties] AS [a3] ON [a].[Id] = [a3].[ApiResourceId]
ORDER BY [a].[Id], [a0].[Id], [a1].[Id], [a2].[Id], [a3].[Id]"
[2020-12-30T16:17:37.6301541+00:00][WARN][16][Microsoft.EntityFrameworkCore.Query] Compiling a query which loads related collections for more than one collection navigation either via 'Include' or through projection but no 'QuerySplittingBehavior' has been configured. By default Entity Framework will use 'QuerySplittingBehavior.SingleQuery' which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'
[2020-12-30T16:17:37.6891640+00:00][INFO][15][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("28"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [a].[Id], [a].[Description], [a].[DisplayName], [a].[Emphasize], [a].[Enabled], [a].[Name], [a].[Required], [a].[ShowInDiscoveryDocument], [a0].[Id], [a0].[ScopeId], [a0].[Type], [a1].[Id], [a1].[Key], [a1].[ScopeId], [a1].[Value]
FROM [ApiScopes] AS [a]
LEFT JOIN [ApiScopeClaims] AS [a0] ON [a].[Id] = [a0].[ScopeId]
LEFT JOIN [ApiScopeProperties] AS [a1] ON [a].[Id] = [a1].[ScopeId]
ORDER BY [a].[Id], [a0].[Id], [a1].[Id]"
[2020-12-30T16:17:38.3219328+00:00][INFO][15][Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/1.1 GET https://sts.em.host/.well-known/openid-configuration - - - 200 - application/json;+charset=UTF-8 1883.9220ms
[2020-12-30T16:17:38.4641921+00:00][INFO][13][Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 GET https://sts.em.host/.well-known/openid-configuration/jwks - -
[2020-12-30T16:17:38.4777257+00:00][INFO][13][IdentityServer4.Hosting.IdentityServerMiddleware] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.DiscoveryKeyEndpoint" for "/.well-known/openid-configuration/jwks"
[2020-12-30T16:17:38.6000151+00:00][INFO][13][Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/1.1 GET https://sts.em.host/.well-known/openid-configuration/jwks - - - 200 - application/json;+charset=UTF-8 135.7145ms
[2020-12-30T16:18:30.2071474+00:00][INFO][20][Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 GET https://sts.em.host/connect/authorize?client_id=urn%3Aem%3Aclient%3Amvc&redirect_uri=https%3A%2F%2Fwww.em.host%2Fadmin%2Fidentity%2Fsignin-oidc&response_type=code&scope=openid%20profile%20email%20roles&code_challenge=lP22F2WaUqSrZ8QcZ_saxBa2i_ssDIT_JLR6BqMtK4w&code_challenge_method=S256&response_mode=form_post&nonce=637449418586736380.YjU5Nzc3M2YtYTdlZi00ZGJjLTgxNGQtNWI1NjIxYTJkNjFjNzA1ZGM3ODAtM2U2My00MmVlLWJjMzQtZDU0M2Q3N2VhMGEw&state=CfDJ8IfTHaP7X4tMgtSdbTGk8Gh_iFGY58VdwEaAHPKW3yj7cv_Y-8yMcg4vzuUgIbJAuOhxDbeL9dMwFn6Ihx7uSE4mockhybDgBLYPOddOufsTpb8wI_-OWikuCQcA5gUUJUiN8dgblfx0N25l4ntmSh3Gs1FOKbyE0RggeawrtZOidQT2ODRigehvZ1kNB5zc3vFpdDBEHdHRSTEi-AWFD4cDcIERdSE40QgHDMdDOqDxGVxP_SYUJbgkVc-fhHJK-qSbU9J2NLjrV37MOsG7Xa5l75YwRZm8-KRX40HErZXtY5hEzp0372nJYarFfk-u0C8QCPPjgifQ52dZgFkPVNDKhkLB9WL3Y82MgsPOLfyUNgY62CRb0-cW1xT7MyYJfQ&x-client-SKU=ID_NETSTANDARD2_0&x-client-ver=5.6.0.0 - -
[2020-12-30T16:18:30.3669039+00:00][INFO][20][IdentityServer4.Hosting.IdentityServerMiddleware] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize"
[2020-12-30T16:18:30.4012310+00:00][INFO][20][Microsoft.EntityFrameworkCore.Infrastructure] Entity Framework Core "5.0.1" initialized '"IdentityServerConfigurationDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=EventManager.Identity.Admin.EntityFramework.SqlServer "
[2020-12-30T16:18:30.4779999+00:00][INFO][11][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("31"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c].[Id], [c].[AbsoluteRefreshTokenLifetime], [c].[AccessTokenLifetime], [c].[AccessTokenType], [c].[AllowAccessTokensViaBrowser], [c].[AllowOfflineAccess], [c].[AllowPlainTextPkce], [c].[AllowRememberConsent], [c].[AllowedIdentityTokenSigningAlgorithms], [c].[AlwaysIncludeUserClaimsInIdToken], [c].[AlwaysSendClientClaims], [c].[AuthorizationCodeLifetime], [c].[BackChannelLogoutSessionRequired], [c].[BackChannelLogoutUri], [c].[ClientClaimsPrefix], [c].[ClientId], [c].[ClientName], [c].[ClientUri], [c].[ConsentLifetime], [c].[Created], [c].[Description], [c].[DeviceCodeLifetime], [c].[EnableLocalLogin], [c].[Enabled], [c].[FrontChannelLogoutSessionRequired], [c].[FrontChannelLogoutUri], [c].[IdentityTokenLifetime], [c].[IncludeJwtId], [c].[LastAccessed], [c].[LogoUri], [c].[NonEditable], [c].[PairWiseSubjectSalt], [c].[ProtocolType], [c].[RefreshTokenExpiration], [c].[RefreshTokenUsage], [c].[RequireClientSecret], [c].[RequireConsent], [c].[RequirePkce], [c].[RequireRequestObject], [c].[SlidingRefreshTokenLifetime], [c].[UpdateAccessTokenClaimsOnRefresh], [c].[Updated], [c].[UserCodeType], [c].[UserSsoLifetime]
FROM [Clients] AS [c]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T16:18:30.6227307+00:00][INFO][20][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("25"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[Origin]
FROM [Clients] AS [c]
INNER JOIN [ClientCorsOrigins] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T16:18:30.6671140+00:00][INFO][11][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("11"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[GrantType]
FROM [Clients] AS [c]
INNER JOIN [ClientGrantTypes] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T16:18:30.7030162+00:00][INFO][11][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("13"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[Scope]
FROM [Clients] AS [c]
INNER JOIN [ClientScopes] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T16:18:30.7257067+00:00][INFO][20][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("4"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[Type], [c0].[Value]
FROM [Clients] AS [c]
INNER JOIN [ClientClaims] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T16:18:30.7631033+00:00][INFO][11][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("18"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[Created], [c0].[Description], [c0].[Expiration], [c0].[Type], [c0].[Value]
FROM [Clients] AS [c]
INNER JOIN [ClientSecrets] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T16:18:30.8216760+00:00][INFO][20][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("13"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[Provider]
FROM [Clients] AS [c]
INNER JOIN [ClientIdPRestrictions] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T16:18:30.8684826+00:00][INFO][19][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("16"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[PostLogoutRedirectUri]
FROM [Clients] AS [c]
INNER JOIN [ClientPostLogoutRedirectUris] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T16:18:30.8970430+00:00][INFO][11][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("5"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[Key], [c0].[Value]
FROM [Clients] AS [c]
INNER JOIN [ClientProperties] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T16:18:30.9492639+00:00][INFO][19][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("12"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[RedirectUri]
FROM [Clients] AS [c]
INNER JOIN [ClientRedirectUris] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T16:18:31.2972955+00:00][WARN][19][Microsoft.EntityFrameworkCore.Query] Compiling a query which loads related collections for more than one collection navigation either via 'Include' or through projection but no 'QuerySplittingBehavior' has been configured. By default Entity Framework will use 'QuerySplittingBehavior.SingleQuery' which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'
[2020-12-30T16:18:31.3427989+00:00][INFO][11][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("17"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [i].[Id], [i].[Created], [i].[Description], [i].[DisplayName], [i].[Emphasize], [i].[Enabled], [i].[Name], [i].[NonEditable], [i].[Required], [i].[ShowInDiscoveryDocument], [i].[Updated], [i0].[Id], [i0].[IdentityResourceId], [i0].[Type], [i1].[Id], [i1].[IdentityResourceId], [i1].[Key], [i1].[Value]
FROM [IdentityResources] AS [i]
LEFT JOIN [IdentityResourceClaims] AS [i0] ON [i].[Id] = [i0].[IdentityResourceId]
LEFT JOIN [IdentityResourceProperties] AS [i1] ON [i].[Id] = [i1].[IdentityResourceId]
WHERE [i].[Name] IN (N'openid', N'profile', N'email', N'roles')
ORDER BY [i].[Id], [i0].[Id], [i1].[Id]"
[2020-12-30T16:18:31.3799823+00:00][WARN][11][Microsoft.EntityFrameworkCore.Query] Compiling a query which loads related collections for more than one collection navigation either via 'Include' or through projection but no 'QuerySplittingBehavior' has been configured. By default Entity Framework will use 'QuerySplittingBehavior.SingleQuery' which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'
[2020-12-30T16:18:31.4442434+00:00][INFO][20][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("30"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [a].[Id], [a].[AllowedAccessTokenSigningAlgorithms], [a].[Created], [a].[Description], [a].[DisplayName], [a].[Enabled], [a].[LastAccessed], [a].[Name], [a].[NonEditable], [a].[ShowInDiscoveryDocument], [a].[Updated], [a0].[Id], [a0].[ApiResourceId], [a0].[Created], [a0].[Description], [a0].[Expiration], [a0].[Type], [a0].[Value], [a1].[Id], [a1].[ApiResourceId], [a1].[Scope], [a2].[Id], [a2].[ApiResourceId], [a2].[Type], [a3].[Id], [a3].[ApiResourceId], [a3].[Key], [a3].[Value]
FROM [ApiResources] AS [a]
LEFT JOIN [ApiResourceSecrets] AS [a0] ON [a].[Id] = [a0].[ApiResourceId]
LEFT JOIN [ApiResourceScopes] AS [a1] ON [a].[Id] = [a1].[ApiResourceId]
LEFT JOIN [ApiResourceClaims] AS [a2] ON [a].[Id] = [a2].[ApiResourceId]
LEFT JOIN [ApiResourceProperties] AS [a3] ON [a].[Id] = [a3].[ApiResourceId]
WHERE EXISTS (
    SELECT 1
    FROM [ApiResourceScopes] AS [a4]
    WHERE ([a].[Id] = [a4].[ApiResourceId]) AND [a4].[Scope] IN (N'openid', N'profile', N'email', N'roles'))
ORDER BY [a].[Id], [a0].[Id], [a1].[Id], [a2].[Id], [a3].[Id]"
[2020-12-30T16:18:31.4588518+00:00][WARN][20][Microsoft.EntityFrameworkCore.Query] Compiling a query which loads related collections for more than one collection navigation either via 'Include' or through projection but no 'QuerySplittingBehavior' has been configured. By default Entity Framework will use 'QuerySplittingBehavior.SingleQuery' which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'
[2020-12-30T16:18:31.4955911+00:00][INFO][20][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("15"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [a].[Id], [a].[Description], [a].[DisplayName], [a].[Emphasize], [a].[Enabled], [a].[Name], [a].[Required], [a].[ShowInDiscoveryDocument], [a0].[Id], [a0].[ScopeId], [a0].[Type], [a1].[Id], [a1].[Key], [a1].[ScopeId], [a1].[Value]
FROM [ApiScopes] AS [a]
LEFT JOIN [ApiScopeClaims] AS [a0] ON [a].[Id] = [a0].[ScopeId]
LEFT JOIN [ApiScopeProperties] AS [a1] ON [a].[Id] = [a1].[ScopeId]
WHERE [a].[Name] IN (N'openid', N'profile', N'email', N'roles')
ORDER BY [a].[Id], [a0].[Id], [a1].[Id]"
[2020-12-30T16:18:31.5395709+00:00][INFO][20][IdentityServer4.ResponseHandling.AuthorizeInteractionResponseGenerator] Showing login: User is not authenticated
[2020-12-30T16:18:31.5523985+00:00][INFO][20][Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/1.1 GET https://sts.em.host/connect/authorize?client_id=urn%3Aem%3Aclient%3Amvc&redirect_uri=https%3A%2F%2Fwww.em.host%2Fadmin%2Fidentity%2Fsignin-oidc&response_type=code&scope=openid%20profile%20email%20roles&code_challenge=lP22F2WaUqSrZ8QcZ_saxBa2i_ssDIT_JLR6BqMtK4w&code_challenge_method=S256&response_mode=form_post&nonce=637449418586736380.YjU5Nzc3M2YtYTdlZi00ZGJjLTgxNGQtNWI1NjIxYTJkNjFjNzA1ZGM3ODAtM2U2My00MmVlLWJjMzQtZDU0M2Q3N2VhMGEw&state=CfDJ8IfTHaP7X4tMgtSdbTGk8Gh_iFGY58VdwEaAHPKW3yj7cv_Y-8yMcg4vzuUgIbJAuOhxDbeL9dMwFn6Ihx7uSE4mockhybDgBLYPOddOufsTpb8wI_-OWikuCQcA5gUUJUiN8dgblfx0N25l4ntmSh3Gs1FOKbyE0RggeawrtZOidQT2ODRigehvZ1kNB5zc3vFpdDBEHdHRSTEi-AWFD4cDcIERdSE40QgHDMdDOqDxGVxP_SYUJbgkVc-fhHJK-qSbU9J2NLjrV37MOsG7Xa5l75YwRZm8-KRX40HErZXtY5hEzp0372nJYarFfk-u0C8QCPPjgifQ52dZgFkPVNDKhkLB9WL3Y82MgsPOLfyUNgY62CRb0-cW1xT7MyYJfQ&x-client-SKU=ID_NETSTANDARD2_0&x-client-ver=5.6.0.0 - - - 302 0 - 1344.7979ms
[2020-12-30T16:18:31.5921045+00:00][INFO][11][Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 GET https://sts.em.host/Account/Login?ReturnUrl=%2Fconnect%2Fauthorize%2Fcallback%3Fclient_id%3Durn%253Aem%253Aclient%253Amvc%26redirect_uri%3Dhttps%253A%252F%252Fwww.em.host%252Fadmin%252Fidentity%252Fsignin-oidc%26response_type%3Dcode%26scope%3Dopenid%2520profile%2520email%2520roles%26code_challenge%3DlP22F2WaUqSrZ8QcZ_saxBa2i_ssDIT_JLR6BqMtK4w%26code_challenge_method%3DS256%26response_mode%3Dform_post%26nonce%3D637449418586736380.YjU5Nzc3M2YtYTdlZi00ZGJjLTgxNGQtNWI1NjIxYTJkNjFjNzA1ZGM3ODAtM2U2My00MmVlLWJjMzQtZDU0M2Q3N2VhMGEw%26state%3DCfDJ8IfTHaP7X4tMgtSdbTGk8Gh_iFGY58VdwEaAHPKW3yj7cv_Y-8yMcg4vzuUgIbJAuOhxDbeL9dMwFn6Ihx7uSE4mockhybDgBLYPOddOufsTpb8wI_-OWikuCQcA5gUUJUiN8dgblfx0N25l4ntmSh3Gs1FOKbyE0RggeawrtZOidQT2ODRigehvZ1kNB5zc3vFpdDBEHdHRSTEi-AWFD4cDcIERdSE40QgHDMdDOqDxGVxP_SYUJbgkVc-fhHJK-qSbU9J2NLjrV37MOsG7Xa5l75YwRZm8-KRX40HErZXtY5hEzp0372nJYarFfk-u0C8QCPPjgifQ52dZgFkPVNDKhkLB9WL3Y82MgsPOLfyUNgY62CRb0-cW1xT7MyYJfQ%26x-client-SKU%3DID_NETSTANDARD2_0%26x-client-ver%3D5.6.0.0 - -
[2020-12-30T16:18:31.7877248+00:00][INFO][11][Microsoft.AspNetCore.Routing.EndpointMiddleware] Executing endpoint '"EventManager.Identity.STS.Identity.Controllers.AccountController<EventManager.Identity.Admin.EntityFramework.Shared.Entities.Identity.UserIdentity, string>.Login (EventManager.Identity.STS.Identity)"'
[2020-12-30T16:18:31.8545092+00:00][INFO][11][Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Route matched with "{action = \"Login\", controller = \"Account\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(System.String)" on controller "EventManager.Identity.STS.Identity.Controllers.AccountController<EventManager.Identity.Admin.EntityFramework.Shared.Entities.Identity.UserIdentity, string>" ("EventManager.Identity.STS.Identity").
[2020-12-30T16:18:31.9171901+00:00][INFO][11][Microsoft.EntityFrameworkCore.Infrastructure] Entity Framework Core "5.0.1" initialized '"IdentityServerConfigurationDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=EventManager.Identity.Admin.EntityFramework.SqlServer "
[2020-12-30T16:18:31.9320071+00:00][INFO][20][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("6"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c].[Id], [c].[AbsoluteRefreshTokenLifetime], [c].[AccessTokenLifetime], [c].[AccessTokenType], [c].[AllowAccessTokensViaBrowser], [c].[AllowOfflineAccess], [c].[AllowPlainTextPkce], [c].[AllowRememberConsent], [c].[AllowedIdentityTokenSigningAlgorithms], [c].[AlwaysIncludeUserClaimsInIdToken], [c].[AlwaysSendClientClaims], [c].[AuthorizationCodeLifetime], [c].[BackChannelLogoutSessionRequired], [c].[BackChannelLogoutUri], [c].[ClientClaimsPrefix], [c].[ClientId], [c].[ClientName], [c].[ClientUri], [c].[ConsentLifetime], [c].[Created], [c].[Description], [c].[DeviceCodeLifetime], [c].[EnableLocalLogin], [c].[Enabled], [c].[FrontChannelLogoutSessionRequired], [c].[FrontChannelLogoutUri], [c].[IdentityTokenLifetime], [c].[IncludeJwtId], [c].[LastAccessed], [c].[LogoUri], [c].[NonEditable], [c].[PairWiseSubjectSalt], [c].[ProtocolType], [c].[RefreshTokenExpiration], [c].[RefreshTokenUsage], [c].[RequireClientSecret], [c].[RequireConsent], [c].[RequirePkce], [c].[RequireRequestObject], [c].[SlidingRefreshTokenLifetime], [c].[UpdateAccessTokenClaimsOnRefresh], [c].[Updated], [c].[UserCodeType], [c].[UserSsoLifetime]
FROM [Clients] AS [c]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T16:18:31.9444734+00:00][INFO][20][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("2"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[Origin]
FROM [Clients] AS [c]
INNER JOIN [ClientCorsOrigins] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T16:18:32.0627879+00:00][INFO][20][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("26"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[GrantType]
FROM [Clients] AS [c]
INNER JOIN [ClientGrantTypes] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T16:18:32.1391780+00:00][INFO][21][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("29"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[Scope]
FROM [Clients] AS [c]
INNER JOIN [ClientScopes] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T16:18:32.1574112+00:00][INFO][23][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("12"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[Type], [c0].[Value]
FROM [Clients] AS [c]
INNER JOIN [ClientClaims] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T16:18:32.2078217+00:00][INFO][24][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("2"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[Created], [c0].[Description], [c0].[Expiration], [c0].[Type], [c0].[Value]
FROM [Clients] AS [c]
INNER JOIN [ClientSecrets] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T16:18:32.2383170+00:00][INFO][4][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("5"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[Provider]
FROM [Clients] AS [c]
INNER JOIN [ClientIdPRestrictions] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T16:18:32.2770026+00:00][INFO][20][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("23"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[PostLogoutRedirectUri]
FROM [Clients] AS [c]
INNER JOIN [ClientPostLogoutRedirectUris] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T16:18:32.3020581+00:00][INFO][19][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("2"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[Key], [c0].[Value]
FROM [Clients] AS [c]
INNER JOIN [ClientProperties] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T16:18:32.3412229+00:00][INFO][25][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("12"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[RedirectUri]
FROM [Clients] AS [c]
INNER JOIN [ClientRedirectUris] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T16:18:32.3944105+00:00][INFO][20][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("9"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [i].[Id], [i].[Created], [i].[Description], [i].[DisplayName], [i].[Emphasize], [i].[Enabled], [i].[Name], [i].[NonEditable], [i].[Required], [i].[ShowInDiscoveryDocument], [i].[Updated], [i0].[Id], [i0].[IdentityResourceId], [i0].[Type], [i1].[Id], [i1].[IdentityResourceId], [i1].[Key], [i1].[Value]
FROM [IdentityResources] AS [i]
LEFT JOIN [IdentityResourceClaims] AS [i0] ON [i].[Id] = [i0].[IdentityResourceId]
LEFT JOIN [IdentityResourceProperties] AS [i1] ON [i].[Id] = [i1].[IdentityResourceId]
WHERE [i].[Name] IN (N'openid', N'profile', N'email', N'roles')
ORDER BY [i].[Id], [i0].[Id], [i1].[Id]"
[2020-12-30T16:18:32.4480980+00:00][INFO][21][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("24"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [a].[Id], [a].[AllowedAccessTokenSigningAlgorithms], [a].[Created], [a].[Description], [a].[DisplayName], [a].[Enabled], [a].[LastAccessed], [a].[Name], [a].[NonEditable], [a].[ShowInDiscoveryDocument], [a].[Updated], [a0].[Id], [a0].[ApiResourceId], [a0].[Created], [a0].[Description], [a0].[Expiration], [a0].[Type], [a0].[Value], [a1].[Id], [a1].[ApiResourceId], [a1].[Scope], [a2].[Id], [a2].[ApiResourceId], [a2].[Type], [a3].[Id], [a3].[ApiResourceId], [a3].[Key], [a3].[Value]
FROM [ApiResources] AS [a]
LEFT JOIN [ApiResourceSecrets] AS [a0] ON [a].[Id] = [a0].[ApiResourceId]
LEFT JOIN [ApiResourceScopes] AS [a1] ON [a].[Id] = [a1].[ApiResourceId]
LEFT JOIN [ApiResourceClaims] AS [a2] ON [a].[Id] = [a2].[ApiResourceId]
LEFT JOIN [ApiResourceProperties] AS [a3] ON [a].[Id] = [a3].[ApiResourceId]
WHERE EXISTS (
    SELECT 1
    FROM [ApiResourceScopes] AS [a4]
    WHERE ([a].[Id] = [a4].[ApiResourceId]) AND [a4].[Scope] IN (N'openid', N'profile', N'email', N'roles'))
ORDER BY [a].[Id], [a0].[Id], [a1].[Id], [a2].[Id], [a3].[Id]"
[2020-12-30T16:18:32.4752602+00:00][INFO][11][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [a].[Id], [a].[Description], [a].[DisplayName], [a].[Emphasize], [a].[Enabled], [a].[Name], [a].[Required], [a].[ShowInDiscoveryDocument], [a0].[Id], [a0].[ScopeId], [a0].[Type], [a1].[Id], [a1].[Key], [a1].[ScopeId], [a1].[Value]
FROM [ApiScopes] AS [a]
LEFT JOIN [ApiScopeClaims] AS [a0] ON [a].[Id] = [a0].[ScopeId]
LEFT JOIN [ApiScopeProperties] AS [a1] ON [a].[Id] = [a1].[ScopeId]
WHERE [a].[Name] IN (N'openid', N'profile', N'email', N'roles')
ORDER BY [a].[Id], [a0].[Id], [a1].[Id]"
[2020-12-30T16:18:32.5369376+00:00][INFO][19][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("7"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c].[Id], [c].[AbsoluteRefreshTokenLifetime], [c].[AccessTokenLifetime], [c].[AccessTokenType], [c].[AllowAccessTokensViaBrowser], [c].[AllowOfflineAccess], [c].[AllowPlainTextPkce], [c].[AllowRememberConsent], [c].[AllowedIdentityTokenSigningAlgorithms], [c].[AlwaysIncludeUserClaimsInIdToken], [c].[AlwaysSendClientClaims], [c].[AuthorizationCodeLifetime], [c].[BackChannelLogoutSessionRequired], [c].[BackChannelLogoutUri], [c].[ClientClaimsPrefix], [c].[ClientId], [c].[ClientName], [c].[ClientUri], [c].[ConsentLifetime], [c].[Created], [c].[Description], [c].[DeviceCodeLifetime], [c].[EnableLocalLogin], [c].[Enabled], [c].[FrontChannelLogoutSessionRequired], [c].[FrontChannelLogoutUri], [c].[IdentityTokenLifetime], [c].[IncludeJwtId], [c].[LastAccessed], [c].[LogoUri], [c].[NonEditable], [c].[PairWiseSubjectSalt], [c].[ProtocolType], [c].[RefreshTokenExpiration], [c].[RefreshTokenUsage], [c].[RequireClientSecret], [c].[RequireConsent], [c].[RequirePkce], [c].[RequireRequestObject], [c].[SlidingRefreshTokenLifetime], [c].[UpdateAccessTokenClaimsOnRefresh], [c].[Updated], [c].[UserCodeType], [c].[UserSsoLifetime]
FROM [Clients] AS [c]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T16:18:32.5680522+00:00][INFO][11][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("3"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[Origin]
FROM [Clients] AS [c]
INNER JOIN [ClientCorsOrigins] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T16:18:32.5824648+00:00][INFO][23][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("12"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[GrantType]
FROM [Clients] AS [c]
INNER JOIN [ClientGrantTypes] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T16:18:32.6027796+00:00][INFO][19][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("15"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[Scope]
FROM [Clients] AS [c]
INNER JOIN [ClientScopes] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T16:18:32.6081085+00:00][INFO][19][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("4"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[Type], [c0].[Value]
FROM [Clients] AS [c]
INNER JOIN [ClientClaims] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T16:18:32.6307246+00:00][INFO][19][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("18"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[Created], [c0].[Description], [c0].[Expiration], [c0].[Type], [c0].[Value]
FROM [Clients] AS [c]
INNER JOIN [ClientSecrets] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T16:18:32.6554748+00:00][INFO][23][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("2"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[Provider]
FROM [Clients] AS [c]
INNER JOIN [ClientIdPRestrictions] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T16:18:32.6724527+00:00][INFO][24][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("15"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[PostLogoutRedirectUri]
FROM [Clients] AS [c]
INNER JOIN [ClientPostLogoutRedirectUris] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T16:18:32.7057828+00:00][INFO][19][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("8"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[Key], [c0].[Value]
FROM [Clients] AS [c]
INNER JOIN [ClientProperties] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T16:18:32.7258818+00:00][INFO][24][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("3"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[RedirectUri]
FROM [Clients] AS [c]
INNER JOIN [ClientRedirectUris] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T16:18:32.7945567+00:00][INFO][4][Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor] Executing ViewResult, running view "Login".
[2020-12-30T16:18:33.9553018+00:00][INFO][4][Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor] Executed ViewResult - view "Login" executed in 1169.9783ms.
[2020-12-30T16:18:33.9665856+00:00][INFO][4][Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Executed action "EventManager.Identity.STS.Identity.Controllers.AccountController<EventManager.Identity.Admin.EntityFramework.Shared.Entities.Identity.UserIdentity, string>.Login (EventManager.Identity.STS.Identity)" in 2106.0687ms
[2020-12-30T16:18:33.9683926+00:00][INFO][4][Microsoft.AspNetCore.Routing.EndpointMiddleware] Executed endpoint '"EventManager.Identity.STS.Identity.Controllers.AccountController<EventManager.Identity.Admin.EntityFramework.Shared.Entities.Identity.UserIdentity, string>.Login (EventManager.Identity.STS.Identity)"'
[2020-12-30T16:18:33.9779395+00:00][INFO][4][Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/1.1 GET https://sts.em.host/Account/Login?ReturnUrl=%2Fconnect%2Fauthorize%2Fcallback%3Fclient_id%3Durn%253Aem%253Aclient%253Amvc%26redirect_uri%3Dhttps%253A%252F%252Fwww.em.host%252Fadmin%252Fidentity%252Fsignin-oidc%26response_type%3Dcode%26scope%3Dopenid%2520profile%2520email%2520roles%26code_challenge%3DlP22F2WaUqSrZ8QcZ_saxBa2i_ssDIT_JLR6BqMtK4w%26code_challenge_method%3DS256%26response_mode%3Dform_post%26nonce%3D637449418586736380.YjU5Nzc3M2YtYTdlZi00ZGJjLTgxNGQtNWI1NjIxYTJkNjFjNzA1ZGM3ODAtM2U2My00MmVlLWJjMzQtZDU0M2Q3N2VhMGEw%26state%3DCfDJ8IfTHaP7X4tMgtSdbTGk8Gh_iFGY58VdwEaAHPKW3yj7cv_Y-8yMcg4vzuUgIbJAuOhxDbeL9dMwFn6Ihx7uSE4mockhybDgBLYPOddOufsTpb8wI_-OWikuCQcA5gUUJUiN8dgblfx0N25l4ntmSh3Gs1FOKbyE0RggeawrtZOidQT2ODRigehvZ1kNB5zc3vFpdDBEHdHRSTEi-AWFD4cDcIERdSE40QgHDMdDOqDxGVxP_SYUJbgkVc-fhHJK-qSbU9J2NLjrV37MOsG7Xa5l75YwRZm8-KRX40HErZXtY5hEzp0372nJYarFfk-u0C8QCPPjgifQ52dZgFkPVNDKhkLB9WL3Y82MgsPOLfyUNgY62CRb0-cW1xT7MyYJfQ%26x-client-SKU%3DID_NETSTANDARD2_0%26x-client-ver%3D5.6.0.0 - - - 200 - text/html;+charset=utf-8 2385.8067ms
[2020-12-30T16:18:37.8917793+00:00][INFO][26][Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 POST https://sts.em.host/Account/Login?ReturnUrl=%2Fconnect%2Fauthorize%2Fcallback%3Fclient_id%3Durn%253Aem%253Aclient%253Amvc%26redirect_uri%3Dhttps%253A%252F%252Fwww.em.host%252Fadmin%252Fidentity%252Fsignin-oidc%26response_type%3Dcode%26scope%3Dopenid%2520profile%2520email%2520roles%26code_challenge%3DlP22F2WaUqSrZ8QcZ_saxBa2i_ssDIT_JLR6BqMtK4w%26code_challenge_method%3DS256%26response_mode%3Dform_post%26nonce%3D637449418586736380.YjU5Nzc3M2YtYTdlZi00ZGJjLTgxNGQtNWI1NjIxYTJkNjFjNzA1ZGM3ODAtM2U2My00MmVlLWJjMzQtZDU0M2Q3N2VhMGEw%26state%3DCfDJ8IfTHaP7X4tMgtSdbTGk8Gh_iFGY58VdwEaAHPKW3yj7cv_Y-8yMcg4vzuUgIbJAuOhxDbeL9dMwFn6Ihx7uSE4mockhybDgBLYPOddOufsTpb8wI_-OWikuCQcA5gUUJUiN8dgblfx0N25l4ntmSh3Gs1FOKbyE0RggeawrtZOidQT2ODRigehvZ1kNB5zc3vFpdDBEHdHRSTEi-AWFD4cDcIERdSE40QgHDMdDOqDxGVxP_SYUJbgkVc-fhHJK-qSbU9J2NLjrV37MOsG7Xa5l75YwRZm8-KRX40HErZXtY5hEzp0372nJYarFfk-u0C8QCPPjgifQ52dZgFkPVNDKhkLB9WL3Y82MgsPOLfyUNgY62CRb0-cW1xT7MyYJfQ%26x-client-SKU%3DID_NETSTANDARD2_0%26x-client-ver%3D5.6.0.0 application/x-www-form-urlencoded 1207
[2020-12-30T16:18:37.9066446+00:00][INFO][26][Microsoft.AspNetCore.Cors.Infrastructure.CorsMiddleware] No CORS policy found for the specified request.
[2020-12-30T16:18:37.9175549+00:00][INFO][26][Microsoft.AspNetCore.Routing.EndpointMiddleware] Executing endpoint '"EventManager.Identity.STS.Identity.Controllers.AccountController<EventManager.Identity.Admin.EntityFramework.Shared.Entities.Identity.UserIdentity, string>.Login (EventManager.Identity.STS.Identity)"'
[2020-12-30T16:18:37.9362281+00:00][INFO][26][Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Route matched with "{action = \"Login\", controller = \"Account\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(EventManager.Identity.STS.Identity.ViewModels.Account.LoginInputModel, System.String)" on controller "EventManager.Identity.STS.Identity.Controllers.AccountController<EventManager.Identity.Admin.EntityFramework.Shared.Entities.Identity.UserIdentity, string>" ("EventManager.Identity.STS.Identity").
[2020-12-30T16:18:37.9800182+00:00][INFO][26][Microsoft.EntityFrameworkCore.Infrastructure] Entity Framework Core "5.0.1" initialized '"IdentityServerConfigurationDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=EventManager.Identity.Admin.EntityFramework.SqlServer "
[2020-12-30T16:18:38.0093024+00:00][INFO][23][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("5"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c].[Id], [c].[AbsoluteRefreshTokenLifetime], [c].[AccessTokenLifetime], [c].[AccessTokenType], [c].[AllowAccessTokensViaBrowser], [c].[AllowOfflineAccess], [c].[AllowPlainTextPkce], [c].[AllowRememberConsent], [c].[AllowedIdentityTokenSigningAlgorithms], [c].[AlwaysIncludeUserClaimsInIdToken], [c].[AlwaysSendClientClaims], [c].[AuthorizationCodeLifetime], [c].[BackChannelLogoutSessionRequired], [c].[BackChannelLogoutUri], [c].[ClientClaimsPrefix], [c].[ClientId], [c].[ClientName], [c].[ClientUri], [c].[ConsentLifetime], [c].[Created], [c].[Description], [c].[DeviceCodeLifetime], [c].[EnableLocalLogin], [c].[Enabled], [c].[FrontChannelLogoutSessionRequired], [c].[FrontChannelLogoutUri], [c].[IdentityTokenLifetime], [c].[IncludeJwtId], [c].[LastAccessed], [c].[LogoUri], [c].[NonEditable], [c].[PairWiseSubjectSalt], [c].[ProtocolType], [c].[RefreshTokenExpiration], [c].[RefreshTokenUsage], [c].[RequireClientSecret], [c].[RequireConsent], [c].[RequirePkce], [c].[RequireRequestObject], [c].[SlidingRefreshTokenLifetime], [c].[UpdateAccessTokenClaimsOnRefresh], [c].[Updated], [c].[UserCodeType], [c].[UserSsoLifetime]
FROM [Clients] AS [c]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T16:18:38.0504794+00:00][INFO][27][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("23"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[Origin]
FROM [Clients] AS [c]
INNER JOIN [ClientCorsOrigins] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T16:18:38.0674653+00:00][INFO][4][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("2"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[GrantType]
FROM [Clients] AS [c]
INNER JOIN [ClientGrantTypes] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T16:18:38.1033161+00:00][INFO][26][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("11"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[Scope]
FROM [Clients] AS [c]
INNER JOIN [ClientScopes] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T16:18:38.1180840+00:00][INFO][21][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("3"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[Type], [c0].[Value]
FROM [Clients] AS [c]
INNER JOIN [ClientClaims] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T16:18:38.1375952+00:00][INFO][4][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("3"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[Created], [c0].[Description], [c0].[Expiration], [c0].[Type], [c0].[Value]
FROM [Clients] AS [c]
INNER JOIN [ClientSecrets] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T16:18:38.1498465+00:00][INFO][21][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("6"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[Provider]
FROM [Clients] AS [c]
INNER JOIN [ClientIdPRestrictions] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T16:18:38.1646898+00:00][INFO][22][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("3"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[PostLogoutRedirectUri]
FROM [Clients] AS [c]
INNER JOIN [ClientPostLogoutRedirectUris] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T16:18:38.1763940+00:00][INFO][23][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("8"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[Key], [c0].[Value]
FROM [Clients] AS [c]
INNER JOIN [ClientProperties] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T16:18:38.1861329+00:00][INFO][22][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("6"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[RedirectUri]
FROM [Clients] AS [c]
INNER JOIN [ClientRedirectUris] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T16:18:38.2129765+00:00][INFO][23][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [i].[Id], [i].[Created], [i].[Description], [i].[DisplayName], [i].[Emphasize], [i].[Enabled], [i].[Name], [i].[NonEditable], [i].[Required], [i].[ShowInDiscoveryDocument], [i].[Updated], [i0].[Id], [i0].[IdentityResourceId], [i0].[Type], [i1].[Id], [i1].[IdentityResourceId], [i1].[Key], [i1].[Value]
FROM [IdentityResources] AS [i]
LEFT JOIN [IdentityResourceClaims] AS [i0] ON [i].[Id] = [i0].[IdentityResourceId]
LEFT JOIN [IdentityResourceProperties] AS [i1] ON [i].[Id] = [i1].[IdentityResourceId]
WHERE [i].[Name] IN (N'openid', N'profile', N'email', N'roles')
ORDER BY [i].[Id], [i0].[Id], [i1].[Id]"
[2020-12-30T16:18:38.2385311+00:00][INFO][24][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [a].[Id], [a].[AllowedAccessTokenSigningAlgorithms], [a].[Created], [a].[Description], [a].[DisplayName], [a].[Enabled], [a].[LastAccessed], [a].[Name], [a].[NonEditable], [a].[ShowInDiscoveryDocument], [a].[Updated], [a0].[Id], [a0].[ApiResourceId], [a0].[Created], [a0].[Description], [a0].[Expiration], [a0].[Type], [a0].[Value], [a1].[Id], [a1].[ApiResourceId], [a1].[Scope], [a2].[Id], [a2].[ApiResourceId], [a2].[Type], [a3].[Id], [a3].[ApiResourceId], [a3].[Key], [a3].[Value]
FROM [ApiResources] AS [a]
LEFT JOIN [ApiResourceSecrets] AS [a0] ON [a].[Id] = [a0].[ApiResourceId]
LEFT JOIN [ApiResourceScopes] AS [a1] ON [a].[Id] = [a1].[ApiResourceId]
LEFT JOIN [ApiResourceClaims] AS [a2] ON [a].[Id] = [a2].[ApiResourceId]
LEFT JOIN [ApiResourceProperties] AS [a3] ON [a].[Id] = [a3].[ApiResourceId]
WHERE EXISTS (
    SELECT 1
    FROM [ApiResourceScopes] AS [a4]
    WHERE ([a].[Id] = [a4].[ApiResourceId]) AND [a4].[Scope] IN (N'openid', N'profile', N'email', N'roles'))
ORDER BY [a].[Id], [a0].[Id], [a1].[Id], [a2].[Id], [a3].[Id]"
[2020-12-30T16:18:38.2685698+00:00][INFO][22][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [a].[Id], [a].[Description], [a].[DisplayName], [a].[Emphasize], [a].[Enabled], [a].[Name], [a].[Required], [a].[ShowInDiscoveryDocument], [a0].[Id], [a0].[ScopeId], [a0].[Type], [a1].[Id], [a1].[Key], [a1].[ScopeId], [a1].[Value]
FROM [ApiScopes] AS [a]
LEFT JOIN [ApiScopeClaims] AS [a0] ON [a].[Id] = [a0].[ScopeId]
LEFT JOIN [ApiScopeProperties] AS [a1] ON [a].[Id] = [a1].[ScopeId]
WHERE [a].[Name] IN (N'openid', N'profile', N'email', N'roles')
ORDER BY [a].[Id], [a0].[Id], [a1].[Id]"
[2020-12-30T16:18:38.3841416+00:00][INFO][22][Microsoft.EntityFrameworkCore.Infrastructure] Entity Framework Core "5.0.1" initialized '"AdminIdentityDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=EventManager.Identity.Admin.EntityFramework.SqlServer "
[2020-12-30T16:18:38.4072174+00:00][INFO][23][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("3"ms) [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0"
[2020-12-30T16:18:38.4786363+00:00][INFO][22][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("3"ms) [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0"
[2020-12-30T16:18:38.5983359+00:00][INFO][4][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("16"ms) [Parameters=["@__user_Id_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [u].[Id], [u].[ClaimType], [u].[ClaimValue], [u].[UserId]
FROM [UserClaims] AS [u]
WHERE [u].[UserId] = @__user_Id_0"
[2020-12-30T16:18:38.7675204+00:00][INFO][22][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("74"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [r].[Name]
FROM [UserRoles] AS [u]
INNER JOIN [Roles] AS [r] ON [u].[RoleId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0"
[2020-12-30T16:18:38.8333862+00:00][INFO][23][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("17"ms) [Parameters=["@__normalizedName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [Roles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0"
[2020-12-30T16:18:38.8870336+00:00][INFO][4][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("5"ms) [Parameters=["@__role_Id_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [r].[ClaimType], [r].[ClaimValue]
FROM [RoleClaims] AS [r]
WHERE [r].[RoleId] = @__role_Id_0"
[2020-12-30T16:18:38.9410161+00:00][INFO][23][Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler] AuthenticationScheme: "Identity.Application" signed in.
[2020-12-30T16:18:38.9716914+00:00][INFO][23][IdentityServer4.Events.DefaultEventService] UserLoginSuccessEvent { Username: "admin", Provider: null, ProviderUserId: null, SubjectId: "174c9a38-e759-45b6-b735-470eca298a31", DisplayName: "admin", Endpoint: "UI", ClientId: null, Category: "Authentication", Name: "User Login Success", EventType: Success, Id: 1000, Message: null, ActivityId: "0HM5CRPLRUQPU:00000002", TimeStamp: 12/30/2020 16:18:38, ProcessId: 27, LocalIpAddress: "::ffff:192.168.240.5:50003", RemoteIpAddress: "192.168.240.1" }
[2020-12-30T16:18:38.9878660+00:00][INFO][23][Microsoft.AspNetCore.Mvc.Infrastructure.RedirectResultExecutor] Executing RedirectResult, redirecting to "/connect/authorize/callback?client_id=urn%3Aem%3Aclient%3Amvc&redirect_uri=https%3A%2F%2Fwww.em.host%2Fadmin%2Fidentity%2Fsignin-oidc&response_type=code&scope=openid%20profile%20email%20roles&code_challenge=lP22F2WaUqSrZ8QcZ_saxBa2i_ssDIT_JLR6BqMtK4w&code_challenge_method=S256&response_mode=form_post&nonce=637449418586736380.YjU5Nzc3M2YtYTdlZi00ZGJjLTgxNGQtNWI1NjIxYTJkNjFjNzA1ZGM3ODAtM2U2My00MmVlLWJjMzQtZDU0M2Q3N2VhMGEw&state=CfDJ8IfTHaP7X4tMgtSdbTGk8Gh_iFGY58VdwEaAHPKW3yj7cv_Y-8yMcg4vzuUgIbJAuOhxDbeL9dMwFn6Ihx7uSE4mockhybDgBLYPOddOufsTpb8wI_-OWikuCQcA5gUUJUiN8dgblfx0N25l4ntmSh3Gs1FOKbyE0RggeawrtZOidQT2ODRigehvZ1kNB5zc3vFpdDBEHdHRSTEi-AWFD4cDcIERdSE40QgHDMdDOqDxGVxP_SYUJbgkVc-fhHJK-qSbU9J2NLjrV37MOsG7Xa5l75YwRZm8-KRX40HErZXtY5hEzp0372nJYarFfk-u0C8QCPPjgifQ52dZgFkPVNDKhkLB9WL3Y82MgsPOLfyUNgY62CRb0-cW1xT7MyYJfQ&x-client-SKU=ID_NETSTANDARD2_0&x-client-ver=5.6.0.0".
[2020-12-30T16:18:38.9895401+00:00][INFO][23][Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Executed action "EventManager.Identity.STS.Identity.Controllers.AccountController<EventManager.Identity.Admin.EntityFramework.Shared.Entities.Identity.UserIdentity, string>.Login (EventManager.Identity.STS.Identity)" in 1052.7035ms
[2020-12-30T16:18:38.9905775+00:00][INFO][23][Microsoft.AspNetCore.Routing.EndpointMiddleware] Executed endpoint '"EventManager.Identity.STS.Identity.Controllers.AccountController<EventManager.Identity.Admin.EntityFramework.Shared.Entities.Identity.UserIdentity, string>.Login (EventManager.Identity.STS.Identity)"'
[2020-12-30T16:18:38.9916874+00:00][INFO][23][Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/1.1 POST https://sts.em.host/Account/Login?ReturnUrl=%2Fconnect%2Fauthorize%2Fcallback%3Fclient_id%3Durn%253Aem%253Aclient%253Amvc%26redirect_uri%3Dhttps%253A%252F%252Fwww.em.host%252Fadmin%252Fidentity%252Fsignin-oidc%26response_type%3Dcode%26scope%3Dopenid%2520profile%2520email%2520roles%26code_challenge%3DlP22F2WaUqSrZ8QcZ_saxBa2i_ssDIT_JLR6BqMtK4w%26code_challenge_method%3DS256%26response_mode%3Dform_post%26nonce%3D637449418586736380.YjU5Nzc3M2YtYTdlZi00ZGJjLTgxNGQtNWI1NjIxYTJkNjFjNzA1ZGM3ODAtM2U2My00MmVlLWJjMzQtZDU0M2Q3N2VhMGEw%26state%3DCfDJ8IfTHaP7X4tMgtSdbTGk8Gh_iFGY58VdwEaAHPKW3yj7cv_Y-8yMcg4vzuUgIbJAuOhxDbeL9dMwFn6Ihx7uSE4mockhybDgBLYPOddOufsTpb8wI_-OWikuCQcA5gUUJUiN8dgblfx0N25l4ntmSh3Gs1FOKbyE0RggeawrtZOidQT2ODRigehvZ1kNB5zc3vFpdDBEHdHRSTEi-AWFD4cDcIERdSE40QgHDMdDOqDxGVxP_SYUJbgkVc-fhHJK-qSbU9J2NLjrV37MOsG7Xa5l75YwRZm8-KRX40HErZXtY5hEzp0372nJYarFfk-u0C8QCPPjgifQ52dZgFkPVNDKhkLB9WL3Y82MgsPOLfyUNgY62CRb0-cW1xT7MyYJfQ%26x-client-SKU%3DID_NETSTANDARD2_0%26x-client-ver%3D5.6.0.0 application/x-www-form-urlencoded 1207 - 302 0 - 1099.8967ms
[2020-12-30T16:18:39.0581932+00:00][INFO][4][Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 GET https://sts.em.host/connect/authorize/callback?client_id=urn%3Aem%3Aclient%3Amvc&redirect_uri=https%3A%2F%2Fwww.em.host%2Fadmin%2Fidentity%2Fsignin-oidc&response_type=code&scope=openid%20profile%20email%20roles&code_challenge=lP22F2WaUqSrZ8QcZ_saxBa2i_ssDIT_JLR6BqMtK4w&code_challenge_method=S256&response_mode=form_post&nonce=637449418586736380.YjU5Nzc3M2YtYTdlZi00ZGJjLTgxNGQtNWI1NjIxYTJkNjFjNzA1ZGM3ODAtM2U2My00MmVlLWJjMzQtZDU0M2Q3N2VhMGEw&state=CfDJ8IfTHaP7X4tMgtSdbTGk8Gh_iFGY58VdwEaAHPKW3yj7cv_Y-8yMcg4vzuUgIbJAuOhxDbeL9dMwFn6Ihx7uSE4mockhybDgBLYPOddOufsTpb8wI_-OWikuCQcA5gUUJUiN8dgblfx0N25l4ntmSh3Gs1FOKbyE0RggeawrtZOidQT2ODRigehvZ1kNB5zc3vFpdDBEHdHRSTEi-AWFD4cDcIERdSE40QgHDMdDOqDxGVxP_SYUJbgkVc-fhHJK-qSbU9J2NLjrV37MOsG7Xa5l75YwRZm8-KRX40HErZXtY5hEzp0372nJYarFfk-u0C8QCPPjgifQ52dZgFkPVNDKhkLB9WL3Y82MgsPOLfyUNgY62CRb0-cW1xT7MyYJfQ&x-client-SKU=ID_NETSTANDARD2_0&x-client-ver=5.6.0.0 - -
[2020-12-30T16:18:39.0790731+00:00][INFO][4][IdentityServer4.Hosting.IdentityServerMiddleware] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeCallbackEndpoint" for "/connect/authorize/callback"
[2020-12-30T16:18:39.0922828+00:00][INFO][4][Microsoft.EntityFrameworkCore.Infrastructure] Entity Framework Core "5.0.1" initialized '"IdentityServerConfigurationDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=EventManager.Identity.Admin.EntityFramework.SqlServer "
[2020-12-30T16:18:39.1218082+00:00][INFO][23][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("27"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c].[Id], [c].[AbsoluteRefreshTokenLifetime], [c].[AccessTokenLifetime], [c].[AccessTokenType], [c].[AllowAccessTokensViaBrowser], [c].[AllowOfflineAccess], [c].[AllowPlainTextPkce], [c].[AllowRememberConsent], [c].[AllowedIdentityTokenSigningAlgorithms], [c].[AlwaysIncludeUserClaimsInIdToken], [c].[AlwaysSendClientClaims], [c].[AuthorizationCodeLifetime], [c].[BackChannelLogoutSessionRequired], [c].[BackChannelLogoutUri], [c].[ClientClaimsPrefix], [c].[ClientId], [c].[ClientName], [c].[ClientUri], [c].[ConsentLifetime], [c].[Created], [c].[Description], [c].[DeviceCodeLifetime], [c].[EnableLocalLogin], [c].[Enabled], [c].[FrontChannelLogoutSessionRequired], [c].[FrontChannelLogoutUri], [c].[IdentityTokenLifetime], [c].[IncludeJwtId], [c].[LastAccessed], [c].[LogoUri], [c].[NonEditable], [c].[PairWiseSubjectSalt], [c].[ProtocolType], [c].[RefreshTokenExpiration], [c].[RefreshTokenUsage], [c].[RequireClientSecret], [c].[RequireConsent], [c].[RequirePkce], [c].[RequireRequestObject], [c].[SlidingRefreshTokenLifetime], [c].[UpdateAccessTokenClaimsOnRefresh], [c].[Updated], [c].[UserCodeType], [c].[UserSsoLifetime]
FROM [Clients] AS [c]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T16:18:39.1713975+00:00][INFO][22][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("25"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[Origin]
FROM [Clients] AS [c]
INNER JOIN [ClientCorsOrigins] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T16:18:39.2068827+00:00][INFO][24][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("6"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[GrantType]
FROM [Clients] AS [c]
INNER JOIN [ClientGrantTypes] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T16:18:39.2379337+00:00][INFO][23][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("7"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[Scope]
FROM [Clients] AS [c]
INNER JOIN [ClientScopes] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T16:18:39.2527680+00:00][INFO][22][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("11"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[Type], [c0].[Value]
FROM [Clients] AS [c]
INNER JOIN [ClientClaims] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T16:18:39.2651117+00:00][INFO][24][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("4"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[Created], [c0].[Description], [c0].[Expiration], [c0].[Type], [c0].[Value]
FROM [Clients] AS [c]
INNER JOIN [ClientSecrets] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T16:18:39.2779558+00:00][INFO][22][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("5"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[Provider]
FROM [Clients] AS [c]
INNER JOIN [ClientIdPRestrictions] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T16:18:39.2978936+00:00][INFO][22][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("13"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[PostLogoutRedirectUri]
FROM [Clients] AS [c]
INNER JOIN [ClientPostLogoutRedirectUris] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T16:18:39.3115025+00:00][INFO][22][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("11"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[Key], [c0].[Value]
FROM [Clients] AS [c]
INNER JOIN [ClientProperties] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T16:18:39.3216872+00:00][INFO][4][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("7"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[RedirectUri]
FROM [Clients] AS [c]
INNER JOIN [ClientRedirectUris] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T16:18:39.3308760+00:00][INFO][24][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("6"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [i].[Id], [i].[Created], [i].[Description], [i].[DisplayName], [i].[Emphasize], [i].[Enabled], [i].[Name], [i].[NonEditable], [i].[Required], [i].[ShowInDiscoveryDocument], [i].[Updated], [i0].[Id], [i0].[IdentityResourceId], [i0].[Type], [i1].[Id], [i1].[IdentityResourceId], [i1].[Key], [i1].[Value]
FROM [IdentityResources] AS [i]
LEFT JOIN [IdentityResourceClaims] AS [i0] ON [i].[Id] = [i0].[IdentityResourceId]
LEFT JOIN [IdentityResourceProperties] AS [i1] ON [i].[Id] = [i1].[IdentityResourceId]
WHERE [i].[Name] IN (N'openid', N'profile', N'email', N'roles')
ORDER BY [i].[Id], [i0].[Id], [i1].[Id]"
[2020-12-30T16:18:39.3731087+00:00][INFO][4][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("15"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [a].[Id], [a].[AllowedAccessTokenSigningAlgorithms], [a].[Created], [a].[Description], [a].[DisplayName], [a].[Enabled], [a].[LastAccessed], [a].[Name], [a].[NonEditable], [a].[ShowInDiscoveryDocument], [a].[Updated], [a0].[Id], [a0].[ApiResourceId], [a0].[Created], [a0].[Description], [a0].[Expiration], [a0].[Type], [a0].[Value], [a1].[Id], [a1].[ApiResourceId], [a1].[Scope], [a2].[Id], [a2].[ApiResourceId], [a2].[Type], [a3].[Id], [a3].[ApiResourceId], [a3].[Key], [a3].[Value]
FROM [ApiResources] AS [a]
LEFT JOIN [ApiResourceSecrets] AS [a0] ON [a].[Id] = [a0].[ApiResourceId]
LEFT JOIN [ApiResourceScopes] AS [a1] ON [a].[Id] = [a1].[ApiResourceId]
LEFT JOIN [ApiResourceClaims] AS [a2] ON [a].[Id] = [a2].[ApiResourceId]
LEFT JOIN [ApiResourceProperties] AS [a3] ON [a].[Id] = [a3].[ApiResourceId]
WHERE EXISTS (
    SELECT 1
    FROM [ApiResourceScopes] AS [a4]
    WHERE ([a].[Id] = [a4].[ApiResourceId]) AND [a4].[Scope] IN (N'openid', N'profile', N'email', N'roles'))
ORDER BY [a].[Id], [a0].[Id], [a1].[Id], [a2].[Id], [a3].[Id]"
[2020-12-30T16:18:39.3859145+00:00][INFO][23][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("8"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [a].[Id], [a].[Description], [a].[DisplayName], [a].[Emphasize], [a].[Enabled], [a].[Name], [a].[Required], [a].[ShowInDiscoveryDocument], [a0].[Id], [a0].[ScopeId], [a0].[Type], [a1].[Id], [a1].[Key], [a1].[ScopeId], [a1].[Value]
FROM [ApiScopes] AS [a]
LEFT JOIN [ApiScopeClaims] AS [a0] ON [a].[Id] = [a0].[ScopeId]
LEFT JOIN [ApiScopeProperties] AS [a1] ON [a].[Id] = [a1].[ScopeId]
WHERE [a].[Name] IN (N'openid', N'profile', N'email', N'roles')
ORDER BY [a].[Id], [a0].[Id], [a1].[Id]"
[2020-12-30T16:18:39.4166616+00:00][INFO][4][Microsoft.EntityFrameworkCore.Infrastructure] Entity Framework Core "5.0.1" initialized '"AdminIdentityDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=EventManager.Identity.Admin.EntityFramework.SqlServer "
[2020-12-30T16:18:39.4426057+00:00][INFO][23][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("3"ms) [Parameters=["@__p_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[Id] = @__p_0"
[2020-12-30T16:18:39.5608608+00:00][INFO][24][Microsoft.EntityFrameworkCore.Infrastructure] Entity Framework Core "5.0.1" initialized '"IdentityServerPersistedGrantDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=EventManager.Identity.Admin.EntityFramework.SqlServer "
[2020-12-30T16:18:39.5799240+00:00][INFO][27][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("7"ms) [Parameters=["@__token_Key_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [p].[Key], [p].[ClientId], [p].[ConsumedTime], [p].[CreationTime], [p].[Data], [p].[Description], [p].[Expiration], [p].[SessionId], [p].[SubjectId], [p].[Type]
FROM [PersistedGrants] AS [p]
WHERE [p].[Key] = @__token_Key_0"
[2020-12-30T16:18:39.7937513+00:00][INFO][22][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("10"ms) [Parameters=["@p0='?' (Size = 200), @p1='?' (Size = 200), @p2='?' (DbType = DateTime2), @p3='?' (DbType = DateTime2), @p4='?' (Size = 4000), @p5='?' (Size = 200), @p6='?' (DbType = DateTime2), @p7='?' (Size = 100), @p8='?' (Size = 200), @p9='?' (Size = 50)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
INSERT INTO [PersistedGrants] ([Key], [ClientId], [ConsumedTime], [CreationTime], [Data], [Description], [Expiration], [SessionId], [SubjectId], [Type])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9);"
[2020-12-30T16:18:39.8561159+00:00][INFO][22][IdentityServer4.Events.DefaultEventService] TokenIssuedSuccessEvent { ClientId: "urn:em:client:mvc", ClientName: "Event Manager Identity Admin UI", RedirectUri: "https://www.em.host/admin/identity/signin-oidc", Endpoint: "Authorize", SubjectId: "174c9a38-e759-45b6-b735-470eca298a31", Scopes: "openid profile email roles", GrantType: "authorization_code", Tokens: [Token { TokenType: "code", TokenValue: "****B502" }], Category: "Token", Name: "Token Issued Success", EventType: Success, Id: 2000, Message: null, ActivityId: "0HM5CRPLRUQPV:00000002", TimeStamp: 12/30/2020 16:18:39, ProcessId: 27, LocalIpAddress: "::ffff:192.168.240.5:50003", RemoteIpAddress: "192.168.240.1" }
[2020-12-30T16:18:39.8781150+00:00][INFO][22][Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler] AuthenticationScheme: "Identity.Application" signed in.
[2020-12-30T16:18:39.8894134+00:00][INFO][22][Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/1.1 GET https://sts.em.host/connect/authorize/callback?client_id=urn%3Aem%3Aclient%3Amvc&redirect_uri=https%3A%2F%2Fwww.em.host%2Fadmin%2Fidentity%2Fsignin-oidc&response_type=code&scope=openid%20profile%20email%20roles&code_challenge=lP22F2WaUqSrZ8QcZ_saxBa2i_ssDIT_JLR6BqMtK4w&code_challenge_method=S256&response_mode=form_post&nonce=637449418586736380.YjU5Nzc3M2YtYTdlZi00ZGJjLTgxNGQtNWI1NjIxYTJkNjFjNzA1ZGM3ODAtM2U2My00MmVlLWJjMzQtZDU0M2Q3N2VhMGEw&state=CfDJ8IfTHaP7X4tMgtSdbTGk8Gh_iFGY58VdwEaAHPKW3yj7cv_Y-8yMcg4vzuUgIbJAuOhxDbeL9dMwFn6Ihx7uSE4mockhybDgBLYPOddOufsTpb8wI_-OWikuCQcA5gUUJUiN8dgblfx0N25l4ntmSh3Gs1FOKbyE0RggeawrtZOidQT2ODRigehvZ1kNB5zc3vFpdDBEHdHRSTEi-AWFD4cDcIERdSE40QgHDMdDOqDxGVxP_SYUJbgkVc-fhHJK-qSbU9J2NLjrV37MOsG7Xa5l75YwRZm8-KRX40HErZXtY5hEzp0372nJYarFfk-u0C8QCPPjgifQ52dZgFkPVNDKhkLB9WL3Y82MgsPOLfyUNgY62CRb0-cW1xT7MyYJfQ&x-client-SKU=ID_NETSTANDARD2_0&x-client-ver=5.6.0.0 - - - 200 - text/html;+charset=UTF-8 831.1856ms
[2020-12-30T16:21:43.1921390+00:00][INFO][35][Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 GET https://sts.em.host/connect/authorize/callback?client_id=urn%3Aem%3Aclient%3Amvc&redirect_uri=https%3A%2F%2Fwww.em.host%2Fadmin%2Fidentity%2Fsignin-oidc&response_type=code&scope=openid%20profile%20email%20roles&code_challenge=lP22F2WaUqSrZ8QcZ_saxBa2i_ssDIT_JLR6BqMtK4w&code_challenge_method=S256&response_mode=form_post&nonce=637449418586736380.YjU5Nzc3M2YtYTdlZi00ZGJjLTgxNGQtNWI1NjIxYTJkNjFjNzA1ZGM3ODAtM2U2My00MmVlLWJjMzQtZDU0M2Q3N2VhMGEw&state=CfDJ8IfTHaP7X4tMgtSdbTGk8Gh_iFGY58VdwEaAHPKW3yj7cv_Y-8yMcg4vzuUgIbJAuOhxDbeL9dMwFn6Ihx7uSE4mockhybDgBLYPOddOufsTpb8wI_-OWikuCQcA5gUUJUiN8dgblfx0N25l4ntmSh3Gs1FOKbyE0RggeawrtZOidQT2ODRigehvZ1kNB5zc3vFpdDBEHdHRSTEi-AWFD4cDcIERdSE40QgHDMdDOqDxGVxP_SYUJbgkVc-fhHJK-qSbU9J2NLjrV37MOsG7Xa5l75YwRZm8-KRX40HErZXtY5hEzp0372nJYarFfk-u0C8QCPPjgifQ52dZgFkPVNDKhkLB9WL3Y82MgsPOLfyUNgY62CRb0-cW1xT7MyYJfQ&x-client-SKU=ID_NETSTANDARD2_0&x-client-ver=5.6.0.0 - -
[2020-12-30T16:21:43.1994855+00:00][INFO][35][IdentityServer4.Hosting.IdentityServerMiddleware] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeCallbackEndpoint" for "/connect/authorize/callback"
[2020-12-30T16:21:43.2036594+00:00][INFO][35][Microsoft.EntityFrameworkCore.Infrastructure] Entity Framework Core "5.0.1" initialized '"IdentityServerConfigurationDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=EventManager.Identity.Admin.EntityFramework.SqlServer "
[2020-12-30T16:21:43.2339176+00:00][INFO][4][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("25"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c].[Id], [c].[AbsoluteRefreshTokenLifetime], [c].[AccessTokenLifetime], [c].[AccessTokenType], [c].[AllowAccessTokensViaBrowser], [c].[AllowOfflineAccess], [c].[AllowPlainTextPkce], [c].[AllowRememberConsent], [c].[AllowedIdentityTokenSigningAlgorithms], [c].[AlwaysIncludeUserClaimsInIdToken], [c].[AlwaysSendClientClaims], [c].[AuthorizationCodeLifetime], [c].[BackChannelLogoutSessionRequired], [c].[BackChannelLogoutUri], [c].[ClientClaimsPrefix], [c].[ClientId], [c].[ClientName], [c].[ClientUri], [c].[ConsentLifetime], [c].[Created], [c].[Description], [c].[DeviceCodeLifetime], [c].[EnableLocalLogin], [c].[Enabled], [c].[FrontChannelLogoutSessionRequired], [c].[FrontChannelLogoutUri], [c].[IdentityTokenLifetime], [c].[IncludeJwtId], [c].[LastAccessed], [c].[LogoUri], [c].[NonEditable], [c].[PairWiseSubjectSalt], [c].[ProtocolType], [c].[RefreshTokenExpiration], [c].[RefreshTokenUsage], [c].[RequireClientSecret], [c].[RequireConsent], [c].[RequirePkce], [c].[RequireRequestObject], [c].[SlidingRefreshTokenLifetime], [c].[UpdateAccessTokenClaimsOnRefresh], [c].[Updated], [c].[UserCodeType], [c].[UserSsoLifetime]
FROM [Clients] AS [c]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T16:21:43.3059074+00:00][INFO][32][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("3"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[Origin]
FROM [Clients] AS [c]
INNER JOIN [ClientCorsOrigins] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T16:21:43.3123332+00:00][INFO][35][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("4"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[GrantType]
FROM [Clients] AS [c]
INNER JOIN [ClientGrantTypes] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T16:21:43.3388898+00:00][INFO][33][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("3"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[Scope]
FROM [Clients] AS [c]
INNER JOIN [ClientScopes] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T16:21:43.3657444+00:00][INFO][31][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("2"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[Type], [c0].[Value]
FROM [Clients] AS [c]
INNER JOIN [ClientClaims] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T16:21:43.4011045+00:00][INFO][30][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("2"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[Created], [c0].[Description], [c0].[Expiration], [c0].[Type], [c0].[Value]
FROM [Clients] AS [c]
INNER JOIN [ClientSecrets] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T16:21:43.4273574+00:00][INFO][4][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("3"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[Provider]
FROM [Clients] AS [c]
INNER JOIN [ClientIdPRestrictions] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T16:21:43.4544463+00:00][INFO][4][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("25"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[PostLogoutRedirectUri]
FROM [Clients] AS [c]
INNER JOIN [ClientPostLogoutRedirectUris] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T16:21:43.4614864+00:00][INFO][32][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("5"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[Key], [c0].[Value]
FROM [Clients] AS [c]
INNER JOIN [ClientProperties] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T16:21:43.4755845+00:00][INFO][35][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("11"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[RedirectUri]
FROM [Clients] AS [c]
INNER JOIN [ClientRedirectUris] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T16:21:43.4933559+00:00][INFO][35][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [i].[Id], [i].[Created], [i].[Description], [i].[DisplayName], [i].[Emphasize], [i].[Enabled], [i].[Name], [i].[NonEditable], [i].[Required], [i].[ShowInDiscoveryDocument], [i].[Updated], [i0].[Id], [i0].[IdentityResourceId], [i0].[Type], [i1].[Id], [i1].[IdentityResourceId], [i1].[Key], [i1].[Value]
FROM [IdentityResources] AS [i]
LEFT JOIN [IdentityResourceClaims] AS [i0] ON [i].[Id] = [i0].[IdentityResourceId]
LEFT JOIN [IdentityResourceProperties] AS [i1] ON [i].[Id] = [i1].[IdentityResourceId]
WHERE [i].[Name] IN (N'openid', N'profile', N'email', N'roles')
ORDER BY [i].[Id], [i0].[Id], [i1].[Id]"
[2020-12-30T16:21:43.5229199+00:00][INFO][34][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [a].[Id], [a].[AllowedAccessTokenSigningAlgorithms], [a].[Created], [a].[Description], [a].[DisplayName], [a].[Enabled], [a].[LastAccessed], [a].[Name], [a].[NonEditable], [a].[ShowInDiscoveryDocument], [a].[Updated], [a0].[Id], [a0].[ApiResourceId], [a0].[Created], [a0].[Description], [a0].[Expiration], [a0].[Type], [a0].[Value], [a1].[Id], [a1].[ApiResourceId], [a1].[Scope], [a2].[Id], [a2].[ApiResourceId], [a2].[Type], [a3].[Id], [a3].[ApiResourceId], [a3].[Key], [a3].[Value]
FROM [ApiResources] AS [a]
LEFT JOIN [ApiResourceSecrets] AS [a0] ON [a].[Id] = [a0].[ApiResourceId]
LEFT JOIN [ApiResourceScopes] AS [a1] ON [a].[Id] = [a1].[ApiResourceId]
LEFT JOIN [ApiResourceClaims] AS [a2] ON [a].[Id] = [a2].[ApiResourceId]
LEFT JOIN [ApiResourceProperties] AS [a3] ON [a].[Id] = [a3].[ApiResourceId]
WHERE EXISTS (
    SELECT 1
    FROM [ApiResourceScopes] AS [a4]
    WHERE ([a].[Id] = [a4].[ApiResourceId]) AND [a4].[Scope] IN (N'openid', N'profile', N'email', N'roles'))
ORDER BY [a].[Id], [a0].[Id], [a1].[Id], [a2].[Id], [a3].[Id]"
[2020-12-30T16:21:43.5344939+00:00][INFO][4][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [a].[Id], [a].[Description], [a].[DisplayName], [a].[Emphasize], [a].[Enabled], [a].[Name], [a].[Required], [a].[ShowInDiscoveryDocument], [a0].[Id], [a0].[ScopeId], [a0].[Type], [a1].[Id], [a1].[Key], [a1].[ScopeId], [a1].[Value]
FROM [ApiScopes] AS [a]
LEFT JOIN [ApiScopeClaims] AS [a0] ON [a].[Id] = [a0].[ScopeId]
LEFT JOIN [ApiScopeProperties] AS [a1] ON [a].[Id] = [a1].[ScopeId]
WHERE [a].[Name] IN (N'openid', N'profile', N'email', N'roles')
ORDER BY [a].[Id], [a0].[Id], [a1].[Id]"
[2020-12-30T16:21:43.5415820+00:00][INFO][4][Microsoft.EntityFrameworkCore.Infrastructure] Entity Framework Core "5.0.1" initialized '"AdminIdentityDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=EventManager.Identity.Admin.EntityFramework.SqlServer "
[2020-12-30T16:21:43.5784435+00:00][INFO][34][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("27"ms) [Parameters=["@__p_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[Id] = @__p_0"
[2020-12-30T16:21:43.5881298+00:00][INFO][34][Microsoft.EntityFrameworkCore.Infrastructure] Entity Framework Core "5.0.1" initialized '"IdentityServerPersistedGrantDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=EventManager.Identity.Admin.EntityFramework.SqlServer "
[2020-12-30T16:21:43.5948937+00:00][INFO][4][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("5"ms) [Parameters=["@__token_Key_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [p].[Key], [p].[ClientId], [p].[ConsumedTime], [p].[CreationTime], [p].[Data], [p].[Description], [p].[Expiration], [p].[SessionId], [p].[SubjectId], [p].[Type]
FROM [PersistedGrants] AS [p]
WHERE [p].[Key] = @__token_Key_0"
[2020-12-30T16:21:43.6840826+00:00][INFO][31][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("26"ms) [Parameters=["@p0='?' (Size = 200), @p1='?' (Size = 200), @p2='?' (DbType = DateTime2), @p3='?' (DbType = DateTime2), @p4='?' (Size = 4000), @p5='?' (Size = 200), @p6='?' (DbType = DateTime2), @p7='?' (Size = 100), @p8='?' (Size = 200), @p9='?' (Size = 50)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
INSERT INTO [PersistedGrants] ([Key], [ClientId], [ConsumedTime], [CreationTime], [Data], [Description], [Expiration], [SessionId], [SubjectId], [Type])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9);"
[2020-12-30T16:21:43.6919211+00:00][INFO][31][IdentityServer4.Events.DefaultEventService] TokenIssuedSuccessEvent { ClientId: "urn:em:client:mvc", ClientName: "Event Manager Identity Admin UI", RedirectUri: "https://www.em.host/admin/identity/signin-oidc", Endpoint: "Authorize", SubjectId: "174c9a38-e759-45b6-b735-470eca298a31", Scopes: "openid profile email roles", GrantType: "authorization_code", Tokens: [Token { TokenType: "code", TokenValue: "****396A" }], Category: "Token", Name: "Token Issued Success", EventType: Success, Id: 2000, Message: null, ActivityId: "0HM5CRPLRUQQ0:00000002", TimeStamp: 12/30/2020 16:21:43, ProcessId: 27, LocalIpAddress: "::ffff:192.168.240.5:50003", RemoteIpAddress: "192.168.240.1" }
[2020-12-30T16:21:43.7004911+00:00][INFO][31][Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/1.1 GET https://sts.em.host/connect/authorize/callback?client_id=urn%3Aem%3Aclient%3Amvc&redirect_uri=https%3A%2F%2Fwww.em.host%2Fadmin%2Fidentity%2Fsignin-oidc&response_type=code&scope=openid%20profile%20email%20roles&code_challenge=lP22F2WaUqSrZ8QcZ_saxBa2i_ssDIT_JLR6BqMtK4w&code_challenge_method=S256&response_mode=form_post&nonce=637449418586736380.YjU5Nzc3M2YtYTdlZi00ZGJjLTgxNGQtNWI1NjIxYTJkNjFjNzA1ZGM3ODAtM2U2My00MmVlLWJjMzQtZDU0M2Q3N2VhMGEw&state=CfDJ8IfTHaP7X4tMgtSdbTGk8Gh_iFGY58VdwEaAHPKW3yj7cv_Y-8yMcg4vzuUgIbJAuOhxDbeL9dMwFn6Ihx7uSE4mockhybDgBLYPOddOufsTpb8wI_-OWikuCQcA5gUUJUiN8dgblfx0N25l4ntmSh3Gs1FOKbyE0RggeawrtZOidQT2ODRigehvZ1kNB5zc3vFpdDBEHdHRSTEi-AWFD4cDcIERdSE40QgHDMdDOqDxGVxP_SYUJbgkVc-fhHJK-qSbU9J2NLjrV37MOsG7Xa5l75YwRZm8-KRX40HErZXtY5hEzp0372nJYarFfk-u0C8QCPPjgifQ52dZgFkPVNDKhkLB9WL3Y82MgsPOLfyUNgY62CRb0-cW1xT7MyYJfQ&x-client-SKU=ID_NETSTANDARD2_0&x-client-ver=5.6.0.0 - - - 200 - text/html;+charset=UTF-8 507.9457ms
[2020-12-30T16:21:46.1256660+00:00][INFO][35][Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 GET https://sts.em.host/Account/Login?ReturnUrl=%2Fconnect%2Fauthorize%2Fcallback%3Fclient_id%3Durn%253Aem%253Aclient%253Amvc%26redirect_uri%3Dhttps%253A%252F%252Fwww.em.host%252Fadmin%252Fidentity%252Fsignin-oidc%26response_type%3Dcode%26scope%3Dopenid%2520profile%2520email%2520roles%26code_challenge%3DlP22F2WaUqSrZ8QcZ_saxBa2i_ssDIT_JLR6BqMtK4w%26code_challenge_method%3DS256%26response_mode%3Dform_post%26nonce%3D637449418586736380.YjU5Nzc3M2YtYTdlZi00ZGJjLTgxNGQtNWI1NjIxYTJkNjFjNzA1ZGM3ODAtM2U2My00MmVlLWJjMzQtZDU0M2Q3N2VhMGEw%26state%3DCfDJ8IfTHaP7X4tMgtSdbTGk8Gh_iFGY58VdwEaAHPKW3yj7cv_Y-8yMcg4vzuUgIbJAuOhxDbeL9dMwFn6Ihx7uSE4mockhybDgBLYPOddOufsTpb8wI_-OWikuCQcA5gUUJUiN8dgblfx0N25l4ntmSh3Gs1FOKbyE0RggeawrtZOidQT2ODRigehvZ1kNB5zc3vFpdDBEHdHRSTEi-AWFD4cDcIERdSE40QgHDMdDOqDxGVxP_SYUJbgkVc-fhHJK-qSbU9J2NLjrV37MOsG7Xa5l75YwRZm8-KRX40HErZXtY5hEzp0372nJYarFfk-u0C8QCPPjgifQ52dZgFkPVNDKhkLB9WL3Y82MgsPOLfyUNgY62CRb0-cW1xT7MyYJfQ%26x-client-SKU%3DID_NETSTANDARD2_0%26x-client-ver%3D5.6.0.0 - -
[2020-12-30T16:21:46.1430303+00:00][INFO][35][Microsoft.AspNetCore.Routing.EndpointMiddleware] Executing endpoint '"EventManager.Identity.STS.Identity.Controllers.AccountController<EventManager.Identity.Admin.EntityFramework.Shared.Entities.Identity.UserIdentity, string>.Login (EventManager.Identity.STS.Identity)"'
[2020-12-30T16:21:46.1441235+00:00][INFO][35][Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Route matched with "{action = \"Login\", controller = \"Account\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(System.String)" on controller "EventManager.Identity.STS.Identity.Controllers.AccountController<EventManager.Identity.Admin.EntityFramework.Shared.Entities.Identity.UserIdentity, string>" ("EventManager.Identity.STS.Identity").
[2020-12-30T16:21:46.1563555+00:00][INFO][35][Microsoft.EntityFrameworkCore.Infrastructure] Entity Framework Core "5.0.1" initialized '"IdentityServerConfigurationDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=EventManager.Identity.Admin.EntityFramework.SqlServer "
[2020-12-30T16:21:46.1704608+00:00][INFO][4][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("13"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c].[Id], [c].[AbsoluteRefreshTokenLifetime], [c].[AccessTokenLifetime], [c].[AccessTokenType], [c].[AllowAccessTokensViaBrowser], [c].[AllowOfflineAccess], [c].[AllowPlainTextPkce], [c].[AllowRememberConsent], [c].[AllowedIdentityTokenSigningAlgorithms], [c].[AlwaysIncludeUserClaimsInIdToken], [c].[AlwaysSendClientClaims], [c].[AuthorizationCodeLifetime], [c].[BackChannelLogoutSessionRequired], [c].[BackChannelLogoutUri], [c].[ClientClaimsPrefix], [c].[ClientId], [c].[ClientName], [c].[ClientUri], [c].[ConsentLifetime], [c].[Created], [c].[Description], [c].[DeviceCodeLifetime], [c].[EnableLocalLogin], [c].[Enabled], [c].[FrontChannelLogoutSessionRequired], [c].[FrontChannelLogoutUri], [c].[IdentityTokenLifetime], [c].[IncludeJwtId], [c].[LastAccessed], [c].[LogoUri], [c].[NonEditable], [c].[PairWiseSubjectSalt], [c].[ProtocolType], [c].[RefreshTokenExpiration], [c].[RefreshTokenUsage], [c].[RequireClientSecret], [c].[RequireConsent], [c].[RequirePkce], [c].[RequireRequestObject], [c].[SlidingRefreshTokenLifetime], [c].[UpdateAccessTokenClaimsOnRefresh], [c].[Updated], [c].[UserCodeType], [c].[UserSsoLifetime]
FROM [Clients] AS [c]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T16:21:46.2159481+00:00][INFO][34][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("2"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[Origin]
FROM [Clients] AS [c]
INNER JOIN [ClientCorsOrigins] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T16:21:46.2736829+00:00][INFO][4][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("3"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[GrantType]
FROM [Clients] AS [c]
INNER JOIN [ClientGrantTypes] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T16:21:46.2865878+00:00][INFO][4][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("9"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[Scope]
FROM [Clients] AS [c]
INNER JOIN [ClientScopes] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T16:21:46.2935218+00:00][INFO][32][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("4"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[Type], [c0].[Value]
FROM [Clients] AS [c]
INNER JOIN [ClientClaims] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T16:21:46.3094998+00:00][INFO][31][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("3"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[Created], [c0].[Description], [c0].[Expiration], [c0].[Type], [c0].[Value]
FROM [Clients] AS [c]
INNER JOIN [ClientSecrets] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T16:21:46.3202162+00:00][INFO][32][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("2"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[Provider]
FROM [Clients] AS [c]
INNER JOIN [ClientIdPRestrictions] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T16:21:46.3256369+00:00][INFO][32][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("4"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[PostLogoutRedirectUri]
FROM [Clients] AS [c]
INNER JOIN [ClientPostLogoutRedirectUris] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T16:21:46.3364076+00:00][INFO][33][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("8"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[Key], [c0].[Value]
FROM [Clients] AS [c]
INNER JOIN [ClientProperties] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T16:21:46.3673055+00:00][INFO][4][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("24"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[RedirectUri]
FROM [Clients] AS [c]
INNER JOIN [ClientRedirectUris] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T16:21:46.3835692+00:00][INFO][34][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("10"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [i].[Id], [i].[Created], [i].[Description], [i].[DisplayName], [i].[Emphasize], [i].[Enabled], [i].[Name], [i].[NonEditable], [i].[Required], [i].[ShowInDiscoveryDocument], [i].[Updated], [i0].[Id], [i0].[IdentityResourceId], [i0].[Type], [i1].[Id], [i1].[IdentityResourceId], [i1].[Key], [i1].[Value]
FROM [IdentityResources] AS [i]
LEFT JOIN [IdentityResourceClaims] AS [i0] ON [i].[Id] = [i0].[IdentityResourceId]
LEFT JOIN [IdentityResourceProperties] AS [i1] ON [i].[Id] = [i1].[IdentityResourceId]
WHERE [i].[Name] IN (N'openid', N'profile', N'email', N'roles')
ORDER BY [i].[Id], [i0].[Id], [i1].[Id]"
[2020-12-30T16:21:46.4548731+00:00][INFO][32][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [a].[Id], [a].[AllowedAccessTokenSigningAlgorithms], [a].[Created], [a].[Description], [a].[DisplayName], [a].[Enabled], [a].[LastAccessed], [a].[Name], [a].[NonEditable], [a].[ShowInDiscoveryDocument], [a].[Updated], [a0].[Id], [a0].[ApiResourceId], [a0].[Created], [a0].[Description], [a0].[Expiration], [a0].[Type], [a0].[Value], [a1].[Id], [a1].[ApiResourceId], [a1].[Scope], [a2].[Id], [a2].[ApiResourceId], [a2].[Type], [a3].[Id], [a3].[ApiResourceId], [a3].[Key], [a3].[Value]
FROM [ApiResources] AS [a]
LEFT JOIN [ApiResourceSecrets] AS [a0] ON [a].[Id] = [a0].[ApiResourceId]
LEFT JOIN [ApiResourceScopes] AS [a1] ON [a].[Id] = [a1].[ApiResourceId]
LEFT JOIN [ApiResourceClaims] AS [a2] ON [a].[Id] = [a2].[ApiResourceId]
LEFT JOIN [ApiResourceProperties] AS [a3] ON [a].[Id] = [a3].[ApiResourceId]
WHERE EXISTS (
    SELECT 1
    FROM [ApiResourceScopes] AS [a4]
    WHERE ([a].[Id] = [a4].[ApiResourceId]) AND [a4].[Scope] IN (N'openid', N'profile', N'email', N'roles'))
ORDER BY [a].[Id], [a0].[Id], [a1].[Id], [a2].[Id], [a3].[Id]"
[2020-12-30T16:21:46.5048606+00:00][INFO][30][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("25"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [a].[Id], [a].[Description], [a].[DisplayName], [a].[Emphasize], [a].[Enabled], [a].[Name], [a].[Required], [a].[ShowInDiscoveryDocument], [a0].[Id], [a0].[ScopeId], [a0].[Type], [a1].[Id], [a1].[Key], [a1].[ScopeId], [a1].[Value]
FROM [ApiScopes] AS [a]
LEFT JOIN [ApiScopeClaims] AS [a0] ON [a].[Id] = [a0].[ScopeId]
LEFT JOIN [ApiScopeProperties] AS [a1] ON [a].[Id] = [a1].[ScopeId]
WHERE [a].[Name] IN (N'openid', N'profile', N'email', N'roles')
ORDER BY [a].[Id], [a0].[Id], [a1].[Id]"
[2020-12-30T16:21:46.5106363+00:00][INFO][32][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("3"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c].[Id], [c].[AbsoluteRefreshTokenLifetime], [c].[AccessTokenLifetime], [c].[AccessTokenType], [c].[AllowAccessTokensViaBrowser], [c].[AllowOfflineAccess], [c].[AllowPlainTextPkce], [c].[AllowRememberConsent], [c].[AllowedIdentityTokenSigningAlgorithms], [c].[AlwaysIncludeUserClaimsInIdToken], [c].[AlwaysSendClientClaims], [c].[AuthorizationCodeLifetime], [c].[BackChannelLogoutSessionRequired], [c].[BackChannelLogoutUri], [c].[ClientClaimsPrefix], [c].[ClientId], [c].[ClientName], [c].[ClientUri], [c].[ConsentLifetime], [c].[Created], [c].[Description], [c].[DeviceCodeLifetime], [c].[EnableLocalLogin], [c].[Enabled], [c].[FrontChannelLogoutSessionRequired], [c].[FrontChannelLogoutUri], [c].[IdentityTokenLifetime], [c].[IncludeJwtId], [c].[LastAccessed], [c].[LogoUri], [c].[NonEditable], [c].[PairWiseSubjectSalt], [c].[ProtocolType], [c].[RefreshTokenExpiration], [c].[RefreshTokenUsage], [c].[RequireClientSecret], [c].[RequireConsent], [c].[RequirePkce], [c].[RequireRequestObject], [c].[SlidingRefreshTokenLifetime], [c].[UpdateAccessTokenClaimsOnRefresh], [c].[Updated], [c].[UserCodeType], [c].[UserSsoLifetime]
FROM [Clients] AS [c]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T16:21:46.5378201+00:00][INFO][33][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("2"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[Origin]
FROM [Clients] AS [c]
INNER JOIN [ClientCorsOrigins] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T16:21:46.5490465+00:00][INFO][35][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("8"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[GrantType]
FROM [Clients] AS [c]
INNER JOIN [ClientGrantTypes] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T16:21:46.5800197+00:00][INFO][33][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("2"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[Scope]
FROM [Clients] AS [c]
INNER JOIN [ClientScopes] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T16:21:46.5859654+00:00][INFO][31][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("3"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[Type], [c0].[Value]
FROM [Clients] AS [c]
INNER JOIN [ClientClaims] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T16:21:46.6050549+00:00][INFO][33][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("10"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[Created], [c0].[Description], [c0].[Expiration], [c0].[Type], [c0].[Value]
FROM [Clients] AS [c]
INNER JOIN [ClientSecrets] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T16:21:46.6465857+00:00][INFO][34][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("31"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[Provider]
FROM [Clients] AS [c]
INNER JOIN [ClientIdPRestrictions] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T16:21:46.6707700+00:00][INFO][37][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("3"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[PostLogoutRedirectUri]
FROM [Clients] AS [c]
INNER JOIN [ClientPostLogoutRedirectUris] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T16:21:46.6854147+00:00][INFO][37][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("5"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[Key], [c0].[Value]
FROM [Clients] AS [c]
INNER JOIN [ClientProperties] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T16:21:46.7025418+00:00][INFO][36][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("12"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[RedirectUri]
FROM [Clients] AS [c]
INNER JOIN [ClientRedirectUris] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T16:21:46.7187476+00:00][INFO][37][Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor] Executing ViewResult, running view "Login".
[2020-12-30T16:21:46.7678853+00:00][INFO][37][Microsoft.AspNetCore.Authorization.DefaultAuthorizationService] Authorization was successful.
[2020-12-30T16:21:46.7834630+00:00][INFO][37][Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor] Executed ViewResult - view "Login" executed in 65.286ms.
[2020-12-30T16:21:46.7842313+00:00][INFO][37][Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Executed action "EventManager.Identity.STS.Identity.Controllers.AccountController<EventManager.Identity.Admin.EntityFramework.Shared.Entities.Identity.UserIdentity, string>.Login (EventManager.Identity.STS.Identity)" in 638.9632ms
[2020-12-30T16:21:46.7849256+00:00][INFO][37][Microsoft.AspNetCore.Routing.EndpointMiddleware] Executed endpoint '"EventManager.Identity.STS.Identity.Controllers.AccountController<EventManager.Identity.Admin.EntityFramework.Shared.Entities.Identity.UserIdentity, string>.Login (EventManager.Identity.STS.Identity)"'
[2020-12-30T16:21:46.7859604+00:00][INFO][37][Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/1.1 GET https://sts.em.host/Account/Login?ReturnUrl=%2Fconnect%2Fauthorize%2Fcallback%3Fclient_id%3Durn%253Aem%253Aclient%253Amvc%26redirect_uri%3Dhttps%253A%252F%252Fwww.em.host%252Fadmin%252Fidentity%252Fsignin-oidc%26response_type%3Dcode%26scope%3Dopenid%2520profile%2520email%2520roles%26code_challenge%3DlP22F2WaUqSrZ8QcZ_saxBa2i_ssDIT_JLR6BqMtK4w%26code_challenge_method%3DS256%26response_mode%3Dform_post%26nonce%3D637449418586736380.YjU5Nzc3M2YtYTdlZi00ZGJjLTgxNGQtNWI1NjIxYTJkNjFjNzA1ZGM3ODAtM2U2My00MmVlLWJjMzQtZDU0M2Q3N2VhMGEw%26state%3DCfDJ8IfTHaP7X4tMgtSdbTGk8Gh_iFGY58VdwEaAHPKW3yj7cv_Y-8yMcg4vzuUgIbJAuOhxDbeL9dMwFn6Ihx7uSE4mockhybDgBLYPOddOufsTpb8wI_-OWikuCQcA5gUUJUiN8dgblfx0N25l4ntmSh3Gs1FOKbyE0RggeawrtZOidQT2ODRigehvZ1kNB5zc3vFpdDBEHdHRSTEi-AWFD4cDcIERdSE40QgHDMdDOqDxGVxP_SYUJbgkVc-fhHJK-qSbU9J2NLjrV37MOsG7Xa5l75YwRZm8-KRX40HErZXtY5hEzp0372nJYarFfk-u0C8QCPPjgifQ52dZgFkPVNDKhkLB9WL3Y82MgsPOLfyUNgY62CRb0-cW1xT7MyYJfQ%26x-client-SKU%3DID_NETSTANDARD2_0%26x-client-ver%3D5.6.0.0 - - - 200 - text/html;+charset=utf-8 660.2704ms
[2020-12-30T16:21:48.8926938+00:00][INFO][32][Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 POST https://sts.em.host/Account/Login?ReturnUrl=%2Fconnect%2Fauthorize%2Fcallback%3Fclient_id%3Durn%253Aem%253Aclient%253Amvc%26redirect_uri%3Dhttps%253A%252F%252Fwww.em.host%252Fadmin%252Fidentity%252Fsignin-oidc%26response_type%3Dcode%26scope%3Dopenid%2520profile%2520email%2520roles%26code_challenge%3DlP22F2WaUqSrZ8QcZ_saxBa2i_ssDIT_JLR6BqMtK4w%26code_challenge_method%3DS256%26response_mode%3Dform_post%26nonce%3D637449418586736380.YjU5Nzc3M2YtYTdlZi00ZGJjLTgxNGQtNWI1NjIxYTJkNjFjNzA1ZGM3ODAtM2U2My00MmVlLWJjMzQtZDU0M2Q3N2VhMGEw%26state%3DCfDJ8IfTHaP7X4tMgtSdbTGk8Gh_iFGY58VdwEaAHPKW3yj7cv_Y-8yMcg4vzuUgIbJAuOhxDbeL9dMwFn6Ihx7uSE4mockhybDgBLYPOddOufsTpb8wI_-OWikuCQcA5gUUJUiN8dgblfx0N25l4ntmSh3Gs1FOKbyE0RggeawrtZOidQT2ODRigehvZ1kNB5zc3vFpdDBEHdHRSTEi-AWFD4cDcIERdSE40QgHDMdDOqDxGVxP_SYUJbgkVc-fhHJK-qSbU9J2NLjrV37MOsG7Xa5l75YwRZm8-KRX40HErZXtY5hEzp0372nJYarFfk-u0C8QCPPjgifQ52dZgFkPVNDKhkLB9WL3Y82MgsPOLfyUNgY62CRb0-cW1xT7MyYJfQ%26x-client-SKU%3DID_NETSTANDARD2_0%26x-client-ver%3D5.6.0.0 application/x-www-form-urlencoded 1250
[2020-12-30T16:21:48.8947945+00:00][INFO][32][Microsoft.AspNetCore.Cors.Infrastructure.CorsMiddleware] No CORS policy found for the specified request.
[2020-12-30T16:21:48.9017063+00:00][INFO][32][Microsoft.AspNetCore.Routing.EndpointMiddleware] Executing endpoint '"EventManager.Identity.STS.Identity.Controllers.AccountController<EventManager.Identity.Admin.EntityFramework.Shared.Entities.Identity.UserIdentity, string>.Login (EventManager.Identity.STS.Identity)"'
[2020-12-30T16:21:48.9130956+00:00][INFO][32][Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Route matched with "{action = \"Login\", controller = \"Account\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(EventManager.Identity.STS.Identity.ViewModels.Account.LoginInputModel, System.String)" on controller "EventManager.Identity.STS.Identity.Controllers.AccountController<EventManager.Identity.Admin.EntityFramework.Shared.Entities.Identity.UserIdentity, string>" ("EventManager.Identity.STS.Identity").
[2020-12-30T16:21:48.9241554+00:00][INFO][32][Microsoft.EntityFrameworkCore.Infrastructure] Entity Framework Core "5.0.1" initialized '"IdentityServerConfigurationDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=EventManager.Identity.Admin.EntityFramework.SqlServer "
[2020-12-30T16:21:48.9312414+00:00][INFO][33][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("5"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c].[Id], [c].[AbsoluteRefreshTokenLifetime], [c].[AccessTokenLifetime], [c].[AccessTokenType], [c].[AllowAccessTokensViaBrowser], [c].[AllowOfflineAccess], [c].[AllowPlainTextPkce], [c].[AllowRememberConsent], [c].[AllowedIdentityTokenSigningAlgorithms], [c].[AlwaysIncludeUserClaimsInIdToken], [c].[AlwaysSendClientClaims], [c].[AuthorizationCodeLifetime], [c].[BackChannelLogoutSessionRequired], [c].[BackChannelLogoutUri], [c].[ClientClaimsPrefix], [c].[ClientId], [c].[ClientName], [c].[ClientUri], [c].[ConsentLifetime], [c].[Created], [c].[Description], [c].[DeviceCodeLifetime], [c].[EnableLocalLogin], [c].[Enabled], [c].[FrontChannelLogoutSessionRequired], [c].[FrontChannelLogoutUri], [c].[IdentityTokenLifetime], [c].[IncludeJwtId], [c].[LastAccessed], [c].[LogoUri], [c].[NonEditable], [c].[PairWiseSubjectSalt], [c].[ProtocolType], [c].[RefreshTokenExpiration], [c].[RefreshTokenUsage], [c].[RequireClientSecret], [c].[RequireConsent], [c].[RequirePkce], [c].[RequireRequestObject], [c].[SlidingRefreshTokenLifetime], [c].[UpdateAccessTokenClaimsOnRefresh], [c].[Updated], [c].[UserCodeType], [c].[UserSsoLifetime]
FROM [Clients] AS [c]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T16:21:48.9624124+00:00][INFO][30][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("6"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[Origin]
FROM [Clients] AS [c]
INNER JOIN [ClientCorsOrigins] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T16:21:49.0364817+00:00][INFO][33][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("2"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[GrantType]
FROM [Clients] AS [c]
INNER JOIN [ClientGrantTypes] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T16:21:49.0476147+00:00][INFO][37][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("7"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[Scope]
FROM [Clients] AS [c]
INNER JOIN [ClientScopes] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T16:21:49.0552892+00:00][INFO][30][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("3"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[Type], [c0].[Value]
FROM [Clients] AS [c]
INNER JOIN [ClientClaims] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T16:21:49.0805759+00:00][INFO][33][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("2"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[Created], [c0].[Description], [c0].[Expiration], [c0].[Type], [c0].[Value]
FROM [Clients] AS [c]
INNER JOIN [ClientSecrets] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T16:21:49.0882147+00:00][INFO][36][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("2"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[Provider]
FROM [Clients] AS [c]
INNER JOIN [ClientIdPRestrictions] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T16:21:49.1022839+00:00][INFO][33][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("4"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[PostLogoutRedirectUri]
FROM [Clients] AS [c]
INNER JOIN [ClientPostLogoutRedirectUris] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T16:21:49.1106490+00:00][INFO][31][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("5"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[Key], [c0].[Value]
FROM [Clients] AS [c]
INNER JOIN [ClientProperties] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T16:21:49.1422416+00:00][INFO][37][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("3"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[RedirectUri]
FROM [Clients] AS [c]
INNER JOIN [ClientRedirectUris] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T16:21:49.1754297+00:00][INFO][36][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("28"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [i].[Id], [i].[Created], [i].[Description], [i].[DisplayName], [i].[Emphasize], [i].[Enabled], [i].[Name], [i].[NonEditable], [i].[Required], [i].[ShowInDiscoveryDocument], [i].[Updated], [i0].[Id], [i0].[IdentityResourceId], [i0].[Type], [i1].[Id], [i1].[IdentityResourceId], [i1].[Key], [i1].[Value]
FROM [IdentityResources] AS [i]
LEFT JOIN [IdentityResourceClaims] AS [i0] ON [i].[Id] = [i0].[IdentityResourceId]
LEFT JOIN [IdentityResourceProperties] AS [i1] ON [i].[Id] = [i1].[IdentityResourceId]
WHERE [i].[Name] IN (N'openid', N'profile', N'email', N'roles')
ORDER BY [i].[Id], [i0].[Id], [i1].[Id]"
[2020-12-30T16:21:49.1913692+00:00][INFO][35][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("8"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [a].[Id], [a].[AllowedAccessTokenSigningAlgorithms], [a].[Created], [a].[Description], [a].[DisplayName], [a].[Enabled], [a].[LastAccessed], [a].[Name], [a].[NonEditable], [a].[ShowInDiscoveryDocument], [a].[Updated], [a0].[Id], [a0].[ApiResourceId], [a0].[Created], [a0].[Description], [a0].[Expiration], [a0].[Type], [a0].[Value], [a1].[Id], [a1].[ApiResourceId], [a1].[Scope], [a2].[Id], [a2].[ApiResourceId], [a2].[Type], [a3].[Id], [a3].[ApiResourceId], [a3].[Key], [a3].[Value]
FROM [ApiResources] AS [a]
LEFT JOIN [ApiResourceSecrets] AS [a0] ON [a].[Id] = [a0].[ApiResourceId]
LEFT JOIN [ApiResourceScopes] AS [a1] ON [a].[Id] = [a1].[ApiResourceId]
LEFT JOIN [ApiResourceClaims] AS [a2] ON [a].[Id] = [a2].[ApiResourceId]
LEFT JOIN [ApiResourceProperties] AS [a3] ON [a].[Id] = [a3].[ApiResourceId]
WHERE EXISTS (
    SELECT 1
    FROM [ApiResourceScopes] AS [a4]
    WHERE ([a].[Id] = [a4].[ApiResourceId]) AND [a4].[Scope] IN (N'openid', N'profile', N'email', N'roles'))
ORDER BY [a].[Id], [a0].[Id], [a1].[Id], [a2].[Id], [a3].[Id]"
[2020-12-30T16:21:49.2209470+00:00][INFO][32][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [a].[Id], [a].[Description], [a].[DisplayName], [a].[Emphasize], [a].[Enabled], [a].[Name], [a].[Required], [a].[ShowInDiscoveryDocument], [a0].[Id], [a0].[ScopeId], [a0].[Type], [a1].[Id], [a1].[Key], [a1].[ScopeId], [a1].[Value]
FROM [ApiScopes] AS [a]
LEFT JOIN [ApiScopeClaims] AS [a0] ON [a].[Id] = [a0].[ScopeId]
LEFT JOIN [ApiScopeProperties] AS [a1] ON [a].[Id] = [a1].[ScopeId]
WHERE [a].[Name] IN (N'openid', N'profile', N'email', N'roles')
ORDER BY [a].[Id], [a0].[Id], [a1].[Id]"
[2020-12-30T16:21:49.2280619+00:00][INFO][32][Microsoft.EntityFrameworkCore.Infrastructure] Entity Framework Core "5.0.1" initialized '"AdminIdentityDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=EventManager.Identity.Admin.EntityFramework.SqlServer "
[2020-12-30T16:21:49.2424348+00:00][INFO][31][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("5"ms) [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0"
[2020-12-30T16:21:49.2751021+00:00][INFO][31][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("22"ms) [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0"
[2020-12-30T16:21:49.3274657+00:00][INFO][36][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("6"ms) [Parameters=["@__user_Id_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [u].[Id], [u].[ClaimType], [u].[ClaimValue], [u].[UserId]
FROM [UserClaims] AS [u]
WHERE [u].[UserId] = @__user_Id_0"
[2020-12-30T16:21:49.3592882+00:00][INFO][35][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("23"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [r].[Name]
FROM [UserRoles] AS [u]
INNER JOIN [Roles] AS [r] ON [u].[RoleId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0"
[2020-12-30T16:21:49.3713435+00:00][INFO][36][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("9"ms) [Parameters=["@__normalizedName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [Roles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0"
[2020-12-30T16:21:49.3828150+00:00][INFO][31][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("8"ms) [Parameters=["@__role_Id_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [r].[ClaimType], [r].[ClaimValue]
FROM [RoleClaims] AS [r]
WHERE [r].[RoleId] = @__role_Id_0"
[2020-12-30T16:21:49.3892773+00:00][INFO][31][Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler] AuthenticationScheme: "Identity.Application" signed in.
[2020-12-30T16:21:49.3923581+00:00][INFO][31][IdentityServer4.Events.DefaultEventService] UserLoginSuccessEvent { Username: "admin", Provider: null, ProviderUserId: null, SubjectId: "174c9a38-e759-45b6-b735-470eca298a31", DisplayName: "admin", Endpoint: "UI", ClientId: null, Category: "Authentication", Name: "User Login Success", EventType: Success, Id: 1000, Message: null, ActivityId: "0HM5CRPLRUQQ2:00000002", TimeStamp: 12/30/2020 16:21:49, ProcessId: 27, LocalIpAddress: "::ffff:192.168.240.5:50003", RemoteIpAddress: "192.168.240.1" }
[2020-12-30T16:21:49.3993424+00:00][INFO][31][Microsoft.AspNetCore.Mvc.Infrastructure.RedirectResultExecutor] Executing RedirectResult, redirecting to "/connect/authorize/callback?client_id=urn%3Aem%3Aclient%3Amvc&redirect_uri=https%3A%2F%2Fwww.em.host%2Fadmin%2Fidentity%2Fsignin-oidc&response_type=code&scope=openid%20profile%20email%20roles&code_challenge=lP22F2WaUqSrZ8QcZ_saxBa2i_ssDIT_JLR6BqMtK4w&code_challenge_method=S256&response_mode=form_post&nonce=637449418586736380.YjU5Nzc3M2YtYTdlZi00ZGJjLTgxNGQtNWI1NjIxYTJkNjFjNzA1ZGM3ODAtM2U2My00MmVlLWJjMzQtZDU0M2Q3N2VhMGEw&state=CfDJ8IfTHaP7X4tMgtSdbTGk8Gh_iFGY58VdwEaAHPKW3yj7cv_Y-8yMcg4vzuUgIbJAuOhxDbeL9dMwFn6Ihx7uSE4mockhybDgBLYPOddOufsTpb8wI_-OWikuCQcA5gUUJUiN8dgblfx0N25l4ntmSh3Gs1FOKbyE0RggeawrtZOidQT2ODRigehvZ1kNB5zc3vFpdDBEHdHRSTEi-AWFD4cDcIERdSE40QgHDMdDOqDxGVxP_SYUJbgkVc-fhHJK-qSbU9J2NLjrV37MOsG7Xa5l75YwRZm8-KRX40HErZXtY5hEzp0372nJYarFfk-u0C8QCPPjgifQ52dZgFkPVNDKhkLB9WL3Y82MgsPOLfyUNgY62CRb0-cW1xT7MyYJfQ&x-client-SKU=ID_NETSTANDARD2_0&x-client-ver=5.6.0.0".
[2020-12-30T16:21:49.4008125+00:00][INFO][31][Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Executed action "EventManager.Identity.STS.Identity.Controllers.AccountController<EventManager.Identity.Admin.EntityFramework.Shared.Entities.Identity.UserIdentity, string>.Login (EventManager.Identity.STS.Identity)" in 484.3964ms
[2020-12-30T16:21:49.4016747+00:00][INFO][31][Microsoft.AspNetCore.Routing.EndpointMiddleware] Executed endpoint '"EventManager.Identity.STS.Identity.Controllers.AccountController<EventManager.Identity.Admin.EntityFramework.Shared.Entities.Identity.UserIdentity, string>.Login (EventManager.Identity.STS.Identity)"'
[2020-12-30T16:21:49.4026946+00:00][INFO][31][Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/1.1 POST https://sts.em.host/Account/Login?ReturnUrl=%2Fconnect%2Fauthorize%2Fcallback%3Fclient_id%3Durn%253Aem%253Aclient%253Amvc%26redirect_uri%3Dhttps%253A%252F%252Fwww.em.host%252Fadmin%252Fidentity%252Fsignin-oidc%26response_type%3Dcode%26scope%3Dopenid%2520profile%2520email%2520roles%26code_challenge%3DlP22F2WaUqSrZ8QcZ_saxBa2i_ssDIT_JLR6BqMtK4w%26code_challenge_method%3DS256%26response_mode%3Dform_post%26nonce%3D637449418586736380.YjU5Nzc3M2YtYTdlZi00ZGJjLTgxNGQtNWI1NjIxYTJkNjFjNzA1ZGM3ODAtM2U2My00MmVlLWJjMzQtZDU0M2Q3N2VhMGEw%26state%3DCfDJ8IfTHaP7X4tMgtSdbTGk8Gh_iFGY58VdwEaAHPKW3yj7cv_Y-8yMcg4vzuUgIbJAuOhxDbeL9dMwFn6Ihx7uSE4mockhybDgBLYPOddOufsTpb8wI_-OWikuCQcA5gUUJUiN8dgblfx0N25l4ntmSh3Gs1FOKbyE0RggeawrtZOidQT2ODRigehvZ1kNB5zc3vFpdDBEHdHRSTEi-AWFD4cDcIERdSE40QgHDMdDOqDxGVxP_SYUJbgkVc-fhHJK-qSbU9J2NLjrV37MOsG7Xa5l75YwRZm8-KRX40HErZXtY5hEzp0372nJYarFfk-u0C8QCPPjgifQ52dZgFkPVNDKhkLB9WL3Y82MgsPOLfyUNgY62CRb0-cW1xT7MyYJfQ%26x-client-SKU%3DID_NETSTANDARD2_0%26x-client-ver%3D5.6.0.0 application/x-www-form-urlencoded 1250 - 302 0 - 509.9819ms
[2020-12-30T16:21:49.4515516+00:00][INFO][35][Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 GET https://sts.em.host/connect/authorize/callback?client_id=urn%3Aem%3Aclient%3Amvc&redirect_uri=https%3A%2F%2Fwww.em.host%2Fadmin%2Fidentity%2Fsignin-oidc&response_type=code&scope=openid%20profile%20email%20roles&code_challenge=lP22F2WaUqSrZ8QcZ_saxBa2i_ssDIT_JLR6BqMtK4w&code_challenge_method=S256&response_mode=form_post&nonce=637449418586736380.YjU5Nzc3M2YtYTdlZi00ZGJjLTgxNGQtNWI1NjIxYTJkNjFjNzA1ZGM3ODAtM2U2My00MmVlLWJjMzQtZDU0M2Q3N2VhMGEw&state=CfDJ8IfTHaP7X4tMgtSdbTGk8Gh_iFGY58VdwEaAHPKW3yj7cv_Y-8yMcg4vzuUgIbJAuOhxDbeL9dMwFn6Ihx7uSE4mockhybDgBLYPOddOufsTpb8wI_-OWikuCQcA5gUUJUiN8dgblfx0N25l4ntmSh3Gs1FOKbyE0RggeawrtZOidQT2ODRigehvZ1kNB5zc3vFpdDBEHdHRSTEi-AWFD4cDcIERdSE40QgHDMdDOqDxGVxP_SYUJbgkVc-fhHJK-qSbU9J2NLjrV37MOsG7Xa5l75YwRZm8-KRX40HErZXtY5hEzp0372nJYarFfk-u0C8QCPPjgifQ52dZgFkPVNDKhkLB9WL3Y82MgsPOLfyUNgY62CRb0-cW1xT7MyYJfQ&x-client-SKU=ID_NETSTANDARD2_0&x-client-ver=5.6.0.0 - -
[2020-12-30T16:21:49.4621842+00:00][INFO][35][IdentityServer4.Hosting.IdentityServerMiddleware] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeCallbackEndpoint" for "/connect/authorize/callback"
[2020-12-30T16:21:49.4676306+00:00][INFO][35][Microsoft.EntityFrameworkCore.Infrastructure] Entity Framework Core "5.0.1" initialized '"IdentityServerConfigurationDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=EventManager.Identity.Admin.EntityFramework.SqlServer "
[2020-12-30T16:21:49.4780332+00:00][INFO][32][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("6"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c].[Id], [c].[AbsoluteRefreshTokenLifetime], [c].[AccessTokenLifetime], [c].[AccessTokenType], [c].[AllowAccessTokensViaBrowser], [c].[AllowOfflineAccess], [c].[AllowPlainTextPkce], [c].[AllowRememberConsent], [c].[AllowedIdentityTokenSigningAlgorithms], [c].[AlwaysIncludeUserClaimsInIdToken], [c].[AlwaysSendClientClaims], [c].[AuthorizationCodeLifetime], [c].[BackChannelLogoutSessionRequired], [c].[BackChannelLogoutUri], [c].[ClientClaimsPrefix], [c].[ClientId], [c].[ClientName], [c].[ClientUri], [c].[ConsentLifetime], [c].[Created], [c].[Description], [c].[DeviceCodeLifetime], [c].[EnableLocalLogin], [c].[Enabled], [c].[FrontChannelLogoutSessionRequired], [c].[FrontChannelLogoutUri], [c].[IdentityTokenLifetime], [c].[IncludeJwtId], [c].[LastAccessed], [c].[LogoUri], [c].[NonEditable], [c].[PairWiseSubjectSalt], [c].[ProtocolType], [c].[RefreshTokenExpiration], [c].[RefreshTokenUsage], [c].[RequireClientSecret], [c].[RequireConsent], [c].[RequirePkce], [c].[RequireRequestObject], [c].[SlidingRefreshTokenLifetime], [c].[UpdateAccessTokenClaimsOnRefresh], [c].[Updated], [c].[UserCodeType], [c].[UserSsoLifetime]
FROM [Clients] AS [c]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T16:21:49.4908343+00:00][INFO][36][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("5"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[Origin]
FROM [Clients] AS [c]
INNER JOIN [ClientCorsOrigins] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T16:21:49.5280144+00:00][INFO][33][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("2"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[GrantType]
FROM [Clients] AS [c]
INNER JOIN [ClientGrantTypes] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T16:21:49.5353837+00:00][INFO][30][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("3"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[Scope]
FROM [Clients] AS [c]
INNER JOIN [ClientScopes] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T16:21:49.5501569+00:00][INFO][36][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("5"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[Type], [c0].[Value]
FROM [Clients] AS [c]
INNER JOIN [ClientClaims] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T16:21:49.5593622+00:00][INFO][30][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("8"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[Created], [c0].[Description], [c0].[Expiration], [c0].[Type], [c0].[Value]
FROM [Clients] AS [c]
INNER JOIN [ClientSecrets] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T16:21:49.5743249+00:00][INFO][30][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("4"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[Provider]
FROM [Clients] AS [c]
INNER JOIN [ClientIdPRestrictions] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T16:21:49.5830687+00:00][INFO][4][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("4"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[PostLogoutRedirectUri]
FROM [Clients] AS [c]
INNER JOIN [ClientPostLogoutRedirectUris] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T16:21:49.6489827+00:00][INFO][30][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("8"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[Key], [c0].[Value]
FROM [Clients] AS [c]
INNER JOIN [ClientProperties] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T16:21:49.6880848+00:00][INFO][36][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("12"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[RedirectUri]
FROM [Clients] AS [c]
INNER JOIN [ClientRedirectUris] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T16:21:49.7118901+00:00][INFO][30][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [i].[Id], [i].[Created], [i].[Description], [i].[DisplayName], [i].[Emphasize], [i].[Enabled], [i].[Name], [i].[NonEditable], [i].[Required], [i].[ShowInDiscoveryDocument], [i].[Updated], [i0].[Id], [i0].[IdentityResourceId], [i0].[Type], [i1].[Id], [i1].[IdentityResourceId], [i1].[Key], [i1].[Value]
FROM [IdentityResources] AS [i]
LEFT JOIN [IdentityResourceClaims] AS [i0] ON [i].[Id] = [i0].[IdentityResourceId]
LEFT JOIN [IdentityResourceProperties] AS [i1] ON [i].[Id] = [i1].[IdentityResourceId]
WHERE [i].[Name] IN (N'openid', N'profile', N'email', N'roles')
ORDER BY [i].[Id], [i0].[Id], [i1].[Id]"
[2020-12-30T16:21:49.7445982+00:00][INFO][4][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("6"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [a].[Id], [a].[AllowedAccessTokenSigningAlgorithms], [a].[Created], [a].[Description], [a].[DisplayName], [a].[Enabled], [a].[LastAccessed], [a].[Name], [a].[NonEditable], [a].[ShowInDiscoveryDocument], [a].[Updated], [a0].[Id], [a0].[ApiResourceId], [a0].[Created], [a0].[Description], [a0].[Expiration], [a0].[Type], [a0].[Value], [a1].[Id], [a1].[ApiResourceId], [a1].[Scope], [a2].[Id], [a2].[ApiResourceId], [a2].[Type], [a3].[Id], [a3].[ApiResourceId], [a3].[Key], [a3].[Value]
FROM [ApiResources] AS [a]
LEFT JOIN [ApiResourceSecrets] AS [a0] ON [a].[Id] = [a0].[ApiResourceId]
LEFT JOIN [ApiResourceScopes] AS [a1] ON [a].[Id] = [a1].[ApiResourceId]
LEFT JOIN [ApiResourceClaims] AS [a2] ON [a].[Id] = [a2].[ApiResourceId]
LEFT JOIN [ApiResourceProperties] AS [a3] ON [a].[Id] = [a3].[ApiResourceId]
WHERE EXISTS (
    SELECT 1
    FROM [ApiResourceScopes] AS [a4]
    WHERE ([a].[Id] = [a4].[ApiResourceId]) AND [a4].[Scope] IN (N'openid', N'profile', N'email', N'roles'))
ORDER BY [a].[Id], [a0].[Id], [a1].[Id], [a2].[Id], [a3].[Id]"
[2020-12-30T16:21:49.7534114+00:00][INFO][36][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("4"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [a].[Id], [a].[Description], [a].[DisplayName], [a].[Emphasize], [a].[Enabled], [a].[Name], [a].[Required], [a].[ShowInDiscoveryDocument], [a0].[Id], [a0].[ScopeId], [a0].[Type], [a1].[Id], [a1].[Key], [a1].[ScopeId], [a1].[Value]
FROM [ApiScopes] AS [a]
LEFT JOIN [ApiScopeClaims] AS [a0] ON [a].[Id] = [a0].[ScopeId]
LEFT JOIN [ApiScopeProperties] AS [a1] ON [a].[Id] = [a1].[ScopeId]
WHERE [a].[Name] IN (N'openid', N'profile', N'email', N'roles')
ORDER BY [a].[Id], [a0].[Id], [a1].[Id]"
[2020-12-30T16:21:49.7593689+00:00][INFO][36][Microsoft.EntityFrameworkCore.Infrastructure] Entity Framework Core "5.0.1" initialized '"AdminIdentityDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=EventManager.Identity.Admin.EntityFramework.SqlServer "
[2020-12-30T16:21:49.7702670+00:00][INFO][4][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("3"ms) [Parameters=["@__p_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[Id] = @__p_0"
[2020-12-30T16:21:49.8032424+00:00][INFO][4][Microsoft.EntityFrameworkCore.Infrastructure] Entity Framework Core "5.0.1" initialized '"IdentityServerPersistedGrantDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=EventManager.Identity.Admin.EntityFramework.SqlServer "
[2020-12-30T16:21:49.8115772+00:00][INFO][31][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("4"ms) [Parameters=["@__token_Key_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [p].[Key], [p].[ClientId], [p].[ConsumedTime], [p].[CreationTime], [p].[Data], [p].[Description], [p].[Expiration], [p].[SessionId], [p].[SubjectId], [p].[Type]
FROM [PersistedGrants] AS [p]
WHERE [p].[Key] = @__token_Key_0"
[2020-12-30T16:21:49.8331226+00:00][INFO][37][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("5"ms) [Parameters=["@p0='?' (Size = 200), @p1='?' (Size = 200), @p2='?' (DbType = DateTime2), @p3='?' (DbType = DateTime2), @p4='?' (Size = 4000), @p5='?' (Size = 200), @p6='?' (DbType = DateTime2), @p7='?' (Size = 100), @p8='?' (Size = 200), @p9='?' (Size = 50)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
INSERT INTO [PersistedGrants] ([Key], [ClientId], [ConsumedTime], [CreationTime], [Data], [Description], [Expiration], [SessionId], [SubjectId], [Type])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9);"
[2020-12-30T16:21:49.8510725+00:00][INFO][37][IdentityServer4.Events.DefaultEventService] TokenIssuedSuccessEvent { ClientId: "urn:em:client:mvc", ClientName: "Event Manager Identity Admin UI", RedirectUri: "https://www.em.host/admin/identity/signin-oidc", Endpoint: "Authorize", SubjectId: "174c9a38-e759-45b6-b735-470eca298a31", Scopes: "openid profile email roles", GrantType: "authorization_code", Tokens: [Token { TokenType: "code", TokenValue: "****7380" }], Category: "Token", Name: "Token Issued Success", EventType: Success, Id: 2000, Message: null, ActivityId: "0HM5CRPLRUQQ3:00000002", TimeStamp: 12/30/2020 16:21:49, ProcessId: 27, LocalIpAddress: "::ffff:192.168.240.5:50003", RemoteIpAddress: "192.168.240.1" }
[2020-12-30T16:21:49.8531091+00:00][INFO][37][Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler] AuthenticationScheme: "Identity.Application" signed in.
[2020-12-30T16:21:49.8547715+00:00][INFO][37][Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/1.1 GET https://sts.em.host/connect/authorize/callback?client_id=urn%3Aem%3Aclient%3Amvc&redirect_uri=https%3A%2F%2Fwww.em.host%2Fadmin%2Fidentity%2Fsignin-oidc&response_type=code&scope=openid%20profile%20email%20roles&code_challenge=lP22F2WaUqSrZ8QcZ_saxBa2i_ssDIT_JLR6BqMtK4w&code_challenge_method=S256&response_mode=form_post&nonce=637449418586736380.YjU5Nzc3M2YtYTdlZi00ZGJjLTgxNGQtNWI1NjIxYTJkNjFjNzA1ZGM3ODAtM2U2My00MmVlLWJjMzQtZDU0M2Q3N2VhMGEw&state=CfDJ8IfTHaP7X4tMgtSdbTGk8Gh_iFGY58VdwEaAHPKW3yj7cv_Y-8yMcg4vzuUgIbJAuOhxDbeL9dMwFn6Ihx7uSE4mockhybDgBLYPOddOufsTpb8wI_-OWikuCQcA5gUUJUiN8dgblfx0N25l4ntmSh3Gs1FOKbyE0RggeawrtZOidQT2ODRigehvZ1kNB5zc3vFpdDBEHdHRSTEi-AWFD4cDcIERdSE40QgHDMdDOqDxGVxP_SYUJbgkVc-fhHJK-qSbU9J2NLjrV37MOsG7Xa5l75YwRZm8-KRX40HErZXtY5hEzp0372nJYarFfk-u0C8QCPPjgifQ52dZgFkPVNDKhkLB9WL3Y82MgsPOLfyUNgY62CRb0-cW1xT7MyYJfQ&x-client-SKU=ID_NETSTANDARD2_0&x-client-ver=5.6.0.0 - - - 200 - text/html;+charset=UTF-8 403.1065ms
[2020-12-30T16:21:53.3882967+00:00][INFO][4][Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 GET https://sts.em.host/connect/authorize/callback?client_id=urn%3Aem%3Aclient%3Amvc&redirect_uri=https%3A%2F%2Fwww.em.host%2Fadmin%2Fidentity%2Fsignin-oidc&response_type=code&scope=openid%20profile%20email%20roles&code_challenge=lP22F2WaUqSrZ8QcZ_saxBa2i_ssDIT_JLR6BqMtK4w&code_challenge_method=S256&response_mode=form_post&nonce=637449418586736380.YjU5Nzc3M2YtYTdlZi00ZGJjLTgxNGQtNWI1NjIxYTJkNjFjNzA1ZGM3ODAtM2U2My00MmVlLWJjMzQtZDU0M2Q3N2VhMGEw&state=CfDJ8IfTHaP7X4tMgtSdbTGk8Gh_iFGY58VdwEaAHPKW3yj7cv_Y-8yMcg4vzuUgIbJAuOhxDbeL9dMwFn6Ihx7uSE4mockhybDgBLYPOddOufsTpb8wI_-OWikuCQcA5gUUJUiN8dgblfx0N25l4ntmSh3Gs1FOKbyE0RggeawrtZOidQT2ODRigehvZ1kNB5zc3vFpdDBEHdHRSTEi-AWFD4cDcIERdSE40QgHDMdDOqDxGVxP_SYUJbgkVc-fhHJK-qSbU9J2NLjrV37MOsG7Xa5l75YwRZm8-KRX40HErZXtY5hEzp0372nJYarFfk-u0C8QCPPjgifQ52dZgFkPVNDKhkLB9WL3Y82MgsPOLfyUNgY62CRb0-cW1xT7MyYJfQ&x-client-SKU=ID_NETSTANDARD2_0&x-client-ver=5.6.0.0 - -
[2020-12-30T16:21:53.3940823+00:00][INFO][4][IdentityServer4.Hosting.IdentityServerMiddleware] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeCallbackEndpoint" for "/connect/authorize/callback"
[2020-12-30T16:21:53.3961520+00:00][INFO][4][Microsoft.EntityFrameworkCore.Infrastructure] Entity Framework Core "5.0.1" initialized '"IdentityServerConfigurationDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=EventManager.Identity.Admin.EntityFramework.SqlServer "
[2020-12-30T16:21:53.4151895+00:00][INFO][30][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("15"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c].[Id], [c].[AbsoluteRefreshTokenLifetime], [c].[AccessTokenLifetime], [c].[AccessTokenType], [c].[AllowAccessTokensViaBrowser], [c].[AllowOfflineAccess], [c].[AllowPlainTextPkce], [c].[AllowRememberConsent], [c].[AllowedIdentityTokenSigningAlgorithms], [c].[AlwaysIncludeUserClaimsInIdToken], [c].[AlwaysSendClientClaims], [c].[AuthorizationCodeLifetime], [c].[BackChannelLogoutSessionRequired], [c].[BackChannelLogoutUri], [c].[ClientClaimsPrefix], [c].[ClientId], [c].[ClientName], [c].[ClientUri], [c].[ConsentLifetime], [c].[Created], [c].[Description], [c].[DeviceCodeLifetime], [c].[EnableLocalLogin], [c].[Enabled], [c].[FrontChannelLogoutSessionRequired], [c].[FrontChannelLogoutUri], [c].[IdentityTokenLifetime], [c].[IncludeJwtId], [c].[LastAccessed], [c].[LogoUri], [c].[NonEditable], [c].[PairWiseSubjectSalt], [c].[ProtocolType], [c].[RefreshTokenExpiration], [c].[RefreshTokenUsage], [c].[RequireClientSecret], [c].[RequireConsent], [c].[RequirePkce], [c].[RequireRequestObject], [c].[SlidingRefreshTokenLifetime], [c].[UpdateAccessTokenClaimsOnRefresh], [c].[Updated], [c].[UserCodeType], [c].[UserSsoLifetime]
FROM [Clients] AS [c]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T16:21:53.4523166+00:00][INFO][36][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("4"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[Origin]
FROM [Clients] AS [c]
INNER JOIN [ClientCorsOrigins] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T16:21:53.4715805+00:00][INFO][30][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("5"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[GrantType]
FROM [Clients] AS [c]
INNER JOIN [ClientGrantTypes] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T16:21:53.4818165+00:00][INFO][36][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("2"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[Scope]
FROM [Clients] AS [c]
INNER JOIN [ClientScopes] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T16:21:53.4940086+00:00][INFO][30][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("8"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[Type], [c0].[Value]
FROM [Clients] AS [c]
INNER JOIN [ClientClaims] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T16:21:53.5115955+00:00][INFO][34][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("5"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[Created], [c0].[Description], [c0].[Expiration], [c0].[Type], [c0].[Value]
FROM [Clients] AS [c]
INNER JOIN [ClientSecrets] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T16:21:53.5427858+00:00][INFO][4][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("7"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[Provider]
FROM [Clients] AS [c]
INNER JOIN [ClientIdPRestrictions] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T16:21:53.5650506+00:00][INFO][4][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("9"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[PostLogoutRedirectUri]
FROM [Clients] AS [c]
INNER JOIN [ClientPostLogoutRedirectUris] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T16:21:53.5772111+00:00][INFO][32][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("9"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[Key], [c0].[Value]
FROM [Clients] AS [c]
INNER JOIN [ClientProperties] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T16:21:53.5967911+00:00][INFO][35][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("4"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[RedirectUri]
FROM [Clients] AS [c]
INNER JOIN [ClientRedirectUris] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T16:21:53.6312015+00:00][INFO][33][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("9"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [i].[Id], [i].[Created], [i].[Description], [i].[DisplayName], [i].[Emphasize], [i].[Enabled], [i].[Name], [i].[NonEditable], [i].[Required], [i].[ShowInDiscoveryDocument], [i].[Updated], [i0].[Id], [i0].[IdentityResourceId], [i0].[Type], [i1].[Id], [i1].[IdentityResourceId], [i1].[Key], [i1].[Value]
FROM [IdentityResources] AS [i]
LEFT JOIN [IdentityResourceClaims] AS [i0] ON [i].[Id] = [i0].[IdentityResourceId]
LEFT JOIN [IdentityResourceProperties] AS [i1] ON [i].[Id] = [i1].[IdentityResourceId]
WHERE [i].[Name] IN (N'openid', N'profile', N'email', N'roles')
ORDER BY [i].[Id], [i0].[Id], [i1].[Id]"
[2020-12-30T16:21:53.6695690+00:00][INFO][32][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [a].[Id], [a].[AllowedAccessTokenSigningAlgorithms], [a].[Created], [a].[Description], [a].[DisplayName], [a].[Enabled], [a].[LastAccessed], [a].[Name], [a].[NonEditable], [a].[ShowInDiscoveryDocument], [a].[Updated], [a0].[Id], [a0].[ApiResourceId], [a0].[Created], [a0].[Description], [a0].[Expiration], [a0].[Type], [a0].[Value], [a1].[Id], [a1].[ApiResourceId], [a1].[Scope], [a2].[Id], [a2].[ApiResourceId], [a2].[Type], [a3].[Id], [a3].[ApiResourceId], [a3].[Key], [a3].[Value]
FROM [ApiResources] AS [a]
LEFT JOIN [ApiResourceSecrets] AS [a0] ON [a].[Id] = [a0].[ApiResourceId]
LEFT JOIN [ApiResourceScopes] AS [a1] ON [a].[Id] = [a1].[ApiResourceId]
LEFT JOIN [ApiResourceClaims] AS [a2] ON [a].[Id] = [a2].[ApiResourceId]
LEFT JOIN [ApiResourceProperties] AS [a3] ON [a].[Id] = [a3].[ApiResourceId]
WHERE EXISTS (
    SELECT 1
    FROM [ApiResourceScopes] AS [a4]
    WHERE ([a].[Id] = [a4].[ApiResourceId]) AND [a4].[Scope] IN (N'openid', N'profile', N'email', N'roles'))
ORDER BY [a].[Id], [a0].[Id], [a1].[Id], [a2].[Id], [a3].[Id]"
[2020-12-30T16:21:53.6932610+00:00][INFO][4][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [a].[Id], [a].[Description], [a].[DisplayName], [a].[Emphasize], [a].[Enabled], [a].[Name], [a].[Required], [a].[ShowInDiscoveryDocument], [a0].[Id], [a0].[ScopeId], [a0].[Type], [a1].[Id], [a1].[Key], [a1].[ScopeId], [a1].[Value]
FROM [ApiScopes] AS [a]
LEFT JOIN [ApiScopeClaims] AS [a0] ON [a].[Id] = [a0].[ScopeId]
LEFT JOIN [ApiScopeProperties] AS [a1] ON [a].[Id] = [a1].[ScopeId]
WHERE [a].[Name] IN (N'openid', N'profile', N'email', N'roles')
ORDER BY [a].[Id], [a0].[Id], [a1].[Id]"
[2020-12-30T16:21:53.7217910+00:00][INFO][4][Microsoft.EntityFrameworkCore.Infrastructure] Entity Framework Core "5.0.1" initialized '"AdminIdentityDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=EventManager.Identity.Admin.EntityFramework.SqlServer "
[2020-12-30T16:21:53.7486369+00:00][INFO][36][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("24"ms) [Parameters=["@__p_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[Id] = @__p_0"
[2020-12-30T16:21:53.7721198+00:00][INFO][36][Microsoft.EntityFrameworkCore.Infrastructure] Entity Framework Core "5.0.1" initialized '"IdentityServerPersistedGrantDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=EventManager.Identity.Admin.EntityFramework.SqlServer "
[2020-12-30T16:21:53.7770300+00:00][INFO][33][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("2"ms) [Parameters=["@__token_Key_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [p].[Key], [p].[ClientId], [p].[ConsumedTime], [p].[CreationTime], [p].[Data], [p].[Description], [p].[Expiration], [p].[SessionId], [p].[SubjectId], [p].[Type]
FROM [PersistedGrants] AS [p]
WHERE [p].[Key] = @__token_Key_0"
[2020-12-30T16:21:53.8245627+00:00][INFO][33][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("20"ms) [Parameters=["@p0='?' (Size = 200), @p1='?' (Size = 200), @p2='?' (DbType = DateTime2), @p3='?' (DbType = DateTime2), @p4='?' (Size = 4000), @p5='?' (Size = 200), @p6='?' (DbType = DateTime2), @p7='?' (Size = 100), @p8='?' (Size = 200), @p9='?' (Size = 50)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
INSERT INTO [PersistedGrants] ([Key], [ClientId], [ConsumedTime], [CreationTime], [Data], [Description], [Expiration], [SessionId], [SubjectId], [Type])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9);"
[2020-12-30T16:21:53.8635308+00:00][INFO][33][IdentityServer4.Events.DefaultEventService] TokenIssuedSuccessEvent { ClientId: "urn:em:client:mvc", ClientName: "Event Manager Identity Admin UI", RedirectUri: "https://www.em.host/admin/identity/signin-oidc", Endpoint: "Authorize", SubjectId: "174c9a38-e759-45b6-b735-470eca298a31", Scopes: "openid profile email roles", GrantType: "authorization_code", Tokens: [Token { TokenType: "code", TokenValue: "****68D5" }], Category: "Token", Name: "Token Issued Success", EventType: Success, Id: 2000, Message: null, ActivityId: "0HM5CRPLRUQQ4:00000002", TimeStamp: 12/30/2020 16:21:53, ProcessId: 27, LocalIpAddress: "::ffff:192.168.240.5:50003", RemoteIpAddress: "192.168.240.1" }
[2020-12-30T16:21:53.8664340+00:00][INFO][33][Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/1.1 GET https://sts.em.host/connect/authorize/callback?client_id=urn%3Aem%3Aclient%3Amvc&redirect_uri=https%3A%2F%2Fwww.em.host%2Fadmin%2Fidentity%2Fsignin-oidc&response_type=code&scope=openid%20profile%20email%20roles&code_challenge=lP22F2WaUqSrZ8QcZ_saxBa2i_ssDIT_JLR6BqMtK4w&code_challenge_method=S256&response_mode=form_post&nonce=637449418586736380.YjU5Nzc3M2YtYTdlZi00ZGJjLTgxNGQtNWI1NjIxYTJkNjFjNzA1ZGM3ODAtM2U2My00MmVlLWJjMzQtZDU0M2Q3N2VhMGEw&state=CfDJ8IfTHaP7X4tMgtSdbTGk8Gh_iFGY58VdwEaAHPKW3yj7cv_Y-8yMcg4vzuUgIbJAuOhxDbeL9dMwFn6Ihx7uSE4mockhybDgBLYPOddOufsTpb8wI_-OWikuCQcA5gUUJUiN8dgblfx0N25l4ntmSh3Gs1FOKbyE0RggeawrtZOidQT2ODRigehvZ1kNB5zc3vFpdDBEHdHRSTEi-AWFD4cDcIERdSE40QgHDMdDOqDxGVxP_SYUJbgkVc-fhHJK-qSbU9J2NLjrV37MOsG7Xa5l75YwRZm8-KRX40HErZXtY5hEzp0372nJYarFfk-u0C8QCPPjgifQ52dZgFkPVNDKhkLB9WL3Y82MgsPOLfyUNgY62CRb0-cW1xT7MyYJfQ&x-client-SKU=ID_NETSTANDARD2_0&x-client-ver=5.6.0.0 - - - 200 - text/html;+charset=UTF-8 478.1740ms
[2020-12-30T16:21:56.2855975+00:00][INFO][37][Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 GET https://sts.em.host/connect/authorize/callback?client_id=urn%3Aem%3Aclient%3Amvc&redirect_uri=https%3A%2F%2Fwww.em.host%2Fadmin%2Fidentity%2Fsignin-oidc&response_type=code&scope=openid%20profile%20email%20roles&code_challenge=lP22F2WaUqSrZ8QcZ_saxBa2i_ssDIT_JLR6BqMtK4w&code_challenge_method=S256&response_mode=form_post&nonce=637449418586736380.YjU5Nzc3M2YtYTdlZi00ZGJjLTgxNGQtNWI1NjIxYTJkNjFjNzA1ZGM3ODAtM2U2My00MmVlLWJjMzQtZDU0M2Q3N2VhMGEw&state=CfDJ8IfTHaP7X4tMgtSdbTGk8Gh_iFGY58VdwEaAHPKW3yj7cv_Y-8yMcg4vzuUgIbJAuOhxDbeL9dMwFn6Ihx7uSE4mockhybDgBLYPOddOufsTpb8wI_-OWikuCQcA5gUUJUiN8dgblfx0N25l4ntmSh3Gs1FOKbyE0RggeawrtZOidQT2ODRigehvZ1kNB5zc3vFpdDBEHdHRSTEi-AWFD4cDcIERdSE40QgHDMdDOqDxGVxP_SYUJbgkVc-fhHJK-qSbU9J2NLjrV37MOsG7Xa5l75YwRZm8-KRX40HErZXtY5hEzp0372nJYarFfk-u0C8QCPPjgifQ52dZgFkPVNDKhkLB9WL3Y82MgsPOLfyUNgY62CRb0-cW1xT7MyYJfQ&x-client-SKU=ID_NETSTANDARD2_0&x-client-ver=5.6.0.0 - -
[2020-12-30T16:21:56.3144232+00:00][INFO][37][IdentityServer4.Hosting.IdentityServerMiddleware] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeCallbackEndpoint" for "/connect/authorize/callback"
[2020-12-30T16:21:56.3210185+00:00][INFO][37][Microsoft.EntityFrameworkCore.Infrastructure] Entity Framework Core "5.0.1" initialized '"IdentityServerConfigurationDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=EventManager.Identity.Admin.EntityFramework.SqlServer "
[2020-12-30T16:21:56.3306066+00:00][INFO][33][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("4"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c].[Id], [c].[AbsoluteRefreshTokenLifetime], [c].[AccessTokenLifetime], [c].[AccessTokenType], [c].[AllowAccessTokensViaBrowser], [c].[AllowOfflineAccess], [c].[AllowPlainTextPkce], [c].[AllowRememberConsent], [c].[AllowedIdentityTokenSigningAlgorithms], [c].[AlwaysIncludeUserClaimsInIdToken], [c].[AlwaysSendClientClaims], [c].[AuthorizationCodeLifetime], [c].[BackChannelLogoutSessionRequired], [c].[BackChannelLogoutUri], [c].[ClientClaimsPrefix], [c].[ClientId], [c].[ClientName], [c].[ClientUri], [c].[ConsentLifetime], [c].[Created], [c].[Description], [c].[DeviceCodeLifetime], [c].[EnableLocalLogin], [c].[Enabled], [c].[FrontChannelLogoutSessionRequired], [c].[FrontChannelLogoutUri], [c].[IdentityTokenLifetime], [c].[IncludeJwtId], [c].[LastAccessed], [c].[LogoUri], [c].[NonEditable], [c].[PairWiseSubjectSalt], [c].[ProtocolType], [c].[RefreshTokenExpiration], [c].[RefreshTokenUsage], [c].[RequireClientSecret], [c].[RequireConsent], [c].[RequirePkce], [c].[RequireRequestObject], [c].[SlidingRefreshTokenLifetime], [c].[UpdateAccessTokenClaimsOnRefresh], [c].[Updated], [c].[UserCodeType], [c].[UserSsoLifetime]
FROM [Clients] AS [c]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T16:21:56.3684909+00:00][INFO][35][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("4"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[Origin]
FROM [Clients] AS [c]
INNER JOIN [ClientCorsOrigins] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T16:21:56.3993667+00:00][INFO][33][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("6"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[GrantType]
FROM [Clients] AS [c]
INNER JOIN [ClientGrantTypes] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T16:21:56.4098601+00:00][INFO][32][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("4"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[Scope]
FROM [Clients] AS [c]
INNER JOIN [ClientScopes] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T16:21:56.4179277+00:00][INFO][33][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("4"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[Type], [c0].[Value]
FROM [Clients] AS [c]
INNER JOIN [ClientClaims] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T16:21:56.4292716+00:00][INFO][37][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("3"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[Created], [c0].[Description], [c0].[Expiration], [c0].[Type], [c0].[Value]
FROM [Clients] AS [c]
INNER JOIN [ClientSecrets] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T16:21:56.4419371+00:00][INFO][30][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("9"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[Provider]
FROM [Clients] AS [c]
INNER JOIN [ClientIdPRestrictions] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T16:21:56.4510626+00:00][INFO][37][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("6"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[PostLogoutRedirectUri]
FROM [Clients] AS [c]
INNER JOIN [ClientPostLogoutRedirectUris] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T16:21:56.4780449+00:00][INFO][32][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("3"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[Key], [c0].[Value]
FROM [Clients] AS [c]
INNER JOIN [ClientProperties] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T16:21:56.4833029+00:00][INFO][33][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("2"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[RedirectUri]
FROM [Clients] AS [c]
INNER JOIN [ClientRedirectUris] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T16:21:56.4955583+00:00][INFO][32][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [i].[Id], [i].[Created], [i].[Description], [i].[DisplayName], [i].[Emphasize], [i].[Enabled], [i].[Name], [i].[NonEditable], [i].[Required], [i].[ShowInDiscoveryDocument], [i].[Updated], [i0].[Id], [i0].[IdentityResourceId], [i0].[Type], [i1].[Id], [i1].[IdentityResourceId], [i1].[Key], [i1].[Value]
FROM [IdentityResources] AS [i]
LEFT JOIN [IdentityResourceClaims] AS [i0] ON [i].[Id] = [i0].[IdentityResourceId]
LEFT JOIN [IdentityResourceProperties] AS [i1] ON [i].[Id] = [i1].[IdentityResourceId]
WHERE [i].[Name] IN (N'openid', N'profile', N'email', N'roles')
ORDER BY [i].[Id], [i0].[Id], [i1].[Id]"
[2020-12-30T16:21:56.5315070+00:00][INFO][34][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [a].[Id], [a].[AllowedAccessTokenSigningAlgorithms], [a].[Created], [a].[Description], [a].[DisplayName], [a].[Enabled], [a].[LastAccessed], [a].[Name], [a].[NonEditable], [a].[ShowInDiscoveryDocument], [a].[Updated], [a0].[Id], [a0].[ApiResourceId], [a0].[Created], [a0].[Description], [a0].[Expiration], [a0].[Type], [a0].[Value], [a1].[Id], [a1].[ApiResourceId], [a1].[Scope], [a2].[Id], [a2].[ApiResourceId], [a2].[Type], [a3].[Id], [a3].[ApiResourceId], [a3].[Key], [a3].[Value]
FROM [ApiResources] AS [a]
LEFT JOIN [ApiResourceSecrets] AS [a0] ON [a].[Id] = [a0].[ApiResourceId]
LEFT JOIN [ApiResourceScopes] AS [a1] ON [a].[Id] = [a1].[ApiResourceId]
LEFT JOIN [ApiResourceClaims] AS [a2] ON [a].[Id] = [a2].[ApiResourceId]
LEFT JOIN [ApiResourceProperties] AS [a3] ON [a].[Id] = [a3].[ApiResourceId]
WHERE EXISTS (
    SELECT 1
    FROM [ApiResourceScopes] AS [a4]
    WHERE ([a].[Id] = [a4].[ApiResourceId]) AND [a4].[Scope] IN (N'openid', N'profile', N'email', N'roles'))
ORDER BY [a].[Id], [a0].[Id], [a1].[Id], [a2].[Id], [a3].[Id]"
[2020-12-30T16:21:56.5429324+00:00][INFO][4][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [a].[Id], [a].[Description], [a].[DisplayName], [a].[Emphasize], [a].[Enabled], [a].[Name], [a].[Required], [a].[ShowInDiscoveryDocument], [a0].[Id], [a0].[ScopeId], [a0].[Type], [a1].[Id], [a1].[Key], [a1].[ScopeId], [a1].[Value]
FROM [ApiScopes] AS [a]
LEFT JOIN [ApiScopeClaims] AS [a0] ON [a].[Id] = [a0].[ScopeId]
LEFT JOIN [ApiScopeProperties] AS [a1] ON [a].[Id] = [a1].[ScopeId]
WHERE [a].[Name] IN (N'openid', N'profile', N'email', N'roles')
ORDER BY [a].[Id], [a0].[Id], [a1].[Id]"
[2020-12-30T16:21:56.5557684+00:00][INFO][33][Microsoft.EntityFrameworkCore.Infrastructure] Entity Framework Core "5.0.1" initialized '"AdminIdentityDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=EventManager.Identity.Admin.EntityFramework.SqlServer "
[2020-12-30T16:21:56.5682613+00:00][INFO][37][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("6"ms) [Parameters=["@__p_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[Id] = @__p_0"
[2020-12-30T16:21:56.5823153+00:00][INFO][34][Microsoft.EntityFrameworkCore.Infrastructure] Entity Framework Core "5.0.1" initialized '"IdentityServerPersistedGrantDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=EventManager.Identity.Admin.EntityFramework.SqlServer "
[2020-12-30T16:21:56.5924829+00:00][INFO][30][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("8"ms) [Parameters=["@__token_Key_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [p].[Key], [p].[ClientId], [p].[ConsumedTime], [p].[CreationTime], [p].[Data], [p].[Description], [p].[Expiration], [p].[SessionId], [p].[SubjectId], [p].[Type]
FROM [PersistedGrants] AS [p]
WHERE [p].[Key] = @__token_Key_0"
[2020-12-30T16:21:56.6054056+00:00][INFO][34][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("4"ms) [Parameters=["@p0='?' (Size = 200), @p1='?' (Size = 200), @p2='?' (DbType = DateTime2), @p3='?' (DbType = DateTime2), @p4='?' (Size = 4000), @p5='?' (Size = 200), @p6='?' (DbType = DateTime2), @p7='?' (Size = 100), @p8='?' (Size = 200), @p9='?' (Size = 50)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
INSERT INTO [PersistedGrants] ([Key], [ClientId], [ConsumedTime], [CreationTime], [Data], [Description], [Expiration], [SessionId], [SubjectId], [Type])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9);"
[2020-12-30T16:21:56.6241305+00:00][INFO][34][IdentityServer4.Events.DefaultEventService] TokenIssuedSuccessEvent { ClientId: "urn:em:client:mvc", ClientName: "Event Manager Identity Admin UI", RedirectUri: "https://www.em.host/admin/identity/signin-oidc", Endpoint: "Authorize", SubjectId: "174c9a38-e759-45b6-b735-470eca298a31", Scopes: "openid profile email roles", GrantType: "authorization_code", Tokens: [Token { TokenType: "code", TokenValue: "****548B" }], Category: "Token", Name: "Token Issued Success", EventType: Success, Id: 2000, Message: null, ActivityId: "0HM5CRPLRUQQ5:00000002", TimeStamp: 12/30/2020 16:21:56, ProcessId: 27, LocalIpAddress: "::ffff:192.168.240.5:50003", RemoteIpAddress: "192.168.240.1" }
[2020-12-30T16:21:56.6287841+00:00][INFO][34][Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/1.1 GET https://sts.em.host/connect/authorize/callback?client_id=urn%3Aem%3Aclient%3Amvc&redirect_uri=https%3A%2F%2Fwww.em.host%2Fadmin%2Fidentity%2Fsignin-oidc&response_type=code&scope=openid%20profile%20email%20roles&code_challenge=lP22F2WaUqSrZ8QcZ_saxBa2i_ssDIT_JLR6BqMtK4w&code_challenge_method=S256&response_mode=form_post&nonce=637449418586736380.YjU5Nzc3M2YtYTdlZi00ZGJjLTgxNGQtNWI1NjIxYTJkNjFjNzA1ZGM3ODAtM2U2My00MmVlLWJjMzQtZDU0M2Q3N2VhMGEw&state=CfDJ8IfTHaP7X4tMgtSdbTGk8Gh_iFGY58VdwEaAHPKW3yj7cv_Y-8yMcg4vzuUgIbJAuOhxDbeL9dMwFn6Ihx7uSE4mockhybDgBLYPOddOufsTpb8wI_-OWikuCQcA5gUUJUiN8dgblfx0N25l4ntmSh3Gs1FOKbyE0RggeawrtZOidQT2ODRigehvZ1kNB5zc3vFpdDBEHdHRSTEi-AWFD4cDcIERdSE40QgHDMdDOqDxGVxP_SYUJbgkVc-fhHJK-qSbU9J2NLjrV37MOsG7Xa5l75YwRZm8-KRX40HErZXtY5hEzp0372nJYarFfk-u0C8QCPPjgifQ52dZgFkPVNDKhkLB9WL3Y82MgsPOLfyUNgY62CRb0-cW1xT7MyYJfQ&x-client-SKU=ID_NETSTANDARD2_0&x-client-ver=5.6.0.0 - - - 200 - text/html;+charset=UTF-8 343.1436ms
[2020-12-30T16:21:58.7418320+00:00][INFO][37][Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 GET https://sts.em.host/connect/authorize/callback?client_id=urn%3Aem%3Aclient%3Amvc&redirect_uri=https%3A%2F%2Fwww.em.host%2Fadmin%2Fidentity%2Fsignin-oidc&response_type=code&scope=openid%20profile%20email%20roles&code_challenge=lP22F2WaUqSrZ8QcZ_saxBa2i_ssDIT_JLR6BqMtK4w&code_challenge_method=S256&response_mode=form_post&nonce=637449418586736380.YjU5Nzc3M2YtYTdlZi00ZGJjLTgxNGQtNWI1NjIxYTJkNjFjNzA1ZGM3ODAtM2U2My00MmVlLWJjMzQtZDU0M2Q3N2VhMGEw&state=CfDJ8IfTHaP7X4tMgtSdbTGk8Gh_iFGY58VdwEaAHPKW3yj7cv_Y-8yMcg4vzuUgIbJAuOhxDbeL9dMwFn6Ihx7uSE4mockhybDgBLYPOddOufsTpb8wI_-OWikuCQcA5gUUJUiN8dgblfx0N25l4ntmSh3Gs1FOKbyE0RggeawrtZOidQT2ODRigehvZ1kNB5zc3vFpdDBEHdHRSTEi-AWFD4cDcIERdSE40QgHDMdDOqDxGVxP_SYUJbgkVc-fhHJK-qSbU9J2NLjrV37MOsG7Xa5l75YwRZm8-KRX40HErZXtY5hEzp0372nJYarFfk-u0C8QCPPjgifQ52dZgFkPVNDKhkLB9WL3Y82MgsPOLfyUNgY62CRb0-cW1xT7MyYJfQ&x-client-SKU=ID_NETSTANDARD2_0&x-client-ver=5.6.0.0 - -
[2020-12-30T16:21:58.7445657+00:00][INFO][37][IdentityServer4.Hosting.IdentityServerMiddleware] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeCallbackEndpoint" for "/connect/authorize/callback"
[2020-12-30T16:21:58.7585828+00:00][INFO][37][Microsoft.EntityFrameworkCore.Infrastructure] Entity Framework Core "5.0.1" initialized '"IdentityServerConfigurationDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=EventManager.Identity.Admin.EntityFramework.SqlServer "
[2020-12-30T16:21:58.7967443+00:00][INFO][32][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("29"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c].[Id], [c].[AbsoluteRefreshTokenLifetime], [c].[AccessTokenLifetime], [c].[AccessTokenType], [c].[AllowAccessTokensViaBrowser], [c].[AllowOfflineAccess], [c].[AllowPlainTextPkce], [c].[AllowRememberConsent], [c].[AllowedIdentityTokenSigningAlgorithms], [c].[AlwaysIncludeUserClaimsInIdToken], [c].[AlwaysSendClientClaims], [c].[AuthorizationCodeLifetime], [c].[BackChannelLogoutSessionRequired], [c].[BackChannelLogoutUri], [c].[ClientClaimsPrefix], [c].[ClientId], [c].[ClientName], [c].[ClientUri], [c].[ConsentLifetime], [c].[Created], [c].[Description], [c].[DeviceCodeLifetime], [c].[EnableLocalLogin], [c].[Enabled], [c].[FrontChannelLogoutSessionRequired], [c].[FrontChannelLogoutUri], [c].[IdentityTokenLifetime], [c].[IncludeJwtId], [c].[LastAccessed], [c].[LogoUri], [c].[NonEditable], [c].[PairWiseSubjectSalt], [c].[ProtocolType], [c].[RefreshTokenExpiration], [c].[RefreshTokenUsage], [c].[RequireClientSecret], [c].[RequireConsent], [c].[RequirePkce], [c].[RequireRequestObject], [c].[SlidingRefreshTokenLifetime], [c].[UpdateAccessTokenClaimsOnRefresh], [c].[Updated], [c].[UserCodeType], [c].[UserSsoLifetime]
FROM [Clients] AS [c]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T16:21:58.8541368+00:00][INFO][37][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("2"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[Origin]
FROM [Clients] AS [c]
INNER JOIN [ClientCorsOrigins] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T16:21:58.8711139+00:00][INFO][4][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("11"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[GrantType]
FROM [Clients] AS [c]
INNER JOIN [ClientGrantTypes] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T16:21:58.8847088+00:00][INFO][34][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("8"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[Scope]
FROM [Clients] AS [c]
INNER JOIN [ClientScopes] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T16:21:58.9016211+00:00][INFO][32][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("10"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[Type], [c0].[Value]
FROM [Clients] AS [c]
INNER JOIN [ClientClaims] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T16:21:58.9120753+00:00][INFO][36][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("5"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[Created], [c0].[Description], [c0].[Expiration], [c0].[Type], [c0].[Value]
FROM [Clients] AS [c]
INNER JOIN [ClientSecrets] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T16:21:58.9226912+00:00][INFO][33][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("3"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[Provider]
FROM [Clients] AS [c]
INNER JOIN [ClientIdPRestrictions] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T16:21:58.9322374+00:00][INFO][32][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("4"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[PostLogoutRedirectUri]
FROM [Clients] AS [c]
INNER JOIN [ClientPostLogoutRedirectUris] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T16:21:58.9473506+00:00][INFO][36][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("8"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[Key], [c0].[Value]
FROM [Clients] AS [c]
INNER JOIN [ClientProperties] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T16:21:58.9756383+00:00][INFO][34][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("26"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[RedirectUri]
FROM [Clients] AS [c]
INNER JOIN [ClientRedirectUris] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T16:21:58.9890067+00:00][INFO][33][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("9"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [i].[Id], [i].[Created], [i].[Description], [i].[DisplayName], [i].[Emphasize], [i].[Enabled], [i].[Name], [i].[NonEditable], [i].[Required], [i].[ShowInDiscoveryDocument], [i].[Updated], [i0].[Id], [i0].[IdentityResourceId], [i0].[Type], [i1].[Id], [i1].[IdentityResourceId], [i1].[Key], [i1].[Value]
FROM [IdentityResources] AS [i]
LEFT JOIN [IdentityResourceClaims] AS [i0] ON [i].[Id] = [i0].[IdentityResourceId]
LEFT JOIN [IdentityResourceProperties] AS [i1] ON [i].[Id] = [i1].[IdentityResourceId]
WHERE [i].[Name] IN (N'openid', N'profile', N'email', N'roles')
ORDER BY [i].[Id], [i0].[Id], [i1].[Id]"
[2020-12-30T16:21:59.0267787+00:00][INFO][30][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("10"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [a].[Id], [a].[AllowedAccessTokenSigningAlgorithms], [a].[Created], [a].[Description], [a].[DisplayName], [a].[Enabled], [a].[LastAccessed], [a].[Name], [a].[NonEditable], [a].[ShowInDiscoveryDocument], [a].[Updated], [a0].[Id], [a0].[ApiResourceId], [a0].[Created], [a0].[Description], [a0].[Expiration], [a0].[Type], [a0].[Value], [a1].[Id], [a1].[ApiResourceId], [a1].[Scope], [a2].[Id], [a2].[ApiResourceId], [a2].[Type], [a3].[Id], [a3].[ApiResourceId], [a3].[Key], [a3].[Value]
FROM [ApiResources] AS [a]
LEFT JOIN [ApiResourceSecrets] AS [a0] ON [a].[Id] = [a0].[ApiResourceId]
LEFT JOIN [ApiResourceScopes] AS [a1] ON [a].[Id] = [a1].[ApiResourceId]
LEFT JOIN [ApiResourceClaims] AS [a2] ON [a].[Id] = [a2].[ApiResourceId]
LEFT JOIN [ApiResourceProperties] AS [a3] ON [a].[Id] = [a3].[ApiResourceId]
WHERE EXISTS (
    SELECT 1
    FROM [ApiResourceScopes] AS [a4]
    WHERE ([a].[Id] = [a4].[ApiResourceId]) AND [a4].[Scope] IN (N'openid', N'profile', N'email', N'roles'))
ORDER BY [a].[Id], [a0].[Id], [a1].[Id], [a2].[Id], [a3].[Id]"
[2020-12-30T16:21:59.0387680+00:00][INFO][30][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [a].[Id], [a].[Description], [a].[DisplayName], [a].[Emphasize], [a].[Enabled], [a].[Name], [a].[Required], [a].[ShowInDiscoveryDocument], [a0].[Id], [a0].[ScopeId], [a0].[Type], [a1].[Id], [a1].[Key], [a1].[ScopeId], [a1].[Value]
FROM [ApiScopes] AS [a]
LEFT JOIN [ApiScopeClaims] AS [a0] ON [a].[Id] = [a0].[ScopeId]
LEFT JOIN [ApiScopeProperties] AS [a1] ON [a].[Id] = [a1].[ScopeId]
WHERE [a].[Name] IN (N'openid', N'profile', N'email', N'roles')
ORDER BY [a].[Id], [a0].[Id], [a1].[Id]"
[2020-12-30T16:21:59.0622199+00:00][INFO][30][Microsoft.EntityFrameworkCore.Infrastructure] Entity Framework Core "5.0.1" initialized '"AdminIdentityDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=EventManager.Identity.Admin.EntityFramework.SqlServer "
[2020-12-30T16:21:59.0777072+00:00][INFO][33][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("11"ms) [Parameters=["@__p_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[Id] = @__p_0"
[2020-12-30T16:21:59.0802200+00:00][INFO][33][Microsoft.EntityFrameworkCore.Infrastructure] Entity Framework Core "5.0.1" initialized '"IdentityServerPersistedGrantDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=EventManager.Identity.Admin.EntityFramework.SqlServer "
[2020-12-30T16:21:59.0921747+00:00][INFO][35][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("10"ms) [Parameters=["@__token_Key_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [p].[Key], [p].[ClientId], [p].[ConsumedTime], [p].[CreationTime], [p].[Data], [p].[Description], [p].[Expiration], [p].[SessionId], [p].[SubjectId], [p].[Type]
FROM [PersistedGrants] AS [p]
WHERE [p].[Key] = @__token_Key_0"
[2020-12-30T16:21:59.1288163+00:00][INFO][33][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("25"ms) [Parameters=["@p0='?' (Size = 200), @p1='?' (Size = 200), @p2='?' (DbType = DateTime2), @p3='?' (DbType = DateTime2), @p4='?' (Size = 4000), @p5='?' (Size = 200), @p6='?' (DbType = DateTime2), @p7='?' (Size = 100), @p8='?' (Size = 200), @p9='?' (Size = 50)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
INSERT INTO [PersistedGrants] ([Key], [ClientId], [ConsumedTime], [CreationTime], [Data], [Description], [Expiration], [SessionId], [SubjectId], [Type])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9);"
[2020-12-30T16:21:59.1382969+00:00][INFO][33][IdentityServer4.Events.DefaultEventService] TokenIssuedSuccessEvent { ClientId: "urn:em:client:mvc", ClientName: "Event Manager Identity Admin UI", RedirectUri: "https://www.em.host/admin/identity/signin-oidc", Endpoint: "Authorize", SubjectId: "174c9a38-e759-45b6-b735-470eca298a31", Scopes: "openid profile email roles", GrantType: "authorization_code", Tokens: [Token { TokenType: "code", TokenValue: "****DFB6" }], Category: "Token", Name: "Token Issued Success", EventType: Success, Id: 2000, Message: null, ActivityId: "0HM5CRPLRUQQ6:00000002", TimeStamp: 12/30/2020 16:21:59, ProcessId: 27, LocalIpAddress: "::ffff:192.168.240.5:50003", RemoteIpAddress: "192.168.240.1" }
[2020-12-30T16:21:59.1412463+00:00][INFO][33][Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/1.1 GET https://sts.em.host/connect/authorize/callback?client_id=urn%3Aem%3Aclient%3Amvc&redirect_uri=https%3A%2F%2Fwww.em.host%2Fadmin%2Fidentity%2Fsignin-oidc&response_type=code&scope=openid%20profile%20email%20roles&code_challenge=lP22F2WaUqSrZ8QcZ_saxBa2i_ssDIT_JLR6BqMtK4w&code_challenge_method=S256&response_mode=form_post&nonce=637449418586736380.YjU5Nzc3M2YtYTdlZi00ZGJjLTgxNGQtNWI1NjIxYTJkNjFjNzA1ZGM3ODAtM2U2My00MmVlLWJjMzQtZDU0M2Q3N2VhMGEw&state=CfDJ8IfTHaP7X4tMgtSdbTGk8Gh_iFGY58VdwEaAHPKW3yj7cv_Y-8yMcg4vzuUgIbJAuOhxDbeL9dMwFn6Ihx7uSE4mockhybDgBLYPOddOufsTpb8wI_-OWikuCQcA5gUUJUiN8dgblfx0N25l4ntmSh3Gs1FOKbyE0RggeawrtZOidQT2ODRigehvZ1kNB5zc3vFpdDBEHdHRSTEi-AWFD4cDcIERdSE40QgHDMdDOqDxGVxP_SYUJbgkVc-fhHJK-qSbU9J2NLjrV37MOsG7Xa5l75YwRZm8-KRX40HErZXtY5hEzp0372nJYarFfk-u0C8QCPPjgifQ52dZgFkPVNDKhkLB9WL3Y82MgsPOLfyUNgY62CRb0-cW1xT7MyYJfQ&x-client-SKU=ID_NETSTANDARD2_0&x-client-ver=5.6.0.0 - - - 200 - text/html;+charset=UTF-8 398.1987ms
[2020-12-30T16:22:00.9232194+00:00][INFO][33][Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 GET https://sts.em.host/connect/authorize/callback?client_id=urn%3Aem%3Aclient%3Amvc&redirect_uri=https%3A%2F%2Fwww.em.host%2Fadmin%2Fidentity%2Fsignin-oidc&response_type=code&scope=openid%20profile%20email%20roles&code_challenge=lP22F2WaUqSrZ8QcZ_saxBa2i_ssDIT_JLR6BqMtK4w&code_challenge_method=S256&response_mode=form_post&nonce=637449418586736380.YjU5Nzc3M2YtYTdlZi00ZGJjLTgxNGQtNWI1NjIxYTJkNjFjNzA1ZGM3ODAtM2U2My00MmVlLWJjMzQtZDU0M2Q3N2VhMGEw&state=CfDJ8IfTHaP7X4tMgtSdbTGk8Gh_iFGY58VdwEaAHPKW3yj7cv_Y-8yMcg4vzuUgIbJAuOhxDbeL9dMwFn6Ihx7uSE4mockhybDgBLYPOddOufsTpb8wI_-OWikuCQcA5gUUJUiN8dgblfx0N25l4ntmSh3Gs1FOKbyE0RggeawrtZOidQT2ODRigehvZ1kNB5zc3vFpdDBEHdHRSTEi-AWFD4cDcIERdSE40QgHDMdDOqDxGVxP_SYUJbgkVc-fhHJK-qSbU9J2NLjrV37MOsG7Xa5l75YwRZm8-KRX40HErZXtY5hEzp0372nJYarFfk-u0C8QCPPjgifQ52dZgFkPVNDKhkLB9WL3Y82MgsPOLfyUNgY62CRb0-cW1xT7MyYJfQ&x-client-SKU=ID_NETSTANDARD2_0&x-client-ver=5.6.0.0 - -
[2020-12-30T16:22:00.9722556+00:00][INFO][33][IdentityServer4.Hosting.IdentityServerMiddleware] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeCallbackEndpoint" for "/connect/authorize/callback"
[2020-12-30T16:22:00.9743506+00:00][INFO][33][Microsoft.EntityFrameworkCore.Infrastructure] Entity Framework Core "5.0.1" initialized '"IdentityServerConfigurationDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=EventManager.Identity.Admin.EntityFramework.SqlServer "
[2020-12-30T16:22:01.1256147+00:00][INFO][32][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("135"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c].[Id], [c].[AbsoluteRefreshTokenLifetime], [c].[AccessTokenLifetime], [c].[AccessTokenType], [c].[AllowAccessTokensViaBrowser], [c].[AllowOfflineAccess], [c].[AllowPlainTextPkce], [c].[AllowRememberConsent], [c].[AllowedIdentityTokenSigningAlgorithms], [c].[AlwaysIncludeUserClaimsInIdToken], [c].[AlwaysSendClientClaims], [c].[AuthorizationCodeLifetime], [c].[BackChannelLogoutSessionRequired], [c].[BackChannelLogoutUri], [c].[ClientClaimsPrefix], [c].[ClientId], [c].[ClientName], [c].[ClientUri], [c].[ConsentLifetime], [c].[Created], [c].[Description], [c].[DeviceCodeLifetime], [c].[EnableLocalLogin], [c].[Enabled], [c].[FrontChannelLogoutSessionRequired], [c].[FrontChannelLogoutUri], [c].[IdentityTokenLifetime], [c].[IncludeJwtId], [c].[LastAccessed], [c].[LogoUri], [c].[NonEditable], [c].[PairWiseSubjectSalt], [c].[ProtocolType], [c].[RefreshTokenExpiration], [c].[RefreshTokenUsage], [c].[RequireClientSecret], [c].[RequireConsent], [c].[RequirePkce], [c].[RequireRequestObject], [c].[SlidingRefreshTokenLifetime], [c].[UpdateAccessTokenClaimsOnRefresh], [c].[Updated], [c].[UserCodeType], [c].[UserSsoLifetime]
FROM [Clients] AS [c]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T16:22:01.1803202+00:00][INFO][4][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("51"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[Origin]
FROM [Clients] AS [c]
INNER JOIN [ClientCorsOrigins] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T16:22:01.2777315+00:00][INFO][36][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("1"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[GrantType]
FROM [Clients] AS [c]
INNER JOIN [ClientGrantTypes] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T16:22:01.3128757+00:00][INFO][31][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("3"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[Scope]
FROM [Clients] AS [c]
INNER JOIN [ClientScopes] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T16:22:01.3759141+00:00][INFO][25][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("7"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[Type], [c0].[Value]
FROM [Clients] AS [c]
INNER JOIN [ClientClaims] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T16:22:01.4201524+00:00][INFO][26][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("3"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[Created], [c0].[Description], [c0].[Expiration], [c0].[Type], [c0].[Value]
FROM [Clients] AS [c]
INNER JOIN [ClientSecrets] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T16:22:01.4404340+00:00][INFO][34][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("8"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[Provider]
FROM [Clients] AS [c]
INNER JOIN [ClientIdPRestrictions] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T16:22:01.4771031+00:00][INFO][34][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("13"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[PostLogoutRedirectUri]
FROM [Clients] AS [c]
INNER JOIN [ClientPostLogoutRedirectUris] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T16:22:01.4941931+00:00][INFO][37][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("8"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[Key], [c0].[Value]
FROM [Clients] AS [c]
INNER JOIN [ClientProperties] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T16:22:01.5612471+00:00][INFO][26][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("8"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[RedirectUri]
FROM [Clients] AS [c]
INNER JOIN [ClientRedirectUris] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T16:22:01.6146805+00:00][INFO][31][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("50"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [i].[Id], [i].[Created], [i].[Description], [i].[DisplayName], [i].[Emphasize], [i].[Enabled], [i].[Name], [i].[NonEditable], [i].[Required], [i].[ShowInDiscoveryDocument], [i].[Updated], [i0].[Id], [i0].[IdentityResourceId], [i0].[Type], [i1].[Id], [i1].[IdentityResourceId], [i1].[Key], [i1].[Value]
FROM [IdentityResources] AS [i]
LEFT JOIN [IdentityResourceClaims] AS [i0] ON [i].[Id] = [i0].[IdentityResourceId]
LEFT JOIN [IdentityResourceProperties] AS [i1] ON [i].[Id] = [i1].[IdentityResourceId]
WHERE [i].[Name] IN (N'openid', N'profile', N'email', N'roles')
ORDER BY [i].[Id], [i0].[Id], [i1].[Id]"
[2020-12-30T16:22:01.6363129+00:00][INFO][31][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("5"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [a].[Id], [a].[AllowedAccessTokenSigningAlgorithms], [a].[Created], [a].[Description], [a].[DisplayName], [a].[Enabled], [a].[LastAccessed], [a].[Name], [a].[NonEditable], [a].[ShowInDiscoveryDocument], [a].[Updated], [a0].[Id], [a0].[ApiResourceId], [a0].[Created], [a0].[Description], [a0].[Expiration], [a0].[Type], [a0].[Value], [a1].[Id], [a1].[ApiResourceId], [a1].[Scope], [a2].[Id], [a2].[ApiResourceId], [a2].[Type], [a3].[Id], [a3].[ApiResourceId], [a3].[Key], [a3].[Value]
FROM [ApiResources] AS [a]
LEFT JOIN [ApiResourceSecrets] AS [a0] ON [a].[Id] = [a0].[ApiResourceId]
LEFT JOIN [ApiResourceScopes] AS [a1] ON [a].[Id] = [a1].[ApiResourceId]
LEFT JOIN [ApiResourceClaims] AS [a2] ON [a].[Id] = [a2].[ApiResourceId]
LEFT JOIN [ApiResourceProperties] AS [a3] ON [a].[Id] = [a3].[ApiResourceId]
WHERE EXISTS (
    SELECT 1
    FROM [ApiResourceScopes] AS [a4]
    WHERE ([a].[Id] = [a4].[ApiResourceId]) AND [a4].[Scope] IN (N'openid', N'profile', N'email', N'roles'))
ORDER BY [a].[Id], [a0].[Id], [a1].[Id], [a2].[Id], [a3].[Id]"
[2020-12-30T16:22:01.6562014+00:00][INFO][25][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [a].[Id], [a].[Description], [a].[DisplayName], [a].[Emphasize], [a].[Enabled], [a].[Name], [a].[Required], [a].[ShowInDiscoveryDocument], [a0].[Id], [a0].[ScopeId], [a0].[Type], [a1].[Id], [a1].[Key], [a1].[ScopeId], [a1].[Value]
FROM [ApiScopes] AS [a]
LEFT JOIN [ApiScopeClaims] AS [a0] ON [a].[Id] = [a0].[ScopeId]
LEFT JOIN [ApiScopeProperties] AS [a1] ON [a].[Id] = [a1].[ScopeId]
WHERE [a].[Name] IN (N'openid', N'profile', N'email', N'roles')
ORDER BY [a].[Id], [a0].[Id], [a1].[Id]"
[2020-12-30T16:22:01.6828640+00:00][INFO][25][Microsoft.EntityFrameworkCore.Infrastructure] Entity Framework Core "5.0.1" initialized '"AdminIdentityDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=EventManager.Identity.Admin.EntityFramework.SqlServer "
[2020-12-30T16:22:01.6984953+00:00][INFO][34][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("14"ms) [Parameters=["@__p_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[Id] = @__p_0"
[2020-12-30T16:22:01.7048774+00:00][INFO][25][Microsoft.EntityFrameworkCore.Infrastructure] Entity Framework Core "5.0.1" initialized '"IdentityServerPersistedGrantDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=EventManager.Identity.Admin.EntityFramework.SqlServer "
[2020-12-30T16:22:01.7171889+00:00][INFO][25][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("2"ms) [Parameters=["@__token_Key_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [p].[Key], [p].[ClientId], [p].[ConsumedTime], [p].[CreationTime], [p].[Data], [p].[Description], [p].[Expiration], [p].[SessionId], [p].[SubjectId], [p].[Type]
FROM [PersistedGrants] AS [p]
WHERE [p].[Key] = @__token_Key_0"
[2020-12-30T16:22:01.7263894+00:00][INFO][25][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("2"ms) [Parameters=["@p0='?' (Size = 200), @p1='?' (Size = 200), @p2='?' (DbType = DateTime2), @p3='?' (DbType = DateTime2), @p4='?' (Size = 4000), @p5='?' (Size = 200), @p6='?' (DbType = DateTime2), @p7='?' (Size = 100), @p8='?' (Size = 200), @p9='?' (Size = 50)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
INSERT INTO [PersistedGrants] ([Key], [ClientId], [ConsumedTime], [CreationTime], [Data], [Description], [Expiration], [SessionId], [SubjectId], [Type])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9);"
[2020-12-30T16:22:01.7998326+00:00][INFO][25][IdentityServer4.Events.DefaultEventService] TokenIssuedSuccessEvent { ClientId: "urn:em:client:mvc", ClientName: "Event Manager Identity Admin UI", RedirectUri: "https://www.em.host/admin/identity/signin-oidc", Endpoint: "Authorize", SubjectId: "174c9a38-e759-45b6-b735-470eca298a31", Scopes: "openid profile email roles", GrantType: "authorization_code", Tokens: [Token { TokenType: "code", TokenValue: "****BA69" }], Category: "Token", Name: "Token Issued Success", EventType: Success, Id: 2000, Message: null, ActivityId: "0HM5CRPLRUQQ7:00000002", TimeStamp: 12/30/2020 16:22:01, ProcessId: 27, LocalIpAddress: "::ffff:192.168.240.5:50003", RemoteIpAddress: "192.168.240.1" }
[2020-12-30T16:22:01.8013464+00:00][INFO][25][Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/1.1 GET https://sts.em.host/connect/authorize/callback?client_id=urn%3Aem%3Aclient%3Amvc&redirect_uri=https%3A%2F%2Fwww.em.host%2Fadmin%2Fidentity%2Fsignin-oidc&response_type=code&scope=openid%20profile%20email%20roles&code_challenge=lP22F2WaUqSrZ8QcZ_saxBa2i_ssDIT_JLR6BqMtK4w&code_challenge_method=S256&response_mode=form_post&nonce=637449418586736380.YjU5Nzc3M2YtYTdlZi00ZGJjLTgxNGQtNWI1NjIxYTJkNjFjNzA1ZGM3ODAtM2U2My00MmVlLWJjMzQtZDU0M2Q3N2VhMGEw&state=CfDJ8IfTHaP7X4tMgtSdbTGk8Gh_iFGY58VdwEaAHPKW3yj7cv_Y-8yMcg4vzuUgIbJAuOhxDbeL9dMwFn6Ihx7uSE4mockhybDgBLYPOddOufsTpb8wI_-OWikuCQcA5gUUJUiN8dgblfx0N25l4ntmSh3Gs1FOKbyE0RggeawrtZOidQT2ODRigehvZ1kNB5zc3vFpdDBEHdHRSTEi-AWFD4cDcIERdSE40QgHDMdDOqDxGVxP_SYUJbgkVc-fhHJK-qSbU9J2NLjrV37MOsG7Xa5l75YwRZm8-KRX40HErZXtY5hEzp0372nJYarFfk-u0C8QCPPjgifQ52dZgFkPVNDKhkLB9WL3Y82MgsPOLfyUNgY62CRb0-cW1xT7MyYJfQ&x-client-SKU=ID_NETSTANDARD2_0&x-client-ver=5.6.0.0 - - - 200 - text/html;+charset=UTF-8 888.1152ms
[2020-12-30T16:22:03.3975394+00:00][INFO][34][Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 GET https://sts.em.host/connect/authorize/callback?client_id=urn%3Aem%3Aclient%3Amvc&redirect_uri=https%3A%2F%2Fwww.em.host%2Fadmin%2Fidentity%2Fsignin-oidc&response_type=code&scope=openid%20profile%20email%20roles&code_challenge=lP22F2WaUqSrZ8QcZ_saxBa2i_ssDIT_JLR6BqMtK4w&code_challenge_method=S256&response_mode=form_post&nonce=637449418586736380.YjU5Nzc3M2YtYTdlZi00ZGJjLTgxNGQtNWI1NjIxYTJkNjFjNzA1ZGM3ODAtM2U2My00MmVlLWJjMzQtZDU0M2Q3N2VhMGEw&state=CfDJ8IfTHaP7X4tMgtSdbTGk8Gh_iFGY58VdwEaAHPKW3yj7cv_Y-8yMcg4vzuUgIbJAuOhxDbeL9dMwFn6Ihx7uSE4mockhybDgBLYPOddOufsTpb8wI_-OWikuCQcA5gUUJUiN8dgblfx0N25l4ntmSh3Gs1FOKbyE0RggeawrtZOidQT2ODRigehvZ1kNB5zc3vFpdDBEHdHRSTEi-AWFD4cDcIERdSE40QgHDMdDOqDxGVxP_SYUJbgkVc-fhHJK-qSbU9J2NLjrV37MOsG7Xa5l75YwRZm8-KRX40HErZXtY5hEzp0372nJYarFfk-u0C8QCPPjgifQ52dZgFkPVNDKhkLB9WL3Y82MgsPOLfyUNgY62CRb0-cW1xT7MyYJfQ&x-client-SKU=ID_NETSTANDARD2_0&x-client-ver=5.6.0.0 - -
[2020-12-30T16:22:03.4144427+00:00][INFO][34][IdentityServer4.Hosting.IdentityServerMiddleware] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeCallbackEndpoint" for "/connect/authorize/callback"
[2020-12-30T16:22:03.4163932+00:00][INFO][34][Microsoft.EntityFrameworkCore.Infrastructure] Entity Framework Core "5.0.1" initialized '"IdentityServerConfigurationDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=EventManager.Identity.Admin.EntityFramework.SqlServer "
[2020-12-30T16:22:03.4302668+00:00][INFO][30][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("12"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c].[Id], [c].[AbsoluteRefreshTokenLifetime], [c].[AccessTokenLifetime], [c].[AccessTokenType], [c].[AllowAccessTokensViaBrowser], [c].[AllowOfflineAccess], [c].[AllowPlainTextPkce], [c].[AllowRememberConsent], [c].[AllowedIdentityTokenSigningAlgorithms], [c].[AlwaysIncludeUserClaimsInIdToken], [c].[AlwaysSendClientClaims], [c].[AuthorizationCodeLifetime], [c].[BackChannelLogoutSessionRequired], [c].[BackChannelLogoutUri], [c].[ClientClaimsPrefix], [c].[ClientId], [c].[ClientName], [c].[ClientUri], [c].[ConsentLifetime], [c].[Created], [c].[Description], [c].[DeviceCodeLifetime], [c].[EnableLocalLogin], [c].[Enabled], [c].[FrontChannelLogoutSessionRequired], [c].[FrontChannelLogoutUri], [c].[IdentityTokenLifetime], [c].[IncludeJwtId], [c].[LastAccessed], [c].[LogoUri], [c].[NonEditable], [c].[PairWiseSubjectSalt], [c].[ProtocolType], [c].[RefreshTokenExpiration], [c].[RefreshTokenUsage], [c].[RequireClientSecret], [c].[RequireConsent], [c].[RequirePkce], [c].[RequireRequestObject], [c].[SlidingRefreshTokenLifetime], [c].[UpdateAccessTokenClaimsOnRefresh], [c].[Updated], [c].[UserCodeType], [c].[UserSsoLifetime]
FROM [Clients] AS [c]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T16:22:03.4695017+00:00][INFO][25][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("22"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[Origin]
FROM [Clients] AS [c]
INNER JOIN [ClientCorsOrigins] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T16:22:03.4804046+00:00][INFO][33][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("9"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[GrantType]
FROM [Clients] AS [c]
INNER JOIN [ClientGrantTypes] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T16:22:03.5121026+00:00][INFO][30][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("25"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[Scope]
FROM [Clients] AS [c]
INNER JOIN [ClientScopes] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T16:22:03.5206896+00:00][INFO][34][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("6"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[Type], [c0].[Value]
FROM [Clients] AS [c]
INNER JOIN [ClientClaims] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T16:22:03.5349677+00:00][INFO][4][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("7"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[Created], [c0].[Description], [c0].[Expiration], [c0].[Type], [c0].[Value]
FROM [Clients] AS [c]
INNER JOIN [ClientSecrets] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T16:22:03.5524218+00:00][INFO][34][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("5"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[Provider]
FROM [Clients] AS [c]
INNER JOIN [ClientIdPRestrictions] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T16:22:03.6337617+00:00][INFO][25][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("79"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[PostLogoutRedirectUri]
FROM [Clients] AS [c]
INNER JOIN [ClientPostLogoutRedirectUris] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T16:22:03.7153216+00:00][INFO][33][Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 GET https://sts.em.host/Account/Login?ReturnUrl=%2Fconnect%2Fauthorize%2Fcallback%3Fclient_id%3Durn%253Aem%253Aclient%253Amvc%26redirect_uri%3Dhttps%253A%252F%252Fwww.em.host%252Fadmin%252Fidentity%252Fsignin-oidc%26response_type%3Dcode%26scope%3Dopenid%2520profile%2520email%2520roles%26code_challenge%3DlP22F2WaUqSrZ8QcZ_saxBa2i_ssDIT_JLR6BqMtK4w%26code_challenge_method%3DS256%26response_mode%3Dform_post%26nonce%3D637449418586736380.YjU5Nzc3M2YtYTdlZi00ZGJjLTgxNGQtNWI1NjIxYTJkNjFjNzA1ZGM3ODAtM2U2My00MmVlLWJjMzQtZDU0M2Q3N2VhMGEw%26state%3DCfDJ8IfTHaP7X4tMgtSdbTGk8Gh_iFGY58VdwEaAHPKW3yj7cv_Y-8yMcg4vzuUgIbJAuOhxDbeL9dMwFn6Ihx7uSE4mockhybDgBLYPOddOufsTpb8wI_-OWikuCQcA5gUUJUiN8dgblfx0N25l4ntmSh3Gs1FOKbyE0RggeawrtZOidQT2ODRigehvZ1kNB5zc3vFpdDBEHdHRSTEi-AWFD4cDcIERdSE40QgHDMdDOqDxGVxP_SYUJbgkVc-fhHJK-qSbU9J2NLjrV37MOsG7Xa5l75YwRZm8-KRX40HErZXtY5hEzp0372nJYarFfk-u0C8QCPPjgifQ52dZgFkPVNDKhkLB9WL3Y82MgsPOLfyUNgY62CRb0-cW1xT7MyYJfQ%26x-client-SKU%3DID_NETSTANDARD2_0%26x-client-ver%3D5.6.0.0 - -
[2020-12-30T16:22:03.7152194+00:00][INFO][4][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("25"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[Key], [c0].[Value]
FROM [Clients] AS [c]
INNER JOIN [ClientProperties] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T16:22:03.7188083+00:00][INFO][33][Microsoft.AspNetCore.Routing.EndpointMiddleware] Executing endpoint '"EventManager.Identity.STS.Identity.Controllers.AccountController<EventManager.Identity.Admin.EntityFramework.Shared.Entities.Identity.UserIdentity, string>.Login (EventManager.Identity.STS.Identity)"'
[2020-12-30T16:22:03.7330431+00:00][INFO][33][Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Route matched with "{action = \"Login\", controller = \"Account\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(System.String)" on controller "EventManager.Identity.STS.Identity.Controllers.AccountController<EventManager.Identity.Admin.EntityFramework.Shared.Entities.Identity.UserIdentity, string>" ("EventManager.Identity.STS.Identity").
[2020-12-30T16:22:03.7388346+00:00][INFO][33][Microsoft.EntityFrameworkCore.Infrastructure] Entity Framework Core "5.0.1" initialized '"IdentityServerConfigurationDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=EventManager.Identity.Admin.EntityFramework.SqlServer "
[2020-12-30T16:22:03.7667913+00:00][INFO][34][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("36"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[RedirectUri]
FROM [Clients] AS [c]
INNER JOIN [ClientRedirectUris] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T16:22:03.8368538+00:00][INFO][25][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("53"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [i].[Id], [i].[Created], [i].[Description], [i].[DisplayName], [i].[Emphasize], [i].[Enabled], [i].[Name], [i].[NonEditable], [i].[Required], [i].[ShowInDiscoveryDocument], [i].[Updated], [i0].[Id], [i0].[IdentityResourceId], [i0].[Type], [i1].[Id], [i1].[IdentityResourceId], [i1].[Key], [i1].[Value]
FROM [IdentityResources] AS [i]
LEFT JOIN [IdentityResourceClaims] AS [i0] ON [i].[Id] = [i0].[IdentityResourceId]
LEFT JOIN [IdentityResourceProperties] AS [i1] ON [i].[Id] = [i1].[IdentityResourceId]
WHERE [i].[Name] IN (N'openid', N'profile', N'email', N'roles')
ORDER BY [i].[Id], [i0].[Id], [i1].[Id]"
[2020-12-30T16:22:04.0430994+00:00][INFO][33][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("39"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [a].[Id], [a].[AllowedAccessTokenSigningAlgorithms], [a].[Created], [a].[Description], [a].[DisplayName], [a].[Enabled], [a].[LastAccessed], [a].[Name], [a].[NonEditable], [a].[ShowInDiscoveryDocument], [a].[Updated], [a0].[Id], [a0].[ApiResourceId], [a0].[Created], [a0].[Description], [a0].[Expiration], [a0].[Type], [a0].[Value], [a1].[Id], [a1].[ApiResourceId], [a1].[Scope], [a2].[Id], [a2].[ApiResourceId], [a2].[Type], [a3].[Id], [a3].[ApiResourceId], [a3].[Key], [a3].[Value]
FROM [ApiResources] AS [a]
LEFT JOIN [ApiResourceSecrets] AS [a0] ON [a].[Id] = [a0].[ApiResourceId]
LEFT JOIN [ApiResourceScopes] AS [a1] ON [a].[Id] = [a1].[ApiResourceId]
LEFT JOIN [ApiResourceClaims] AS [a2] ON [a].[Id] = [a2].[ApiResourceId]
LEFT JOIN [ApiResourceProperties] AS [a3] ON [a].[Id] = [a3].[ApiResourceId]
WHERE EXISTS (
    SELECT 1
    FROM [ApiResourceScopes] AS [a4]
    WHERE ([a].[Id] = [a4].[ApiResourceId]) AND [a4].[Scope] IN (N'openid', N'profile', N'email', N'roles'))
ORDER BY [a].[Id], [a0].[Id], [a1].[Id], [a2].[Id], [a3].[Id]"
[2020-12-30T16:22:04.0795996+00:00][INFO][36][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("5"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [a].[Id], [a].[Description], [a].[DisplayName], [a].[Emphasize], [a].[Enabled], [a].[Name], [a].[Required], [a].[ShowInDiscoveryDocument], [a0].[Id], [a0].[ScopeId], [a0].[Type], [a1].[Id], [a1].[Key], [a1].[ScopeId], [a1].[Value]
FROM [ApiScopes] AS [a]
LEFT JOIN [ApiScopeClaims] AS [a0] ON [a].[Id] = [a0].[ScopeId]
LEFT JOIN [ApiScopeProperties] AS [a1] ON [a].[Id] = [a1].[ScopeId]
WHERE [a].[Name] IN (N'openid', N'profile', N'email', N'roles')
ORDER BY [a].[Id], [a0].[Id], [a1].[Id]"
[2020-12-30T16:22:04.0852249+00:00][INFO][25][Microsoft.EntityFrameworkCore.Infrastructure] Entity Framework Core "5.0.1" initialized '"AdminIdentityDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=EventManager.Identity.Admin.EntityFramework.SqlServer "
[2020-12-30T16:22:04.1189542+00:00][INFO][34][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("23"ms) [Parameters=["@__p_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[Id] = @__p_0"
[2020-12-30T16:22:04.1648192+00:00][INFO][34][Microsoft.EntityFrameworkCore.Infrastructure] Entity Framework Core "5.0.1" initialized '"IdentityServerPersistedGrantDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=EventManager.Identity.Admin.EntityFramework.SqlServer "
[2020-12-30T16:22:04.1784497+00:00][INFO][33][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("12"ms) [Parameters=["@__token_Key_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [p].[Key], [p].[ClientId], [p].[ConsumedTime], [p].[CreationTime], [p].[Data], [p].[Description], [p].[Expiration], [p].[SessionId], [p].[SubjectId], [p].[Type]
FROM [PersistedGrants] AS [p]
WHERE [p].[Key] = @__token_Key_0"
[2020-12-30T16:22:04.1900103+00:00][INFO][36][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("2"ms) [Parameters=["@p0='?' (Size = 200), @p1='?' (Size = 200), @p2='?' (DbType = DateTime2), @p3='?' (DbType = DateTime2), @p4='?' (Size = 4000), @p5='?' (Size = 200), @p6='?' (DbType = DateTime2), @p7='?' (Size = 100), @p8='?' (Size = 200), @p9='?' (Size = 50)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
INSERT INTO [PersistedGrants] ([Key], [ClientId], [ConsumedTime], [CreationTime], [Data], [Description], [Expiration], [SessionId], [SubjectId], [Type])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9);"
[2020-12-30T16:22:04.2246020+00:00][INFO][36][IdentityServer4.Events.DefaultEventService] TokenIssuedSuccessEvent { ClientId: "urn:em:client:mvc", ClientName: "Event Manager Identity Admin UI", RedirectUri: "https://www.em.host/admin/identity/signin-oidc", Endpoint: "Authorize", SubjectId: "174c9a38-e759-45b6-b735-470eca298a31", Scopes: "openid profile email roles", GrantType: "authorization_code", Tokens: [Token { TokenType: "code", TokenValue: "****D936" }], Category: "Token", Name: "Token Issued Success", EventType: Success, Id: 2000, Message: null, ActivityId: "0HM5CRPLRUQQ8:00000002", TimeStamp: 12/30/2020 16:22:04, ProcessId: 27, LocalIpAddress: "::ffff:192.168.240.5:50003", RemoteIpAddress: "192.168.240.1" }
[2020-12-30T16:22:04.2277166+00:00][INFO][36][Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/1.1 GET https://sts.em.host/connect/authorize/callback?client_id=urn%3Aem%3Aclient%3Amvc&redirect_uri=https%3A%2F%2Fwww.em.host%2Fadmin%2Fidentity%2Fsignin-oidc&response_type=code&scope=openid%20profile%20email%20roles&code_challenge=lP22F2WaUqSrZ8QcZ_saxBa2i_ssDIT_JLR6BqMtK4w&code_challenge_method=S256&response_mode=form_post&nonce=637449418586736380.YjU5Nzc3M2YtYTdlZi00ZGJjLTgxNGQtNWI1NjIxYTJkNjFjNzA1ZGM3ODAtM2U2My00MmVlLWJjMzQtZDU0M2Q3N2VhMGEw&state=CfDJ8IfTHaP7X4tMgtSdbTGk8Gh_iFGY58VdwEaAHPKW3yj7cv_Y-8yMcg4vzuUgIbJAuOhxDbeL9dMwFn6Ihx7uSE4mockhybDgBLYPOddOufsTpb8wI_-OWikuCQcA5gUUJUiN8dgblfx0N25l4ntmSh3Gs1FOKbyE0RggeawrtZOidQT2ODRigehvZ1kNB5zc3vFpdDBEHdHRSTEi-AWFD4cDcIERdSE40QgHDMdDOqDxGVxP_SYUJbgkVc-fhHJK-qSbU9J2NLjrV37MOsG7Xa5l75YwRZm8-KRX40HErZXtY5hEzp0372nJYarFfk-u0C8QCPPjgifQ52dZgFkPVNDKhkLB9WL3Y82MgsPOLfyUNgY62CRb0-cW1xT7MyYJfQ&x-client-SKU=ID_NETSTANDARD2_0&x-client-ver=5.6.0.0 - - - 200 - text/html;+charset=UTF-8 830.1549ms
[2020-12-30T16:22:04.3804180+00:00][INFO][26][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("4"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c].[Id], [c].[AbsoluteRefreshTokenLifetime], [c].[AccessTokenLifetime], [c].[AccessTokenType], [c].[AllowAccessTokensViaBrowser], [c].[AllowOfflineAccess], [c].[AllowPlainTextPkce], [c].[AllowRememberConsent], [c].[AllowedIdentityTokenSigningAlgorithms], [c].[AlwaysIncludeUserClaimsInIdToken], [c].[AlwaysSendClientClaims], [c].[AuthorizationCodeLifetime], [c].[BackChannelLogoutSessionRequired], [c].[BackChannelLogoutUri], [c].[ClientClaimsPrefix], [c].[ClientId], [c].[ClientName], [c].[ClientUri], [c].[ConsentLifetime], [c].[Created], [c].[Description], [c].[DeviceCodeLifetime], [c].[EnableLocalLogin], [c].[Enabled], [c].[FrontChannelLogoutSessionRequired], [c].[FrontChannelLogoutUri], [c].[IdentityTokenLifetime], [c].[IncludeJwtId], [c].[LastAccessed], [c].[LogoUri], [c].[NonEditable], [c].[PairWiseSubjectSalt], [c].[ProtocolType], [c].[RefreshTokenExpiration], [c].[RefreshTokenUsage], [c].[RequireClientSecret], [c].[RequireConsent], [c].[RequirePkce], [c].[RequireRequestObject], [c].[SlidingRefreshTokenLifetime], [c].[UpdateAccessTokenClaimsOnRefresh], [c].[Updated], [c].[UserCodeType], [c].[UserSsoLifetime]
FROM [Clients] AS [c]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T16:22:04.3913706+00:00][INFO][36][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("6"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[Origin]
FROM [Clients] AS [c]
INNER JOIN [ClientCorsOrigins] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T16:22:04.4023675+00:00][INFO][4][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("7"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[GrantType]
FROM [Clients] AS [c]
INNER JOIN [ClientGrantTypes] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T16:22:04.4373398+00:00][INFO][36][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("2"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[Scope]
FROM [Clients] AS [c]
INNER JOIN [ClientScopes] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T16:22:04.4529915+00:00][INFO][35][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("7"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[Type], [c0].[Value]
FROM [Clients] AS [c]
INNER JOIN [ClientClaims] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T16:22:04.4675004+00:00][INFO][34][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("13"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[Created], [c0].[Description], [c0].[Expiration], [c0].[Type], [c0].[Value]
FROM [Clients] AS [c]
INNER JOIN [ClientSecrets] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T16:22:04.4854895+00:00][INFO][34][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("3"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[Provider]
FROM [Clients] AS [c]
INNER JOIN [ClientIdPRestrictions] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T16:22:04.5201683+00:00][INFO][36][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("2"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[PostLogoutRedirectUri]
FROM [Clients] AS [c]
INNER JOIN [ClientPostLogoutRedirectUris] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T16:22:04.5527345+00:00][INFO][32][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("24"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[Key], [c0].[Value]
FROM [Clients] AS [c]
INNER JOIN [ClientProperties] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T16:22:04.5579123+00:00][INFO][35][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("3"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[RedirectUri]
FROM [Clients] AS [c]
INNER JOIN [ClientRedirectUris] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T16:22:04.5736518+00:00][INFO][32][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("6"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [i].[Id], [i].[Created], [i].[Description], [i].[DisplayName], [i].[Emphasize], [i].[Enabled], [i].[Name], [i].[NonEditable], [i].[Required], [i].[ShowInDiscoveryDocument], [i].[Updated], [i0].[Id], [i0].[IdentityResourceId], [i0].[Type], [i1].[Id], [i1].[IdentityResourceId], [i1].[Key], [i1].[Value]
FROM [IdentityResources] AS [i]
LEFT JOIN [IdentityResourceClaims] AS [i0] ON [i].[Id] = [i0].[IdentityResourceId]
LEFT JOIN [IdentityResourceProperties] AS [i1] ON [i].[Id] = [i1].[IdentityResourceId]
WHERE [i].[Name] IN (N'openid', N'profile', N'email', N'roles')
ORDER BY [i].[Id], [i0].[Id], [i1].[Id]"
[2020-12-30T16:22:04.6048221+00:00][INFO][35][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("5"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [a].[Id], [a].[AllowedAccessTokenSigningAlgorithms], [a].[Created], [a].[Description], [a].[DisplayName], [a].[Enabled], [a].[LastAccessed], [a].[Name], [a].[NonEditable], [a].[ShowInDiscoveryDocument], [a].[Updated], [a0].[Id], [a0].[ApiResourceId], [a0].[Created], [a0].[Description], [a0].[Expiration], [a0].[Type], [a0].[Value], [a1].[Id], [a1].[ApiResourceId], [a1].[Scope], [a2].[Id], [a2].[ApiResourceId], [a2].[Type], [a3].[Id], [a3].[ApiResourceId], [a3].[Key], [a3].[Value]
FROM [ApiResources] AS [a]
LEFT JOIN [ApiResourceSecrets] AS [a0] ON [a].[Id] = [a0].[ApiResourceId]
LEFT JOIN [ApiResourceScopes] AS [a1] ON [a].[Id] = [a1].[ApiResourceId]
LEFT JOIN [ApiResourceClaims] AS [a2] ON [a].[Id] = [a2].[ApiResourceId]
LEFT JOIN [ApiResourceProperties] AS [a3] ON [a].[Id] = [a3].[ApiResourceId]
WHERE EXISTS (
    SELECT 1
    FROM [ApiResourceScopes] AS [a4]
    WHERE ([a].[Id] = [a4].[ApiResourceId]) AND [a4].[Scope] IN (N'openid', N'profile', N'email', N'roles'))
ORDER BY [a].[Id], [a0].[Id], [a1].[Id], [a2].[Id], [a3].[Id]"
[2020-12-30T16:22:04.6298419+00:00][INFO][36][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("7"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [a].[Id], [a].[Description], [a].[DisplayName], [a].[Emphasize], [a].[Enabled], [a].[Name], [a].[Required], [a].[ShowInDiscoveryDocument], [a0].[Id], [a0].[ScopeId], [a0].[Type], [a1].[Id], [a1].[Key], [a1].[ScopeId], [a1].[Value]
FROM [ApiScopes] AS [a]
LEFT JOIN [ApiScopeClaims] AS [a0] ON [a].[Id] = [a0].[ScopeId]
LEFT JOIN [ApiScopeProperties] AS [a1] ON [a].[Id] = [a1].[ScopeId]
WHERE [a].[Name] IN (N'openid', N'profile', N'email', N'roles')
ORDER BY [a].[Id], [a0].[Id], [a1].[Id]"
[2020-12-30T16:22:04.6395268+00:00][INFO][35][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("4"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c].[Id], [c].[AbsoluteRefreshTokenLifetime], [c].[AccessTokenLifetime], [c].[AccessTokenType], [c].[AllowAccessTokensViaBrowser], [c].[AllowOfflineAccess], [c].[AllowPlainTextPkce], [c].[AllowRememberConsent], [c].[AllowedIdentityTokenSigningAlgorithms], [c].[AlwaysIncludeUserClaimsInIdToken], [c].[AlwaysSendClientClaims], [c].[AuthorizationCodeLifetime], [c].[BackChannelLogoutSessionRequired], [c].[BackChannelLogoutUri], [c].[ClientClaimsPrefix], [c].[ClientId], [c].[ClientName], [c].[ClientUri], [c].[ConsentLifetime], [c].[Created], [c].[Description], [c].[DeviceCodeLifetime], [c].[EnableLocalLogin], [c].[Enabled], [c].[FrontChannelLogoutSessionRequired], [c].[FrontChannelLogoutUri], [c].[IdentityTokenLifetime], [c].[IncludeJwtId], [c].[LastAccessed], [c].[LogoUri], [c].[NonEditable], [c].[PairWiseSubjectSalt], [c].[ProtocolType], [c].[RefreshTokenExpiration], [c].[RefreshTokenUsage], [c].[RequireClientSecret], [c].[RequireConsent], [c].[RequirePkce], [c].[RequireRequestObject], [c].[SlidingRefreshTokenLifetime], [c].[UpdateAccessTokenClaimsOnRefresh], [c].[Updated], [c].[UserCodeType], [c].[UserSsoLifetime]
FROM [Clients] AS [c]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T16:22:04.6556893+00:00][INFO][32][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("2"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[Origin]
FROM [Clients] AS [c]
INNER JOIN [ClientCorsOrigins] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T16:22:04.6685202+00:00][INFO][35][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("9"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[GrantType]
FROM [Clients] AS [c]
INNER JOIN [ClientGrantTypes] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T16:22:04.6827937+00:00][INFO][32][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("12"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[Scope]
FROM [Clients] AS [c]
INNER JOIN [ClientScopes] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T16:22:04.6953075+00:00][INFO][32][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("3"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[Type], [c0].[Value]
FROM [Clients] AS [c]
INNER JOIN [ClientClaims] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T16:22:04.7061289+00:00][INFO][35][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("5"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[Created], [c0].[Description], [c0].[Expiration], [c0].[Type], [c0].[Value]
FROM [Clients] AS [c]
INNER JOIN [ClientSecrets] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T16:22:04.7332335+00:00][INFO][33][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("2"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[Provider]
FROM [Clients] AS [c]
INNER JOIN [ClientIdPRestrictions] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T16:22:04.7526369+00:00][INFO][34][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("4"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[PostLogoutRedirectUri]
FROM [Clients] AS [c]
INNER JOIN [ClientPostLogoutRedirectUris] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T16:22:04.7597441+00:00][INFO][25][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("5"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[Key], [c0].[Value]
FROM [Clients] AS [c]
INNER JOIN [ClientProperties] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T16:22:04.7680745+00:00][INFO][25][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("2"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[RedirectUri]
FROM [Clients] AS [c]
INNER JOIN [ClientRedirectUris] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T16:22:04.7695791+00:00][INFO][34][Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor] Executing ViewResult, running view "Login".
[2020-12-30T16:22:04.7787119+00:00][INFO][34][Microsoft.AspNetCore.Authorization.DefaultAuthorizationService] Authorization was successful.
[2020-12-30T16:22:04.7923290+00:00][INFO][34][Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor] Executed ViewResult - view "Login" executed in 22.6621ms.
[2020-12-30T16:22:04.7938478+00:00][INFO][34][Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Executed action "EventManager.Identity.STS.Identity.Controllers.AccountController<EventManager.Identity.Admin.EntityFramework.Shared.Entities.Identity.UserIdentity, string>.Login (EventManager.Identity.STS.Identity)" in 1056.2089ms
[2020-12-30T16:22:04.7947013+00:00][INFO][34][Microsoft.AspNetCore.Routing.EndpointMiddleware] Executed endpoint '"EventManager.Identity.STS.Identity.Controllers.AccountController<EventManager.Identity.Admin.EntityFramework.Shared.Entities.Identity.UserIdentity, string>.Login (EventManager.Identity.STS.Identity)"'
[2020-12-30T16:22:04.8013503+00:00][INFO][34][Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/1.1 GET https://sts.em.host/Account/Login?ReturnUrl=%2Fconnect%2Fauthorize%2Fcallback%3Fclient_id%3Durn%253Aem%253Aclient%253Amvc%26redirect_uri%3Dhttps%253A%252F%252Fwww.em.host%252Fadmin%252Fidentity%252Fsignin-oidc%26response_type%3Dcode%26scope%3Dopenid%2520profile%2520email%2520roles%26code_challenge%3DlP22F2WaUqSrZ8QcZ_saxBa2i_ssDIT_JLR6BqMtK4w%26code_challenge_method%3DS256%26response_mode%3Dform_post%26nonce%3D637449418586736380.YjU5Nzc3M2YtYTdlZi00ZGJjLTgxNGQtNWI1NjIxYTJkNjFjNzA1ZGM3ODAtM2U2My00MmVlLWJjMzQtZDU0M2Q3N2VhMGEw%26state%3DCfDJ8IfTHaP7X4tMgtSdbTGk8Gh_iFGY58VdwEaAHPKW3yj7cv_Y-8yMcg4vzuUgIbJAuOhxDbeL9dMwFn6Ihx7uSE4mockhybDgBLYPOddOufsTpb8wI_-OWikuCQcA5gUUJUiN8dgblfx0N25l4ntmSh3Gs1FOKbyE0RggeawrtZOidQT2ODRigehvZ1kNB5zc3vFpdDBEHdHRSTEi-AWFD4cDcIERdSE40QgHDMdDOqDxGVxP_SYUJbgkVc-fhHJK-qSbU9J2NLjrV37MOsG7Xa5l75YwRZm8-KRX40HErZXtY5hEzp0372nJYarFfk-u0C8QCPPjgifQ52dZgFkPVNDKhkLB9WL3Y82MgsPOLfyUNgY62CRb0-cW1xT7MyYJfQ%26x-client-SKU%3DID_NETSTANDARD2_0%26x-client-ver%3D5.6.0.0 - - - 200 - text/html;+charset=utf-8 1085.7253ms
[2020-12-30T16:22:12.4950728+00:00][INFO][25][Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 GET https://sts.em.host/connect/authorize?client_id=urn%3Aem%3Aclient%3Amvc&redirect_uri=https%3A%2F%2Fwww.em.host%2Fadmin%2Fidentity%2Fsignin-oidc&response_type=code&scope=openid%20profile%20email%20roles&code_challenge=YZttvrZOvnLuYjbLk3QVGqw-_69PQPy3ZDAXoAkjmeI&code_challenge_method=S256&response_mode=form_post&nonce=637449421324441959.OTgxNWU5OWYtMmRlOS00NjBjLWE0YjYtNzc1MTE1ODFlOWE5NjVhZTc1ZDktYzA0Mi00YmE4LWE1MzEtNDhlYWViOWZiODg5&state=CfDJ8IfTHaP7X4tMgtSdbTGk8GifMvq38L90vDkikSA42ob_AGl8i_QZhWFOHE1dn6HZvcjmYqH3YPGftI5Zct5T7MJHqnz7q5vAM2Xj9hVkVEvtXpoSbZId2qYGG55mDZ5EXiWbFbVb3B_oGJnG20Ls4EkaLWeA8TAp-ZolGQHKLfjb0vXn3BntQbFz1tq2hWwi5zUalhRDhxciD6YOGNnkkfnwRMpPRRi0iqSie4eNH_znnbj23Vdj8FCfpn9CWVdHkMh32gx4RdT48hZAOlRsti2dWgDCdcjmDtG4VwzbrQHRnVLd1zDvm_YOQVV06htjEe8PFm6HPw-eaeKdBpTjDMgxYOoCiDkvyL_djehXHIyac30E9LTUXUPe9ogZpfCpRg&x-client-SKU=ID_NETSTANDARD2_0&x-client-ver=5.6.0.0 - -
[2020-12-30T16:22:12.5006917+00:00][INFO][25][IdentityServer4.Hosting.IdentityServerMiddleware] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize"
[2020-12-30T16:22:12.5060930+00:00][INFO][25][Microsoft.EntityFrameworkCore.Infrastructure] Entity Framework Core "5.0.1" initialized '"IdentityServerConfigurationDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=EventManager.Identity.Admin.EntityFramework.SqlServer "
[2020-12-30T16:22:12.5221493+00:00][INFO][31][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("2"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c].[Id], [c].[AbsoluteRefreshTokenLifetime], [c].[AccessTokenLifetime], [c].[AccessTokenType], [c].[AllowAccessTokensViaBrowser], [c].[AllowOfflineAccess], [c].[AllowPlainTextPkce], [c].[AllowRememberConsent], [c].[AllowedIdentityTokenSigningAlgorithms], [c].[AlwaysIncludeUserClaimsInIdToken], [c].[AlwaysSendClientClaims], [c].[AuthorizationCodeLifetime], [c].[BackChannelLogoutSessionRequired], [c].[BackChannelLogoutUri], [c].[ClientClaimsPrefix], [c].[ClientId], [c].[ClientName], [c].[ClientUri], [c].[ConsentLifetime], [c].[Created], [c].[Description], [c].[DeviceCodeLifetime], [c].[EnableLocalLogin], [c].[Enabled], [c].[FrontChannelLogoutSessionRequired], [c].[FrontChannelLogoutUri], [c].[IdentityTokenLifetime], [c].[IncludeJwtId], [c].[LastAccessed], [c].[LogoUri], [c].[NonEditable], [c].[PairWiseSubjectSalt], [c].[ProtocolType], [c].[RefreshTokenExpiration], [c].[RefreshTokenUsage], [c].[RequireClientSecret], [c].[RequireConsent], [c].[RequirePkce], [c].[RequireRequestObject], [c].[SlidingRefreshTokenLifetime], [c].[UpdateAccessTokenClaimsOnRefresh], [c].[Updated], [c].[UserCodeType], [c].[UserSsoLifetime]
FROM [Clients] AS [c]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T16:22:12.5679363+00:00][INFO][31][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("3"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[Origin]
FROM [Clients] AS [c]
INNER JOIN [ClientCorsOrigins] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T16:22:12.5763838+00:00][INFO][37][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("3"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[GrantType]
FROM [Clients] AS [c]
INNER JOIN [ClientGrantTypes] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T16:22:12.6045653+00:00][INFO][32][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("3"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[Scope]
FROM [Clients] AS [c]
INNER JOIN [ClientScopes] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T16:22:12.6258325+00:00][INFO][32][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("18"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[Type], [c0].[Value]
FROM [Clients] AS [c]
INNER JOIN [ClientClaims] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T16:22:12.6352875+00:00][INFO][31][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("7"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[Created], [c0].[Description], [c0].[Expiration], [c0].[Type], [c0].[Value]
FROM [Clients] AS [c]
INNER JOIN [ClientSecrets] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T16:22:12.6567194+00:00][INFO][31][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("2"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[Provider]
FROM [Clients] AS [c]
INNER JOIN [ClientIdPRestrictions] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T16:22:12.6697159+00:00][INFO][32][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("8"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[PostLogoutRedirectUri]
FROM [Clients] AS [c]
INNER JOIN [ClientPostLogoutRedirectUris] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T16:22:12.6819608+00:00][INFO][31][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("4"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[Key], [c0].[Value]
FROM [Clients] AS [c]
INNER JOIN [ClientProperties] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T16:22:12.6955176+00:00][INFO][32][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("8"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[RedirectUri]
FROM [Clients] AS [c]
INNER JOIN [ClientRedirectUris] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T16:22:12.7050095+00:00][INFO][31][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("7"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [i].[Id], [i].[Created], [i].[Description], [i].[DisplayName], [i].[Emphasize], [i].[Enabled], [i].[Name], [i].[NonEditable], [i].[Required], [i].[ShowInDiscoveryDocument], [i].[Updated], [i0].[Id], [i0].[IdentityResourceId], [i0].[Type], [i1].[Id], [i1].[IdentityResourceId], [i1].[Key], [i1].[Value]
FROM [IdentityResources] AS [i]
LEFT JOIN [IdentityResourceClaims] AS [i0] ON [i].[Id] = [i0].[IdentityResourceId]
LEFT JOIN [IdentityResourceProperties] AS [i1] ON [i].[Id] = [i1].[IdentityResourceId]
WHERE [i].[Name] IN (N'openid', N'profile', N'email', N'roles')
ORDER BY [i].[Id], [i0].[Id], [i1].[Id]"
[2020-12-30T16:22:12.7145233+00:00][INFO][32][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [a].[Id], [a].[AllowedAccessTokenSigningAlgorithms], [a].[Created], [a].[Description], [a].[DisplayName], [a].[Enabled], [a].[LastAccessed], [a].[Name], [a].[NonEditable], [a].[ShowInDiscoveryDocument], [a].[Updated], [a0].[Id], [a0].[ApiResourceId], [a0].[Created], [a0].[Description], [a0].[Expiration], [a0].[Type], [a0].[Value], [a1].[Id], [a1].[ApiResourceId], [a1].[Scope], [a2].[Id], [a2].[ApiResourceId], [a2].[Type], [a3].[Id], [a3].[ApiResourceId], [a3].[Key], [a3].[Value]
FROM [ApiResources] AS [a]
LEFT JOIN [ApiResourceSecrets] AS [a0] ON [a].[Id] = [a0].[ApiResourceId]
LEFT JOIN [ApiResourceScopes] AS [a1] ON [a].[Id] = [a1].[ApiResourceId]
LEFT JOIN [ApiResourceClaims] AS [a2] ON [a].[Id] = [a2].[ApiResourceId]
LEFT JOIN [ApiResourceProperties] AS [a3] ON [a].[Id] = [a3].[ApiResourceId]
WHERE EXISTS (
    SELECT 1
    FROM [ApiResourceScopes] AS [a4]
    WHERE ([a].[Id] = [a4].[ApiResourceId]) AND [a4].[Scope] IN (N'openid', N'profile', N'email', N'roles'))
ORDER BY [a].[Id], [a0].[Id], [a1].[Id], [a2].[Id], [a3].[Id]"
[2020-12-30T16:22:12.7234206+00:00][INFO][36][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [a].[Id], [a].[Description], [a].[DisplayName], [a].[Emphasize], [a].[Enabled], [a].[Name], [a].[Required], [a].[ShowInDiscoveryDocument], [a0].[Id], [a0].[ScopeId], [a0].[Type], [a1].[Id], [a1].[Key], [a1].[ScopeId], [a1].[Value]
FROM [ApiScopes] AS [a]
LEFT JOIN [ApiScopeClaims] AS [a0] ON [a].[Id] = [a0].[ScopeId]
LEFT JOIN [ApiScopeProperties] AS [a1] ON [a].[Id] = [a1].[ScopeId]
WHERE [a].[Name] IN (N'openid', N'profile', N'email', N'roles')
ORDER BY [a].[Id], [a0].[Id], [a1].[Id]"
[2020-12-30T16:22:12.7356217+00:00][INFO][32][Microsoft.EntityFrameworkCore.Infrastructure] Entity Framework Core "5.0.1" initialized '"AdminIdentityDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=EventManager.Identity.Admin.EntityFramework.SqlServer "
[2020-12-30T16:22:12.7429202+00:00][INFO][33][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("2"ms) [Parameters=["@__p_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[Id] = @__p_0"
[2020-12-30T16:22:12.7487327+00:00][INFO][33][Microsoft.EntityFrameworkCore.Infrastructure] Entity Framework Core "5.0.1" initialized '"IdentityServerPersistedGrantDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=EventManager.Identity.Admin.EntityFramework.SqlServer "
[2020-12-30T16:22:12.7588895+00:00][INFO][35][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("9"ms) [Parameters=["@__token_Key_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [p].[Key], [p].[ClientId], [p].[ConsumedTime], [p].[CreationTime], [p].[Data], [p].[Description], [p].[Expiration], [p].[SessionId], [p].[SubjectId], [p].[Type]
FROM [PersistedGrants] AS [p]
WHERE [p].[Key] = @__token_Key_0"
[2020-12-30T16:22:12.8006689+00:00][INFO][33][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("4"ms) [Parameters=["@p0='?' (Size = 200), @p1='?' (Size = 200), @p2='?' (DbType = DateTime2), @p3='?' (DbType = DateTime2), @p4='?' (Size = 4000), @p5='?' (Size = 200), @p6='?' (DbType = DateTime2), @p7='?' (Size = 100), @p8='?' (Size = 200), @p9='?' (Size = 50)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
INSERT INTO [PersistedGrants] ([Key], [ClientId], [ConsumedTime], [CreationTime], [Data], [Description], [Expiration], [SessionId], [SubjectId], [Type])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9);"
[2020-12-30T16:22:12.8374300+00:00][INFO][33][IdentityServer4.Events.DefaultEventService] TokenIssuedSuccessEvent { ClientId: "urn:em:client:mvc", ClientName: "Event Manager Identity Admin UI", RedirectUri: "https://www.em.host/admin/identity/signin-oidc", Endpoint: "Authorize", SubjectId: "174c9a38-e759-45b6-b735-470eca298a31", Scopes: "openid profile email roles", GrantType: "authorization_code", Tokens: [Token { TokenType: "code", TokenValue: "****C267" }], Category: "Token", Name: "Token Issued Success", EventType: Success, Id: 2000, Message: null, ActivityId: "0HM5CRPLRUQQA:00000002", TimeStamp: 12/30/2020 16:22:12, ProcessId: 27, LocalIpAddress: "::ffff:192.168.240.5:50003", RemoteIpAddress: "192.168.240.1" }
[2020-12-30T16:22:12.8399591+00:00][INFO][33][Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/1.1 GET https://sts.em.host/connect/authorize?client_id=urn%3Aem%3Aclient%3Amvc&redirect_uri=https%3A%2F%2Fwww.em.host%2Fadmin%2Fidentity%2Fsignin-oidc&response_type=code&scope=openid%20profile%20email%20roles&code_challenge=YZttvrZOvnLuYjbLk3QVGqw-_69PQPy3ZDAXoAkjmeI&code_challenge_method=S256&response_mode=form_post&nonce=637449421324441959.OTgxNWU5OWYtMmRlOS00NjBjLWE0YjYtNzc1MTE1ODFlOWE5NjVhZTc1ZDktYzA0Mi00YmE4LWE1MzEtNDhlYWViOWZiODg5&state=CfDJ8IfTHaP7X4tMgtSdbTGk8GifMvq38L90vDkikSA42ob_AGl8i_QZhWFOHE1dn6HZvcjmYqH3YPGftI5Zct5T7MJHqnz7q5vAM2Xj9hVkVEvtXpoSbZId2qYGG55mDZ5EXiWbFbVb3B_oGJnG20Ls4EkaLWeA8TAp-ZolGQHKLfjb0vXn3BntQbFz1tq2hWwi5zUalhRDhxciD6YOGNnkkfnwRMpPRRi0iqSie4eNH_znnbj23Vdj8FCfpn9CWVdHkMh32gx4RdT48hZAOlRsti2dWgDCdcjmDtG4VwzbrQHRnVLd1zDvm_YOQVV06htjEe8PFm6HPw-eaeKdBpTjDMgxYOoCiDkvyL_djehXHIyac30E9LTUXUPe9ogZpfCpRg&x-client-SKU=ID_NETSTANDARD2_0&x-client-ver=5.6.0.0 - - - 200 - text/html;+charset=UTF-8 344.0906ms
[2020-12-30T16:22:17.2587707+00:00][INFO][35][Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 GET https://sts.em.host/Account/Login?ReturnUrl=%2Fconnect%2Fauthorize%2Fcallback%3Fclient_id%3Durn%253Aem%253Aclient%253Amvc%26redirect_uri%3Dhttps%253A%252F%252Fwww.em.host%252Fadmin%252Fidentity%252Fsignin-oidc%26response_type%3Dcode%26scope%3Dopenid%2520profile%2520email%2520roles%26code_challenge%3DlP22F2WaUqSrZ8QcZ_saxBa2i_ssDIT_JLR6BqMtK4w%26code_challenge_method%3DS256%26response_mode%3Dform_post%26nonce%3D637449418586736380.YjU5Nzc3M2YtYTdlZi00ZGJjLTgxNGQtNWI1NjIxYTJkNjFjNzA1ZGM3ODAtM2U2My00MmVlLWJjMzQtZDU0M2Q3N2VhMGEw%26state%3DCfDJ8IfTHaP7X4tMgtSdbTGk8Gh_iFGY58VdwEaAHPKW3yj7cv_Y-8yMcg4vzuUgIbJAuOhxDbeL9dMwFn6Ihx7uSE4mockhybDgBLYPOddOufsTpb8wI_-OWikuCQcA5gUUJUiN8dgblfx0N25l4ntmSh3Gs1FOKbyE0RggeawrtZOidQT2ODRigehvZ1kNB5zc3vFpdDBEHdHRSTEi-AWFD4cDcIERdSE40QgHDMdDOqDxGVxP_SYUJbgkVc-fhHJK-qSbU9J2NLjrV37MOsG7Xa5l75YwRZm8-KRX40HErZXtY5hEzp0372nJYarFfk-u0C8QCPPjgifQ52dZgFkPVNDKhkLB9WL3Y82MgsPOLfyUNgY62CRb0-cW1xT7MyYJfQ%26x-client-SKU%3DID_NETSTANDARD2_0%26x-client-ver%3D5.6.0.0 - -
[2020-12-30T16:22:17.2621135+00:00][INFO][35][Microsoft.AspNetCore.Routing.EndpointMiddleware] Executing endpoint '"EventManager.Identity.STS.Identity.Controllers.AccountController<EventManager.Identity.Admin.EntityFramework.Shared.Entities.Identity.UserIdentity, string>.Login (EventManager.Identity.STS.Identity)"'
[2020-12-30T16:22:17.2629116+00:00][INFO][35][Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Route matched with "{action = \"Login\", controller = \"Account\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(System.String)" on controller "EventManager.Identity.STS.Identity.Controllers.AccountController<EventManager.Identity.Admin.EntityFramework.Shared.Entities.Identity.UserIdentity, string>" ("EventManager.Identity.STS.Identity").
[2020-12-30T16:22:17.2726758+00:00][INFO][35][Microsoft.EntityFrameworkCore.Infrastructure] Entity Framework Core "5.0.1" initialized '"IdentityServerConfigurationDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=EventManager.Identity.Admin.EntityFramework.SqlServer "
[2020-12-30T16:22:17.2827239+00:00][INFO][32][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("8"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c].[Id], [c].[AbsoluteRefreshTokenLifetime], [c].[AccessTokenLifetime], [c].[AccessTokenType], [c].[AllowAccessTokensViaBrowser], [c].[AllowOfflineAccess], [c].[AllowPlainTextPkce], [c].[AllowRememberConsent], [c].[AllowedIdentityTokenSigningAlgorithms], [c].[AlwaysIncludeUserClaimsInIdToken], [c].[AlwaysSendClientClaims], [c].[AuthorizationCodeLifetime], [c].[BackChannelLogoutSessionRequired], [c].[BackChannelLogoutUri], [c].[ClientClaimsPrefix], [c].[ClientId], [c].[ClientName], [c].[ClientUri], [c].[ConsentLifetime], [c].[Created], [c].[Description], [c].[DeviceCodeLifetime], [c].[EnableLocalLogin], [c].[Enabled], [c].[FrontChannelLogoutSessionRequired], [c].[FrontChannelLogoutUri], [c].[IdentityTokenLifetime], [c].[IncludeJwtId], [c].[LastAccessed], [c].[LogoUri], [c].[NonEditable], [c].[PairWiseSubjectSalt], [c].[ProtocolType], [c].[RefreshTokenExpiration], [c].[RefreshTokenUsage], [c].[RequireClientSecret], [c].[RequireConsent], [c].[RequirePkce], [c].[RequireRequestObject], [c].[SlidingRefreshTokenLifetime], [c].[UpdateAccessTokenClaimsOnRefresh], [c].[Updated], [c].[UserCodeType], [c].[UserSsoLifetime]
FROM [Clients] AS [c]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T16:22:17.3629088+00:00][INFO][33][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("3"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[Origin]
FROM [Clients] AS [c]
INNER JOIN [ClientCorsOrigins] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T16:22:17.3722614+00:00][INFO][32][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("3"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[GrantType]
FROM [Clients] AS [c]
INNER JOIN [ClientGrantTypes] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T16:22:17.3814145+00:00][INFO][26][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("5"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[Scope]
FROM [Clients] AS [c]
INNER JOIN [ClientScopes] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T16:22:17.3940653+00:00][INFO][35][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("6"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[Type], [c0].[Value]
FROM [Clients] AS [c]
INNER JOIN [ClientClaims] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T16:22:17.4272622+00:00][INFO][26][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("10"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[Created], [c0].[Description], [c0].[Expiration], [c0].[Type], [c0].[Value]
FROM [Clients] AS [c]
INNER JOIN [ClientSecrets] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T16:22:17.4376083+00:00][INFO][33][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("8"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[Provider]
FROM [Clients] AS [c]
INNER JOIN [ClientIdPRestrictions] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T16:22:17.4855410+00:00][INFO][35][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("46"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[PostLogoutRedirectUri]
FROM [Clients] AS [c]
INNER JOIN [ClientPostLogoutRedirectUris] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T16:22:17.5124185+00:00][INFO][33][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("3"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[Key], [c0].[Value]
FROM [Clients] AS [c]
INNER JOIN [ClientProperties] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T16:22:17.5229371+00:00][INFO][35][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("6"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[RedirectUri]
FROM [Clients] AS [c]
INNER JOIN [ClientRedirectUris] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T16:22:17.5541633+00:00][INFO][26][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("28"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [i].[Id], [i].[Created], [i].[Description], [i].[DisplayName], [i].[Emphasize], [i].[Enabled], [i].[Name], [i].[NonEditable], [i].[Required], [i].[ShowInDiscoveryDocument], [i].[Updated], [i0].[Id], [i0].[IdentityResourceId], [i0].[Type], [i1].[Id], [i1].[IdentityResourceId], [i1].[Key], [i1].[Value]
FROM [IdentityResources] AS [i]
LEFT JOIN [IdentityResourceClaims] AS [i0] ON [i].[Id] = [i0].[IdentityResourceId]
LEFT JOIN [IdentityResourceProperties] AS [i1] ON [i].[Id] = [i1].[IdentityResourceId]
WHERE [i].[Name] IN (N'openid', N'profile', N'email', N'roles')
ORDER BY [i].[Id], [i0].[Id], [i1].[Id]"
[2020-12-30T16:22:17.5900908+00:00][INFO][32][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("5"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [a].[Id], [a].[AllowedAccessTokenSigningAlgorithms], [a].[Created], [a].[Description], [a].[DisplayName], [a].[Enabled], [a].[LastAccessed], [a].[Name], [a].[NonEditable], [a].[ShowInDiscoveryDocument], [a].[Updated], [a0].[Id], [a0].[ApiResourceId], [a0].[Created], [a0].[Description], [a0].[Expiration], [a0].[Type], [a0].[Value], [a1].[Id], [a1].[ApiResourceId], [a1].[Scope], [a2].[Id], [a2].[ApiResourceId], [a2].[Type], [a3].[Id], [a3].[ApiResourceId], [a3].[Key], [a3].[Value]
FROM [ApiResources] AS [a]
LEFT JOIN [ApiResourceSecrets] AS [a0] ON [a].[Id] = [a0].[ApiResourceId]
LEFT JOIN [ApiResourceScopes] AS [a1] ON [a].[Id] = [a1].[ApiResourceId]
LEFT JOIN [ApiResourceClaims] AS [a2] ON [a].[Id] = [a2].[ApiResourceId]
LEFT JOIN [ApiResourceProperties] AS [a3] ON [a].[Id] = [a3].[ApiResourceId]
WHERE EXISTS (
    SELECT 1
    FROM [ApiResourceScopes] AS [a4]
    WHERE ([a].[Id] = [a4].[ApiResourceId]) AND [a4].[Scope] IN (N'openid', N'profile', N'email', N'roles'))
ORDER BY [a].[Id], [a0].[Id], [a1].[Id], [a2].[Id], [a3].[Id]"
[2020-12-30T16:22:17.6021553+00:00][INFO][25][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [a].[Id], [a].[Description], [a].[DisplayName], [a].[Emphasize], [a].[Enabled], [a].[Name], [a].[Required], [a].[ShowInDiscoveryDocument], [a0].[Id], [a0].[ScopeId], [a0].[Type], [a1].[Id], [a1].[Key], [a1].[ScopeId], [a1].[Value]
FROM [ApiScopes] AS [a]
LEFT JOIN [ApiScopeClaims] AS [a0] ON [a].[Id] = [a0].[ScopeId]
LEFT JOIN [ApiScopeProperties] AS [a1] ON [a].[Id] = [a1].[ScopeId]
WHERE [a].[Name] IN (N'openid', N'profile', N'email', N'roles')
ORDER BY [a].[Id], [a0].[Id], [a1].[Id]"
[2020-12-30T16:22:17.6118489+00:00][INFO][35][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("6"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c].[Id], [c].[AbsoluteRefreshTokenLifetime], [c].[AccessTokenLifetime], [c].[AccessTokenType], [c].[AllowAccessTokensViaBrowser], [c].[AllowOfflineAccess], [c].[AllowPlainTextPkce], [c].[AllowRememberConsent], [c].[AllowedIdentityTokenSigningAlgorithms], [c].[AlwaysIncludeUserClaimsInIdToken], [c].[AlwaysSendClientClaims], [c].[AuthorizationCodeLifetime], [c].[BackChannelLogoutSessionRequired], [c].[BackChannelLogoutUri], [c].[ClientClaimsPrefix], [c].[ClientId], [c].[ClientName], [c].[ClientUri], [c].[ConsentLifetime], [c].[Created], [c].[Description], [c].[DeviceCodeLifetime], [c].[EnableLocalLogin], [c].[Enabled], [c].[FrontChannelLogoutSessionRequired], [c].[FrontChannelLogoutUri], [c].[IdentityTokenLifetime], [c].[IncludeJwtId], [c].[LastAccessed], [c].[LogoUri], [c].[NonEditable], [c].[PairWiseSubjectSalt], [c].[ProtocolType], [c].[RefreshTokenExpiration], [c].[RefreshTokenUsage], [c].[RequireClientSecret], [c].[RequireConsent], [c].[RequirePkce], [c].[RequireRequestObject], [c].[SlidingRefreshTokenLifetime], [c].[UpdateAccessTokenClaimsOnRefresh], [c].[Updated], [c].[UserCodeType], [c].[UserSsoLifetime]
FROM [Clients] AS [c]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T16:22:17.6253581+00:00][INFO][33][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("2"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[Origin]
FROM [Clients] AS [c]
INNER JOIN [ClientCorsOrigins] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T16:22:17.6600713+00:00][INFO][33][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("10"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[GrantType]
FROM [Clients] AS [c]
INNER JOIN [ClientGrantTypes] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T16:22:17.6692500+00:00][INFO][35][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("5"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[Scope]
FROM [Clients] AS [c]
INNER JOIN [ClientScopes] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T16:22:17.6782817+00:00][INFO][35][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("5"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[Type], [c0].[Value]
FROM [Clients] AS [c]
INNER JOIN [ClientClaims] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T16:22:17.6860197+00:00][INFO][31][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("4"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[Created], [c0].[Description], [c0].[Expiration], [c0].[Type], [c0].[Value]
FROM [Clients] AS [c]
INNER JOIN [ClientSecrets] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T16:22:17.6940621+00:00][INFO][26][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("5"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[Provider]
FROM [Clients] AS [c]
INNER JOIN [ClientIdPRestrictions] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T16:22:17.7033230+00:00][INFO][35][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("4"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[PostLogoutRedirectUri]
FROM [Clients] AS [c]
INNER JOIN [ClientPostLogoutRedirectUris] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T16:22:17.7105388+00:00][INFO][31][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("2"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[Key], [c0].[Value]
FROM [Clients] AS [c]
INNER JOIN [ClientProperties] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T16:22:17.7392171+00:00][INFO][25][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("6"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[RedirectUri]
FROM [Clients] AS [c]
INNER JOIN [ClientRedirectUris] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T16:22:17.7486467+00:00][INFO][25][Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor] Executing ViewResult, running view "Login".
[2020-12-30T16:22:17.7547920+00:00][INFO][25][Microsoft.AspNetCore.Authorization.DefaultAuthorizationService] Authorization was successful.
[2020-12-30T16:22:17.7612791+00:00][INFO][25][Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor] Executed ViewResult - view "Login" executed in 12.6348ms.
[2020-12-30T16:22:17.7620586+00:00][INFO][25][Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Executed action "EventManager.Identity.STS.Identity.Controllers.AccountController<EventManager.Identity.Admin.EntityFramework.Shared.Entities.Identity.UserIdentity, string>.Login (EventManager.Identity.STS.Identity)" in 492.2334ms
[2020-12-30T16:22:17.7640488+00:00][INFO][25][Microsoft.AspNetCore.Routing.EndpointMiddleware] Executed endpoint '"EventManager.Identity.STS.Identity.Controllers.AccountController<EventManager.Identity.Admin.EntityFramework.Shared.Entities.Identity.UserIdentity, string>.Login (EventManager.Identity.STS.Identity)"'
[2020-12-30T16:22:17.7652036+00:00][INFO][25][Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/1.1 GET https://sts.em.host/Account/Login?ReturnUrl=%2Fconnect%2Fauthorize%2Fcallback%3Fclient_id%3Durn%253Aem%253Aclient%253Amvc%26redirect_uri%3Dhttps%253A%252F%252Fwww.em.host%252Fadmin%252Fidentity%252Fsignin-oidc%26response_type%3Dcode%26scope%3Dopenid%2520profile%2520email%2520roles%26code_challenge%3DlP22F2WaUqSrZ8QcZ_saxBa2i_ssDIT_JLR6BqMtK4w%26code_challenge_method%3DS256%26response_mode%3Dform_post%26nonce%3D637449418586736380.YjU5Nzc3M2YtYTdlZi00ZGJjLTgxNGQtNWI1NjIxYTJkNjFjNzA1ZGM3ODAtM2U2My00MmVlLWJjMzQtZDU0M2Q3N2VhMGEw%26state%3DCfDJ8IfTHaP7X4tMgtSdbTGk8Gh_iFGY58VdwEaAHPKW3yj7cv_Y-8yMcg4vzuUgIbJAuOhxDbeL9dMwFn6Ihx7uSE4mockhybDgBLYPOddOufsTpb8wI_-OWikuCQcA5gUUJUiN8dgblfx0N25l4ntmSh3Gs1FOKbyE0RggeawrtZOidQT2ODRigehvZ1kNB5zc3vFpdDBEHdHRSTEi-AWFD4cDcIERdSE40QgHDMdDOqDxGVxP_SYUJbgkVc-fhHJK-qSbU9J2NLjrV37MOsG7Xa5l75YwRZm8-KRX40HErZXtY5hEzp0372nJYarFfk-u0C8QCPPjgifQ52dZgFkPVNDKhkLB9WL3Y82MgsPOLfyUNgY62CRb0-cW1xT7MyYJfQ%26x-client-SKU%3DID_NETSTANDARD2_0%26x-client-ver%3D5.6.0.0 - - - 200 - text/html;+charset=utf-8 506.3898ms
[2020-12-30T16:22:21.9899090+00:00][INFO][32][Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 GET https://sts.em.host/Manage - -
[2020-12-30T16:22:21.9958567+00:00][INFO][32][Microsoft.AspNetCore.Authorization.DefaultAuthorizationService] Authorization was successful.
[2020-12-30T16:22:21.9984353+00:00][INFO][32][Microsoft.AspNetCore.Routing.EndpointMiddleware] Executing endpoint '"EventManager.Identity.STS.Identity.Controllers.ManageController<EventManager.Identity.Admin.EntityFramework.Shared.Entities.Identity.UserIdentity, string>.Index (EventManager.Identity.STS.Identity)"'
[2020-12-30T16:22:22.0145719+00:00][INFO][32][Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Route matched with "{action = \"Index\", controller = \"Manage\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Index()" on controller "EventManager.Identity.STS.Identity.Controllers.ManageController<EventManager.Identity.Admin.EntityFramework.Shared.Entities.Identity.UserIdentity, string>" ("EventManager.Identity.STS.Identity").
[2020-12-30T16:22:22.0240606+00:00][INFO][32][Microsoft.EntityFrameworkCore.Infrastructure] Entity Framework Core "5.0.1" initialized '"AdminIdentityDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=EventManager.Identity.Admin.EntityFramework.SqlServer "
[2020-12-30T16:22:22.0393592+00:00][INFO][34][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("8"ms) [Parameters=["@__p_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[Id] = @__p_0"
[2020-12-30T16:22:22.1009789+00:00][INFO][33][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("11"ms) [Parameters=["@__user_Id_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [u].[Id], [u].[ClaimType], [u].[ClaimValue], [u].[UserId]
FROM [UserClaims] AS [u]
WHERE [u].[UserId] = @__user_Id_0"
[2020-12-30T16:22:22.1360610+00:00][INFO][34][Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor] Executing ViewResult, running view "Index".
[2020-12-30T16:22:23.4020486+00:00][INFO][34][Microsoft.AspNetCore.Authorization.DefaultAuthorizationService] Authorization was successful.
[2020-12-30T16:22:23.4238272+00:00][INFO][34][Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor] Executed ViewResult - view "Index" executed in 1289.4751ms.
[2020-12-30T16:22:23.4262154+00:00][INFO][34][Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Executed action "EventManager.Identity.STS.Identity.Controllers.ManageController<EventManager.Identity.Admin.EntityFramework.Shared.Entities.Identity.UserIdentity, string>.Index (EventManager.Identity.STS.Identity)" in 1410.6692ms
[2020-12-30T16:22:23.4286026+00:00][INFO][34][Microsoft.AspNetCore.Routing.EndpointMiddleware] Executed endpoint '"EventManager.Identity.STS.Identity.Controllers.ManageController<EventManager.Identity.Admin.EntityFramework.Shared.Entities.Identity.UserIdentity, string>.Index (EventManager.Identity.STS.Identity)"'
[2020-12-30T16:22:23.4431971+00:00][INFO][34][Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/1.1 GET https://sts.em.host/Manage - - - 200 - text/html;+charset=utf-8 1453.2502ms
[2020-12-30T16:22:27.3275370+00:00][INFO][34][Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 GET https://sts.em.host/Account/Logout - -
[2020-12-30T16:22:27.3304934+00:00][INFO][34][Microsoft.AspNetCore.Routing.EndpointMiddleware] Executing endpoint '"EventManager.Identity.STS.Identity.Controllers.AccountController<EventManager.Identity.Admin.EntityFramework.Shared.Entities.Identity.UserIdentity, string>.Logout (EventManager.Identity.STS.Identity)"'
[2020-12-30T16:22:27.3386762+00:00][INFO][34][Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Route matched with "{action = \"Logout\", controller = \"Account\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Logout(System.String)" on controller "EventManager.Identity.STS.Identity.Controllers.AccountController<EventManager.Identity.Admin.EntityFramework.Shared.Entities.Identity.UserIdentity, string>" ("EventManager.Identity.STS.Identity").
[2020-12-30T16:22:27.3640579+00:00][INFO][34][Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor] Executing ViewResult, running view "Logout".
[2020-12-30T16:22:27.3761559+00:00][INFO][34][Microsoft.AspNetCore.Authorization.DefaultAuthorizationService] Authorization was successful.
[2020-12-30T16:22:27.3823139+00:00][INFO][34][Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor] Executed ViewResult - view "Logout" executed in 18.9246ms.
[2020-12-30T16:22:27.3831407+00:00][INFO][34][Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Executed action "EventManager.Identity.STS.Identity.Controllers.AccountController<EventManager.Identity.Admin.EntityFramework.Shared.Entities.Identity.UserIdentity, string>.Logout (EventManager.Identity.STS.Identity)" in 39.2737ms
[2020-12-30T16:22:27.3855030+00:00][INFO][34][Microsoft.AspNetCore.Routing.EndpointMiddleware] Executed endpoint '"EventManager.Identity.STS.Identity.Controllers.AccountController<EventManager.Identity.Admin.EntityFramework.Shared.Entities.Identity.UserIdentity, string>.Logout (EventManager.Identity.STS.Identity)"'
[2020-12-30T16:22:27.3875193+00:00][INFO][34][Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/1.1 GET https://sts.em.host/Account/Logout - - - 200 - text/html;+charset=utf-8 59.9411ms
[2020-12-30T16:22:29.3631835+00:00][INFO][36][Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 POST https://sts.em.host/Account/Logout application/x-www-form-urlencoded 235
[2020-12-30T16:22:29.3643079+00:00][INFO][36][Microsoft.AspNetCore.Cors.Infrastructure.CorsMiddleware] No CORS policy found for the specified request.
[2020-12-30T16:22:29.3729994+00:00][INFO][36][Microsoft.AspNetCore.Authorization.DefaultAuthorizationService] Authorization was successful.
[2020-12-30T16:22:29.3738751+00:00][INFO][36][Microsoft.AspNetCore.Routing.EndpointMiddleware] Executing endpoint '"EventManager.Identity.STS.Identity.Controllers.AccountController<EventManager.Identity.Admin.EntityFramework.Shared.Entities.Identity.UserIdentity, string>.Logout (EventManager.Identity.STS.Identity)"'
[2020-12-30T16:22:29.3832653+00:00][INFO][36][Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Route matched with "{action = \"Logout\", controller = \"Account\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Logout(EventManager.Identity.STS.Identity.ViewModels.Account.LogoutInputModel)" on controller "EventManager.Identity.STS.Identity.Controllers.AccountController<EventManager.Identity.Admin.EntityFramework.Shared.Entities.Identity.UserIdentity, string>" ("EventManager.Identity.STS.Identity").
[2020-12-30T16:22:29.4053448+00:00][INFO][36][Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler] AuthenticationScheme: "Identity.Application" signed out.
[2020-12-30T16:22:29.4113372+00:00][INFO][36][Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler] AuthenticationScheme: "Identity.External" signed out.
[2020-12-30T16:22:29.4134821+00:00][INFO][36][Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler] AuthenticationScheme: "Identity.TwoFactorUserId" signed out.
[2020-12-30T16:22:29.4215935+00:00][INFO][36][IdentityServer4.Events.DefaultEventService] UserLogoutSuccessEvent { SubjectId: "174c9a38-e759-45b6-b735-470eca298a31", DisplayName: "admin", Category: "Authentication", Name: "User Logout Success", EventType: Success, Id: 1002, Message: null, ActivityId: "0HM5CRPLRUQQE:00000002", TimeStamp: 12/30/2020 16:22:29, ProcessId: 27, LocalIpAddress: "::ffff:192.168.240.5:50003", RemoteIpAddress: "192.168.240.1" }
[2020-12-30T16:22:29.4271026+00:00][INFO][36][Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor] Executing ViewResult, running view "LoggedOut".
[2020-12-30T16:22:29.4523018+00:00][INFO][36][Microsoft.EntityFrameworkCore.Infrastructure] Entity Framework Core "5.0.1" initialized '"IdentityServerConfigurationDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=EventManager.Identity.Admin.EntityFramework.SqlServer "
[2020-12-30T16:22:29.4626268+00:00][INFO][34][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("9"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c].[Id], [c].[AbsoluteRefreshTokenLifetime], [c].[AccessTokenLifetime], [c].[AccessTokenType], [c].[AllowAccessTokensViaBrowser], [c].[AllowOfflineAccess], [c].[AllowPlainTextPkce], [c].[AllowRememberConsent], [c].[AllowedIdentityTokenSigningAlgorithms], [c].[AlwaysIncludeUserClaimsInIdToken], [c].[AlwaysSendClientClaims], [c].[AuthorizationCodeLifetime], [c].[BackChannelLogoutSessionRequired], [c].[BackChannelLogoutUri], [c].[ClientClaimsPrefix], [c].[ClientId], [c].[ClientName], [c].[ClientUri], [c].[ConsentLifetime], [c].[Created], [c].[Description], [c].[DeviceCodeLifetime], [c].[EnableLocalLogin], [c].[Enabled], [c].[FrontChannelLogoutSessionRequired], [c].[FrontChannelLogoutUri], [c].[IdentityTokenLifetime], [c].[IncludeJwtId], [c].[LastAccessed], [c].[LogoUri], [c].[NonEditable], [c].[PairWiseSubjectSalt], [c].[ProtocolType], [c].[RefreshTokenExpiration], [c].[RefreshTokenUsage], [c].[RequireClientSecret], [c].[RequireConsent], [c].[RequirePkce], [c].[RequireRequestObject], [c].[SlidingRefreshTokenLifetime], [c].[UpdateAccessTokenClaimsOnRefresh], [c].[Updated], [c].[UserCodeType], [c].[UserSsoLifetime]
FROM [Clients] AS [c]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T16:22:29.5000892+00:00][INFO][26][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("3"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[Origin]
FROM [Clients] AS [c]
INNER JOIN [ClientCorsOrigins] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T16:22:29.5088583+00:00][INFO][34][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("4"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[GrantType]
FROM [Clients] AS [c]
INNER JOIN [ClientGrantTypes] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T16:22:29.5378061+00:00][INFO][26][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("22"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[Scope]
FROM [Clients] AS [c]
INNER JOIN [ClientScopes] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T16:22:29.5699753+00:00][INFO][34][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("5"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[Type], [c0].[Value]
FROM [Clients] AS [c]
INNER JOIN [ClientClaims] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T16:22:29.5816053+00:00][INFO][23][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("5"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[Created], [c0].[Description], [c0].[Expiration], [c0].[Type], [c0].[Value]
FROM [Clients] AS [c]
INNER JOIN [ClientSecrets] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T16:22:29.6308405+00:00][INFO][31][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("22"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[Provider]
FROM [Clients] AS [c]
INNER JOIN [ClientIdPRestrictions] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T16:22:29.6485734+00:00][INFO][25][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("9"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[PostLogoutRedirectUri]
FROM [Clients] AS [c]
INNER JOIN [ClientPostLogoutRedirectUris] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T16:22:29.6779985+00:00][INFO][31][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("3"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[Key], [c0].[Value]
FROM [Clients] AS [c]
INNER JOIN [ClientProperties] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T16:22:29.6901085+00:00][INFO][25][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("7"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[RedirectUri]
FROM [Clients] AS [c]
INNER JOIN [ClientRedirectUris] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T16:22:29.7358668+00:00][INFO][25][Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor] Executed ViewResult - view "LoggedOut" executed in 312.3822ms.
[2020-12-30T16:22:29.7453691+00:00][INFO][25][Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Executed action "EventManager.Identity.STS.Identity.Controllers.AccountController<EventManager.Identity.Admin.EntityFramework.Shared.Entities.Identity.UserIdentity, string>.Logout (EventManager.Identity.STS.Identity)" in 361.2736ms
[2020-12-30T16:22:29.7460623+00:00][INFO][25][Microsoft.AspNetCore.Routing.EndpointMiddleware] Executed endpoint '"EventManager.Identity.STS.Identity.Controllers.AccountController<EventManager.Identity.Admin.EntityFramework.Shared.Entities.Identity.UserIdentity, string>.Logout (EventManager.Identity.STS.Identity)"'
[2020-12-30T16:22:29.7469272+00:00][INFO][25][Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/1.1 POST https://sts.em.host/Account/Logout application/x-www-form-urlencoded 235 - 200 - text/html;+charset=utf-8 383.7733ms
[2020-12-30T16:22:29.9184912+00:00][INFO][36][Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 GET https://sts.em.host/connect/endsession/callback?endSessionId=CfDJ8IfTHaP7X4tMgtSdbTGk8GiGsQr4slboirPmscJxDOkdEpDWF9Op8th1cqNdrJuw4ymE0wXcdV-xVTvNO5Lu-rtqN-dkJEgzNG1ZZRQIb156fbnyXJlfsiD8gyrIVD-IsT8V_La6d6ZXRkRJx7E0j-42-ncIvXzWMYGtxsTXCo4AfiEqKm7JnuH2yA3OgPMTDrUxBQHVMcY8bZnjIl0QccE4-Wiw8SHx7Sfd9pl3Rc3yuIOmPYiJlTw3k-gYnCNddSOjByTs2QqKZ7Ki6io4zEzoulIVRiL4aEaarAerdYqfCZ62PbeyNRIAwFk7MaNmoZq8dePdqV9-lisuvcPKt2Y - -
[2020-12-30T16:22:29.9223304+00:00][INFO][36][IdentityServer4.Hosting.IdentityServerMiddleware] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.EndSessionCallbackEndpoint" for "/connect/endsession/callback"
[2020-12-30T16:22:29.9541907+00:00][INFO][36][Microsoft.EntityFrameworkCore.Infrastructure] Entity Framework Core "5.0.1" initialized '"IdentityServerConfigurationDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=EventManager.Identity.Admin.EntityFramework.SqlServer "
[2020-12-30T16:22:29.9692357+00:00][INFO][31][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("4"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c].[Id], [c].[AbsoluteRefreshTokenLifetime], [c].[AccessTokenLifetime], [c].[AccessTokenType], [c].[AllowAccessTokensViaBrowser], [c].[AllowOfflineAccess], [c].[AllowPlainTextPkce], [c].[AllowRememberConsent], [c].[AllowedIdentityTokenSigningAlgorithms], [c].[AlwaysIncludeUserClaimsInIdToken], [c].[AlwaysSendClientClaims], [c].[AuthorizationCodeLifetime], [c].[BackChannelLogoutSessionRequired], [c].[BackChannelLogoutUri], [c].[ClientClaimsPrefix], [c].[ClientId], [c].[ClientName], [c].[ClientUri], [c].[ConsentLifetime], [c].[Created], [c].[Description], [c].[DeviceCodeLifetime], [c].[EnableLocalLogin], [c].[Enabled], [c].[FrontChannelLogoutSessionRequired], [c].[FrontChannelLogoutUri], [c].[IdentityTokenLifetime], [c].[IncludeJwtId], [c].[LastAccessed], [c].[LogoUri], [c].[NonEditable], [c].[PairWiseSubjectSalt], [c].[ProtocolType], [c].[RefreshTokenExpiration], [c].[RefreshTokenUsage], [c].[RequireClientSecret], [c].[RequireConsent], [c].[RequirePkce], [c].[RequireRequestObject], [c].[SlidingRefreshTokenLifetime], [c].[UpdateAccessTokenClaimsOnRefresh], [c].[Updated], [c].[UserCodeType], [c].[UserSsoLifetime]
FROM [Clients] AS [c]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T16:22:30.0083224+00:00][INFO][31][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("10"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[Origin]
FROM [Clients] AS [c]
INNER JOIN [ClientCorsOrigins] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T16:22:30.0187023+00:00][INFO][32][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("5"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[GrantType]
FROM [Clients] AS [c]
INNER JOIN [ClientGrantTypes] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T16:22:30.0531012+00:00][INFO][31][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("2"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[Scope]
FROM [Clients] AS [c]
INNER JOIN [ClientScopes] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T16:22:30.0736885+00:00][INFO][32][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("5"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[Type], [c0].[Value]
FROM [Clients] AS [c]
INNER JOIN [ClientClaims] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T16:22:30.0933692+00:00][INFO][31][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("10"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[Created], [c0].[Description], [c0].[Expiration], [c0].[Type], [c0].[Value]
FROM [Clients] AS [c]
INNER JOIN [ClientSecrets] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T16:22:30.1350710+00:00][INFO][32][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("2"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[Provider]
FROM [Clients] AS [c]
INNER JOIN [ClientIdPRestrictions] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T16:22:30.1443432+00:00][INFO][31][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("4"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[PostLogoutRedirectUri]
FROM [Clients] AS [c]
INNER JOIN [ClientPostLogoutRedirectUris] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T16:22:30.1767319+00:00][INFO][34][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("23"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[Key], [c0].[Value]
FROM [Clients] AS [c]
INNER JOIN [ClientProperties] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T16:22:30.1822510+00:00][INFO][31][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("3"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[RedirectUri]
FROM [Clients] AS [c]
INNER JOIN [ClientRedirectUris] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T16:22:30.1949552+00:00][INFO][31][IdentityServer4.Endpoints.EndSessionCallbackEndpoint] Successful signout callback.
[2020-12-30T16:22:30.2051876+00:00][INFO][31][Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/1.1 GET https://sts.em.host/connect/endsession/callback?endSessionId=CfDJ8IfTHaP7X4tMgtSdbTGk8GiGsQr4slboirPmscJxDOkdEpDWF9Op8th1cqNdrJuw4ymE0wXcdV-xVTvNO5Lu-rtqN-dkJEgzNG1ZZRQIb156fbnyXJlfsiD8gyrIVD-IsT8V_La6d6ZXRkRJx7E0j-42-ncIvXzWMYGtxsTXCo4AfiEqKm7JnuH2yA3OgPMTDrUxBQHVMcY8bZnjIl0QccE4-Wiw8SHx7Sfd9pl3Rc3yuIOmPYiJlTw3k-gYnCNddSOjByTs2QqKZ7Ki6io4zEzoulIVRiL4aEaarAerdYqfCZ62PbeyNRIAwFk7MaNmoZq8dePdqV9-lisuvcPKt2Y - - - 200 - text/html;+charset=UTF-8 286.2393ms
[2020-12-30T16:22:32.8348785+00:00][INFO][26][Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 GET https://sts.em.host/ - -
[2020-12-30T16:22:32.8379693+00:00][INFO][26][Microsoft.AspNetCore.Routing.EndpointMiddleware] Executing endpoint '"EventManager.Identity.STS.Identity.Controllers.HomeController.Index (EventManager.Identity.STS.Identity)"'
[2020-12-30T16:22:32.8417384+00:00][INFO][26][Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Route matched with "{action = \"Index\", controller = \"Home\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult Index()" on controller "EventManager.Identity.STS.Identity.Controllers.HomeController" ("EventManager.Identity.STS.Identity").
[2020-12-30T16:22:32.8467037+00:00][INFO][26][Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor] Executing ViewResult, running view "Index".
[2020-12-30T16:22:32.8768604+00:00][INFO][26][Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor] Executed ViewResult - view "Index" executed in 31.4113ms.
[2020-12-30T16:22:32.8783435+00:00][INFO][26][Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Executed action "EventManager.Identity.STS.Identity.Controllers.HomeController.Index (EventManager.Identity.STS.Identity)" in 34.4173ms
[2020-12-30T16:22:32.8795674+00:00][INFO][26][Microsoft.AspNetCore.Routing.EndpointMiddleware] Executed endpoint '"EventManager.Identity.STS.Identity.Controllers.HomeController.Index (EventManager.Identity.STS.Identity)"'
[2020-12-30T16:22:32.8823623+00:00][INFO][26][Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/1.1 GET https://sts.em.host/ - - - 200 - text/html;+charset=utf-8 47.4867ms
[2020-12-30T16:22:40.5929793+00:00][INFO][31][Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 GET https://sts.em.host/connect/authorize?client_id=urn%3Aem%3Aclient%3Amvc&redirect_uri=https%3A%2F%2Fwww.em.host%2Fadmin%2Fidentity%2Fsignin-oidc&response_type=code&scope=openid%20profile%20email%20roles&code_challenge=yEqwpPLjRuTw_Wq4x1vVkk2-CScmdQ6adFAeakscwmk&code_challenge_method=S256&response_mode=form_post&nonce=637449421605497981.OTI0ZDZiMTctNDM3Ny00NTY1LTlmYzItODdiNDU2MmM5MGQ5M2FkODQ1OWQtN2NhNy00MjVjLThkM2YtY2VmNTFlYzA5YjIy&state=CfDJ8IfTHaP7X4tMgtSdbTGk8GjTbe1fUxjokuBu7ELwHegQNQedI_HaDtK0Y8_BgOZpI9Cp6GwgSxHhLAxb0h7fgy3ayyY8Z1BdSW7rH_SfzsTvPC-Vjp2sIw67yF5t-ukKUj9Zjmcawp1lrF9HzhPDG-qcOtbQZfoi-W0VXlnMC6cmhN6omcP9QNIhW9w--FoolClJbw8v93_Zmyk71MChlBkLMD2otOcTXGRkGw1GM8StNBE6xrP2dFVV5YnYSYGgL7rhw9mzKVgFDKSPYOj4onAZ6mpbUxfN8DOHC9_IPtkH26OTjMlIx67aLC6DmeIYTzVY83ypa9G7bE9NJrbuIru7gEzunHTZnbQmu1pQVfI8IW9zgAyhKu8uSFpuOUM5lw&x-client-SKU=ID_NETSTANDARD2_0&x-client-ver=5.6.0.0 - -
[2020-12-30T16:22:40.5984733+00:00][INFO][31][IdentityServer4.Hosting.IdentityServerMiddleware] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize"
[2020-12-30T16:22:40.5999438+00:00][INFO][31][Microsoft.EntityFrameworkCore.Infrastructure] Entity Framework Core "5.0.1" initialized '"IdentityServerConfigurationDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=EventManager.Identity.Admin.EntityFramework.SqlServer "
[2020-12-30T16:22:40.6128766+00:00][INFO][36][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("12"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c].[Id], [c].[AbsoluteRefreshTokenLifetime], [c].[AccessTokenLifetime], [c].[AccessTokenType], [c].[AllowAccessTokensViaBrowser], [c].[AllowOfflineAccess], [c].[AllowPlainTextPkce], [c].[AllowRememberConsent], [c].[AllowedIdentityTokenSigningAlgorithms], [c].[AlwaysIncludeUserClaimsInIdToken], [c].[AlwaysSendClientClaims], [c].[AuthorizationCodeLifetime], [c].[BackChannelLogoutSessionRequired], [c].[BackChannelLogoutUri], [c].[ClientClaimsPrefix], [c].[ClientId], [c].[ClientName], [c].[ClientUri], [c].[ConsentLifetime], [c].[Created], [c].[Description], [c].[DeviceCodeLifetime], [c].[EnableLocalLogin], [c].[Enabled], [c].[FrontChannelLogoutSessionRequired], [c].[FrontChannelLogoutUri], [c].[IdentityTokenLifetime], [c].[IncludeJwtId], [c].[LastAccessed], [c].[LogoUri], [c].[NonEditable], [c].[PairWiseSubjectSalt], [c].[ProtocolType], [c].[RefreshTokenExpiration], [c].[RefreshTokenUsage], [c].[RequireClientSecret], [c].[RequireConsent], [c].[RequirePkce], [c].[RequireRequestObject], [c].[SlidingRefreshTokenLifetime], [c].[UpdateAccessTokenClaimsOnRefresh], [c].[Updated], [c].[UserCodeType], [c].[UserSsoLifetime]
FROM [Clients] AS [c]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T16:22:40.6302876+00:00][INFO][23][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("9"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[Origin]
FROM [Clients] AS [c]
INNER JOIN [ClientCorsOrigins] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T16:22:40.6502069+00:00][INFO][37][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("7"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[GrantType]
FROM [Clients] AS [c]
INNER JOIN [ClientGrantTypes] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T16:22:40.6658717+00:00][INFO][26][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("4"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[Scope]
FROM [Clients] AS [c]
INNER JOIN [ClientScopes] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T16:22:40.6810316+00:00][INFO][23][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("2"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[Type], [c0].[Value]
FROM [Clients] AS [c]
INNER JOIN [ClientClaims] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T16:22:40.7012032+00:00][INFO][37][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("5"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[Created], [c0].[Description], [c0].[Expiration], [c0].[Type], [c0].[Value]
FROM [Clients] AS [c]
INNER JOIN [ClientSecrets] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T16:22:40.7117229+00:00][INFO][33][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("6"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[Provider]
FROM [Clients] AS [c]
INNER JOIN [ClientIdPRestrictions] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T16:22:40.7246308+00:00][INFO][35][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("4"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[PostLogoutRedirectUri]
FROM [Clients] AS [c]
INNER JOIN [ClientPostLogoutRedirectUris] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T16:22:40.7375899+00:00][INFO][23][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("5"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[Key], [c0].[Value]
FROM [Clients] AS [c]
INNER JOIN [ClientProperties] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T16:22:40.7442201+00:00][INFO][36][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("3"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[RedirectUri]
FROM [Clients] AS [c]
INNER JOIN [ClientRedirectUris] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T16:22:40.7593690+00:00][INFO][32][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("5"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [i].[Id], [i].[Created], [i].[Description], [i].[DisplayName], [i].[Emphasize], [i].[Enabled], [i].[Name], [i].[NonEditable], [i].[Required], [i].[ShowInDiscoveryDocument], [i].[Updated], [i0].[Id], [i0].[IdentityResourceId], [i0].[Type], [i1].[Id], [i1].[IdentityResourceId], [i1].[Key], [i1].[Value]
FROM [IdentityResources] AS [i]
LEFT JOIN [IdentityResourceClaims] AS [i0] ON [i].[Id] = [i0].[IdentityResourceId]
LEFT JOIN [IdentityResourceProperties] AS [i1] ON [i].[Id] = [i1].[IdentityResourceId]
WHERE [i].[Name] IN (N'openid', N'profile', N'email', N'roles')
ORDER BY [i].[Id], [i0].[Id], [i1].[Id]"
[2020-12-30T16:22:40.7752306+00:00][INFO][31][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("5"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [a].[Id], [a].[AllowedAccessTokenSigningAlgorithms], [a].[Created], [a].[Description], [a].[DisplayName], [a].[Enabled], [a].[LastAccessed], [a].[Name], [a].[NonEditable], [a].[ShowInDiscoveryDocument], [a].[Updated], [a0].[Id], [a0].[ApiResourceId], [a0].[Created], [a0].[Description], [a0].[Expiration], [a0].[Type], [a0].[Value], [a1].[Id], [a1].[ApiResourceId], [a1].[Scope], [a2].[Id], [a2].[ApiResourceId], [a2].[Type], [a3].[Id], [a3].[ApiResourceId], [a3].[Key], [a3].[Value]
FROM [ApiResources] AS [a]
LEFT JOIN [ApiResourceSecrets] AS [a0] ON [a].[Id] = [a0].[ApiResourceId]
LEFT JOIN [ApiResourceScopes] AS [a1] ON [a].[Id] = [a1].[ApiResourceId]
LEFT JOIN [ApiResourceClaims] AS [a2] ON [a].[Id] = [a2].[ApiResourceId]
LEFT JOIN [ApiResourceProperties] AS [a3] ON [a].[Id] = [a3].[ApiResourceId]
WHERE EXISTS (
    SELECT 1
    FROM [ApiResourceScopes] AS [a4]
    WHERE ([a].[Id] = [a4].[ApiResourceId]) AND [a4].[Scope] IN (N'openid', N'profile', N'email', N'roles'))
ORDER BY [a].[Id], [a0].[Id], [a1].[Id], [a2].[Id], [a3].[Id]"
[2020-12-30T16:22:40.7988802+00:00][INFO][37][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("21"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [a].[Id], [a].[Description], [a].[DisplayName], [a].[Emphasize], [a].[Enabled], [a].[Name], [a].[Required], [a].[ShowInDiscoveryDocument], [a0].[Id], [a0].[ScopeId], [a0].[Type], [a1].[Id], [a1].[Key], [a1].[ScopeId], [a1].[Value]
FROM [ApiScopes] AS [a]
LEFT JOIN [ApiScopeClaims] AS [a0] ON [a].[Id] = [a0].[ScopeId]
LEFT JOIN [ApiScopeProperties] AS [a1] ON [a].[Id] = [a1].[ScopeId]
WHERE [a].[Name] IN (N'openid', N'profile', N'email', N'roles')
ORDER BY [a].[Id], [a0].[Id], [a1].[Id]"
[2020-12-30T16:22:40.8092628+00:00][INFO][37][IdentityServer4.ResponseHandling.AuthorizeInteractionResponseGenerator] Showing login: User is not authenticated
[2020-12-30T16:22:40.8110259+00:00][INFO][37][Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/1.1 GET https://sts.em.host/connect/authorize?client_id=urn%3Aem%3Aclient%3Amvc&redirect_uri=https%3A%2F%2Fwww.em.host%2Fadmin%2Fidentity%2Fsignin-oidc&response_type=code&scope=openid%20profile%20email%20roles&code_challenge=yEqwpPLjRuTw_Wq4x1vVkk2-CScmdQ6adFAeakscwmk&code_challenge_method=S256&response_mode=form_post&nonce=637449421605497981.OTI0ZDZiMTctNDM3Ny00NTY1LTlmYzItODdiNDU2MmM5MGQ5M2FkODQ1OWQtN2NhNy00MjVjLThkM2YtY2VmNTFlYzA5YjIy&state=CfDJ8IfTHaP7X4tMgtSdbTGk8GjTbe1fUxjokuBu7ELwHegQNQedI_HaDtK0Y8_BgOZpI9Cp6GwgSxHhLAxb0h7fgy3ayyY8Z1BdSW7rH_SfzsTvPC-Vjp2sIw67yF5t-ukKUj9Zjmcawp1lrF9HzhPDG-qcOtbQZfoi-W0VXlnMC6cmhN6omcP9QNIhW9w--FoolClJbw8v93_Zmyk71MChlBkLMD2otOcTXGRkGw1GM8StNBE6xrP2dFVV5YnYSYGgL7rhw9mzKVgFDKSPYOj4onAZ6mpbUxfN8DOHC9_IPtkH26OTjMlIx67aLC6DmeIYTzVY83ypa9G7bE9NJrbuIru7gEzunHTZnbQmu1pQVfI8IW9zgAyhKu8uSFpuOUM5lw&x-client-SKU=ID_NETSTANDARD2_0&x-client-ver=5.6.0.0 - - - 302 0 - 217.9913ms
[2020-12-30T16:22:40.8942834+00:00][INFO][34][Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 GET https://sts.em.host/Account/Login?ReturnUrl=%2Fconnect%2Fauthorize%2Fcallback%3Fclient_id%3Durn%253Aem%253Aclient%253Amvc%26redirect_uri%3Dhttps%253A%252F%252Fwww.em.host%252Fadmin%252Fidentity%252Fsignin-oidc%26response_type%3Dcode%26scope%3Dopenid%2520profile%2520email%2520roles%26code_challenge%3DyEqwpPLjRuTw_Wq4x1vVkk2-CScmdQ6adFAeakscwmk%26code_challenge_method%3DS256%26response_mode%3Dform_post%26nonce%3D637449421605497981.OTI0ZDZiMTctNDM3Ny00NTY1LTlmYzItODdiNDU2MmM5MGQ5M2FkODQ1OWQtN2NhNy00MjVjLThkM2YtY2VmNTFlYzA5YjIy%26state%3DCfDJ8IfTHaP7X4tMgtSdbTGk8GjTbe1fUxjokuBu7ELwHegQNQedI_HaDtK0Y8_BgOZpI9Cp6GwgSxHhLAxb0h7fgy3ayyY8Z1BdSW7rH_SfzsTvPC-Vjp2sIw67yF5t-ukKUj9Zjmcawp1lrF9HzhPDG-qcOtbQZfoi-W0VXlnMC6cmhN6omcP9QNIhW9w--FoolClJbw8v93_Zmyk71MChlBkLMD2otOcTXGRkGw1GM8StNBE6xrP2dFVV5YnYSYGgL7rhw9mzKVgFDKSPYOj4onAZ6mpbUxfN8DOHC9_IPtkH26OTjMlIx67aLC6DmeIYTzVY83ypa9G7bE9NJrbuIru7gEzunHTZnbQmu1pQVfI8IW9zgAyhKu8uSFpuOUM5lw%26x-client-SKU%3DID_NETSTANDARD2_0%26x-client-ver%3D5.6.0.0 - -
[2020-12-30T16:22:40.9003982+00:00][INFO][34][Microsoft.AspNetCore.Routing.EndpointMiddleware] Executing endpoint '"EventManager.Identity.STS.Identity.Controllers.AccountController<EventManager.Identity.Admin.EntityFramework.Shared.Entities.Identity.UserIdentity, string>.Login (EventManager.Identity.STS.Identity)"'
[2020-12-30T16:22:40.9026439+00:00][INFO][34][Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Route matched with "{action = \"Login\", controller = \"Account\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(System.String)" on controller "EventManager.Identity.STS.Identity.Controllers.AccountController<EventManager.Identity.Admin.EntityFramework.Shared.Entities.Identity.UserIdentity, string>" ("EventManager.Identity.STS.Identity").
[2020-12-30T16:22:40.9063945+00:00][INFO][34][Microsoft.EntityFrameworkCore.Infrastructure] Entity Framework Core "5.0.1" initialized '"IdentityServerConfigurationDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=EventManager.Identity.Admin.EntityFramework.SqlServer "
[2020-12-30T16:22:40.9271736+00:00][INFO][32][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("8"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c].[Id], [c].[AbsoluteRefreshTokenLifetime], [c].[AccessTokenLifetime], [c].[AccessTokenType], [c].[AllowAccessTokensViaBrowser], [c].[AllowOfflineAccess], [c].[AllowPlainTextPkce], [c].[AllowRememberConsent], [c].[AllowedIdentityTokenSigningAlgorithms], [c].[AlwaysIncludeUserClaimsInIdToken], [c].[AlwaysSendClientClaims], [c].[AuthorizationCodeLifetime], [c].[BackChannelLogoutSessionRequired], [c].[BackChannelLogoutUri], [c].[ClientClaimsPrefix], [c].[ClientId], [c].[ClientName], [c].[ClientUri], [c].[ConsentLifetime], [c].[Created], [c].[Description], [c].[DeviceCodeLifetime], [c].[EnableLocalLogin], [c].[Enabled], [c].[FrontChannelLogoutSessionRequired], [c].[FrontChannelLogoutUri], [c].[IdentityTokenLifetime], [c].[IncludeJwtId], [c].[LastAccessed], [c].[LogoUri], [c].[NonEditable], [c].[PairWiseSubjectSalt], [c].[ProtocolType], [c].[RefreshTokenExpiration], [c].[RefreshTokenUsage], [c].[RequireClientSecret], [c].[RequireConsent], [c].[RequirePkce], [c].[RequireRequestObject], [c].[SlidingRefreshTokenLifetime], [c].[UpdateAccessTokenClaimsOnRefresh], [c].[Updated], [c].[UserCodeType], [c].[UserSsoLifetime]
FROM [Clients] AS [c]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T16:22:40.9456484+00:00][INFO][32][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("2"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[Origin]
FROM [Clients] AS [c]
INNER JOIN [ClientCorsOrigins] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T16:22:40.9788942+00:00][INFO][32][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("8"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[GrantType]
FROM [Clients] AS [c]
INNER JOIN [ClientGrantTypes] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T16:22:40.9978171+00:00][INFO][35][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("4"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[Scope]
FROM [Clients] AS [c]
INNER JOIN [ClientScopes] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T16:22:41.0470335+00:00][INFO][36][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("2"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[Type], [c0].[Value]
FROM [Clients] AS [c]
INNER JOIN [ClientClaims] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T16:22:41.0685446+00:00][INFO][26][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("17"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[Created], [c0].[Description], [c0].[Expiration], [c0].[Type], [c0].[Value]
FROM [Clients] AS [c]
INNER JOIN [ClientSecrets] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T16:22:41.0761866+00:00][INFO][26][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("6"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[Provider]
FROM [Clients] AS [c]
INNER JOIN [ClientIdPRestrictions] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T16:22:41.0879981+00:00][INFO][33][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("10"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[PostLogoutRedirectUri]
FROM [Clients] AS [c]
INNER JOIN [ClientPostLogoutRedirectUris] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T16:22:41.1105453+00:00][INFO][37][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("10"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[Key], [c0].[Value]
FROM [Clients] AS [c]
INNER JOIN [ClientProperties] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T16:22:41.1199265+00:00][INFO][33][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("8"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[RedirectUri]
FROM [Clients] AS [c]
INNER JOIN [ClientRedirectUris] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T16:22:41.1323053+00:00][INFO][34][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("6"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [i].[Id], [i].[Created], [i].[Description], [i].[DisplayName], [i].[Emphasize], [i].[Enabled], [i].[Name], [i].[NonEditable], [i].[Required], [i].[ShowInDiscoveryDocument], [i].[Updated], [i0].[Id], [i0].[IdentityResourceId], [i0].[Type], [i1].[Id], [i1].[IdentityResourceId], [i1].[Key], [i1].[Value]
FROM [IdentityResources] AS [i]
LEFT JOIN [IdentityResourceClaims] AS [i0] ON [i].[Id] = [i0].[IdentityResourceId]
LEFT JOIN [IdentityResourceProperties] AS [i1] ON [i].[Id] = [i1].[IdentityResourceId]
WHERE [i].[Name] IN (N'openid', N'profile', N'email', N'roles')
ORDER BY [i].[Id], [i0].[Id], [i1].[Id]"
[2020-12-30T16:22:41.1493274+00:00][INFO][33][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [a].[Id], [a].[AllowedAccessTokenSigningAlgorithms], [a].[Created], [a].[Description], [a].[DisplayName], [a].[Enabled], [a].[LastAccessed], [a].[Name], [a].[NonEditable], [a].[ShowInDiscoveryDocument], [a].[Updated], [a0].[Id], [a0].[ApiResourceId], [a0].[Created], [a0].[Description], [a0].[Expiration], [a0].[Type], [a0].[Value], [a1].[Id], [a1].[ApiResourceId], [a1].[Scope], [a2].[Id], [a2].[ApiResourceId], [a2].[Type], [a3].[Id], [a3].[ApiResourceId], [a3].[Key], [a3].[Value]
FROM [ApiResources] AS [a]
LEFT JOIN [ApiResourceSecrets] AS [a0] ON [a].[Id] = [a0].[ApiResourceId]
LEFT JOIN [ApiResourceScopes] AS [a1] ON [a].[Id] = [a1].[ApiResourceId]
LEFT JOIN [ApiResourceClaims] AS [a2] ON [a].[Id] = [a2].[ApiResourceId]
LEFT JOIN [ApiResourceProperties] AS [a3] ON [a].[Id] = [a3].[ApiResourceId]
WHERE EXISTS (
    SELECT 1
    FROM [ApiResourceScopes] AS [a4]
    WHERE ([a].[Id] = [a4].[ApiResourceId]) AND [a4].[Scope] IN (N'openid', N'profile', N'email', N'roles'))
ORDER BY [a].[Id], [a0].[Id], [a1].[Id], [a2].[Id], [a3].[Id]"
[2020-12-30T16:22:41.2000541+00:00][INFO][32][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("25"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [a].[Id], [a].[Description], [a].[DisplayName], [a].[Emphasize], [a].[Enabled], [a].[Name], [a].[Required], [a].[ShowInDiscoveryDocument], [a0].[Id], [a0].[ScopeId], [a0].[Type], [a1].[Id], [a1].[Key], [a1].[ScopeId], [a1].[Value]
FROM [ApiScopes] AS [a]
LEFT JOIN [ApiScopeClaims] AS [a0] ON [a].[Id] = [a0].[ScopeId]
LEFT JOIN [ApiScopeProperties] AS [a1] ON [a].[Id] = [a1].[ScopeId]
WHERE [a].[Name] IN (N'openid', N'profile', N'email', N'roles')
ORDER BY [a].[Id], [a0].[Id], [a1].[Id]"
[2020-12-30T16:22:41.2050399+00:00][INFO][34][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("3"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c].[Id], [c].[AbsoluteRefreshTokenLifetime], [c].[AccessTokenLifetime], [c].[AccessTokenType], [c].[AllowAccessTokensViaBrowser], [c].[AllowOfflineAccess], [c].[AllowPlainTextPkce], [c].[AllowRememberConsent], [c].[AllowedIdentityTokenSigningAlgorithms], [c].[AlwaysIncludeUserClaimsInIdToken], [c].[AlwaysSendClientClaims], [c].[AuthorizationCodeLifetime], [c].[BackChannelLogoutSessionRequired], [c].[BackChannelLogoutUri], [c].[ClientClaimsPrefix], [c].[ClientId], [c].[ClientName], [c].[ClientUri], [c].[ConsentLifetime], [c].[Created], [c].[Description], [c].[DeviceCodeLifetime], [c].[EnableLocalLogin], [c].[Enabled], [c].[FrontChannelLogoutSessionRequired], [c].[FrontChannelLogoutUri], [c].[IdentityTokenLifetime], [c].[IncludeJwtId], [c].[LastAccessed], [c].[LogoUri], [c].[NonEditable], [c].[PairWiseSubjectSalt], [c].[ProtocolType], [c].[RefreshTokenExpiration], [c].[RefreshTokenUsage], [c].[RequireClientSecret], [c].[RequireConsent], [c].[RequirePkce], [c].[RequireRequestObject], [c].[SlidingRefreshTokenLifetime], [c].[UpdateAccessTokenClaimsOnRefresh], [c].[Updated], [c].[UserCodeType], [c].[UserSsoLifetime]
FROM [Clients] AS [c]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T16:22:41.2342626+00:00][INFO][35][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("3"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[Origin]
FROM [Clients] AS [c]
INNER JOIN [ClientCorsOrigins] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T16:22:41.2535966+00:00][INFO][34][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("15"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[GrantType]
FROM [Clients] AS [c]
INNER JOIN [ClientGrantTypes] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T16:22:41.2657159+00:00][INFO][35][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("9"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[Scope]
FROM [Clients] AS [c]
INNER JOIN [ClientScopes] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T16:22:41.2745983+00:00][INFO][26][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("5"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[Type], [c0].[Value]
FROM [Clients] AS [c]
INNER JOIN [ClientClaims] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T16:22:41.2928610+00:00][INFO][23][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("17"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[Created], [c0].[Description], [c0].[Expiration], [c0].[Type], [c0].[Value]
FROM [Clients] AS [c]
INNER JOIN [ClientSecrets] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T16:22:41.3035377+00:00][INFO][37][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("7"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[Provider]
FROM [Clients] AS [c]
INNER JOIN [ClientIdPRestrictions] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T16:22:41.3149116+00:00][INFO][23][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("3"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[PostLogoutRedirectUri]
FROM [Clients] AS [c]
INNER JOIN [ClientPostLogoutRedirectUris] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T16:22:41.3279696+00:00][INFO][34][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("9"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[Key], [c0].[Value]
FROM [Clients] AS [c]
INNER JOIN [ClientProperties] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T16:22:41.3465664+00:00][INFO][35][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("10"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[RedirectUri]
FROM [Clients] AS [c]
INNER JOIN [ClientRedirectUris] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T16:22:41.3573430+00:00][INFO][35][Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor] Executing ViewResult, running view "Login".
[2020-12-30T16:22:41.3683924+00:00][INFO][35][Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor] Executed ViewResult - view "Login" executed in 11.0893ms.
[2020-12-30T16:22:41.3713128+00:00][INFO][35][Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Executed action "EventManager.Identity.STS.Identity.Controllers.AccountController<EventManager.Identity.Admin.EntityFramework.Shared.Entities.Identity.UserIdentity, string>.Login (EventManager.Identity.STS.Identity)" in 466.4111ms
[2020-12-30T16:22:41.3749084+00:00][INFO][35][Microsoft.AspNetCore.Routing.EndpointMiddleware] Executed endpoint '"EventManager.Identity.STS.Identity.Controllers.AccountController<EventManager.Identity.Admin.EntityFramework.Shared.Entities.Identity.UserIdentity, string>.Login (EventManager.Identity.STS.Identity)"'
[2020-12-30T16:22:41.3781128+00:00][INFO][35][Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/1.1 GET https://sts.em.host/Account/Login?ReturnUrl=%2Fconnect%2Fauthorize%2Fcallback%3Fclient_id%3Durn%253Aem%253Aclient%253Amvc%26redirect_uri%3Dhttps%253A%252F%252Fwww.em.host%252Fadmin%252Fidentity%252Fsignin-oidc%26response_type%3Dcode%26scope%3Dopenid%2520profile%2520email%2520roles%26code_challenge%3DyEqwpPLjRuTw_Wq4x1vVkk2-CScmdQ6adFAeakscwmk%26code_challenge_method%3DS256%26response_mode%3Dform_post%26nonce%3D637449421605497981.OTI0ZDZiMTctNDM3Ny00NTY1LTlmYzItODdiNDU2MmM5MGQ5M2FkODQ1OWQtN2NhNy00MjVjLThkM2YtY2VmNTFlYzA5YjIy%26state%3DCfDJ8IfTHaP7X4tMgtSdbTGk8GjTbe1fUxjokuBu7ELwHegQNQedI_HaDtK0Y8_BgOZpI9Cp6GwgSxHhLAxb0h7fgy3ayyY8Z1BdSW7rH_SfzsTvPC-Vjp2sIw67yF5t-ukKUj9Zjmcawp1lrF9HzhPDG-qcOtbQZfoi-W0VXlnMC6cmhN6omcP9QNIhW9w--FoolClJbw8v93_Zmyk71MChlBkLMD2otOcTXGRkGw1GM8StNBE6xrP2dFVV5YnYSYGgL7rhw9mzKVgFDKSPYOj4onAZ6mpbUxfN8DOHC9_IPtkH26OTjMlIx67aLC6DmeIYTzVY83ypa9G7bE9NJrbuIru7gEzunHTZnbQmu1pQVfI8IW9zgAyhKu8uSFpuOUM5lw%26x-client-SKU%3DID_NETSTANDARD2_0%26x-client-ver%3D5.6.0.0 - - - 200 - text/html;+charset=utf-8 483.7773ms
[2020-12-30T16:22:43.9303043+00:00][INFO][37][Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 POST https://sts.em.host/Account/Login?ReturnUrl=%2Fconnect%2Fauthorize%2Fcallback%3Fclient_id%3Durn%253Aem%253Aclient%253Amvc%26redirect_uri%3Dhttps%253A%252F%252Fwww.em.host%252Fadmin%252Fidentity%252Fsignin-oidc%26response_type%3Dcode%26scope%3Dopenid%2520profile%2520email%2520roles%26code_challenge%3DyEqwpPLjRuTw_Wq4x1vVkk2-CScmdQ6adFAeakscwmk%26code_challenge_method%3DS256%26response_mode%3Dform_post%26nonce%3D637449421605497981.OTI0ZDZiMTctNDM3Ny00NTY1LTlmYzItODdiNDU2MmM5MGQ5M2FkODQ1OWQtN2NhNy00MjVjLThkM2YtY2VmNTFlYzA5YjIy%26state%3DCfDJ8IfTHaP7X4tMgtSdbTGk8GjTbe1fUxjokuBu7ELwHegQNQedI_HaDtK0Y8_BgOZpI9Cp6GwgSxHhLAxb0h7fgy3ayyY8Z1BdSW7rH_SfzsTvPC-Vjp2sIw67yF5t-ukKUj9Zjmcawp1lrF9HzhPDG-qcOtbQZfoi-W0VXlnMC6cmhN6omcP9QNIhW9w--FoolClJbw8v93_Zmyk71MChlBkLMD2otOcTXGRkGw1GM8StNBE6xrP2dFVV5YnYSYGgL7rhw9mzKVgFDKSPYOj4onAZ6mpbUxfN8DOHC9_IPtkH26OTjMlIx67aLC6DmeIYTzVY83ypa9G7bE9NJrbuIru7gEzunHTZnbQmu1pQVfI8IW9zgAyhKu8uSFpuOUM5lw%26x-client-SKU%3DID_NETSTANDARD2_0%26x-client-ver%3D5.6.0.0 application/x-www-form-urlencoded 1207
[2020-12-30T16:22:43.9336768+00:00][INFO][37][Microsoft.AspNetCore.Cors.Infrastructure.CorsMiddleware] No CORS policy found for the specified request.
[2020-12-30T16:22:43.9364272+00:00][INFO][37][Microsoft.AspNetCore.Routing.EndpointMiddleware] Executing endpoint '"EventManager.Identity.STS.Identity.Controllers.AccountController<EventManager.Identity.Admin.EntityFramework.Shared.Entities.Identity.UserIdentity, string>.Login (EventManager.Identity.STS.Identity)"'
[2020-12-30T16:22:43.9441480+00:00][INFO][37][Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Route matched with "{action = \"Login\", controller = \"Account\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(EventManager.Identity.STS.Identity.ViewModels.Account.LoginInputModel, System.String)" on controller "EventManager.Identity.STS.Identity.Controllers.AccountController<EventManager.Identity.Admin.EntityFramework.Shared.Entities.Identity.UserIdentity, string>" ("EventManager.Identity.STS.Identity").
[2020-12-30T16:22:43.9510379+00:00][INFO][37][Microsoft.EntityFrameworkCore.Infrastructure] Entity Framework Core "5.0.1" initialized '"IdentityServerConfigurationDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=EventManager.Identity.Admin.EntityFramework.SqlServer "
[2020-12-30T16:22:43.9645298+00:00][INFO][33][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("10"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c].[Id], [c].[AbsoluteRefreshTokenLifetime], [c].[AccessTokenLifetime], [c].[AccessTokenType], [c].[AllowAccessTokensViaBrowser], [c].[AllowOfflineAccess], [c].[AllowPlainTextPkce], [c].[AllowRememberConsent], [c].[AllowedIdentityTokenSigningAlgorithms], [c].[AlwaysIncludeUserClaimsInIdToken], [c].[AlwaysSendClientClaims], [c].[AuthorizationCodeLifetime], [c].[BackChannelLogoutSessionRequired], [c].[BackChannelLogoutUri], [c].[ClientClaimsPrefix], [c].[ClientId], [c].[ClientName], [c].[ClientUri], [c].[ConsentLifetime], [c].[Created], [c].[Description], [c].[DeviceCodeLifetime], [c].[EnableLocalLogin], [c].[Enabled], [c].[FrontChannelLogoutSessionRequired], [c].[FrontChannelLogoutUri], [c].[IdentityTokenLifetime], [c].[IncludeJwtId], [c].[LastAccessed], [c].[LogoUri], [c].[NonEditable], [c].[PairWiseSubjectSalt], [c].[ProtocolType], [c].[RefreshTokenExpiration], [c].[RefreshTokenUsage], [c].[RequireClientSecret], [c].[RequireConsent], [c].[RequirePkce], [c].[RequireRequestObject], [c].[SlidingRefreshTokenLifetime], [c].[UpdateAccessTokenClaimsOnRefresh], [c].[Updated], [c].[UserCodeType], [c].[UserSsoLifetime]
FROM [Clients] AS [c]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T16:22:43.9912241+00:00][INFO][32][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("18"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[Origin]
FROM [Clients] AS [c]
INNER JOIN [ClientCorsOrigins] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T16:22:44.0194628+00:00][INFO][36][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("3"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[GrantType]
FROM [Clients] AS [c]
INNER JOIN [ClientGrantTypes] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T16:22:44.0305022+00:00][INFO][37][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("3"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[Scope]
FROM [Clients] AS [c]
INNER JOIN [ClientScopes] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T16:22:44.0406216+00:00][INFO][36][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("4"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[Type], [c0].[Value]
FROM [Clients] AS [c]
INNER JOIN [ClientClaims] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T16:22:44.0480922+00:00][INFO][37][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("2"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[Created], [c0].[Description], [c0].[Expiration], [c0].[Type], [c0].[Value]
FROM [Clients] AS [c]
INNER JOIN [ClientSecrets] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T16:22:44.0566259+00:00][INFO][37][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("6"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[Provider]
FROM [Clients] AS [c]
INNER JOIN [ClientIdPRestrictions] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T16:22:44.0629239+00:00][INFO][36][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("3"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[PostLogoutRedirectUri]
FROM [Clients] AS [c]
INNER JOIN [ClientPostLogoutRedirectUris] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T16:22:44.0716059+00:00][INFO][36][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("4"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[Key], [c0].[Value]
FROM [Clients] AS [c]
INNER JOIN [ClientProperties] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T16:22:44.0808704+00:00][INFO][33][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("3"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[RedirectUri]
FROM [Clients] AS [c]
INNER JOIN [ClientRedirectUris] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T16:22:44.0967343+00:00][INFO][37][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("5"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [i].[Id], [i].[Created], [i].[Description], [i].[DisplayName], [i].[Emphasize], [i].[Enabled], [i].[Name], [i].[NonEditable], [i].[Required], [i].[ShowInDiscoveryDocument], [i].[Updated], [i0].[Id], [i0].[IdentityResourceId], [i0].[Type], [i1].[Id], [i1].[IdentityResourceId], [i1].[Key], [i1].[Value]
FROM [IdentityResources] AS [i]
LEFT JOIN [IdentityResourceClaims] AS [i0] ON [i].[Id] = [i0].[IdentityResourceId]
LEFT JOIN [IdentityResourceProperties] AS [i1] ON [i].[Id] = [i1].[IdentityResourceId]
WHERE [i].[Name] IN (N'openid', N'profile', N'email', N'roles')
ORDER BY [i].[Id], [i0].[Id], [i1].[Id]"
[2020-12-30T16:22:44.1276112+00:00][INFO][33][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [a].[Id], [a].[AllowedAccessTokenSigningAlgorithms], [a].[Created], [a].[Description], [a].[DisplayName], [a].[Enabled], [a].[LastAccessed], [a].[Name], [a].[NonEditable], [a].[ShowInDiscoveryDocument], [a].[Updated], [a0].[Id], [a0].[ApiResourceId], [a0].[Created], [a0].[Description], [a0].[Expiration], [a0].[Type], [a0].[Value], [a1].[Id], [a1].[ApiResourceId], [a1].[Scope], [a2].[Id], [a2].[ApiResourceId], [a2].[Type], [a3].[Id], [a3].[ApiResourceId], [a3].[Key], [a3].[Value]
FROM [ApiResources] AS [a]
LEFT JOIN [ApiResourceSecrets] AS [a0] ON [a].[Id] = [a0].[ApiResourceId]
LEFT JOIN [ApiResourceScopes] AS [a1] ON [a].[Id] = [a1].[ApiResourceId]
LEFT JOIN [ApiResourceClaims] AS [a2] ON [a].[Id] = [a2].[ApiResourceId]
LEFT JOIN [ApiResourceProperties] AS [a3] ON [a].[Id] = [a3].[ApiResourceId]
WHERE EXISTS (
    SELECT 1
    FROM [ApiResourceScopes] AS [a4]
    WHERE ([a].[Id] = [a4].[ApiResourceId]) AND [a4].[Scope] IN (N'openid', N'profile', N'email', N'roles'))
ORDER BY [a].[Id], [a0].[Id], [a1].[Id], [a2].[Id], [a3].[Id]"
[2020-12-30T16:22:44.1390922+00:00][INFO][37][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("5"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [a].[Id], [a].[Description], [a].[DisplayName], [a].[Emphasize], [a].[Enabled], [a].[Name], [a].[Required], [a].[ShowInDiscoveryDocument], [a0].[Id], [a0].[ScopeId], [a0].[Type], [a1].[Id], [a1].[Key], [a1].[ScopeId], [a1].[Value]
FROM [ApiScopes] AS [a]
LEFT JOIN [ApiScopeClaims] AS [a0] ON [a].[Id] = [a0].[ScopeId]
LEFT JOIN [ApiScopeProperties] AS [a1] ON [a].[Id] = [a1].[ScopeId]
WHERE [a].[Name] IN (N'openid', N'profile', N'email', N'roles')
ORDER BY [a].[Id], [a0].[Id], [a1].[Id]"
[2020-12-30T16:22:44.1414993+00:00][INFO][37][Microsoft.EntityFrameworkCore.Infrastructure] Entity Framework Core "5.0.1" initialized '"AdminIdentityDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=EventManager.Identity.Admin.EntityFramework.SqlServer "
[2020-12-30T16:22:44.1598907+00:00][INFO][33][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("16"ms) [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0"
[2020-12-30T16:22:44.1731098+00:00][INFO][36][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("9"ms) [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0"
[2020-12-30T16:22:44.2223335+00:00][INFO][31][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("3"ms) [Parameters=["@__user_Id_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [u].[Id], [u].[ClaimType], [u].[ClaimValue], [u].[UserId]
FROM [UserClaims] AS [u]
WHERE [u].[UserId] = @__user_Id_0"
[2020-12-30T16:22:44.2388206+00:00][INFO][37][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("4"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [r].[Name]
FROM [UserRoles] AS [u]
INNER JOIN [Roles] AS [r] ON [u].[RoleId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0"
[2020-12-30T16:22:44.2521380+00:00][INFO][35][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("8"ms) [Parameters=["@__normalizedName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [Roles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0"
[2020-12-30T16:22:44.2629051+00:00][INFO][35][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("3"ms) [Parameters=["@__role_Id_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [r].[ClaimType], [r].[ClaimValue]
FROM [RoleClaims] AS [r]
WHERE [r].[RoleId] = @__role_Id_0"
[2020-12-30T16:22:44.2709463+00:00][INFO][35][Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler] AuthenticationScheme: "Identity.Application" signed in.
[2020-12-30T16:22:44.2764712+00:00][INFO][35][IdentityServer4.Events.DefaultEventService] UserLoginSuccessEvent { Username: "admin", Provider: null, ProviderUserId: null, SubjectId: "174c9a38-e759-45b6-b735-470eca298a31", DisplayName: "admin", Endpoint: "UI", ClientId: null, Category: "Authentication", Name: "User Login Success", EventType: Success, Id: 1000, Message: null, ActivityId: "0HM5CRPLRUQQJ:00000002", TimeStamp: 12/30/2020 16:22:44, ProcessId: 27, LocalIpAddress: "::ffff:192.168.240.5:50003", RemoteIpAddress: "192.168.240.1" }
[2020-12-30T16:22:44.2895537+00:00][INFO][35][Microsoft.AspNetCore.Mvc.Infrastructure.RedirectResultExecutor] Executing RedirectResult, redirecting to "/connect/authorize/callback?client_id=urn%3Aem%3Aclient%3Amvc&redirect_uri=https%3A%2F%2Fwww.em.host%2Fadmin%2Fidentity%2Fsignin-oidc&response_type=code&scope=openid%20profile%20email%20roles&code_challenge=yEqwpPLjRuTw_Wq4x1vVkk2-CScmdQ6adFAeakscwmk&code_challenge_method=S256&response_mode=form_post&nonce=637449421605497981.OTI0ZDZiMTctNDM3Ny00NTY1LTlmYzItODdiNDU2MmM5MGQ5M2FkODQ1OWQtN2NhNy00MjVjLThkM2YtY2VmNTFlYzA5YjIy&state=CfDJ8IfTHaP7X4tMgtSdbTGk8GjTbe1fUxjokuBu7ELwHegQNQedI_HaDtK0Y8_BgOZpI9Cp6GwgSxHhLAxb0h7fgy3ayyY8Z1BdSW7rH_SfzsTvPC-Vjp2sIw67yF5t-ukKUj9Zjmcawp1lrF9HzhPDG-qcOtbQZfoi-W0VXlnMC6cmhN6omcP9QNIhW9w--FoolClJbw8v93_Zmyk71MChlBkLMD2otOcTXGRkGw1GM8StNBE6xrP2dFVV5YnYSYGgL7rhw9mzKVgFDKSPYOj4onAZ6mpbUxfN8DOHC9_IPtkH26OTjMlIx67aLC6DmeIYTzVY83ypa9G7bE9NJrbuIru7gEzunHTZnbQmu1pQVfI8IW9zgAyhKu8uSFpuOUM5lw&x-client-SKU=ID_NETSTANDARD2_0&x-client-ver=5.6.0.0".
[2020-12-30T16:22:44.3000768+00:00][INFO][35][Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Executed action "EventManager.Identity.STS.Identity.Controllers.AccountController<EventManager.Identity.Admin.EntityFramework.Shared.Entities.Identity.UserIdentity, string>.Login (EventManager.Identity.STS.Identity)" in 354.0952ms
[2020-12-30T16:22:44.3007194+00:00][INFO][35][Microsoft.AspNetCore.Routing.EndpointMiddleware] Executed endpoint '"EventManager.Identity.STS.Identity.Controllers.AccountController<EventManager.Identity.Admin.EntityFramework.Shared.Entities.Identity.UserIdentity, string>.Login (EventManager.Identity.STS.Identity)"'
[2020-12-30T16:22:44.3015476+00:00][INFO][35][Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/1.1 POST https://sts.em.host/Account/Login?ReturnUrl=%2Fconnect%2Fauthorize%2Fcallback%3Fclient_id%3Durn%253Aem%253Aclient%253Amvc%26redirect_uri%3Dhttps%253A%252F%252Fwww.em.host%252Fadmin%252Fidentity%252Fsignin-oidc%26response_type%3Dcode%26scope%3Dopenid%2520profile%2520email%2520roles%26code_challenge%3DyEqwpPLjRuTw_Wq4x1vVkk2-CScmdQ6adFAeakscwmk%26code_challenge_method%3DS256%26response_mode%3Dform_post%26nonce%3D637449421605497981.OTI0ZDZiMTctNDM3Ny00NTY1LTlmYzItODdiNDU2MmM5MGQ5M2FkODQ1OWQtN2NhNy00MjVjLThkM2YtY2VmNTFlYzA5YjIy%26state%3DCfDJ8IfTHaP7X4tMgtSdbTGk8GjTbe1fUxjokuBu7ELwHegQNQedI_HaDtK0Y8_BgOZpI9Cp6GwgSxHhLAxb0h7fgy3ayyY8Z1BdSW7rH_SfzsTvPC-Vjp2sIw67yF5t-ukKUj9Zjmcawp1lrF9HzhPDG-qcOtbQZfoi-W0VXlnMC6cmhN6omcP9QNIhW9w--FoolClJbw8v93_Zmyk71MChlBkLMD2otOcTXGRkGw1GM8StNBE6xrP2dFVV5YnYSYGgL7rhw9mzKVgFDKSPYOj4onAZ6mpbUxfN8DOHC9_IPtkH26OTjMlIx67aLC6DmeIYTzVY83ypa9G7bE9NJrbuIru7gEzunHTZnbQmu1pQVfI8IW9zgAyhKu8uSFpuOUM5lw%26x-client-SKU%3DID_NETSTANDARD2_0%26x-client-ver%3D5.6.0.0 application/x-www-form-urlencoded 1207 - 302 0 - 371.2385ms
[2020-12-30T16:22:44.3551243+00:00][INFO][35][Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 GET https://sts.em.host/connect/authorize/callback?client_id=urn%3Aem%3Aclient%3Amvc&redirect_uri=https%3A%2F%2Fwww.em.host%2Fadmin%2Fidentity%2Fsignin-oidc&response_type=code&scope=openid%20profile%20email%20roles&code_challenge=yEqwpPLjRuTw_Wq4x1vVkk2-CScmdQ6adFAeakscwmk&code_challenge_method=S256&response_mode=form_post&nonce=637449421605497981.OTI0ZDZiMTctNDM3Ny00NTY1LTlmYzItODdiNDU2MmM5MGQ5M2FkODQ1OWQtN2NhNy00MjVjLThkM2YtY2VmNTFlYzA5YjIy&state=CfDJ8IfTHaP7X4tMgtSdbTGk8GjTbe1fUxjokuBu7ELwHegQNQedI_HaDtK0Y8_BgOZpI9Cp6GwgSxHhLAxb0h7fgy3ayyY8Z1BdSW7rH_SfzsTvPC-Vjp2sIw67yF5t-ukKUj9Zjmcawp1lrF9HzhPDG-qcOtbQZfoi-W0VXlnMC6cmhN6omcP9QNIhW9w--FoolClJbw8v93_Zmyk71MChlBkLMD2otOcTXGRkGw1GM8StNBE6xrP2dFVV5YnYSYGgL7rhw9mzKVgFDKSPYOj4onAZ6mpbUxfN8DOHC9_IPtkH26OTjMlIx67aLC6DmeIYTzVY83ypa9G7bE9NJrbuIru7gEzunHTZnbQmu1pQVfI8IW9zgAyhKu8uSFpuOUM5lw&x-client-SKU=ID_NETSTANDARD2_0&x-client-ver=5.6.0.0 - -
[2020-12-30T16:22:44.3582244+00:00][INFO][35][IdentityServer4.Hosting.IdentityServerMiddleware] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeCallbackEndpoint" for "/connect/authorize/callback"
[2020-12-30T16:22:44.3697894+00:00][INFO][35][Microsoft.EntityFrameworkCore.Infrastructure] Entity Framework Core "5.0.1" initialized '"IdentityServerConfigurationDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=EventManager.Identity.Admin.EntityFramework.SqlServer "
[2020-12-30T16:22:44.3911589+00:00][INFO][31][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("12"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c].[Id], [c].[AbsoluteRefreshTokenLifetime], [c].[AccessTokenLifetime], [c].[AccessTokenType], [c].[AllowAccessTokensViaBrowser], [c].[AllowOfflineAccess], [c].[AllowPlainTextPkce], [c].[AllowRememberConsent], [c].[AllowedIdentityTokenSigningAlgorithms], [c].[AlwaysIncludeUserClaimsInIdToken], [c].[AlwaysSendClientClaims], [c].[AuthorizationCodeLifetime], [c].[BackChannelLogoutSessionRequired], [c].[BackChannelLogoutUri], [c].[ClientClaimsPrefix], [c].[ClientId], [c].[ClientName], [c].[ClientUri], [c].[ConsentLifetime], [c].[Created], [c].[Description], [c].[DeviceCodeLifetime], [c].[EnableLocalLogin], [c].[Enabled], [c].[FrontChannelLogoutSessionRequired], [c].[FrontChannelLogoutUri], [c].[IdentityTokenLifetime], [c].[IncludeJwtId], [c].[LastAccessed], [c].[LogoUri], [c].[NonEditable], [c].[PairWiseSubjectSalt], [c].[ProtocolType], [c].[RefreshTokenExpiration], [c].[RefreshTokenUsage], [c].[RequireClientSecret], [c].[RequireConsent], [c].[RequirePkce], [c].[RequireRequestObject], [c].[SlidingRefreshTokenLifetime], [c].[UpdateAccessTokenClaimsOnRefresh], [c].[Updated], [c].[UserCodeType], [c].[UserSsoLifetime]
FROM [Clients] AS [c]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T16:22:44.4063290+00:00][INFO][36][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("2"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[Origin]
FROM [Clients] AS [c]
INNER JOIN [ClientCorsOrigins] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T16:22:44.4181399+00:00][INFO][35][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("6"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[GrantType]
FROM [Clients] AS [c]
INNER JOIN [ClientGrantTypes] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T16:22:44.4857787+00:00][INFO][36][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("24"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[Scope]
FROM [Clients] AS [c]
INNER JOIN [ClientScopes] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T16:22:44.4940670+00:00][INFO][26][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("6"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[Type], [c0].[Value]
FROM [Clients] AS [c]
INNER JOIN [ClientClaims] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T16:22:44.5033429+00:00][INFO][31][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("5"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[Created], [c0].[Description], [c0].[Expiration], [c0].[Type], [c0].[Value]
FROM [Clients] AS [c]
INNER JOIN [ClientSecrets] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T16:22:44.5080204+00:00][INFO][33][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("2"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[Provider]
FROM [Clients] AS [c]
INNER JOIN [ClientIdPRestrictions] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T16:22:44.5244194+00:00][INFO][33][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("12"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[PostLogoutRedirectUri]
FROM [Clients] AS [c]
INNER JOIN [ClientPostLogoutRedirectUris] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T16:22:44.5330930+00:00][INFO][25][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("6"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[Key], [c0].[Value]
FROM [Clients] AS [c]
INNER JOIN [ClientProperties] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T16:22:44.5462236+00:00][INFO][25][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("11"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[RedirectUri]
FROM [Clients] AS [c]
INNER JOIN [ClientRedirectUris] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T16:22:44.5567450+00:00][INFO][34][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("6"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [i].[Id], [i].[Created], [i].[Description], [i].[DisplayName], [i].[Emphasize], [i].[Enabled], [i].[Name], [i].[NonEditable], [i].[Required], [i].[ShowInDiscoveryDocument], [i].[Updated], [i0].[Id], [i0].[IdentityResourceId], [i0].[Type], [i1].[Id], [i1].[IdentityResourceId], [i1].[Key], [i1].[Value]
FROM [IdentityResources] AS [i]
LEFT JOIN [IdentityResourceClaims] AS [i0] ON [i].[Id] = [i0].[IdentityResourceId]
LEFT JOIN [IdentityResourceProperties] AS [i1] ON [i].[Id] = [i1].[IdentityResourceId]
WHERE [i].[Name] IN (N'openid', N'profile', N'email', N'roles')
ORDER BY [i].[Id], [i0].[Id], [i1].[Id]"
[2020-12-30T16:22:44.5764406+00:00][INFO][33][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [a].[Id], [a].[AllowedAccessTokenSigningAlgorithms], [a].[Created], [a].[Description], [a].[DisplayName], [a].[Enabled], [a].[LastAccessed], [a].[Name], [a].[NonEditable], [a].[ShowInDiscoveryDocument], [a].[Updated], [a0].[Id], [a0].[ApiResourceId], [a0].[Created], [a0].[Description], [a0].[Expiration], [a0].[Type], [a0].[Value], [a1].[Id], [a1].[ApiResourceId], [a1].[Scope], [a2].[Id], [a2].[ApiResourceId], [a2].[Type], [a3].[Id], [a3].[ApiResourceId], [a3].[Key], [a3].[Value]
FROM [ApiResources] AS [a]
LEFT JOIN [ApiResourceSecrets] AS [a0] ON [a].[Id] = [a0].[ApiResourceId]
LEFT JOIN [ApiResourceScopes] AS [a1] ON [a].[Id] = [a1].[ApiResourceId]
LEFT JOIN [ApiResourceClaims] AS [a2] ON [a].[Id] = [a2].[ApiResourceId]
LEFT JOIN [ApiResourceProperties] AS [a3] ON [a].[Id] = [a3].[ApiResourceId]
WHERE EXISTS (
    SELECT 1
    FROM [ApiResourceScopes] AS [a4]
    WHERE ([a].[Id] = [a4].[ApiResourceId]) AND [a4].[Scope] IN (N'openid', N'profile', N'email', N'roles'))
ORDER BY [a].[Id], [a0].[Id], [a1].[Id], [a2].[Id], [a3].[Id]"
[2020-12-30T16:22:44.5948264+00:00][INFO][33][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("4"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [a].[Id], [a].[Description], [a].[DisplayName], [a].[Emphasize], [a].[Enabled], [a].[Name], [a].[Required], [a].[ShowInDiscoveryDocument], [a0].[Id], [a0].[ScopeId], [a0].[Type], [a1].[Id], [a1].[Key], [a1].[ScopeId], [a1].[Value]
FROM [ApiScopes] AS [a]
LEFT JOIN [ApiScopeClaims] AS [a0] ON [a].[Id] = [a0].[ScopeId]
LEFT JOIN [ApiScopeProperties] AS [a1] ON [a].[Id] = [a1].[ScopeId]
WHERE [a].[Name] IN (N'openid', N'profile', N'email', N'roles')
ORDER BY [a].[Id], [a0].[Id], [a1].[Id]"
[2020-12-30T16:22:44.5987450+00:00][INFO][33][Microsoft.EntityFrameworkCore.Infrastructure] Entity Framework Core "5.0.1" initialized '"AdminIdentityDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=EventManager.Identity.Admin.EntityFramework.SqlServer "
[2020-12-30T16:22:44.6078965+00:00][INFO][25][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("5"ms) [Parameters=["@__p_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[Id] = @__p_0"
[2020-12-30T16:22:44.6167556+00:00][INFO][33][Microsoft.EntityFrameworkCore.Infrastructure] Entity Framework Core "5.0.1" initialized '"IdentityServerPersistedGrantDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=EventManager.Identity.Admin.EntityFramework.SqlServer "
[2020-12-30T16:22:44.6405353+00:00][INFO][25][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("21"ms) [Parameters=["@__token_Key_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [p].[Key], [p].[ClientId], [p].[ConsumedTime], [p].[CreationTime], [p].[Data], [p].[Description], [p].[Expiration], [p].[SessionId], [p].[SubjectId], [p].[Type]
FROM [PersistedGrants] AS [p]
WHERE [p].[Key] = @__token_Key_0"
[2020-12-30T16:22:44.6572180+00:00][INFO][35][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("6"ms) [Parameters=["@p0='?' (Size = 200), @p1='?' (Size = 200), @p2='?' (DbType = DateTime2), @p3='?' (DbType = DateTime2), @p4='?' (Size = 4000), @p5='?' (Size = 200), @p6='?' (DbType = DateTime2), @p7='?' (Size = 100), @p8='?' (Size = 200), @p9='?' (Size = 50)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
INSERT INTO [PersistedGrants] ([Key], [ClientId], [ConsumedTime], [CreationTime], [Data], [Description], [Expiration], [SessionId], [SubjectId], [Type])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9);"
[2020-12-30T16:22:44.7012077+00:00][INFO][35][IdentityServer4.Events.DefaultEventService] TokenIssuedSuccessEvent { ClientId: "urn:em:client:mvc", ClientName: "Event Manager Identity Admin UI", RedirectUri: "https://www.em.host/admin/identity/signin-oidc", Endpoint: "Authorize", SubjectId: "174c9a38-e759-45b6-b735-470eca298a31", Scopes: "openid profile email roles", GrantType: "authorization_code", Tokens: [Token { TokenType: "code", TokenValue: "****ECDD" }], Category: "Token", Name: "Token Issued Success", EventType: Success, Id: 2000, Message: null, ActivityId: "0HM5CRPLRUQQK:00000002", TimeStamp: 12/30/2020 16:22:44, ProcessId: 27, LocalIpAddress: "::ffff:192.168.240.5:50003", RemoteIpAddress: "192.168.240.1" }
[2020-12-30T16:22:44.7025046+00:00][INFO][35][Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler] AuthenticationScheme: "Identity.Application" signed in.
[2020-12-30T16:22:44.7035849+00:00][INFO][35][Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/1.1 GET https://sts.em.host/connect/authorize/callback?client_id=urn%3Aem%3Aclient%3Amvc&redirect_uri=https%3A%2F%2Fwww.em.host%2Fadmin%2Fidentity%2Fsignin-oidc&response_type=code&scope=openid%20profile%20email%20roles&code_challenge=yEqwpPLjRuTw_Wq4x1vVkk2-CScmdQ6adFAeakscwmk&code_challenge_method=S256&response_mode=form_post&nonce=637449421605497981.OTI0ZDZiMTctNDM3Ny00NTY1LTlmYzItODdiNDU2MmM5MGQ5M2FkODQ1OWQtN2NhNy00MjVjLThkM2YtY2VmNTFlYzA5YjIy&state=CfDJ8IfTHaP7X4tMgtSdbTGk8GjTbe1fUxjokuBu7ELwHegQNQedI_HaDtK0Y8_BgOZpI9Cp6GwgSxHhLAxb0h7fgy3ayyY8Z1BdSW7rH_SfzsTvPC-Vjp2sIw67yF5t-ukKUj9Zjmcawp1lrF9HzhPDG-qcOtbQZfoi-W0VXlnMC6cmhN6omcP9QNIhW9w--FoolClJbw8v93_Zmyk71MChlBkLMD2otOcTXGRkGw1GM8StNBE6xrP2dFVV5YnYSYGgL7rhw9mzKVgFDKSPYOj4onAZ6mpbUxfN8DOHC9_IPtkH26OTjMlIx67aLC6DmeIYTzVY83ypa9G7bE9NJrbuIru7gEzunHTZnbQmu1pQVfI8IW9zgAyhKu8uSFpuOUM5lw&x-client-SKU=ID_NETSTANDARD2_0&x-client-ver=5.6.0.0 - - - 200 - text/html;+charset=UTF-8 348.4311ms
[2020-12-30T16:33:35.0990737+00:00][INFO][11][Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 GET https://sts.em.host/connect/authorize?client_id=urn%3Aem%3Aclient%3Amvc&redirect_uri=https%3A%2F%2Fwww.em.host%2Fadmin%2Fidentity%2Fsignin-oidc&response_type=code&scope=openid%20profile%20email%20roles&code_challenge=nqk4S0hPGa8tk83nVpILgnavU-y8DCP-QUpmVqmGCoU&code_challenge_method=S256&response_mode=form_post&nonce=637449428149569736.NTlhZTBiZmQtMjQ5Yy00NzU2LTg5OTUtYjRhYjcxNDc1ZTk1MjljYWUwOWYtMmYyMS00YjA2LThiYzAtODBmZjM3NWRjMWY5&state=CfDJ8IfTHaP7X4tMgtSdbTGk8GgJBBh5G2wvVXdl38_66Z34KMT_BP_40unz6ueF2645rHkmycWTFedEUMlNWOOm07a0CDecrPIs7qALT_MGM0AToZK6fOg_42IsD317nhbJ8rgFfiVM5dZds26mNGXt7BTt75il3fL7ob1cu0sH7HPI2cUDLfujiiqhhiNkOPUQI3ATBbgvO3c_RW9EXVFd3vOFgLgh-P9yUdgUkuQ6jPFFFpLManPuUUwrdy4ooPZv-5EWFyRK9u6eka9ybP1y8_EBrWFOj8uaGMv0OTYnIwYhFW6-rMj2nFPb5EaLi972tmL_ZKl-SmzTfRE_ivKHJK0z455XfltsfHd7D_-eqI2ETy0Tsuy5tlA5UHAPqyusEA&x-client-SKU=ID_NETSTANDARD2_0&x-client-ver=5.6.0.0 - -
[2020-12-30T16:33:35.1038131+00:00][INFO][11][IdentityServer4.Hosting.IdentityServerMiddleware] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize"
[2020-12-30T16:33:35.1100594+00:00][INFO][11][Microsoft.EntityFrameworkCore.Infrastructure] Entity Framework Core "5.0.1" initialized '"IdentityServerConfigurationDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=EventManager.Identity.Admin.EntityFramework.SqlServer "
[2020-12-30T16:33:35.5454530+00:00][INFO][11][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("2"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c].[Id], [c].[AbsoluteRefreshTokenLifetime], [c].[AccessTokenLifetime], [c].[AccessTokenType], [c].[AllowAccessTokensViaBrowser], [c].[AllowOfflineAccess], [c].[AllowPlainTextPkce], [c].[AllowRememberConsent], [c].[AllowedIdentityTokenSigningAlgorithms], [c].[AlwaysIncludeUserClaimsInIdToken], [c].[AlwaysSendClientClaims], [c].[AuthorizationCodeLifetime], [c].[BackChannelLogoutSessionRequired], [c].[BackChannelLogoutUri], [c].[ClientClaimsPrefix], [c].[ClientId], [c].[ClientName], [c].[ClientUri], [c].[ConsentLifetime], [c].[Created], [c].[Description], [c].[DeviceCodeLifetime], [c].[EnableLocalLogin], [c].[Enabled], [c].[FrontChannelLogoutSessionRequired], [c].[FrontChannelLogoutUri], [c].[IdentityTokenLifetime], [c].[IncludeJwtId], [c].[LastAccessed], [c].[LogoUri], [c].[NonEditable], [c].[PairWiseSubjectSalt], [c].[ProtocolType], [c].[RefreshTokenExpiration], [c].[RefreshTokenUsage], [c].[RequireClientSecret], [c].[RequireConsent], [c].[RequirePkce], [c].[RequireRequestObject], [c].[SlidingRefreshTokenLifetime], [c].[UpdateAccessTokenClaimsOnRefresh], [c].[Updated], [c].[UserCodeType], [c].[UserSsoLifetime]
FROM [Clients] AS [c]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T16:33:35.5781180+00:00][INFO][11][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("31"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[Origin]
FROM [Clients] AS [c]
INNER JOIN [ClientCorsOrigins] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T16:33:35.6008423+00:00][INFO][41][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("6"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[GrantType]
FROM [Clients] AS [c]
INNER JOIN [ClientGrantTypes] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T16:33:35.6399937+00:00][INFO][12][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("36"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[Scope]
FROM [Clients] AS [c]
INNER JOIN [ClientScopes] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T16:33:35.7066708+00:00][INFO][43][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("4"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[Type], [c0].[Value]
FROM [Clients] AS [c]
INNER JOIN [ClientClaims] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T16:33:35.7363908+00:00][INFO][17][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("26"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[Created], [c0].[Description], [c0].[Expiration], [c0].[Type], [c0].[Value]
FROM [Clients] AS [c]
INNER JOIN [ClientSecrets] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T16:33:35.7562390+00:00][INFO][44][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("16"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[Provider]
FROM [Clients] AS [c]
INNER JOIN [ClientIdPRestrictions] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T16:33:35.7716724+00:00][INFO][38][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("14"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[PostLogoutRedirectUri]
FROM [Clients] AS [c]
INNER JOIN [ClientPostLogoutRedirectUris] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T16:33:35.7915478+00:00][INFO][12][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("16"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[Key], [c0].[Value]
FROM [Clients] AS [c]
INNER JOIN [ClientProperties] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T16:33:35.8112434+00:00][INFO][43][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("3"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[RedirectUri]
FROM [Clients] AS [c]
INNER JOIN [ClientRedirectUris] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T16:33:35.8180662+00:00][INFO][12][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [i].[Id], [i].[Created], [i].[Description], [i].[DisplayName], [i].[Emphasize], [i].[Enabled], [i].[Name], [i].[NonEditable], [i].[Required], [i].[ShowInDiscoveryDocument], [i].[Updated], [i0].[Id], [i0].[IdentityResourceId], [i0].[Type], [i1].[Id], [i1].[IdentityResourceId], [i1].[Key], [i1].[Value]
FROM [IdentityResources] AS [i]
LEFT JOIN [IdentityResourceClaims] AS [i0] ON [i].[Id] = [i0].[IdentityResourceId]
LEFT JOIN [IdentityResourceProperties] AS [i1] ON [i].[Id] = [i1].[IdentityResourceId]
WHERE [i].[Name] IN (N'openid', N'profile', N'email', N'roles')
ORDER BY [i].[Id], [i0].[Id], [i1].[Id]"
[2020-12-30T16:33:35.8382996+00:00][INFO][38][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [a].[Id], [a].[AllowedAccessTokenSigningAlgorithms], [a].[Created], [a].[Description], [a].[DisplayName], [a].[Enabled], [a].[LastAccessed], [a].[Name], [a].[NonEditable], [a].[ShowInDiscoveryDocument], [a].[Updated], [a0].[Id], [a0].[ApiResourceId], [a0].[Created], [a0].[Description], [a0].[Expiration], [a0].[Type], [a0].[Value], [a1].[Id], [a1].[ApiResourceId], [a1].[Scope], [a2].[Id], [a2].[ApiResourceId], [a2].[Type], [a3].[Id], [a3].[ApiResourceId], [a3].[Key], [a3].[Value]
FROM [ApiResources] AS [a]
LEFT JOIN [ApiResourceSecrets] AS [a0] ON [a].[Id] = [a0].[ApiResourceId]
LEFT JOIN [ApiResourceScopes] AS [a1] ON [a].[Id] = [a1].[ApiResourceId]
LEFT JOIN [ApiResourceClaims] AS [a2] ON [a].[Id] = [a2].[ApiResourceId]
LEFT JOIN [ApiResourceProperties] AS [a3] ON [a].[Id] = [a3].[ApiResourceId]
WHERE EXISTS (
    SELECT 1
    FROM [ApiResourceScopes] AS [a4]
    WHERE ([a].[Id] = [a4].[ApiResourceId]) AND [a4].[Scope] IN (N'openid', N'profile', N'email', N'roles'))
ORDER BY [a].[Id], [a0].[Id], [a1].[Id], [a2].[Id], [a3].[Id]"
[2020-12-30T16:33:35.8570972+00:00][INFO][43][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [a].[Id], [a].[Description], [a].[DisplayName], [a].[Emphasize], [a].[Enabled], [a].[Name], [a].[Required], [a].[ShowInDiscoveryDocument], [a0].[Id], [a0].[ScopeId], [a0].[Type], [a1].[Id], [a1].[Key], [a1].[ScopeId], [a1].[Value]
FROM [ApiScopes] AS [a]
LEFT JOIN [ApiScopeClaims] AS [a0] ON [a].[Id] = [a0].[ScopeId]
LEFT JOIN [ApiScopeProperties] AS [a1] ON [a].[Id] = [a1].[ScopeId]
WHERE [a].[Name] IN (N'openid', N'profile', N'email', N'roles')
ORDER BY [a].[Id], [a0].[Id], [a1].[Id]"
[2020-12-30T16:33:35.8613262+00:00][INFO][43][IdentityServer4.ResponseHandling.AuthorizeInteractionResponseGenerator] Showing login: User is not authenticated
[2020-12-30T16:33:35.8626878+00:00][INFO][43][Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/1.1 GET https://sts.em.host/connect/authorize?client_id=urn%3Aem%3Aclient%3Amvc&redirect_uri=https%3A%2F%2Fwww.em.host%2Fadmin%2Fidentity%2Fsignin-oidc&response_type=code&scope=openid%20profile%20email%20roles&code_challenge=nqk4S0hPGa8tk83nVpILgnavU-y8DCP-QUpmVqmGCoU&code_challenge_method=S256&response_mode=form_post&nonce=637449428149569736.NTlhZTBiZmQtMjQ5Yy00NzU2LTg5OTUtYjRhYjcxNDc1ZTk1MjljYWUwOWYtMmYyMS00YjA2LThiYzAtODBmZjM3NWRjMWY5&state=CfDJ8IfTHaP7X4tMgtSdbTGk8GgJBBh5G2wvVXdl38_66Z34KMT_BP_40unz6ueF2645rHkmycWTFedEUMlNWOOm07a0CDecrPIs7qALT_MGM0AToZK6fOg_42IsD317nhbJ8rgFfiVM5dZds26mNGXt7BTt75il3fL7ob1cu0sH7HPI2cUDLfujiiqhhiNkOPUQI3ATBbgvO3c_RW9EXVFd3vOFgLgh-P9yUdgUkuQ6jPFFFpLManPuUUwrdy4ooPZv-5EWFyRK9u6eka9ybP1y8_EBrWFOj8uaGMv0OTYnIwYhFW6-rMj2nFPb5EaLi972tmL_ZKl-SmzTfRE_ivKHJK0z455XfltsfHd7D_-eqI2ETy0Tsuy5tlA5UHAPqyusEA&x-client-SKU=ID_NETSTANDARD2_0&x-client-ver=5.6.0.0 - - - 302 0 - 763.5793ms
[2020-12-30T16:33:35.9482905+00:00][INFO][12][Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 GET https://sts.em.host/Account/Login?ReturnUrl=%2Fconnect%2Fauthorize%2Fcallback%3Fclient_id%3Durn%253Aem%253Aclient%253Amvc%26redirect_uri%3Dhttps%253A%252F%252Fwww.em.host%252Fadmin%252Fidentity%252Fsignin-oidc%26response_type%3Dcode%26scope%3Dopenid%2520profile%2520email%2520roles%26code_challenge%3Dnqk4S0hPGa8tk83nVpILgnavU-y8DCP-QUpmVqmGCoU%26code_challenge_method%3DS256%26response_mode%3Dform_post%26nonce%3D637449428149569736.NTlhZTBiZmQtMjQ5Yy00NzU2LTg5OTUtYjRhYjcxNDc1ZTk1MjljYWUwOWYtMmYyMS00YjA2LThiYzAtODBmZjM3NWRjMWY5%26state%3DCfDJ8IfTHaP7X4tMgtSdbTGk8GgJBBh5G2wvVXdl38_66Z34KMT_BP_40unz6ueF2645rHkmycWTFedEUMlNWOOm07a0CDecrPIs7qALT_MGM0AToZK6fOg_42IsD317nhbJ8rgFfiVM5dZds26mNGXt7BTt75il3fL7ob1cu0sH7HPI2cUDLfujiiqhhiNkOPUQI3ATBbgvO3c_RW9EXVFd3vOFgLgh-P9yUdgUkuQ6jPFFFpLManPuUUwrdy4ooPZv-5EWFyRK9u6eka9ybP1y8_EBrWFOj8uaGMv0OTYnIwYhFW6-rMj2nFPb5EaLi972tmL_ZKl-SmzTfRE_ivKHJK0z455XfltsfHd7D_-eqI2ETy0Tsuy5tlA5UHAPqyusEA%26x-client-SKU%3DID_NETSTANDARD2_0%26x-client-ver%3D5.6.0.0 - -
[2020-12-30T16:33:35.9510790+00:00][INFO][12][Microsoft.AspNetCore.Routing.EndpointMiddleware] Executing endpoint '"EventManager.Identity.STS.Identity.Controllers.AccountController<EventManager.Identity.Admin.EntityFramework.Shared.Entities.Identity.UserIdentity, string>.Login (EventManager.Identity.STS.Identity)"'
[2020-12-30T16:33:35.9518937+00:00][INFO][12][Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Route matched with "{action = \"Login\", controller = \"Account\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(System.String)" on controller "EventManager.Identity.STS.Identity.Controllers.AccountController<EventManager.Identity.Admin.EntityFramework.Shared.Entities.Identity.UserIdentity, string>" ("EventManager.Identity.STS.Identity").
[2020-12-30T16:33:35.9598690+00:00][INFO][12][Microsoft.EntityFrameworkCore.Infrastructure] Entity Framework Core "5.0.1" initialized '"IdentityServerConfigurationDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=EventManager.Identity.Admin.EntityFramework.SqlServer "
[2020-12-30T16:33:35.9988340+00:00][INFO][41][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("29"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c].[Id], [c].[AbsoluteRefreshTokenLifetime], [c].[AccessTokenLifetime], [c].[AccessTokenType], [c].[AllowAccessTokensViaBrowser], [c].[AllowOfflineAccess], [c].[AllowPlainTextPkce], [c].[AllowRememberConsent], [c].[AllowedIdentityTokenSigningAlgorithms], [c].[AlwaysIncludeUserClaimsInIdToken], [c].[AlwaysSendClientClaims], [c].[AuthorizationCodeLifetime], [c].[BackChannelLogoutSessionRequired], [c].[BackChannelLogoutUri], [c].[ClientClaimsPrefix], [c].[ClientId], [c].[ClientName], [c].[ClientUri], [c].[ConsentLifetime], [c].[Created], [c].[Description], [c].[DeviceCodeLifetime], [c].[EnableLocalLogin], [c].[Enabled], [c].[FrontChannelLogoutSessionRequired], [c].[FrontChannelLogoutUri], [c].[IdentityTokenLifetime], [c].[IncludeJwtId], [c].[LastAccessed], [c].[LogoUri], [c].[NonEditable], [c].[PairWiseSubjectSalt], [c].[ProtocolType], [c].[RefreshTokenExpiration], [c].[RefreshTokenUsage], [c].[RequireClientSecret], [c].[RequireConsent], [c].[RequirePkce], [c].[RequireRequestObject], [c].[SlidingRefreshTokenLifetime], [c].[UpdateAccessTokenClaimsOnRefresh], [c].[Updated], [c].[UserCodeType], [c].[UserSsoLifetime]
FROM [Clients] AS [c]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T16:33:36.0730140+00:00][INFO][44][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("45"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[Origin]
FROM [Clients] AS [c]
INNER JOIN [ClientCorsOrigins] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T16:33:36.0857267+00:00][INFO][43][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("3"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[GrantType]
FROM [Clients] AS [c]
INNER JOIN [ClientGrantTypes] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T16:33:36.1085550+00:00][INFO][17][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("20"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[Scope]
FROM [Clients] AS [c]
INNER JOIN [ClientScopes] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T16:33:36.1232218+00:00][INFO][42][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("2"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[Type], [c0].[Value]
FROM [Clients] AS [c]
INNER JOIN [ClientClaims] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T16:33:36.1377334+00:00][INFO][44][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("3"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[Created], [c0].[Description], [c0].[Expiration], [c0].[Type], [c0].[Value]
FROM [Clients] AS [c]
INNER JOIN [ClientSecrets] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T16:33:36.1554519+00:00][INFO][42][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("12"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[Provider]
FROM [Clients] AS [c]
INNER JOIN [ClientIdPRestrictions] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T16:33:36.1695583+00:00][INFO][44][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("10"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[PostLogoutRedirectUri]
FROM [Clients] AS [c]
INNER JOIN [ClientPostLogoutRedirectUris] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T16:33:36.2046561+00:00][INFO][44][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("22"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[Key], [c0].[Value]
FROM [Clients] AS [c]
INNER JOIN [ClientProperties] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T16:33:36.2247506+00:00][INFO][44][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("16"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[RedirectUri]
FROM [Clients] AS [c]
INNER JOIN [ClientRedirectUris] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T16:33:36.2449829+00:00][INFO][44][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("13"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [i].[Id], [i].[Created], [i].[Description], [i].[DisplayName], [i].[Emphasize], [i].[Enabled], [i].[Name], [i].[NonEditable], [i].[Required], [i].[ShowInDiscoveryDocument], [i].[Updated], [i0].[Id], [i0].[IdentityResourceId], [i0].[Type], [i1].[Id], [i1].[IdentityResourceId], [i1].[Key], [i1].[Value]
FROM [IdentityResources] AS [i]
LEFT JOIN [IdentityResourceClaims] AS [i0] ON [i].[Id] = [i0].[IdentityResourceId]
LEFT JOIN [IdentityResourceProperties] AS [i1] ON [i].[Id] = [i1].[IdentityResourceId]
WHERE [i].[Name] IN (N'openid', N'profile', N'email', N'roles')
ORDER BY [i].[Id], [i0].[Id], [i1].[Id]"
[2020-12-30T16:33:36.2606927+00:00][INFO][44][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("9"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [a].[Id], [a].[AllowedAccessTokenSigningAlgorithms], [a].[Created], [a].[Description], [a].[DisplayName], [a].[Enabled], [a].[LastAccessed], [a].[Name], [a].[NonEditable], [a].[ShowInDiscoveryDocument], [a].[Updated], [a0].[Id], [a0].[ApiResourceId], [a0].[Created], [a0].[Description], [a0].[Expiration], [a0].[Type], [a0].[Value], [a1].[Id], [a1].[ApiResourceId], [a1].[Scope], [a2].[Id], [a2].[ApiResourceId], [a2].[Type], [a3].[Id], [a3].[ApiResourceId], [a3].[Key], [a3].[Value]
FROM [ApiResources] AS [a]
LEFT JOIN [ApiResourceSecrets] AS [a0] ON [a].[Id] = [a0].[ApiResourceId]
LEFT JOIN [ApiResourceScopes] AS [a1] ON [a].[Id] = [a1].[ApiResourceId]
LEFT JOIN [ApiResourceClaims] AS [a2] ON [a].[Id] = [a2].[ApiResourceId]
LEFT JOIN [ApiResourceProperties] AS [a3] ON [a].[Id] = [a3].[ApiResourceId]
WHERE EXISTS (
    SELECT 1
    FROM [ApiResourceScopes] AS [a4]
    WHERE ([a].[Id] = [a4].[ApiResourceId]) AND [a4].[Scope] IN (N'openid', N'profile', N'email', N'roles'))
ORDER BY [a].[Id], [a0].[Id], [a1].[Id], [a2].[Id], [a3].[Id]"
[2020-12-30T16:33:36.2669995+00:00][INFO][44][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [a].[Id], [a].[Description], [a].[DisplayName], [a].[Emphasize], [a].[Enabled], [a].[Name], [a].[Required], [a].[ShowInDiscoveryDocument], [a0].[Id], [a0].[ScopeId], [a0].[Type], [a1].[Id], [a1].[Key], [a1].[ScopeId], [a1].[Value]
FROM [ApiScopes] AS [a]
LEFT JOIN [ApiScopeClaims] AS [a0] ON [a].[Id] = [a0].[ScopeId]
LEFT JOIN [ApiScopeProperties] AS [a1] ON [a].[Id] = [a1].[ScopeId]
WHERE [a].[Name] IN (N'openid', N'profile', N'email', N'roles')
ORDER BY [a].[Id], [a0].[Id], [a1].[Id]"
[2020-12-30T16:33:36.2821961+00:00][INFO][41][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("10"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c].[Id], [c].[AbsoluteRefreshTokenLifetime], [c].[AccessTokenLifetime], [c].[AccessTokenType], [c].[AllowAccessTokensViaBrowser], [c].[AllowOfflineAccess], [c].[AllowPlainTextPkce], [c].[AllowRememberConsent], [c].[AllowedIdentityTokenSigningAlgorithms], [c].[AlwaysIncludeUserClaimsInIdToken], [c].[AlwaysSendClientClaims], [c].[AuthorizationCodeLifetime], [c].[BackChannelLogoutSessionRequired], [c].[BackChannelLogoutUri], [c].[ClientClaimsPrefix], [c].[ClientId], [c].[ClientName], [c].[ClientUri], [c].[ConsentLifetime], [c].[Created], [c].[Description], [c].[DeviceCodeLifetime], [c].[EnableLocalLogin], [c].[Enabled], [c].[FrontChannelLogoutSessionRequired], [c].[FrontChannelLogoutUri], [c].[IdentityTokenLifetime], [c].[IncludeJwtId], [c].[LastAccessed], [c].[LogoUri], [c].[NonEditable], [c].[PairWiseSubjectSalt], [c].[ProtocolType], [c].[RefreshTokenExpiration], [c].[RefreshTokenUsage], [c].[RequireClientSecret], [c].[RequireConsent], [c].[RequirePkce], [c].[RequireRequestObject], [c].[SlidingRefreshTokenLifetime], [c].[UpdateAccessTokenClaimsOnRefresh], [c].[Updated], [c].[UserCodeType], [c].[UserSsoLifetime]
FROM [Clients] AS [c]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T16:33:36.2999343+00:00][INFO][41][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("6"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[Origin]
FROM [Clients] AS [c]
INNER JOIN [ClientCorsOrigins] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T16:33:36.3203108+00:00][INFO][38][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("13"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[GrantType]
FROM [Clients] AS [c]
INNER JOIN [ClientGrantTypes] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T16:33:36.3283132+00:00][INFO][38][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("4"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[Scope]
FROM [Clients] AS [c]
INNER JOIN [ClientScopes] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T16:33:36.3393687+00:00][INFO][41][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("9"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[Type], [c0].[Value]
FROM [Clients] AS [c]
INNER JOIN [ClientClaims] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T16:33:36.3496019+00:00][INFO][17][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("5"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[Created], [c0].[Description], [c0].[Expiration], [c0].[Type], [c0].[Value]
FROM [Clients] AS [c]
INNER JOIN [ClientSecrets] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T16:33:36.3647062+00:00][INFO][11][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("14"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[Provider]
FROM [Clients] AS [c]
INNER JOIN [ClientIdPRestrictions] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T16:33:36.3752215+00:00][INFO][43][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("5"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[PostLogoutRedirectUri]
FROM [Clients] AS [c]
INNER JOIN [ClientPostLogoutRedirectUris] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T16:33:36.4039083+00:00][INFO][42][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("4"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[Key], [c0].[Value]
FROM [Clients] AS [c]
INNER JOIN [ClientProperties] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T16:33:36.4308092+00:00][INFO][12][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("3"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[RedirectUri]
FROM [Clients] AS [c]
INNER JOIN [ClientRedirectUris] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T16:33:36.4353621+00:00][INFO][12][Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor] Executing ViewResult, running view "Login".
[2020-12-30T16:33:36.4725471+00:00][INFO][12][Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor] Executed ViewResult - view "Login" executed in 37.3884ms.
[2020-12-30T16:33:36.4736435+00:00][INFO][12][Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Executed action "EventManager.Identity.STS.Identity.Controllers.AccountController<EventManager.Identity.Admin.EntityFramework.Shared.Entities.Identity.UserIdentity, string>.Login (EventManager.Identity.STS.Identity)" in 515.7503ms
[2020-12-30T16:33:36.4753394+00:00][INFO][12][Microsoft.AspNetCore.Routing.EndpointMiddleware] Executed endpoint '"EventManager.Identity.STS.Identity.Controllers.AccountController<EventManager.Identity.Admin.EntityFramework.Shared.Entities.Identity.UserIdentity, string>.Login (EventManager.Identity.STS.Identity)"'
[2020-12-30T16:33:36.4873593+00:00][INFO][12][Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/1.1 GET https://sts.em.host/Account/Login?ReturnUrl=%2Fconnect%2Fauthorize%2Fcallback%3Fclient_id%3Durn%253Aem%253Aclient%253Amvc%26redirect_uri%3Dhttps%253A%252F%252Fwww.em.host%252Fadmin%252Fidentity%252Fsignin-oidc%26response_type%3Dcode%26scope%3Dopenid%2520profile%2520email%2520roles%26code_challenge%3Dnqk4S0hPGa8tk83nVpILgnavU-y8DCP-QUpmVqmGCoU%26code_challenge_method%3DS256%26response_mode%3Dform_post%26nonce%3D637449428149569736.NTlhZTBiZmQtMjQ5Yy00NzU2LTg5OTUtYjRhYjcxNDc1ZTk1MjljYWUwOWYtMmYyMS00YjA2LThiYzAtODBmZjM3NWRjMWY5%26state%3DCfDJ8IfTHaP7X4tMgtSdbTGk8GgJBBh5G2wvVXdl38_66Z34KMT_BP_40unz6ueF2645rHkmycWTFedEUMlNWOOm07a0CDecrPIs7qALT_MGM0AToZK6fOg_42IsD317nhbJ8rgFfiVM5dZds26mNGXt7BTt75il3fL7ob1cu0sH7HPI2cUDLfujiiqhhiNkOPUQI3ATBbgvO3c_RW9EXVFd3vOFgLgh-P9yUdgUkuQ6jPFFFpLManPuUUwrdy4ooPZv-5EWFyRK9u6eka9ybP1y8_EBrWFOj8uaGMv0OTYnIwYhFW6-rMj2nFPb5EaLi972tmL_ZKl-SmzTfRE_ivKHJK0z455XfltsfHd7D_-eqI2ETy0Tsuy5tlA5UHAPqyusEA%26x-client-SKU%3DID_NETSTANDARD2_0%26x-client-ver%3D5.6.0.0 - - - 200 - text/html;+charset=utf-8 539.0984ms
[2020-12-30T16:33:37.7725613+00:00][INFO][17][Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 GET https://sts.em.host/dist/css/bundle.min.css?v=6Y8xGSDMhkjYMZuaFSdp3fqA3xdNX-Q6_xp14ExGbY8 - -
[2020-12-30T16:33:37.9284635+00:00][INFO][42][Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 GET https://sts.em.host/dist/css/web.css?v=gzbQ_J4PfKys2r0KpTe01uKRO7lnqK_lEp7OvIB7ZAA - -
[2020-12-30T16:33:37.9523859+00:00][INFO][12][Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 GET https://sts.em.host/dist/js/bundle.min.js?v=11Fw87BWmEIjIw_LrA_JwvJM5t0w9WbTFIog6ElarB0 - -
[2020-12-30T16:33:38.1982773+00:00][INFO][44][Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware] Sending file. Request path: '"/dist/css/web.css"'. Physical path: '"/app/wwwroot/dist/css/web.css"'
[2020-12-30T16:33:38.2045655+00:00][INFO][44][Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/1.1 GET https://sts.em.host/dist/css/web.css?v=gzbQ_J4PfKys2r0KpTe01uKRO7lnqK_lEp7OvIB7ZAA - - - 200 8009 text/css 276.0260ms
[2020-12-30T16:33:38.2935520+00:00][INFO][17][Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware] Sending file. Request path: '"/dist/css/bundle.min.css"'. Physical path: '"/app/wwwroot/dist/css/bundle.min.css"'
[2020-12-30T16:33:38.2981824+00:00][INFO][17][Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/1.1 GET https://sts.em.host/dist/css/bundle.min.css?v=6Y8xGSDMhkjYMZuaFSdp3fqA3xdNX-Q6_xp14ExGbY8 - - - 200 205310 text/css 523.5915ms
[2020-12-30T16:33:38.3557087+00:00][INFO][45][Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware] Sending file. Request path: '"/dist/js/bundle.min.js"'. Physical path: '"/app/wwwroot/dist/js/bundle.min.js"'
[2020-12-30T16:33:38.3574305+00:00][INFO][45][Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/1.1 GET https://sts.em.host/dist/js/bundle.min.js?v=11Fw87BWmEIjIw_LrA_JwvJM5t0w9WbTFIog6ElarB0 - - - 200 250698 application/javascript 404.1649ms
[2020-12-30T16:33:38.8987451+00:00][INFO][42][Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 GET https://sts.em.host/dist/fonts/fontawesome-webfont.woff2?v=4.7.0 - -
[2020-12-30T16:33:38.9237250+00:00][INFO][38][Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 GET https://sts.em.host/dist/fonts/open-iconic.woff - -
[2020-12-30T16:33:38.9999059+00:00][INFO][45][Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware] Sending file. Request path: '"/dist/fonts/open-iconic.woff"'. Physical path: '"/app/wwwroot/dist/fonts/open-iconic.woff"'
[2020-12-30T16:33:39.0005667+00:00][INFO][45][Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/1.1 GET https://sts.em.host/dist/fonts/open-iconic.woff - - - 200 14984 application/font-woff 76.8340ms
[2020-12-30T16:33:39.0930289+00:00][INFO][43][Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware] Sending file. Request path: '"/dist/fonts/fontawesome-webfont.woff2"'. Physical path: '"/app/wwwroot/dist/fonts/fontawesome-webfont.woff2"'
[2020-12-30T16:33:39.0938193+00:00][INFO][43][Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/1.1 GET https://sts.em.host/dist/fonts/fontawesome-webfont.woff2?v=4.7.0 - - - 200 77160 font/woff2 194.9932ms
[2020-12-30T16:33:40.7871940+00:00][INFO][45][Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 GET https://sts.em.host/favicon.ico - -
[2020-12-30T16:33:40.8674462+00:00][INFO][43][Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware] Sending file. Request path: '"/favicon.ico"'. Physical path: '"/app/wwwroot/favicon.ico"'
[2020-12-30T16:33:40.8696996+00:00][INFO][43][Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/1.1 GET https://sts.em.host/favicon.ico - - - 200 4286 image/x-icon 82.3655ms
[2020-12-30T16:33:47.3503110+00:00][INFO][43][Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 POST https://sts.em.host/Account/Login?ReturnUrl=%2Fconnect%2Fauthorize%2Fcallback%3Fclient_id%3Durn%253Aem%253Aclient%253Amvc%26redirect_uri%3Dhttps%253A%252F%252Fwww.em.host%252Fadmin%252Fidentity%252Fsignin-oidc%26response_type%3Dcode%26scope%3Dopenid%2520profile%2520email%2520roles%26code_challenge%3Dnqk4S0hPGa8tk83nVpILgnavU-y8DCP-QUpmVqmGCoU%26code_challenge_method%3DS256%26response_mode%3Dform_post%26nonce%3D637449428149569736.NTlhZTBiZmQtMjQ5Yy00NzU2LTg5OTUtYjRhYjcxNDc1ZTk1MjljYWUwOWYtMmYyMS00YjA2LThiYzAtODBmZjM3NWRjMWY5%26state%3DCfDJ8IfTHaP7X4tMgtSdbTGk8GgJBBh5G2wvVXdl38_66Z34KMT_BP_40unz6ueF2645rHkmycWTFedEUMlNWOOm07a0CDecrPIs7qALT_MGM0AToZK6fOg_42IsD317nhbJ8rgFfiVM5dZds26mNGXt7BTt75il3fL7ob1cu0sH7HPI2cUDLfujiiqhhiNkOPUQI3ATBbgvO3c_RW9EXVFd3vOFgLgh-P9yUdgUkuQ6jPFFFpLManPuUUwrdy4ooPZv-5EWFyRK9u6eka9ybP1y8_EBrWFOj8uaGMv0OTYnIwYhFW6-rMj2nFPb5EaLi972tmL_ZKl-SmzTfRE_ivKHJK0z455XfltsfHd7D_-eqI2ETy0Tsuy5tlA5UHAPqyusEA%26x-client-SKU%3DID_NETSTANDARD2_0%26x-client-ver%3D5.6.0.0 application/x-www-form-urlencoded 1207
[2020-12-30T16:33:47.3793906+00:00][INFO][43][Microsoft.AspNetCore.Cors.Infrastructure.CorsMiddleware] No CORS policy found for the specified request.
[2020-12-30T16:33:47.3815038+00:00][INFO][43][Microsoft.AspNetCore.Routing.EndpointMiddleware] Executing endpoint '"EventManager.Identity.STS.Identity.Controllers.AccountController<EventManager.Identity.Admin.EntityFramework.Shared.Entities.Identity.UserIdentity, string>.Login (EventManager.Identity.STS.Identity)"'
[2020-12-30T16:33:47.3826866+00:00][INFO][43][Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Route matched with "{action = \"Login\", controller = \"Account\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(EventManager.Identity.STS.Identity.ViewModels.Account.LoginInputModel, System.String)" on controller "EventManager.Identity.STS.Identity.Controllers.AccountController<EventManager.Identity.Admin.EntityFramework.Shared.Entities.Identity.UserIdentity, string>" ("EventManager.Identity.STS.Identity").
[2020-12-30T16:33:47.3860697+00:00][INFO][43][Microsoft.EntityFrameworkCore.Infrastructure] Entity Framework Core "5.0.1" initialized '"IdentityServerConfigurationDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=EventManager.Identity.Admin.EntityFramework.SqlServer "
[2020-12-30T16:33:47.3900998+00:00][INFO][38][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("2"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c].[Id], [c].[AbsoluteRefreshTokenLifetime], [c].[AccessTokenLifetime], [c].[AccessTokenType], [c].[AllowAccessTokensViaBrowser], [c].[AllowOfflineAccess], [c].[AllowPlainTextPkce], [c].[AllowRememberConsent], [c].[AllowedIdentityTokenSigningAlgorithms], [c].[AlwaysIncludeUserClaimsInIdToken], [c].[AlwaysSendClientClaims], [c].[AuthorizationCodeLifetime], [c].[BackChannelLogoutSessionRequired], [c].[BackChannelLogoutUri], [c].[ClientClaimsPrefix], [c].[ClientId], [c].[ClientName], [c].[ClientUri], [c].[ConsentLifetime], [c].[Created], [c].[Description], [c].[DeviceCodeLifetime], [c].[EnableLocalLogin], [c].[Enabled], [c].[FrontChannelLogoutSessionRequired], [c].[FrontChannelLogoutUri], [c].[IdentityTokenLifetime], [c].[IncludeJwtId], [c].[LastAccessed], [c].[LogoUri], [c].[NonEditable], [c].[PairWiseSubjectSalt], [c].[ProtocolType], [c].[RefreshTokenExpiration], [c].[RefreshTokenUsage], [c].[RequireClientSecret], [c].[RequireConsent], [c].[RequirePkce], [c].[RequireRequestObject], [c].[SlidingRefreshTokenLifetime], [c].[UpdateAccessTokenClaimsOnRefresh], [c].[Updated], [c].[UserCodeType], [c].[UserSsoLifetime]
FROM [Clients] AS [c]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T16:33:47.4535315+00:00][INFO][45][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("4"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[Origin]
FROM [Clients] AS [c]
INNER JOIN [ClientCorsOrigins] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T16:33:47.5021106+00:00][INFO][42][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("43"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[GrantType]
FROM [Clients] AS [c]
INNER JOIN [ClientGrantTypes] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T16:33:47.5552298+00:00][INFO][43][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("2"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[Scope]
FROM [Clients] AS [c]
INNER JOIN [ClientScopes] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T16:33:47.5700383+00:00][INFO][41][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("3"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[Type], [c0].[Value]
FROM [Clients] AS [c]
INNER JOIN [ClientClaims] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T16:33:47.6107512+00:00][INFO][42][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("3"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[Created], [c0].[Description], [c0].[Expiration], [c0].[Type], [c0].[Value]
FROM [Clients] AS [c]
INNER JOIN [ClientSecrets] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T16:33:47.6314515+00:00][INFO][38][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("18"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[Provider]
FROM [Clients] AS [c]
INNER JOIN [ClientIdPRestrictions] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T16:33:47.6836735+00:00][INFO][39][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("20"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[PostLogoutRedirectUri]
FROM [Clients] AS [c]
INNER JOIN [ClientPostLogoutRedirectUris] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T16:33:47.7191408+00:00][INFO][44][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("2"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[Key], [c0].[Value]
FROM [Clients] AS [c]
INNER JOIN [ClientProperties] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T16:33:47.7254147+00:00][INFO][45][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("2"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[RedirectUri]
FROM [Clients] AS [c]
INNER JOIN [ClientRedirectUris] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T16:33:47.7576962+00:00][INFO][44][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [i].[Id], [i].[Created], [i].[Description], [i].[DisplayName], [i].[Emphasize], [i].[Enabled], [i].[Name], [i].[NonEditable], [i].[Required], [i].[ShowInDiscoveryDocument], [i].[Updated], [i0].[Id], [i0].[IdentityResourceId], [i0].[Type], [i1].[Id], [i1].[IdentityResourceId], [i1].[Key], [i1].[Value]
FROM [IdentityResources] AS [i]
LEFT JOIN [IdentityResourceClaims] AS [i0] ON [i].[Id] = [i0].[IdentityResourceId]
LEFT JOIN [IdentityResourceProperties] AS [i1] ON [i].[Id] = [i1].[IdentityResourceId]
WHERE [i].[Name] IN (N'openid', N'profile', N'email', N'roles')
ORDER BY [i].[Id], [i0].[Id], [i1].[Id]"
[2020-12-30T16:33:47.8055379+00:00][INFO][45][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("17"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [a].[Id], [a].[AllowedAccessTokenSigningAlgorithms], [a].[Created], [a].[Description], [a].[DisplayName], [a].[Enabled], [a].[LastAccessed], [a].[Name], [a].[NonEditable], [a].[ShowInDiscoveryDocument], [a].[Updated], [a0].[Id], [a0].[ApiResourceId], [a0].[Created], [a0].[Description], [a0].[Expiration], [a0].[Type], [a0].[Value], [a1].[Id], [a1].[ApiResourceId], [a1].[Scope], [a2].[Id], [a2].[ApiResourceId], [a2].[Type], [a3].[Id], [a3].[ApiResourceId], [a3].[Key], [a3].[Value]
FROM [ApiResources] AS [a]
LEFT JOIN [ApiResourceSecrets] AS [a0] ON [a].[Id] = [a0].[ApiResourceId]
LEFT JOIN [ApiResourceScopes] AS [a1] ON [a].[Id] = [a1].[ApiResourceId]
LEFT JOIN [ApiResourceClaims] AS [a2] ON [a].[Id] = [a2].[ApiResourceId]
LEFT JOIN [ApiResourceProperties] AS [a3] ON [a].[Id] = [a3].[ApiResourceId]
WHERE EXISTS (
    SELECT 1
    FROM [ApiResourceScopes] AS [a4]
    WHERE ([a].[Id] = [a4].[ApiResourceId]) AND [a4].[Scope] IN (N'openid', N'profile', N'email', N'roles'))
ORDER BY [a].[Id], [a0].[Id], [a1].[Id], [a2].[Id], [a3].[Id]"
[2020-12-30T16:33:47.8639567+00:00][INFO][12][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("29"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [a].[Id], [a].[Description], [a].[DisplayName], [a].[Emphasize], [a].[Enabled], [a].[Name], [a].[Required], [a].[ShowInDiscoveryDocument], [a0].[Id], [a0].[ScopeId], [a0].[Type], [a1].[Id], [a1].[Key], [a1].[ScopeId], [a1].[Value]
FROM [ApiScopes] AS [a]
LEFT JOIN [ApiScopeClaims] AS [a0] ON [a].[Id] = [a0].[ScopeId]
LEFT JOIN [ApiScopeProperties] AS [a1] ON [a].[Id] = [a1].[ScopeId]
WHERE [a].[Name] IN (N'openid', N'profile', N'email', N'roles')
ORDER BY [a].[Id], [a0].[Id], [a1].[Id]"
[2020-12-30T16:33:47.8666428+00:00][INFO][12][Microsoft.EntityFrameworkCore.Infrastructure] Entity Framework Core "5.0.1" initialized '"AdminIdentityDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=EventManager.Identity.Admin.EntityFramework.SqlServer "
[2020-12-30T16:33:47.8936622+00:00][INFO][42][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("24"ms) [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0"
[2020-12-30T16:33:47.9002858+00:00][INFO][45][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("4"ms) [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0"
[2020-12-30T16:33:47.9741754+00:00][INFO][12][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("17"ms) [Parameters=["@__user_Id_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [u].[Id], [u].[ClaimType], [u].[ClaimValue], [u].[UserId]
FROM [UserClaims] AS [u]
WHERE [u].[UserId] = @__user_Id_0"
[2020-12-30T16:33:48.0205796+00:00][INFO][41][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("8"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [r].[Name]
FROM [UserRoles] AS [u]
INNER JOIN [Roles] AS [r] ON [u].[RoleId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0"
[2020-12-30T16:33:48.0273282+00:00][INFO][42][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("2"ms) [Parameters=["@__normalizedName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [Roles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0"
[2020-12-30T16:33:48.0667625+00:00][INFO][45][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("3"ms) [Parameters=["@__role_Id_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [r].[ClaimType], [r].[ClaimValue]
FROM [RoleClaims] AS [r]
WHERE [r].[RoleId] = @__role_Id_0"
[2020-12-30T16:33:48.0682500+00:00][INFO][45][Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler] AuthenticationScheme: "Identity.Application" signed in.
[2020-12-30T16:33:48.0692281+00:00][INFO][45][IdentityServer4.Events.DefaultEventService] UserLoginSuccessEvent { Username: "admin", Provider: null, ProviderUserId: null, SubjectId: "174c9a38-e759-45b6-b735-470eca298a31", DisplayName: "admin", Endpoint: "UI", ClientId: null, Category: "Authentication", Name: "User Login Success", EventType: Success, Id: 1000, Message: null, ActivityId: "0HM5CRPLRUQQT:00000002", TimeStamp: 12/30/2020 16:33:48, ProcessId: 27, LocalIpAddress: "::ffff:192.168.240.5:50003", RemoteIpAddress: "192.168.240.1" }
[2020-12-30T16:33:48.0703909+00:00][INFO][45][Microsoft.AspNetCore.Mvc.Infrastructure.RedirectResultExecutor] Executing RedirectResult, redirecting to "/connect/authorize/callback?client_id=urn%3Aem%3Aclient%3Amvc&redirect_uri=https%3A%2F%2Fwww.em.host%2Fadmin%2Fidentity%2Fsignin-oidc&response_type=code&scope=openid%20profile%20email%20roles&code_challenge=nqk4S0hPGa8tk83nVpILgnavU-y8DCP-QUpmVqmGCoU&code_challenge_method=S256&response_mode=form_post&nonce=637449428149569736.NTlhZTBiZmQtMjQ5Yy00NzU2LTg5OTUtYjRhYjcxNDc1ZTk1MjljYWUwOWYtMmYyMS00YjA2LThiYzAtODBmZjM3NWRjMWY5&state=CfDJ8IfTHaP7X4tMgtSdbTGk8GgJBBh5G2wvVXdl38_66Z34KMT_BP_40unz6ueF2645rHkmycWTFedEUMlNWOOm07a0CDecrPIs7qALT_MGM0AToZK6fOg_42IsD317nhbJ8rgFfiVM5dZds26mNGXt7BTt75il3fL7ob1cu0sH7HPI2cUDLfujiiqhhiNkOPUQI3ATBbgvO3c_RW9EXVFd3vOFgLgh-P9yUdgUkuQ6jPFFFpLManPuUUwrdy4ooPZv-5EWFyRK9u6eka9ybP1y8_EBrWFOj8uaGMv0OTYnIwYhFW6-rMj2nFPb5EaLi972tmL_ZKl-SmzTfRE_ivKHJK0z455XfltsfHd7D_-eqI2ETy0Tsuy5tlA5UHAPqyusEA&x-client-SKU=ID_NETSTANDARD2_0&x-client-ver=5.6.0.0".
[2020-12-30T16:33:48.0714082+00:00][INFO][45][Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Executed action "EventManager.Identity.STS.Identity.Controllers.AccountController<EventManager.Identity.Admin.EntityFramework.Shared.Entities.Identity.UserIdentity, string>.Login (EventManager.Identity.STS.Identity)" in 687.6058ms
[2020-12-30T16:33:48.0721194+00:00][INFO][45][Microsoft.AspNetCore.Routing.EndpointMiddleware] Executed endpoint '"EventManager.Identity.STS.Identity.Controllers.AccountController<EventManager.Identity.Admin.EntityFramework.Shared.Entities.Identity.UserIdentity, string>.Login (EventManager.Identity.STS.Identity)"'
[2020-12-30T16:33:48.0730181+00:00][INFO][45][Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/1.1 POST https://sts.em.host/Account/Login?ReturnUrl=%2Fconnect%2Fauthorize%2Fcallback%3Fclient_id%3Durn%253Aem%253Aclient%253Amvc%26redirect_uri%3Dhttps%253A%252F%252Fwww.em.host%252Fadmin%252Fidentity%252Fsignin-oidc%26response_type%3Dcode%26scope%3Dopenid%2520profile%2520email%2520roles%26code_challenge%3Dnqk4S0hPGa8tk83nVpILgnavU-y8DCP-QUpmVqmGCoU%26code_challenge_method%3DS256%26response_mode%3Dform_post%26nonce%3D637449428149569736.NTlhZTBiZmQtMjQ5Yy00NzU2LTg5OTUtYjRhYjcxNDc1ZTk1MjljYWUwOWYtMmYyMS00YjA2LThiYzAtODBmZjM3NWRjMWY5%26state%3DCfDJ8IfTHaP7X4tMgtSdbTGk8GgJBBh5G2wvVXdl38_66Z34KMT_BP_40unz6ueF2645rHkmycWTFedEUMlNWOOm07a0CDecrPIs7qALT_MGM0AToZK6fOg_42IsD317nhbJ8rgFfiVM5dZds26mNGXt7BTt75il3fL7ob1cu0sH7HPI2cUDLfujiiqhhiNkOPUQI3ATBbgvO3c_RW9EXVFd3vOFgLgh-P9yUdgUkuQ6jPFFFpLManPuUUwrdy4ooPZv-5EWFyRK9u6eka9ybP1y8_EBrWFOj8uaGMv0OTYnIwYhFW6-rMj2nFPb5EaLi972tmL_ZKl-SmzTfRE_ivKHJK0z455XfltsfHd7D_-eqI2ETy0Tsuy5tlA5UHAPqyusEA%26x-client-SKU%3DID_NETSTANDARD2_0%26x-client-ver%3D5.6.0.0 application/x-www-form-urlencoded 1207 - 302 0 - 722.7122ms
[2020-12-30T16:33:48.1670813+00:00][INFO][45][Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 GET https://sts.em.host/connect/authorize/callback?client_id=urn%3Aem%3Aclient%3Amvc&redirect_uri=https%3A%2F%2Fwww.em.host%2Fadmin%2Fidentity%2Fsignin-oidc&response_type=code&scope=openid%20profile%20email%20roles&code_challenge=nqk4S0hPGa8tk83nVpILgnavU-y8DCP-QUpmVqmGCoU&code_challenge_method=S256&response_mode=form_post&nonce=637449428149569736.NTlhZTBiZmQtMjQ5Yy00NzU2LTg5OTUtYjRhYjcxNDc1ZTk1MjljYWUwOWYtMmYyMS00YjA2LThiYzAtODBmZjM3NWRjMWY5&state=CfDJ8IfTHaP7X4tMgtSdbTGk8GgJBBh5G2wvVXdl38_66Z34KMT_BP_40unz6ueF2645rHkmycWTFedEUMlNWOOm07a0CDecrPIs7qALT_MGM0AToZK6fOg_42IsD317nhbJ8rgFfiVM5dZds26mNGXt7BTt75il3fL7ob1cu0sH7HPI2cUDLfujiiqhhiNkOPUQI3ATBbgvO3c_RW9EXVFd3vOFgLgh-P9yUdgUkuQ6jPFFFpLManPuUUwrdy4ooPZv-5EWFyRK9u6eka9ybP1y8_EBrWFOj8uaGMv0OTYnIwYhFW6-rMj2nFPb5EaLi972tmL_ZKl-SmzTfRE_ivKHJK0z455XfltsfHd7D_-eqI2ETy0Tsuy5tlA5UHAPqyusEA&x-client-SKU=ID_NETSTANDARD2_0&x-client-ver=5.6.0.0 - -
[2020-12-30T16:33:48.1755394+00:00][INFO][45][IdentityServer4.Hosting.IdentityServerMiddleware] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeCallbackEndpoint" for "/connect/authorize/callback"
[2020-12-30T16:33:48.1776794+00:00][INFO][45][Microsoft.EntityFrameworkCore.Infrastructure] Entity Framework Core "5.0.1" initialized '"IdentityServerConfigurationDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=EventManager.Identity.Admin.EntityFramework.SqlServer "
[2020-12-30T16:33:48.2134353+00:00][INFO][42][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("34"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c].[Id], [c].[AbsoluteRefreshTokenLifetime], [c].[AccessTokenLifetime], [c].[AccessTokenType], [c].[AllowAccessTokensViaBrowser], [c].[AllowOfflineAccess], [c].[AllowPlainTextPkce], [c].[AllowRememberConsent], [c].[AllowedIdentityTokenSigningAlgorithms], [c].[AlwaysIncludeUserClaimsInIdToken], [c].[AlwaysSendClientClaims], [c].[AuthorizationCodeLifetime], [c].[BackChannelLogoutSessionRequired], [c].[BackChannelLogoutUri], [c].[ClientClaimsPrefix], [c].[ClientId], [c].[ClientName], [c].[ClientUri], [c].[ConsentLifetime], [c].[Created], [c].[Description], [c].[DeviceCodeLifetime], [c].[EnableLocalLogin], [c].[Enabled], [c].[FrontChannelLogoutSessionRequired], [c].[FrontChannelLogoutUri], [c].[IdentityTokenLifetime], [c].[IncludeJwtId], [c].[LastAccessed], [c].[LogoUri], [c].[NonEditable], [c].[PairWiseSubjectSalt], [c].[ProtocolType], [c].[RefreshTokenExpiration], [c].[RefreshTokenUsage], [c].[RequireClientSecret], [c].[RequireConsent], [c].[RequirePkce], [c].[RequireRequestObject], [c].[SlidingRefreshTokenLifetime], [c].[UpdateAccessTokenClaimsOnRefresh], [c].[Updated], [c].[UserCodeType], [c].[UserSsoLifetime]
FROM [Clients] AS [c]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T16:33:48.2822847+00:00][INFO][41][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("3"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[Origin]
FROM [Clients] AS [c]
INNER JOIN [ClientCorsOrigins] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T16:33:48.2866543+00:00][INFO][45][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("2"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[GrantType]
FROM [Clients] AS [c]
INNER JOIN [ClientGrantTypes] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T16:33:48.3057321+00:00][INFO][41][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("6"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[Scope]
FROM [Clients] AS [c]
INNER JOIN [ClientScopes] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T16:33:48.3162751+00:00][INFO][42][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("7"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[Type], [c0].[Value]
FROM [Clients] AS [c]
INNER JOIN [ClientClaims] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T16:33:48.3425421+00:00][INFO][44][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("22"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[Created], [c0].[Description], [c0].[Expiration], [c0].[Type], [c0].[Value]
FROM [Clients] AS [c]
INNER JOIN [ClientSecrets] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T16:33:48.3511122+00:00][INFO][39][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("5"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[Provider]
FROM [Clients] AS [c]
INNER JOIN [ClientIdPRestrictions] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T16:33:48.3750676+00:00][INFO][45][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("10"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[PostLogoutRedirectUri]
FROM [Clients] AS [c]
INNER JOIN [ClientPostLogoutRedirectUris] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T16:33:48.3914653+00:00][INFO][41][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("3"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[Key], [c0].[Value]
FROM [Clients] AS [c]
INNER JOIN [ClientProperties] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T16:33:48.4052380+00:00][INFO][12][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("4"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[RedirectUri]
FROM [Clients] AS [c]
INNER JOIN [ClientRedirectUris] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T16:33:48.4239660+00:00][INFO][42][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("4"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [i].[Id], [i].[Created], [i].[Description], [i].[DisplayName], [i].[Emphasize], [i].[Enabled], [i].[Name], [i].[NonEditable], [i].[Required], [i].[ShowInDiscoveryDocument], [i].[Updated], [i0].[Id], [i0].[IdentityResourceId], [i0].[Type], [i1].[Id], [i1].[IdentityResourceId], [i1].[Key], [i1].[Value]
FROM [IdentityResources] AS [i]
LEFT JOIN [IdentityResourceClaims] AS [i0] ON [i].[Id] = [i0].[IdentityResourceId]
LEFT JOIN [IdentityResourceProperties] AS [i1] ON [i].[Id] = [i1].[IdentityResourceId]
WHERE [i].[Name] IN (N'openid', N'profile', N'email', N'roles')
ORDER BY [i].[Id], [i0].[Id], [i1].[Id]"
[2020-12-30T16:33:48.4858339+00:00][INFO][44][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("8"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [a].[Id], [a].[AllowedAccessTokenSigningAlgorithms], [a].[Created], [a].[Description], [a].[DisplayName], [a].[Enabled], [a].[LastAccessed], [a].[Name], [a].[NonEditable], [a].[ShowInDiscoveryDocument], [a].[Updated], [a0].[Id], [a0].[ApiResourceId], [a0].[Created], [a0].[Description], [a0].[Expiration], [a0].[Type], [a0].[Value], [a1].[Id], [a1].[ApiResourceId], [a1].[Scope], [a2].[Id], [a2].[ApiResourceId], [a2].[Type], [a3].[Id], [a3].[ApiResourceId], [a3].[Key], [a3].[Value]
FROM [ApiResources] AS [a]
LEFT JOIN [ApiResourceSecrets] AS [a0] ON [a].[Id] = [a0].[ApiResourceId]
LEFT JOIN [ApiResourceScopes] AS [a1] ON [a].[Id] = [a1].[ApiResourceId]
LEFT JOIN [ApiResourceClaims] AS [a2] ON [a].[Id] = [a2].[ApiResourceId]
LEFT JOIN [ApiResourceProperties] AS [a3] ON [a].[Id] = [a3].[ApiResourceId]
WHERE EXISTS (
    SELECT 1
    FROM [ApiResourceScopes] AS [a4]
    WHERE ([a].[Id] = [a4].[ApiResourceId]) AND [a4].[Scope] IN (N'openid', N'profile', N'email', N'roles'))
ORDER BY [a].[Id], [a0].[Id], [a1].[Id], [a2].[Id], [a3].[Id]"
[2020-12-30T16:33:48.4946087+00:00][INFO][12][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [a].[Id], [a].[Description], [a].[DisplayName], [a].[Emphasize], [a].[Enabled], [a].[Name], [a].[Required], [a].[ShowInDiscoveryDocument], [a0].[Id], [a0].[ScopeId], [a0].[Type], [a1].[Id], [a1].[Key], [a1].[ScopeId], [a1].[Value]
FROM [ApiScopes] AS [a]
LEFT JOIN [ApiScopeClaims] AS [a0] ON [a].[Id] = [a0].[ScopeId]
LEFT JOIN [ApiScopeProperties] AS [a1] ON [a].[Id] = [a1].[ScopeId]
WHERE [a].[Name] IN (N'openid', N'profile', N'email', N'roles')
ORDER BY [a].[Id], [a0].[Id], [a1].[Id]"
[2020-12-30T16:33:48.5043106+00:00][INFO][12][Microsoft.EntityFrameworkCore.Infrastructure] Entity Framework Core "5.0.1" initialized '"AdminIdentityDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=EventManager.Identity.Admin.EntityFramework.SqlServer "
[2020-12-30T16:33:48.5383682+00:00][INFO][45][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("20"ms) [Parameters=["@__p_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[Id] = @__p_0"
[2020-12-30T16:33:48.5641136+00:00][INFO][45][Microsoft.EntityFrameworkCore.Infrastructure] Entity Framework Core "5.0.1" initialized '"IdentityServerPersistedGrantDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=EventManager.Identity.Admin.EntityFramework.SqlServer "
[2020-12-30T16:33:48.5686655+00:00][INFO][42][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("2"ms) [Parameters=["@__token_Key_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [p].[Key], [p].[ClientId], [p].[ConsumedTime], [p].[CreationTime], [p].[Data], [p].[Description], [p].[Expiration], [p].[SessionId], [p].[SubjectId], [p].[Type]
FROM [PersistedGrants] AS [p]
WHERE [p].[Key] = @__token_Key_0"
[2020-12-30T16:33:48.6198367+00:00][INFO][39][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("11"ms) [Parameters=["@p0='?' (Size = 200), @p1='?' (Size = 200), @p2='?' (DbType = DateTime2), @p3='?' (DbType = DateTime2), @p4='?' (Size = 4000), @p5='?' (Size = 200), @p6='?' (DbType = DateTime2), @p7='?' (Size = 100), @p8='?' (Size = 200), @p9='?' (Size = 50)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
INSERT INTO [PersistedGrants] ([Key], [ClientId], [ConsumedTime], [CreationTime], [Data], [Description], [Expiration], [SessionId], [SubjectId], [Type])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9);"
[2020-12-30T16:33:48.6357439+00:00][INFO][39][IdentityServer4.Events.DefaultEventService] TokenIssuedSuccessEvent { ClientId: "urn:em:client:mvc", ClientName: "Event Manager Identity Admin UI", RedirectUri: "https://www.em.host/admin[2020-12-30T18:30:35.8834877+00:00][INFO][1][Microsoft.EntityFrameworkCore.Infrastructure] Entity Framework Core "5.0.1" initialized '"IdentityServerDataProtectionDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=EventManager.Identity.Admin.EntityFramework.SqlServer "
[2020-12-30T18:30:38.0209010+00:00][INFO][1][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("74"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [d].[Id], [d].[FriendlyName], [d].[Xml]
FROM [DataProtectionKeys] AS [d]"
[2020-12-30T18:30:38.3070216+00:00][INFO][1][IdentityServer4.Startup] Starting IdentityServer4 version "4.1.1+cebd52f5bc61bdefc262fd20739d4d087c6f961f"
[2020-12-30T18:30:38.4191617+00:00][INFO][1][IdentityServer4.Startup] Using the default authentication scheme "Identity.Application" for IdentityServer
[2020-12-30T18:30:39.3424524+00:00][INFO][1][Microsoft.Hosting.Lifetime] Now listening on: "https://[::]:50003"
[2020-12-30T18:30:39.3450028+00:00][INFO][1][Microsoft.Hosting.Lifetime] Application started. Press Ctrl+C to shut down.
[2020-12-30T18:30:39.3459211+00:00][INFO][1][Microsoft.Hosting.Lifetime] Hosting environment: "Development"
[2020-12-30T18:30:39.3464798+00:00][INFO][1][Microsoft.Hosting.Lifetime] Content root path: "/app"
[2020-12-30T18:32:36.4189893+00:00][INFO][15][Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 GET https://sts.em.host/.well-known/openid-configuration - -
[2020-12-30T18:32:36.5306345+00:00][INFO][15][IdentityServer4.Hosting.IdentityServerMiddleware] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.DiscoveryEndpoint" for "/.well-known/openid-configuration"
[2020-12-30T18:32:37.1894600+00:00][INFO][15][Microsoft.EntityFrameworkCore.Infrastructure] Entity Framework Core "5.0.1" initialized '"IdentityServerConfigurationDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=EventManager.Identity.Admin.EntityFramework.SqlServer "
[2020-12-30T18:32:37.4443441+00:00][WARN][15][Microsoft.EntityFrameworkCore.Query] Compiling a query which loads related collections for more than one collection navigation either via 'Include' or through projection but no 'QuerySplittingBehavior' has been configured. By default Entity Framework will use 'QuerySplittingBehavior.SingleQuery' which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'
[2020-12-30T18:32:37.6019417+00:00][INFO][6][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("70"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [i].[Id], [i].[Created], [i].[Description], [i].[DisplayName], [i].[Emphasize], [i].[Enabled], [i].[Name], [i].[NonEditable], [i].[Required], [i].[ShowInDiscoveryDocument], [i].[Updated], [i0].[Id], [i0].[IdentityResourceId], [i0].[Type], [i1].[Id], [i1].[IdentityResourceId], [i1].[Key], [i1].[Value]
FROM [IdentityResources] AS [i]
LEFT JOIN [IdentityResourceClaims] AS [i0] ON [i].[Id] = [i0].[IdentityResourceId]
LEFT JOIN [IdentityResourceProperties] AS [i1] ON [i].[Id] = [i1].[IdentityResourceId]
ORDER BY [i].[Id], [i0].[Id], [i1].[Id]"
[2020-12-30T18:32:37.8584148+00:00][WARN][6][Microsoft.EntityFrameworkCore.Query] Compiling a query which loads related collections for more than one collection navigation either via 'Include' or through projection but no 'QuerySplittingBehavior' has been configured. By default Entity Framework will use 'QuerySplittingBehavior.SingleQuery' which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'
[2020-12-30T18:32:37.9172727+00:00][INFO][6][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("21"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [a].[Id], [a].[AllowedAccessTokenSigningAlgorithms], [a].[Created], [a].[Description], [a].[DisplayName], [a].[Enabled], [a].[LastAccessed], [a].[Name], [a].[NonEditable], [a].[ShowInDiscoveryDocument], [a].[Updated], [a0].[Id], [a0].[ApiResourceId], [a0].[Created], [a0].[Description], [a0].[Expiration], [a0].[Type], [a0].[Value], [a1].[Id], [a1].[ApiResourceId], [a1].[Scope], [a2].[Id], [a2].[ApiResourceId], [a2].[Type], [a3].[Id], [a3].[ApiResourceId], [a3].[Key], [a3].[Value]
FROM [ApiResources] AS [a]
LEFT JOIN [ApiResourceSecrets] AS [a0] ON [a].[Id] = [a0].[ApiResourceId]
LEFT JOIN [ApiResourceScopes] AS [a1] ON [a].[Id] = [a1].[ApiResourceId]
LEFT JOIN [ApiResourceClaims] AS [a2] ON [a].[Id] = [a2].[ApiResourceId]
LEFT JOIN [ApiResourceProperties] AS [a3] ON [a].[Id] = [a3].[ApiResourceId]
ORDER BY [a].[Id], [a0].[Id], [a1].[Id], [a2].[Id], [a3].[Id]"
[2020-12-30T18:32:37.9362601+00:00][WARN][6][Microsoft.EntityFrameworkCore.Query] Compiling a query which loads related collections for more than one collection navigation either via 'Include' or through projection but no 'QuerySplittingBehavior' has been configured. By default Entity Framework will use 'QuerySplittingBehavior.SingleQuery' which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'
[2020-12-30T18:32:37.9766649+00:00][INFO][15][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("11"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [a].[Id], [a].[Description], [a].[DisplayName], [a].[Emphasize], [a].[Enabled], [a].[Name], [a].[Required], [a].[ShowInDiscoveryDocument], [a0].[Id], [a0].[ScopeId], [a0].[Type], [a1].[Id], [a1].[Key], [a1].[ScopeId], [a1].[Value]
FROM [ApiScopes] AS [a]
LEFT JOIN [ApiScopeClaims] AS [a0] ON [a].[Id] = [a0].[ScopeId]
LEFT JOIN [ApiScopeProperties] AS [a1] ON [a].[Id] = [a1].[ScopeId]
ORDER BY [a].[Id], [a0].[Id], [a1].[Id]"
[2020-12-30T18:32:38.7693144+00:00][INFO][15][Serilog.AspNetCore.RequestLoggingMiddleware] HTTP "GET" "/.well-known/openid-configuration" responded 200 in 2330.9565 ms
[2020-12-30T18:32:38.8008141+00:00][INFO][15][Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/1.1 GET https://sts.em.host/.well-known/openid-configuration - - - 200 - application/json;+charset=UTF-8 2381.3066ms
[2020-12-30T18:32:39.0022751+00:00][INFO][14][Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 GET https://sts.em.host/.well-known/openid-configuration/jwks - -
[2020-12-30T18:32:39.0071812+00:00][INFO][14][IdentityServer4.Hosting.IdentityServerMiddleware] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.DiscoveryKeyEndpoint" for "/.well-known/openid-configuration/jwks"
[2020-12-30T18:32:39.1712321+00:00][INFO][14][Serilog.AspNetCore.RequestLoggingMiddleware] HTTP "GET" "/.well-known/openid-configuration/jwks" responded 200 in 168.0784 ms
[2020-12-30T18:32:39.1724472+00:00][INFO][14][Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/1.1 GET https://sts.em.host/.well-known/openid-configuration/jwks - - - 200 - application/json;+charset=UTF-8 170.1578ms
[2020-12-30T18:32:39.3841771+00:00][INFO][16][Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 GET https://sts.em.host/connect/authorize?client_id=urn%3Aem%3Aclient%3Amvc&redirect_uri=https%3A%2F%2Fwww.em.host%2Fadmin%2Fidentity%2Fsignin-oidc&response_type=code&scope=openid%20profile%20email%20roles&code_challenge=Lb-praAolt0WknGjqg6CNwnSHir_SMm8aV7KbV6-4Mw&code_challenge_method=S256&response_mode=form_post&nonce=637449499592289226.YzVhMGY1ODYtNDAzYS00ZjYzLTg3OTEtNjdlZTc4OGMyNWZlMTg5NWE5ZTktZDExZi00NWMwLThmN2UtNDY4ODUzMTY3OGZi&state=CfDJ8IfTHaP7X4tMgtSdbTGk8GhMcXJwcy9vG3IYd5WvvzbsH3NMAdQ4zqrmCmTfFhGm-PJGJPZSABTskrNnPs57H7E9_gtGRAzyOB9AMzwoXEB1GB707l-7_Tcj2Wip-BoeLYFd_qbO028rcE0EkOLds0zp3fuaP0U24omDan2ZBuvqfpJ9LI96YrvJq30PNZ_3FzqoX1_qjjShh8dhwsFJ-wL4BoT-XTOJCu21FA7jD712NowZMdn9tp6qvkZDQl4xUiqS7VyzTXVU44nUKvGz9_rqgRsb0uKd6kLZ5Kd4XDAEErzqIGWyO-4PyYRP1wWfBnBmWjJ0L2aXSE-IRjahInk1yyNIM4mPeVSLsvmYXvxMMh_Q1Rrn6Ql7kZgCkFUIPg&x-client-SKU=ID_NETSTANDARD2_0&x-client-ver=5.6.0.0 - -
[2020-12-30T18:32:39.5085183+00:00][INFO][16][Microsoft.EntityFrameworkCore.Infrastructure] Entity Framework Core "5.0.1" initialized '"AdminIdentityDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=EventManager.Identity.Admin.EntityFramework.SqlServer "
[2020-12-30T18:32:39.6045381+00:00][INFO][6][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("29"ms) [Parameters=["@__p_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[Id] = @__p_0"
[2020-12-30T18:32:39.8957179+00:00][INFO][16][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("10"ms) [Parameters=["@__user_Id_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [u].[Id], [u].[ClaimType], [u].[ClaimValue], [u].[UserId]
FROM [UserClaims] AS [u]
WHERE [u].[UserId] = @__user_Id_0"
[2020-12-30T18:32:40.0741044+00:00][INFO][13][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("29"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [r].[Name]
FROM [UserRoles] AS [u]
INNER JOIN [Roles] AS [r] ON [u].[RoleId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0"
[2020-12-30T18:32:40.1369800+00:00][INFO][6][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("6"ms) [Parameters=["@__normalizedName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [Roles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0"
[2020-12-30T18:32:40.2442110+00:00][INFO][5][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("6"ms) [Parameters=["@__role_Id_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [r].[ClaimType], [r].[ClaimValue]
FROM [RoleClaims] AS [r]
WHERE [r].[RoleId] = @__role_Id_0"
[2020-12-30T18:32:40.4401794+00:00][INFO][6][IdentityServer4.Hosting.IdentityServerMiddleware] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize"
[2020-12-30T18:32:40.4821898+00:00][INFO][6][Microsoft.EntityFrameworkCore.Infrastructure] Entity Framework Core "5.0.1" initialized '"IdentityServerConfigurationDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=EventManager.Identity.Admin.EntityFramework.SqlServer "
[2020-12-30T18:32:40.5184284+00:00][INFO][16][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("14"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c].[Id], [c].[AbsoluteRefreshTokenLifetime], [c].[AccessTokenLifetime], [c].[AccessTokenType], [c].[AllowAccessTokensViaBrowser], [c].[AllowOfflineAccess], [c].[AllowPlainTextPkce], [c].[AllowRememberConsent], [c].[AllowedIdentityTokenSigningAlgorithms], [c].[AlwaysIncludeUserClaimsInIdToken], [c].[AlwaysSendClientClaims], [c].[AuthorizationCodeLifetime], [c].[BackChannelLogoutSessionRequired], [c].[BackChannelLogoutUri], [c].[ClientClaimsPrefix], [c].[ClientId], [c].[ClientName], [c].[ClientUri], [c].[ConsentLifetime], [c].[Created], [c].[Description], [c].[DeviceCodeLifetime], [c].[EnableLocalLogin], [c].[Enabled], [c].[FrontChannelLogoutSessionRequired], [c].[FrontChannelLogoutUri], [c].[IdentityTokenLifetime], [c].[IncludeJwtId], [c].[LastAccessed], [c].[LogoUri], [c].[NonEditable], [c].[PairWiseSubjectSalt], [c].[ProtocolType], [c].[RefreshTokenExpiration], [c].[RefreshTokenUsage], [c].[RequireClientSecret], [c].[RequireConsent], [c].[RequirePkce], [c].[RequireRequestObject], [c].[SlidingRefreshTokenLifetime], [c].[UpdateAccessTokenClaimsOnRefresh], [c].[Updated], [c].[UserCodeType], [c].[UserSsoLifetime]
FROM [Clients] AS [c]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T18:32:40.7213709+00:00][INFO][5][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("9"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[Origin]
FROM [Clients] AS [c]
INNER JOIN [ClientCorsOrigins] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T18:32:40.7657881+00:00][INFO][5][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("10"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[GrantType]
FROM [Clients] AS [c]
INNER JOIN [ClientGrantTypes] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T18:32:40.8015943+00:00][INFO][5][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("9"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[Scope]
FROM [Clients] AS [c]
INNER JOIN [ClientScopes] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T18:32:40.8476483+00:00][INFO][5][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("9"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[Type], [c0].[Value]
FROM [Clients] AS [c]
INNER JOIN [ClientClaims] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T18:32:40.8871206+00:00][INFO][15][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("13"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[Created], [c0].[Description], [c0].[Expiration], [c0].[Type], [c0].[Value]
FROM [Clients] AS [c]
INNER JOIN [ClientSecrets] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T18:32:40.9416443+00:00][INFO][13][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("5"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[Provider]
FROM [Clients] AS [c]
INNER JOIN [ClientIdPRestrictions] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T18:32:40.9680619+00:00][INFO][15][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("9"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[PostLogoutRedirectUri]
FROM [Clients] AS [c]
INNER JOIN [ClientPostLogoutRedirectUris] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T18:32:41.0083370+00:00][INFO][12][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("6"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[Key], [c0].[Value]
FROM [Clients] AS [c]
INNER JOIN [ClientProperties] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T18:32:41.0384764+00:00][INFO][13][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("6"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[RedirectUri]
FROM [Clients] AS [c]
INNER JOIN [ClientRedirectUris] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T18:32:41.4325604+00:00][WARN][13][Microsoft.EntityFrameworkCore.Query] Compiling a query which loads related collections for more than one collection navigation either via 'Include' or through projection but no 'QuerySplittingBehavior' has been configured. By default Entity Framework will use 'QuerySplittingBehavior.SingleQuery' which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'
[2020-12-30T18:32:41.4699518+00:00][INFO][12][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("13"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [i].[Id], [i].[Created], [i].[Description], [i].[DisplayName], [i].[Emphasize], [i].[Enabled], [i].[Name], [i].[NonEditable], [i].[Required], [i].[ShowInDiscoveryDocument], [i].[Updated], [i0].[Id], [i0].[IdentityResourceId], [i0].[Type], [i1].[Id], [i1].[IdentityResourceId], [i1].[Key], [i1].[Value]
FROM [IdentityResources] AS [i]
LEFT JOIN [IdentityResourceClaims] AS [i0] ON [i].[Id] = [i0].[IdentityResourceId]
LEFT JOIN [IdentityResourceProperties] AS [i1] ON [i].[Id] = [i1].[IdentityResourceId]
WHERE [i].[Name] IN (N'openid', N'profile', N'email', N'roles')
ORDER BY [i].[Id], [i0].[Id], [i1].[Id]"
[2020-12-30T18:32:41.5349083+00:00][WARN][15][Microsoft.EntityFrameworkCore.Query] Compiling a query which loads related collections for more than one collection navigation either via 'Include' or through projection but no 'QuerySplittingBehavior' has been configured. By default Entity Framework will use 'QuerySplittingBehavior.SingleQuery' which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'
[2020-12-30T18:32:41.5923113+00:00][INFO][15][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("17"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [a].[Id], [a].[AllowedAccessTokenSigningAlgorithms], [a].[Created], [a].[Description], [a].[DisplayName], [a].[Enabled], [a].[LastAccessed], [a].[Name], [a].[NonEditable], [a].[ShowInDiscoveryDocument], [a].[Updated], [a0].[Id], [a0].[ApiResourceId], [a0].[Created], [a0].[Description], [a0].[Expiration], [a0].[Type], [a0].[Value], [a1].[Id], [a1].[ApiResourceId], [a1].[Scope], [a2].[Id], [a2].[ApiResourceId], [a2].[Type], [a3].[Id], [a3].[ApiResourceId], [a3].[Key], [a3].[Value]
FROM [ApiResources] AS [a]
LEFT JOIN [ApiResourceSecrets] AS [a0] ON [a].[Id] = [a0].[ApiResourceId]
LEFT JOIN [ApiResourceScopes] AS [a1] ON [a].[Id] = [a1].[ApiResourceId]
LEFT JOIN [ApiResourceClaims] AS [a2] ON [a].[Id] = [a2].[ApiResourceId]
LEFT JOIN [ApiResourceProperties] AS [a3] ON [a].[Id] = [a3].[ApiResourceId]
WHERE EXISTS (
    SELECT 1
    FROM [ApiResourceScopes] AS [a4]
    WHERE ([a].[Id] = [a4].[ApiResourceId]) AND [a4].[Scope] IN (N'openid', N'profile', N'email', N'roles'))
ORDER BY [a].[Id], [a0].[Id], [a1].[Id], [a2].[Id], [a3].[Id]"
[2020-12-30T18:32:41.6147685+00:00][WARN][15][Microsoft.EntityFrameworkCore.Query] Compiling a query which loads related collections for more than one collection navigation either via 'Include' or through projection but no 'QuerySplittingBehavior' has been configured. By default Entity Framework will use 'QuerySplittingBehavior.SingleQuery' which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'
[2020-12-30T18:32:41.6460244+00:00][INFO][16][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("11"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [a].[Id], [a].[Description], [a].[DisplayName], [a].[Emphasize], [a].[Enabl[2020-12-30T18:52:14.1946457+00:00][INFO][1][Microsoft.EntityFrameworkCore.Infrastructure] Entity Framework Core "5.0.1" initialized '"IdentityServerDataProtectionDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=EventManager.Identity.Admin.EntityFramework.SqlServer "
[2020-12-30T18:52:16.0481322+00:00][INFO][1][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("42"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [d].[Id], [d].[FriendlyName], [d].[Xml]
FROM [DataProtectionKeys] AS [d]"
[2020-12-30T18:52:16.3552000+00:00][INFO][1][IdentityServer4.Startup] Starting IdentityServer4 version "4.1.1+cebd52f5bc61bdefc262fd20739d4d087c6f961f"
[2020-12-30T18:52:16.4278968+00:00][INFO][1][IdentityServer4.Startup] Using the default authentication scheme "Identity.Application" for IdentityServer
[2020-12-30T18:52:17.6207807+00:00][INFO][1][Microsoft.Hosting.Lifetime] Now listening on: "https://[::]:50003"
[2020-12-30T18:52:17.6218039+00:00][INFO][1][Microsoft.Hosting.Lifetime] Application started. Press Ctrl+C to shut down.
[2020-12-30T18:52:17.6227440+00:00][INFO][1][Microsoft.Hosting.Lifetime] Hosting environment: "Development"
[2020-12-30T18:52:17.6233544+00:00][INFO][1][Microsoft.Hosting.Lifetime] Content root path: "/app"
[2020-12-30T19:27:23.6053551+00:00][INFO][14][Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 GET https://sts.em.host/.well-known/openid-configuration - -
[2020-12-30T19:27:23.7128353+00:00][INFO][14][IdentityServer4.Hosting.IdentityServerMiddleware] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.DiscoveryEndpoint" for "/.well-known/openid-configuration"
[2020-12-30T19:27:24.2511855+00:00][INFO][14][Microsoft.EntityFrameworkCore.Infrastructure] Entity Framework Core "5.0.1" initialized '"IdentityServerConfigurationDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=EventManager.Identity.Admin.EntityFramework.SqlServer "
[2020-12-30T19:27:24.4746345+00:00][WARN][14][Microsoft.EntityFrameworkCore.Query] Compiling a query which loads related collections for more than one collection navigation either via 'Include' or through projection but no 'QuerySplittingBehavior' has been configured. By default Entity Framework will use 'QuerySplittingBehavior.SingleQuery' which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'
[2020-12-30T19:27:24.7389026+00:00][INFO][14][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("25"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [i].[Id], [i].[Created], [i].[Description], [i].[DisplayName], [i].[Emphasize], [i].[Enabled], [i].[Name], [i].[NonEditable], [i].[Required], [i].[ShowInDiscoveryDocument], [i].[Updated], [i0].[Id], [i0].[IdentityResourceId], [i0].[Type], [i1].[Id], [i1].[IdentityResourceId], [i1].[Key], [i1].[Value]
FROM [IdentityResources] AS [i]
LEFT JOIN [IdentityResourceClaims] AS [i0] ON [i].[Id] = [i0].[IdentityResourceId]
LEFT JOIN [IdentityResourceProperties] AS [i1] ON [i].[Id] = [i1].[IdentityResourceId]
ORDER BY [i].[Id], [i0].[Id], [i1].[Id]"
[2020-12-30T19:27:24.9383750+00:00][WARN][14][Microsoft.EntityFrameworkCore.Query] Compiling a query which loads related collections for more than one collection navigation either via 'Include' or through projection but no 'QuerySplittingBehavior' has been configured. By default Entity Framework will use 'QuerySplittingBehavior.SingleQuery' which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'
[2020-12-30T19:27:25.0062690+00:00][INFO][21][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("17"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [a].[Id], [a].[AllowedAccessTokenSigningAlgorithms], [a].[Created], [a].[Description], [a].[DisplayName], [a].[Enabled], [a].[LastAccessed], [a].[Name], [a].[NonEditable], [a].[ShowInDiscoveryDocument], [a].[Updated], [a0].[Id], [a0].[ApiResourceId], [a0].[Created], [a0].[Description], [a0].[Expiration], [a0].[Type], [a0].[Value], [a1].[Id], [a1].[ApiResourceId], [a1].[Scope], [a2].[Id], [a2].[ApiResourceId], [a2].[Type], [a3].[Id], [a3].[ApiResourceId], [a3].[Key], [a3].[Value]
FROM [ApiResources] AS [a]
LEFT JOIN [ApiResourceSecrets] AS [a0] ON [a].[Id] = [a0].[ApiResourceId]
LEFT JOIN [ApiResourceScopes] AS [a1] ON [a].[Id] = [a1].[ApiResourceId]
LEFT JOIN [ApiResourceClaims] AS [a2] ON [a].[Id] = [a2].[ApiResourceId]
LEFT JOIN [ApiResourceProperties] AS [a3] ON [a].[Id] = [a3].[ApiResourceId]
ORDER BY [a].[Id], [a0].[Id], [a1].[Id], [a2].[Id], [a3].[Id]"
[2020-12-30T19:27:25.0279002+00:00][WARN][21][Microsoft.EntityFrameworkCore.Query] Compiling a query which loads related collections for more than one collection navigation either via 'Include' or through projection but no 'QuerySplittingBehavior' has been configured. By default Entity Framework will use 'QuerySplittingBehavior.SingleQuery' which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'
[2020-12-30T19:27:25.0604728+00:00][INFO][21][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("8"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [a].[Id], [a].[Description], [a].[DisplayName], [a].[Emphasize], [a].[Enabled], [a].[Name], [a].[Required], [a].[ShowInDiscoveryDocument], [a0].[Id], [a0].[ScopeId], [a0].[Type], [a1].[Id], [a1].[Key], [a1].[ScopeId], [a1].[Value]
FROM [ApiScopes] AS [a]
LEFT JOIN [ApiScopeClaims] AS [a0] ON [a].[Id] = [a0].[ScopeId]
LEFT JOIN [ApiScopeProperties] AS [a1] ON [a].[Id] = [a1].[ScopeId]
ORDER BY [a].[Id], [a0].[Id], [a1].[Id]"
[2020-12-30T19:27:25.9330960+00:00][INFO][21][Serilog.AspNetCore.RequestLoggingMiddleware] HTTP "GET" "/.well-known/openid-configuration" responded 200 in 2308.8490 ms
[2020-12-30T19:27:25.9463753+00:00][INFO][21][Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/1.1 GET https://sts.em.host/.well-known/openid-configuration - - - 200 - application/json;+charset=UTF-8 2342.6888ms
[2020-12-30T19:27:26.2342472+00:00][INFO][16][Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 GET https://sts.em.host/.well-known/openid-configuration/jwks - -
[2020-12-30T19:27:26.2416866+00:00][INFO][16][IdentityServer4.Hosting.IdentityServerMiddleware] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.DiscoveryKeyEndpoint" for "/.well-known/openid-configuration/jwks"
[2020-12-30T19:27:26.3643737+00:00][INFO][16][Serilog.AspNetCore.RequestLoggingMiddleware] HTTP "GET" "/.well-known/openid-configuration/jwks" responded 200 in 129.2592 ms
[2020-12-30T19:27:26.3867304+00:00][INFO][16][Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/1.1 GET https://sts.em.host/.well-known/openid-configuration/jwks - - - 200 - application/json;+charset=UTF-8 152.4056ms
[2020-12-30T19:27:26.5457956+00:00][INFO][12][Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 GET https://sts.em.host/connect/authorize?client_id=urn%3Aem%3Aclient%3Amvc&redirect_uri=https%3A%2F%2Fwww.em.host%2Fadmin%2Fidentity%2Fsignin-oidc&response_type=code&scope=openid%20profile%20email%20roles&code_challenge=ktJzdfsoz2ZkvSVnJ8B0H7MYBAk-phru-IV4p3Z72j0&code_challenge_method=S256&response_mode=form_post&nonce=637449532464499104.ZGIzYTc2MGEtYzI4OS00MWY0LWI1NDAtNzU3MjdmZTUyYWI3M2YxMTQ5OGUtOGI1My00OTU4LTljOTktYzJiMWQ0MzVlNmJh&state=CfDJ8IfTHaP7X4tMgtSdbTGk8Giinogiw0y2E4IbIx8DViafEtfIy6KJrELWVe9sR9Di7aOS79_0-ZXsHoOiwcGHTN-8XZNxJlNyL4oLjX6oPexgMZ7neefpjDCNGXwL05mId9d5FO4fb1BLymeTjdhnD9XkL7vDGO3ayS2T3lhpe4D-TOuiHnSspCoxCyTgez7QjNzLu-E4VlmTn1GK1W1_WjVAbSMS4slQq5BBgpejLQ6vZBUDiisB24d1TSFDxdjVPc9TQlvmCev85wdM5rjSG1nBAcw3MGlvk1vZJHHDXyHijPUo1dzT3BR6MJVzl5db7ctKfBPCxAjYnOWxxeYRDsON6Jde6FbCIA1HQKNSCLwb35vbCVRv2syPsVjSjLYSlg&x-client-SKU=ID_NETSTANDARD2_0&x-client-ver=6.8.0.0 - -
[2020-12-30T19:27:26.6870519+00:00][INFO][12][Microsoft.EntityFrameworkCore.Infrastructure] Entity Framework Core "5.0.1" initialized '"AdminIdentityDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=EventManager.Identity.Admin.EntityFramework.SqlServer "
[2020-12-30T19:27:26.7575595+00:00][INFO][10][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("20"ms) [Parameters=["@__p_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[Id] = @__p_0"
[2020-12-30T19:27:26.8799247+00:00][INFO][12][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("10"ms) [Parameters=["@__user_Id_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [u].[Id], [u].[ClaimType], [u].[ClaimValue], [u].[UserId]
FROM [UserClaims] AS [u]
WHERE [u].[UserId] = @__user_Id_0"
[2020-12-30T19:27:26.9495288+00:00][INFO][10][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("6"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [r].[Name]
FROM [UserRoles] AS [u]
INNER JOIN [Roles] AS [r] ON [u].[RoleId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0"
[2020-12-30T19:27:26.9806184+00:00][INFO][19][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("1"ms) [Parameters=["@__normalizedName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [Roles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0"
[2020-12-30T19:27:27.0142577+00:00][INFO][19][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("3"ms) [Parameters=["@__role_Id_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [r].[ClaimType], [r].[ClaimValue]
FROM [RoleClaims] AS [r]
WHERE [r].[RoleId] = @__role_Id_0"
[2020-12-30T19:27:27.1536326+00:00][INFO][19][IdentityServer4.Hosting.IdentityServerMiddleware] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize"
[2020-12-30T19:27:27.2384568+00:00][INFO][19][Microsoft.EntityFrameworkCore.Infrastructure] Entity Framework Core "5.0.1" initialized '"IdentityServerConfigurationDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=EventManager.Identity.Admin.EntityFramework.SqlServer "
[2020-12-30T19:27:27.2961863+00:00][INFO][10][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("27"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c].[Id], [c].[AbsoluteRefreshTokenLifetime], [c].[AccessTokenLifetime], [c].[AccessTokenType], [c].[AllowAccessTokensViaBrowser], [c].[AllowOfflineAccess], [c].[AllowPlainTextPkce], [c].[AllowRememberConsent], [c].[AllowedIdentityTokenSigningAlgorithms], [c].[AlwaysIncludeUserClaimsInIdToken], [c].[AlwaysSendClientClaims], [c].[AuthorizationCodeLifetime], [c].[BackChannelLogoutSessionRequired], [c].[BackChannelLogoutUri], [c].[ClientClaimsPrefix], [c].[ClientId], [c].[ClientName], [c].[ClientUri], [c].[ConsentLifetime], [c].[Created], [c].[Description], [c].[DeviceCodeLifetime], [c].[EnableLocalLogin], [c].[Enabled], [c].[FrontChannelLogoutSessionRequired], [c].[FrontChannelLogoutUri], [c].[IdentityTokenLifetime], [c].[IncludeJwtId], [c].[LastAccessed], [c].[LogoUri], [c].[NonEditable], [c].[PairWiseSubjectSalt], [c].[ProtocolType], [c].[RefreshTokenExpiration], [c].[RefreshTokenUsage], [c].[RequireClientSecret], [c].[RequireConsent], [c].[RequirePkce], [c].[RequireRequestObject], [c].[SlidingRefreshTokenLifetime], [c].[UpdateAccessTokenClaimsOnRefresh], [c].[Updated], [c].[UserCodeType], [c].[UserSsoLifetime]
FROM [Clients] AS [c]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T19:27:27.4584597+00:00][INFO][12][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("5"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[Origin]
FROM [Clients] AS [c]
INNER JOIN [ClientCorsOrigins] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T19:27:27.4936558+00:00][INFO][17][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("6"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[GrantType]
FROM [Clients] AS [c]
INNER JOIN [ClientGrantTypes] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T19:27:27.5299538+00:00][INFO][17][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("5"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[Scope]
FROM [Clients] AS [c]
INNER JOIN [ClientScopes] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T19:27:27.5621987+00:00][INFO][12][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("4"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[Type], [c0].[Value]
FROM [Clients] AS [c]
INNER JOIN [ClientClaims] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T19:27:27.5882752+00:00][INFO][17][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("6"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[Created], [c0].[Description], [c0].[Expiration], [c0].[Type], [c0].[Value]
FROM [Clients] AS [c]
INNER JOIN [ClientSecrets] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T19:27:27.6291911+00:00][INFO][10][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("9"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[Provider]
FROM [Clients] AS [c]
INNER JOIN [ClientIdPRestrictions] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T19:27:27.6737289+00:00][INFO][12][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("8"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[PostLogoutRedirectUri]
FROM [Clients] AS [c]
INNER JOIN [ClientPostLogoutRedirectUris] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T19:27:27.7103333+00:00][INFO][10][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("5"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[Key], [c0].[Value]
FROM [Clients] AS [c]
INNER JOIN [ClientProperties] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T19:27:27.7390598+00:00][INFO][12][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("7"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[RedirectUri]
FROM [Clients] AS [c]
INNER JOIN [ClientRedirectUris] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T19:27:28.1184585+00:00][WARN][12][Microsoft.EntityFrameworkCore.Query] Compiling a query which loads related collections for more than one collection navigation either via 'Include' or through projection but no 'QuerySplittingBehavior' has been configured. By default Entity Framework will use 'QuerySplittingBehavior.SingleQuery' which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'
[2020-12-30T19:27:28.1590076+00:00][INFO][19][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("10"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [i].[Id], [i].[Created], [i].[Description], [i].[DisplayName], [i].[Emphasize], [i].[Enabled], [i].[Name], [i].[NonEditable], [i].[Required], [i].[ShowInDiscoveryDocument], [i].[Updated], [i0].[Id], [i0].[IdentityResourceId], [i0].[Type], [i1].[Id], [i1].[IdentityResourceId], [i1].[Key], [i1].[Value]
FROM [IdentityResources] AS [i]
LEFT JOIN [IdentityResourceClaims] AS [i0] ON [i].[Id] = [i0].[IdentityResourceId]
LEFT JOIN [IdentityResourceProperties] AS [i1] ON [i].[Id] = [i1].[IdentityResourceId]
WHERE [i].[Name] IN (N'openid', N'profile', N'email', N'roles')
ORDER BY [i].[Id], [i0].[Id], [i1].[Id]"
[2020-12-30T19:27:28.2727098+00:00][WARN][19][Microsoft.EntityFrameworkCore.Query] Compiling a query which loads related collections for more than one collection navigation either via 'Include' or through projection but no 'QuerySplittingBehavior' has been configured. By default Entity Framework will use 'QuerySplittingBehavior.SingleQuery' which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'
[2020-12-30T19:27:28.3534345+00:00][INFO][15][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("27"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [a].[Id], [a].[AllowedAccessTokenSigningAlgorithms], [a].[Created], [a].[Description], [a].[DisplayName], [a].[Enabled], [a].[LastAccessed], [a].[Name], [a].[NonEditable], [a].[ShowInDiscoveryDocument], [a].[Updated], [a0].[Id], [a0].[ApiResourceId], [a0].[Created], [a0].[Description], [a0].[Expiration], [a0].[Type], [a0].[Value], [a1].[Id], [a1].[ApiResourceId], [a1].[Scope], [a2].[Id], [a2].[ApiResourceId], [a2].[Type], [a3].[Id], [a3].[ApiResourceId], [a3].[Key], [a3].[Value]
FROM [ApiResources] AS [a]
LEFT JOIN [ApiResourceSecrets] AS [a0] ON [a].[Id] = [a0].[ApiResourceId]
LEFT JOIN [ApiResourceScopes] AS [a1] ON [a].[Id] = [a1].[ApiResourceId]
LEFT JOIN [ApiResourceClaims] AS [a2] ON [a].[Id] = [a2].[ApiResourceId]
LEFT JOIN [ApiResourceProperties] AS [a3] ON [a].[Id] = [a3].[ApiResourceId]
WHERE EXISTS (
    SELECT 1
    FROM [ApiResourceScopes] AS [a4]
    WHERE ([a].[Id] = [a4].[ApiResourceId]) AND [a4].[Scope] IN (N'openid', N'profile', N'email', N'roles'))
ORDER BY [a].[Id], [a0].[Id], [a1].[Id], [a2].[Id], [a3].[Id]"
[2020-12-30T19:27:28.3939956+00:00][WARN][15][Microsoft.EntityFrameworkCore.Query] Compiling a query which loads related collections for more than one collection navigation either via 'Include' or through projection but no 'QuerySplittingBehavior' has been configured. By default Entity Framework will use 'QuerySplittingBehavior.SingleQuery' which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'
[2020-12-30T19:27:28.4258204+00:00][INFO][12][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("15"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [a].[Id], [a].[Description], [a].[DisplayName], [a].[Emphasize], [a].[Enabled], [a].[Name], [a].[Required], [a].[ShowInDiscoveryDocument], [a0].[Id], [a0].[ScopeId], [a0].[Type], [a1].[Id], [a1].[Key], [a1].[ScopeId], [a1].[Value]
FROM [ApiScopes] AS [a]
LEFT JOIN [ApiScopeClaims] AS [a0] ON [a].[Id] = [a0].[ScopeId]
LEFT JOIN [ApiScopeProperties] AS [a1] ON [a].[Id] = [a1].[ScopeId]
WHERE [a].[Name] IN (N'openid', N'profile', N'email', N'roles')
ORDER BY [a].[Id], [a0].[Id], [a1].[Id]"
[2020-12-30T19:27:28.6375689+00:00][INFO][12][Microsoft.EntityFrameworkCore.Infrastructure] Entity Framework Core "5.0.1" initialized '"IdentityServerPersistedGrantDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=EventManager.Identity.Admin.EntityFramework.SqlServer "
[2020-12-30T19:27:28.6509988+00:00][INFO][10][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("3"ms) [Parameters=["@__token_Key_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [p].[Key], [p].[ClientId], [p].[ConsumedTime], [p].[CreationTime], [p].[Data], [p].[Description], [p].[Expiration], [p].[SessionId], [p].[SubjectId], [p].[Type]
FROM [PersistedGrants] AS [p]
WHERE [p].[Key] = @__token_Key_0"
[2020-12-30T19:27:28.9090678+00:00][INFO][18][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("10"ms) [Parameters=["@p0='?' (Size = 200), @p1='?' (Size = 200), @p2='?' (DbType = DateTime2), @p3='?' (DbType = DateTime2), @p4='?' (Size = 4000), @p5='?' (Size = 200), @p6='?' (DbType = DateTime2), @p7='?' (Size = 100), @p8='?' (Size = 200), @p9='?' (Size = 50)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
INSERT INTO [PersistedGrants] ([Key], [ClientId], [ConsumedTime], [CreationTime], [Data], [Description], [Expiration], [SessionId], [SubjectId], [Type])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9);"
[2020-12-30T19:27:28.9808022+00:00][INFO][18][IdentityServer4.Events.DefaultEventService] TokenIssuedSuccessEvent { ClientId: "urn:em:client:mvc", ClientName: "Event Manager Identity Admin UI", RedirectUri: "https://www.em.host/admin/identity/signin-oidc", Endpoint: "Authorize", SubjectId: "174c9a38-e759-45b6-b735-470eca298a31", Scopes: "openid profile email roles", GrantType: "authorization_code", Tokens: [Token { TokenType: "code", TokenValue: "****769F" }], Category: "Token", Name: "Token Issued Success", EventType: Success, Id: 2000, Message: null, ActivityId: "0HM5CV3NGBVHK:00000002", TimeStamp: 12/30/2020 19:27:28, ProcessId: 27, LocalIpAddress: "::ffff:172.23.0.7:50003", RemoteIpAddress: "172.23.0.1" }
[2020-12-30T19:27:29.0275380+00:00][INFO][18][Serilog.AspNetCore.RequestLoggingMiddleware] HTTP "GET" "/connect/authorize?client_id=urn%3Aem%3Aclient%3Amvc&redirect_uri=https%3A%2F%2Fwww.em.host%2Fadmin%2Fidentity%2Fsignin-oidc&response_type=code&scope=openid%20profile%20email%20roles&code_challenge=ktJzdfsoz2ZkvSVnJ8B0H7MYBAk-phru-IV4p3Z72j0&code_challenge_method=S256&response_mode=form_post&nonce=637449532464499104.ZGIzYTc2MGEtYzI4OS00MWY0LWI1NDAtNzU3MjdmZTUyYWI3M2YxMTQ5OGUtOGI1My00OTU4LTljOTktYzJiMWQ0MzVlNmJh&state=CfDJ8IfTHaP7X4tMgtSdbTGk8Giinogiw0y2E4IbIx8DViafEtfIy6KJrELWVe9sR9Di7aOS79_0-ZXsHoOiwcGHTN-8XZNxJlNyL4oLjX6oPexgMZ7neefpjDCNGXwL05mId9d5FO4fb1BLymeTjdhnD9XkL7vDGO3ayS2T3lhpe4D-TOuiHnSspCoxCyTgez7QjNzLu-E4VlmTn1GK1W1_WjVAbSMS4slQq5BBgpejLQ6vZBUDiisB24d1TSFDxdjVPc9TQlvmCev85wdM5rjSG1nBAcw3MGlvk1vZJHHDXyHijPUo1dzT3BR6MJVzl5db7ctKfBPCxAjYnOWxxeYRDsON6Jde6FbCIA1HQKNSCLwb35vbCVRv2syPsVjSjLYSlg&x-client-SKU=ID_NETSTANDARD2_0&x-client-ver=6.8.0.0" responded 200 in 2479.8808 ms
[2020-12-30T19:27:29.0333875+00:00][INFO][18][Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/1.1 GET https://sts.em.host/connect/authorize?client_id=urn%3Aem%3Aclient%3Amvc&redirect_uri=https%3A%2F%2Fwww.em.host%2Fadmin%2Fidentity%2Fsignin-oidc&response_type=code&scope=openid%20profile%20email%20roles&code_challenge=ktJzdfsoz2ZkvSVnJ8B0H7MYBAk-phru-IV4p3Z72j0&code_challenge_method=S256&response_mode=form_post&nonce=637449532464499104.ZGIzYTc2MGEtYzI4OS00MWY0LWI1NDAtNzU3MjdmZTUyYWI3M2YxMTQ5OGUtOGI1My00OTU4LTljOTktYzJiMWQ0MzVlNmJh&state=CfDJ8IfTHaP7X4tMgtSdbTGk8Giinogiw0y2E4IbIx8DViafEtfIy6KJrELWVe9sR9Di7aOS79_0-ZXsHoOiwcGHTN-8XZNxJlNyL4oLjX6oPexgMZ7neefpjDCNGXwL05mId9d5FO4fb1BLymeTjdhnD9XkL7vDGO3ayS2T3lhpe4D-TOuiHnSspCoxCyTgez7QjNzLu-E4VlmTn1GK1W1_WjVAbSMS4slQq5BBgpejLQ6vZBUDiisB24d1TSFDxdjVPc9TQlvmCev85wdM5rjSG1nBAcw3MGlvk1vZJHHDXyHijPUo1dzT3BR6MJVzl5db7ctKfBPCxAjYnOWxxeYRDsON6Jde6FbCIA1HQKNSCLwb35vbCVRv2syPsVjSjLYSlg&x-client-SKU=ID_NETSTANDARD2_0&x-client-ver=6.8.0.0 - - - 200 - text/html;+charset=UTF-8 2487.4364ms
[2020-12-30T19:27:56.3584649+00:00][INFO][18][Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 GET https://sts.em.host/acccount/logout - -
[2020-12-30T19:27:56.4483937+00:00][INFO][18][Serilog.AspNetCore.RequestLoggingMiddleware] HTTP "GET" "/acccount/logout" responded 404 in 83.8553 ms
[2020-12-30T19:27:56.4499209+00:00][INFO][18][Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/1.1 GET https://sts.em.host/acccount/logout - - - 404 0 - 91.1824ms
[2020-12-30T19:28:03.7553372+00:00][INFO][22][Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 GET https://sts.em.host/account/logout - -
[2020-12-30T19:28:03.7786246+00:00][INFO][22][Microsoft.AspNetCore.Routing.EndpointMiddleware] Executing endpoint '"EventManager.Identity.STS.Identity.Controllers.AccountController<EventManager.Identity.Admin.EntityFramework.Shared.Entities.Identity.UserIdentity, string>.Logout (EventManager.Identity.STS.Identity)"'
[2020-12-30T19:28:03.8354624+00:00][INFO][22][Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Route matched with "{action = \"Logout\", controller = \"Account\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Logout(System.String)" on controller "EventManager.Identity.STS.Identity.Controllers.AccountController<EventManager.Identity.Admin.EntityFramework.Shared.Entities.Identity.UserIdentity, string>" ("EventManager.Identity.STS.Identity").
[2020-12-30T19:28:03.9182266+00:00][INFO][22][Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor] Executing ViewResult, running view "Logout".
[2020-12-30T19:28:04.4626126+00:00][INFO][22][Microsoft.AspNetCore.Authorization.DefaultAuthorizationService] Authorization was successful.
[2020-12-30T19:28:04.9757421+00:00][INFO][22][Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor] Executed ViewResult - view "Logout" executed in 1060.4622ms.
[2020-12-30T19:28:04.9786446+00:00][INFO][22][Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Executed action "EventManager.Identity.STS.Identity.Controllers.AccountController<EventManager.Identity.Admin.EntityFramework.Shared.Entities.Identity.UserIdentity, string>.Logout (EventManager.Identity.STS.Identity)" in 1140.9281ms
[2020-12-30T19:28:04.9794792+00:00][INFO][22][Microsoft.AspNetCore.Routing.EndpointMiddleware] Executed endpoint '"EventManager.Identity.STS.Identity.Controllers.AccountController<EventManager.Identity.Admin.EntityFramework.Shared.Entities.Identity.UserIdentity, string>.Logout (EventManager.Identity.STS.Identity)"'
[2020-12-30T19:28:04.9803700+00:00][INFO][22][Serilog.AspNetCore.RequestLoggingMiddleware] HTTP "GET" "/account/logout" responded 200 in 1222.1720 ms
[2020-12-30T19:28:04.9911704+00:00][INFO][22][Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/1.1 GET https://sts.em.host/account/logout - - - 200 - text/html;+charset=utf-8 1235.7660ms
[2020-12-30T19:28:07.9274579+00:00][INFO][25][Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 POST https://sts.em.host/Account/Logout application/x-www-form-urlencoded 235
[2020-12-30T19:28:07.9387374+00:00][INFO][25][Microsoft.AspNetCore.Cors.Infrastructure.CorsMiddleware] No CORS policy found for the specified request.
[2020-12-30T19:28:07.9533757+00:00][INFO][25][Microsoft.AspNetCore.Authorization.DefaultAuthorizationService] Authorization was successful.
[2020-12-30T19:28:07.9566382+00:00][INFO][25][Microsoft.AspNetCore.Routing.EndpointMiddleware] Executing endpoint '"EventManager.Identity.STS.Identity.Controllers.AccountController<EventManager.Identity.Admin.EntityFramework.Shared.Entities.Identity.UserIdentity, string>.Logout (EventManager.Identity.STS.Identity)"'
[2020-12-30T19:28:07.9690591+00:00][INFO][25][Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Route matched with "{action = \"Logout\", controller = \"Account\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Logout(EventManager.Identity.STS.Identity.ViewModels.Account.LogoutInputModel)" on controller "EventManager.Identity.STS.Identity.Controllers.AccountController<EventManager.Identity.Admin.EntityFramework.Shared.Entities.Identity.UserIdentity, string>" ("EventManager.Identity.STS.Identity").
[2020-12-30T19:28:08.0299488+00:00][INFO][25][Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler] AuthenticationScheme: "Identity.Application" signed out.
[2020-12-30T19:28:08.0330305+00:00][INFO][25][Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler] AuthenticationScheme: "Identity.External" signed out.
[2020-12-30T19:28:08.0353289+00:00][INFO][25][Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler] AuthenticationScheme: "Identity.TwoFactorUserId" signed out.
[2020-12-30T19:28:08.0383130+00:00][INFO][25][IdentityServer4.Events.DefaultEventService] UserLogoutSuccessEvent { SubjectId: "174c9a38-e759-45b6-b735-470eca298a31", DisplayName: "admin", Category: "Authentication", Name: "User Logout Success", EventType: Success, Id: 1002, Message: null, ActivityId: "0HM5CV3NGBVHN:00000002", TimeStamp: 12/30/2020 19:28:08, ProcessId: 27, LocalIpAddress: "::ffff:172.23.0.7:50003", RemoteIpAddress: "172.23.0.1" }
[2020-12-30T19:28:08.0426716+00:00][INFO][25][Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor] Executing ViewResult, running view "LoggedOut".
[2020-12-30T19:28:08.0784243+00:00][INFO][25][Microsoft.EntityFrameworkCore.Infrastructure] Entity Framework Core "5.0.1" initialized '"IdentityServerConfigurationDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=EventManager.Identity.Admin.EntityFramework.SqlServer "
[2020-12-30T19:28:08.1379812+00:00][INFO][10][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("51"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c].[Id], [c].[AbsoluteRefreshTokenLifetime], [c].[AccessTokenLifetime], [c].[AccessTokenType], [c].[AllowAccessTokensViaBrowser], [c].[AllowOfflineAccess], [c].[AllowPlainTextPkce], [c].[AllowRememberConsent], [c].[AllowedIdentityTokenSigningAlgorithms], [c].[AlwaysIncludeUserClaimsInIdToken], [c].[AlwaysSendClientClaims], [c].[AuthorizationCodeLifetime], [c].[BackChannelLogoutSessionRequired], [c].[BackChannelLogoutUri], [c].[ClientClaimsPrefix], [c].[ClientId], [c].[ClientName], [c].[ClientUri], [c].[ConsentLifetime], [c].[Created], [c].[Description], [c].[DeviceCodeLifetime], [c].[EnableLocalLogin], [c].[Enabled], [c].[FrontChannelLogoutSessionRequired], [c].[FrontChannelLogoutUri], [c].[IdentityTokenLifetime], [c].[IncludeJwtId], [c].[LastAccessed], [c].[LogoUri], [c].[NonEditable], [c].[PairWiseSubjectSalt], [c].[ProtocolType], [c].[RefreshTokenExpiration], [c].[RefreshTokenUsage], [c].[RequireClientSecret], [c].[RequireConsent], [c].[RequirePkce], [c].[RequireRequestObject], [c].[SlidingRefreshTokenLifetime], [c].[UpdateAccessTokenClaimsOnRefresh], [c].[Updated], [c].[UserCodeType], [c].[UserSsoLifetime]
FROM [Clients] AS [c]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T19:28:08.1704183+00:00][INFO][28][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("4"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[Origin]
FROM [Clients] AS [c]
INNER JOIN [ClientCorsOrigins] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T19:28:08.1982743+00:00][INFO][22][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("2"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[GrantType]
FROM [Clients] AS [c]
INNER JOIN [ClientGrantTypes] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T19:28:08.2174214+00:00][INFO][22][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("16"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[Scope]
FROM [Clients] AS [c]
INNER JOIN [ClientScopes] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T19:28:08.2486834+00:00][INFO][6][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("3"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[Type], [c0].[Value]
FROM [Clients] AS [c]
INNER JOIN [ClientClaims] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T19:28:08.3089727+00:00][INFO][27][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("23"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[Created], [c0].[Description], [c0].[Expiration], [c0].[Type], [c0].[Value]
FROM [Clients] AS [c]
INNER JOIN [ClientSecrets] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T19:28:08.3199849+00:00][INFO][27][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("5"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[Provider]
FROM [Clients] AS [c]
INNER JOIN [ClientIdPRestrictions] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T19:28:08.3756887+00:00][INFO][18][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("22"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[PostLogoutRedirectUri]
FROM [Clients] AS [c]
INNER JOIN [ClientPostLogoutRedirectUris] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T19:28:08.4281687+00:00][INFO][26][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("7"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[Key], [c0].[Value]
FROM [Clients] AS [c]
INNER JOIN [ClientProperties] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T19:28:08.4639723+00:00][INFO][28][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("1"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[RedirectUri]
FROM [Clients] AS [c]
INNER JOIN [ClientRedirectUris] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T19:28:08.5533247+00:00][INFO][28][Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor] Executed ViewResult - view "LoggedOut" executed in 512.6962ms.
[2020-12-30T19:28:08.5654688+00:00][INFO][28][Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Executed action "EventManager.Identity.STS.Identity.Controllers.AccountController<EventManager.Identity.Admin.EntityFramework.Shared.Entities.Identity.UserIdentity, string>.Logout (EventManager.Identity.STS.Identity)" in 595.4111ms
[2020-12-30T19:28:08.5722973+00:00][INFO][28][Microsoft.AspNetCore.Routing.EndpointMiddleware] Executed endpoint '"EventManager.Identity.STS.Identity.Controllers.AccountController<EventManager.Identity.Admin.EntityFramework.Shared.Entities.Identity.UserIdentity, string>.Logout (EventManager.Identity.STS.Identity)"'
[2020-12-30T19:28:08.5794880+00:00][INFO][28][Serilog.AspNetCore.RequestLoggingMiddleware] HTTP "POST" "/Account/Logout" responded 200 in 650.3761 ms
[2020-12-30T19:28:08.5809863+00:00][INFO][28][Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/1.1 POST https://sts.em.host/Account/Logout application/x-www-form-urlencoded 235 - 200 - text/html;+charset=utf-8 653.5526ms
[2020-12-30T19:28:08.8044465+00:00][INFO][22][Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 GET https://sts.em.host/connect/endsession/callback?endSessionId=CfDJ8IfTHaP7X4tMgtSdbTGk8GgkKyNCQpvfQm4scxS8FXgOjAywHQa3FUSZpBugxYnwYnfYhc8EJmNAK6BaRMJVNGhaLjiUDQyeA-Go5yJevnvp1lKoK3NyljoU2Bd1n3BtIeRCTgew6_1CodsxGsw03EznbmaIXi75ilXZtnFiA1swP7cWOjn3MHbFreTsudKDSLoiVblaFe9O0-Y-qXJPgokyBhbuoQiwcMCom8sywYkl9ThIsJTo_spUysi1FxOrncLxhyriwUicm_dkqmkwetXs7oWotw4T44Q61a51OMVp7imx-K5KxZnc2jxYY3PxaljdLwYnzm--56jc6cQD3w8 - -
[2020-12-30T19:28:08.8139595+00:00][INFO][22][IdentityServer4.Hosting.IdentityServerMiddleware] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.EndSessionCallbackEndpoint" for "/connect/endsession/callback"
[2020-12-30T19:28:08.8551687+00:00][INFO][22][Microsoft.EntityFrameworkCore.Infrastructure] Entity Framework Core "5.0.1" initialized '"IdentityServerConfigurationDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=EventManager.Identity.Admin.EntityFramework.SqlServer "
[2020-12-30T19:28:08.8831181+00:00][INFO][25][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("26"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c].[Id], [c].[AbsoluteRefreshTokenLifetime], [c].[AccessTokenLifetime], [c].[AccessTokenType], [c].[AllowAccessTokensViaBrowser], [c].[AllowOfflineAccess], [c].[AllowPlainTextPkce], [c].[AllowRememberConsent], [c].[AllowedIdentityTokenSigningAlgorithms], [c].[AlwaysIncludeUserClaimsInIdToken], [c].[AlwaysSendClientClaims], [c].[AuthorizationCodeLifetime], [c].[BackChannelLogoutSessionRequired], [c].[BackChannelLogoutUri], [c].[ClientClaimsPrefix], [c].[ClientId], [c].[ClientName], [c].[ClientUri], [c].[ConsentLifetime], [c].[Created], [c].[Description], [c].[DeviceCodeLifetime], [c].[EnableLocalLogin], [c].[Enabled], [c].[FrontChannelLogoutSessionRequired], [c].[FrontChannelLogoutUri], [c].[IdentityTokenLifetime], [c].[IncludeJwtId], [c].[LastAccessed], [c].[LogoUri], [c].[NonEditable], [c].[PairWiseSubjectSalt], [c].[ProtocolType], [c].[RefreshTokenExpiration], [c].[RefreshTokenUsage], [c].[RequireClientSecret], [c].[RequireConsent], [c].[RequirePkce], [c].[RequireRequestObject], [c].[SlidingRefreshTokenLifetime], [c].[UpdateAccessTokenClaimsOnRefresh], [c].[Updated], [c].[UserCodeType], [c].[UserSsoLifetime]
FROM [Clients] AS [c]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T19:28:08.9503995+00:00][INFO][18][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("6"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[Origin]
FROM [Clients] AS [c]
INNER JOIN [ClientCorsOrigins] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T19:28:08.9682855+00:00][INFO][4][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("15"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[GrantType]
FROM [Clients] AS [c]
INNER JOIN [ClientGrantTypes] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T19:28:09.0042851+00:00][INFO][22][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("19"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[Scope]
FROM [Clients] AS [c]
INNER JOIN [ClientScopes] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T19:28:09.0247372+00:00][INFO][22][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("5"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[Type], [c0].[Value]
FROM [Clients] AS [c]
INNER JOIN [ClientClaims] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T19:28:09.0357763+00:00][INFO][25][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("8"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[Created], [c0].[Description], [c0].[Expiration], [c0].[Type], [c0].[Value]
FROM [Clients] AS [c]
INNER JOIN [ClientSecrets] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T19:28:09.0456856+00:00][INFO][22][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("3"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[Provider]
FROM [Clients] AS [c]
INNER JOIN [ClientIdPRestrictions] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T19:28:09.0794140+00:00][INFO][18][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("5"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[PostLogoutRedirectUri]
FROM [Clients] AS [c]
INNER JOIN [ClientPostLogoutRedirectUris] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T19:28:09.1255187+00:00][INFO][22][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("20"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[Key], [c0].[Value]
FROM [Clients] AS [c]
INNER JOIN [ClientProperties] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T19:28:09.1549967+00:00][INFO][22][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("7"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[RedirectUri]
FROM [Clients] AS [c]
INNER JOIN [ClientRedirectUris] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T19:28:09.1740983+00:00][INFO][25][IdentityServer4.Endpoints.EndSessionCallbackEndpoint] Successful signout callback.
[2020-12-30T19:28:09.1831564+00:00][INFO][25][Serilog.AspNetCore.RequestLoggingMiddleware] HTTP "GET" "/connect/endsession/callback?endSessionId=CfDJ8IfTHaP7X4tMgtSdbTGk8GgkKyNCQpvfQm4scxS8FXgOjAywHQa3FUSZpBugxYnwYnfYhc8EJmNAK6BaRMJVNGhaLjiUDQyeA-Go5yJevnvp1lKoK3NyljoU2Bd1n3BtIeRCTgew6_1CodsxGsw03EznbmaIXi75ilXZtnFiA1swP7cWOjn3MHbFreTsudKDSLoiVblaFe9O0-Y-qXJPgokyBhbuoQiwcMCom8sywYkl9ThIsJTo_spUysi1FxOrncLxhyriwUicm_dkqmkwetXs7oWotw4T44Q61a51OMVp7imx-K5KxZnc2jxYY3PxaljdLwYnzm--56jc6cQD3w8" responded 200 in 377.9004 ms
[2020-12-30T19:28:09.1844699+00:00][INFO][25][Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/1.1 GET https://sts.em.host/connect/endsession/callback?endSessionId=CfDJ8IfTHaP7X4tMgtSdbTGk8GgkKyNCQpvfQm4scxS8FXgOjAywHQa3FUSZpBugxYnwYnfYhc8EJmNAK6BaRMJVNGhaLjiUDQyeA-Go5yJevnvp1lKoK3NyljoU2Bd1n3BtIeRCTgew6_1CodsxGsw03EznbmaIXi75ilXZtnFiA1swP7cWOjn3MHbFreTsudKDSLoiVblaFe9O0-Y-qXJPgokyBhbuoQiwcMCom8sywYkl9ThIsJTo_spUysi1FxOrncLxhyriwUicm_dkqmkwetXs7oWotw4T44Q61a51OMVp7imx-K5KxZnc2jxYY3PxaljdLwYnzm--56jc6cQD3w8 - - - 200 - text/html;+charset=UTF-8 380.0188ms
[2020-12-30T19:28:10.8335975+00:00][INFO][4][Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 GET https://sts.em.host/ - -
[2020-12-30T19:28:10.8373242+00:00][INFO][4][Microsoft.AspNetCore.Routing.EndpointMiddleware] Executing endpoint '"EventManager.Identity.STS.Identity.Controllers.HomeController.Index (EventManager.Identity.STS.Identity)"'
[2020-12-30T19:28:10.8455665+00:00][INFO][4][Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Route matched with "{action = \"Index\", controller = \"Home\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult Index()" on controller "EventManager.Identity.STS.Identity.Controllers.HomeController" ("EventManager.Identity.STS.Identity").
[2020-12-30T19:28:10.8532365+00:00][INFO][4][Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor] Executing ViewResult, running view "Index".
[2020-12-30T19:28:10.8963316+00:00][INFO][4][Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor] Executed ViewResult - view "Index" executed in 45.5081ms.
[2020-12-30T19:28:10.8971467+00:00][INFO][4][Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Executed action "EventManager.Identity.STS.Identity.Controllers.HomeController.Index (EventManager.Identity.STS.Identity)" in 50.5703ms
[2020-12-30T19:28:10.8981123+00:00][INFO][4][Microsoft.AspNetCore.Routing.EndpointMiddleware] Executed endpoint '"EventManager.Identity.STS.Identity.Controllers.HomeController.Index (EventManager.Identity.STS.Identity)"'
[2020-12-30T19:28:10.8988100+00:00][INFO][4][Serilog.AspNetCore.RequestLoggingMiddleware] HTTP "GET" "/" responded 200 in 64.0077 ms
[2020-12-30T19:28:10.9077242+00:00][INFO][4][Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/1.1 GET https://sts.em.host/ - - - 200 - text/html;+charset=utf-8 74.2082ms
[2020-12-30T19:28:16.0371240+00:00][INFO][6][Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 GET https://sts.em.host/Account/Login - -
[2020-12-30T19:28:16.0433191+00:00][INFO][6][Microsoft.AspNetCore.Routing.EndpointMiddleware] Executing endpoint '"EventManager.Identity.STS.Identity.Controllers.AccountController<EventManager.Identity.Admin.EntityFramework.Shared.Entities.Identity.UserIdentity, string>.Login (EventManager.Identity.STS.Identity)"'
[2020-12-30T19:28:16.0502159+00:00][INFO][6][Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Route matched with "{action = \"Login\", controller = \"Account\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(System.String)" on controller "EventManager.Identity.STS.Identity.Controllers.AccountController<EventManager.Identity.Admin.EntityFramework.Shared.Entities.Identity.UserIdentity, string>" ("EventManager.Identity.STS.Identity").
[2020-12-30T19:28:16.0783749+00:00][INFO][6][Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor] Executing ViewResult, running view "Login".
[2020-12-30T19:28:16.1662189+00:00][INFO][6][Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor] Executed ViewResult - view "Login" executed in 89.0648ms.
[2020-12-30T19:28:16.1669978+00:00][INFO][6][Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Executed action "EventManager.Identity.STS.Identity.Controllers.AccountController<EventManager.Identity.Admin.EntityFramework.Shared.Entities.Identity.UserIdentity, string>.Login (EventManager.Identity.STS.Identity)" in 115.7161ms
[2020-12-30T19:28:16.1734818+00:00][INFO][6][Microsoft.AspNetCore.Routing.EndpointMiddleware] Executed endpoint '"EventManager.Identity.STS.Identity.Controllers.AccountController<EventManager.Identity.Admin.EntityFramework.Shared.Entities.Identity.UserIdentity, string>.Login (EventManager.Identity.STS.Identity)"'
[2020-12-30T19:28:16.1748544+00:00][INFO][6][Serilog.AspNetCore.RequestLoggingMiddleware] HTTP "GET" "/Account/Login" responded 200 in 136.8019 ms
[2020-12-30T19:28:16.1755856+00:00][INFO][6][Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/1.1 GET https://sts.em.host/Account/Login - - - 200 - text/html;+charset=utf-8 138.4813ms
[2020-12-30T19:28:19.2774812+00:00][INFO][6][Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 POST https://sts.em.host/Account/Login application/x-www-form-urlencoded 256
[2020-12-30T19:28:19.2785593+00:00][INFO][6][Microsoft.AspNetCore.Cors.Infrastructure.CorsMiddleware] No CORS policy found for the specified request.
[2020-12-30T19:28:19.2807913+00:00][INFO][6][Microsoft.AspNetCore.Routing.EndpointMiddleware] Executing endpoint '"EventManager.Identity.STS.Identity.Controllers.AccountController<EventManager.Identity.Admin.EntityFramework.Shared.Entities.Identity.UserIdentity, string>.Login (EventManager.Identity.STS.Identity)"'
[2020-12-30T19:28:19.2986849+00:00][INFO][6][Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Route matched with "{action = \"Login\", controller = \"Account\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(EventManager.Identity.STS.Identity.ViewModels.Account.LoginInputModel, System.String)" on controller "EventManager.Identity.STS.Identity.Controllers.AccountController<EventManager.Identity.Admin.EntityFramework.Shared.Entities.Identity.UserIdentity, string>" ("EventManager.Identity.STS.Identity").
[2020-12-30T19:28:19.3382710+00:00][INFO][6][Microsoft.EntityFrameworkCore.Infrastructure] Entity Framework Core "5.0.1" initialized '"AdminIdentityDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=EventManager.Identity.Admin.EntityFramework.SqlServer "
[2020-12-30T19:28:19.3560829+00:00][INFO][22][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("2"ms) [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0"
[2020-12-30T19:28:19.3840202+00:00][INFO][25][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("5"ms) [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0"
[2020-12-30T19:28:19.4772565+00:00][WARN][28][Microsoft.AspNetCore.Identity.UserManager] Invalid password for user.
[2020-12-30T19:28:19.4784843+00:00][WARN][28][Microsoft.AspNetCore.Identity.SignInManager] User failed to provide the correct password.
[2020-12-30T19:28:19.4929328+00:00][INFO][6][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("2"ms) [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0"
[2020-12-30T19:28:19.5674710+00:00][INFO][6][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("1"ms) [Parameters=["@__normalizedEmail_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(2) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[NormalizedEmail] = @__normalizedEmail_0"
[2020-12-30T19:28:19.6683795+00:00][INFO][6][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("14"ms) [Parameters=["@p14='?' (Size = 450), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p15='?' (Size = 4000), @p2='?' (Size = 256), @p3='?' (DbType = Boolean), @p4='?' (DbType = Boolean), @p5='?' (DbType = DateTimeOffset), @p6='?' (Size = 256), @p7='?' (Size = 256), @p8='?' (Size = 4000), @p9='?' (Size = 4000), @p10='?' (DbType = Boolean), @p11='?' (Size = 4000), @p12='?' (DbType = Boolean), @p13='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
UPDATE [Users] SET [AccessFailedCount] = @p0, [ConcurrencyStamp] = @p1, [Email] = @p2, [EmailConfirmed] = @p3, [LockoutEnabled] = @p4, [LockoutEnd] = @p5, [NormalizedEmail] = @p6, [NormalizedUserName] = @p7, [PasswordHash] = @p8, [PhoneNumber] = @p9, [PhoneNumberConfirmed] = @p10, [SecurityStamp] = @p11, [TwoFactorEnabled] = @p12, [UserName] = @p13
WHERE [Id] = @p14 AND [ConcurrencyStamp] = @p15;
SELECT @@ROWCOUNT;"
[2020-12-30T19:28:19.6899023+00:00][INFO][6][IdentityServer4.Events.DefaultEventService] UserLoginFailureEvent { Username: "admin", Endpoint: "UI", ClientId: null, Category: "Authentication", Name: "User Login Failure", EventType: Failure, Id: 1001, Message: "invalid credentials", ActivityId: "0HM5CV3NGBVHR:00000002", TimeStamp: 12/30/2020 19:28:19, ProcessId: 27, LocalIpAddress: "::ffff:172.23.0.7:50003", RemoteIpAddress: "172.23.0.1" }
[2020-12-30T19:28:19.7046266+00:00][INFO][6][Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor] Executing ViewResult, running view "Login".
[2020-12-30T19:28:19.7195416+00:00][INFO][6][Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor] Executed ViewResult - view "Login" executed in 14.3154ms.
[2020-12-30T19:28:19.7224458+00:00][INFO][6][Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Executed action "EventManager.Identity.STS.Identity.Controllers.AccountController<EventManager.Identity.Admin.EntityFramework.Shared.Entities.Identity.UserIdentity, string>.Login (EventManager.Identity.STS.Identity)" in 422.8734ms
[2020-12-30T19:28:19.7236955+00:00][INFO][6][Microsoft.AspNetCore.Routing.EndpointMiddleware] Executed endpoint '"EventManager.Identity.STS.Identity.Controllers.AccountController<EventManager.Identity.Admin.EntityFramework.Shared.Entities.Identity.UserIdentity, string>.Login (EventManager.Identity.STS.Identity)"'
[2020-12-30T19:28:19.7264722+00:00][INFO][6][Serilog.AspNetCore.RequestLoggingMiddleware] HTTP "POST" "/Account/Login" responded 200 in 448.3082 ms
[2020-12-30T19:28:19.7282775+00:00][INFO][6][Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/1.1 POST https://sts.em.host/Account/Login application/x-www-form-urlencoded 256 - 200 - text/html;+charset=utf-8 471.5946ms
[2020-12-30T19:28:27.5678506+00:00][INFO][18][Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 POST https://sts.em.host/Account/Login application/x-www-form-urlencoded 261
[2020-12-30T19:28:27.5685512+00:00][INFO][18][Microsoft.AspNetCore.Cors.Infrastructure.CorsMiddleware] No CORS policy found for the specified request.
[2020-12-30T19:28:27.5760223+00:00][INFO][18][Microsoft.AspNetCore.Routing.EndpointMiddleware] Executing endpoint '"EventManager.Identity.STS.Identity.Controllers.AccountController<EventManager.Identity.Admin.EntityFramework.Shared.Entities.Identity.UserIdentity, string>.Login (EventManager.Identity.STS.Identity)"'
[2020-12-30T19:28:27.5772645+00:00][INFO][18][Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Route matched with "{action = \"Login\", controller = \"Account\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(EventManager.Identity.STS.Identity.ViewModels.Account.LoginInputModel, System.String)" on controller "EventManager.Identity.STS.Identity.Controllers.AccountController<EventManager.Identity.Admin.EntityFramework.Shared.Entities.Identity.UserIdentity, string>" ("EventManager.Identity.STS.Identity").
[2020-12-30T19:28:27.5870523+00:00][INFO][18][Microsoft.EntityFrameworkCore.Infrastructure] Entity Framework Core "5.0.1" initialized '"AdminIdentityDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=EventManager.Identity.Admin.EntityFramework.SqlServer "
[2020-12-30T19:28:27.6189602+00:00][INFO][26][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("26"ms) [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0"
[2020-12-30T19:28:27.6752625+00:00][INFO][10][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("9"ms) [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0"
[2020-12-30T19:28:27.8117772+00:00][INFO][26][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("3"ms) [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0"
[2020-12-30T19:28:27.8412627+00:00][INFO][26][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("2"ms) [Parameters=["@__normalizedEmail_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(2) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[NormalizedEmail] = @__normalizedEmail_0"
[2020-12-30T19:28:27.8648213+00:00][INFO][18][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("3"ms) [Parameters=["@p14='?' (Size = 450), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p15='?' (Size = 4000), @p2='?' (Size = 256), @p3='?' (DbType = Boolean), @p4='?' (DbType = Boolean), @p5='?' (DbType = DateTimeOffset), @p6='?' (Size = 256), @p7='?' (Size = 256), @p8='?' (Size = 4000), @p9='?' (Size = 4000), @p10='?' (DbType = Boolean), @p11='?' (Size = 4000), @p12='?' (DbType = Boolean), @p13='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
UPDATE [Users] SET [AccessFailedCount] = @p0, [ConcurrencyStamp] = @p1, [Email] = @p2, [EmailConfirmed] = @p3, [LockoutEnabled] = @p4, [LockoutEnd] = @p5, [NormalizedEmail] = @p6, [NormalizedUserName] = @p7, [PasswordHash] = @p8, [PhoneNumber] = @p9, [PhoneNumberConfirmed] = @p10, [SecurityStamp] = @p11, [TwoFactorEnabled] = @p12, [UserName] = @p13
WHERE [Id] = @p14 AND [ConcurrencyStamp] = @p15;
SELECT @@ROWCOUNT;"
[2020-12-30T19:28:27.9106706+00:00][INFO][26][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("2"ms) [Parameters=["@__user_Id_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [u].[Id], [u].[ClaimType], [u].[ClaimValue], [u].[UserId]
FROM [UserClaims] AS [u]
WHERE [u].[UserId] = @__user_Id_0"
[2020-12-30T19:28:27.9253838+00:00][INFO][10][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("7"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [r].[Name]
FROM [UserRoles] AS [u]
INNER JOIN [Roles] AS [r] ON [u].[RoleId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0"
[2020-12-30T19:28:27.9676315+00:00][INFO][26][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("3"ms) [Parameters=["@__normalizedName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [Roles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0"
[2020-12-30T19:28:27.9831624+00:00][INFO][6][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("11"ms) [Parameters=["@__role_Id_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [r].[ClaimType], [r].[ClaimValue]
FROM [RoleClaims] AS [r]
WHERE [r].[RoleId] = @__role_Id_0"
[2020-12-30T19:28:28.0060734+00:00][INFO][6][Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler] AuthenticationScheme: "Identity.Application" signed in.
[2020-12-30T19:28:28.0129370+00:00][INFO][6][IdentityServer4.Events.DefaultEventService] UserLoginSuccessEvent { Username: "admin", Provider: null, ProviderUserId: null, SubjectId: "174c9a38-e759-45b6-b735-470eca298a31", DisplayName: "admin", Endpoint: "UI", ClientId: null, Category: "Authentication", Name: "User Login Success", EventType: Success, Id: 1000, Message: null, ActivityId: "0HM5CV3NGBVHS:00000002", TimeStamp: 12/30/2020 19:28:28, ProcessId: 27, LocalIpAddress: "::ffff:172.23.0.7:50003", RemoteIpAddress: "172.23.0.1" }
[2020-12-30T19:28:28.0190828+00:00][INFO][6][Microsoft.AspNetCore.Mvc.Infrastructure.RedirectResultExecutor] Executing RedirectResult, redirecting to "/".
[2020-12-30T19:28:28.0208109+00:00][INFO][6][Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Executed action "EventManager.Identity.STS.Identity.Controllers.AccountController<EventManager.Identity.Admin.EntityFramework.Shared.Entities.Identity.UserIdentity, string>.Login (EventManager.Identity.STS.Identity)" in 440.5394ms
[2020-12-30T19:28:28.0225816+00:00][INFO][6][Microsoft.AspNetCore.Routing.EndpointMiddleware] Executed endpoint '"EventManager.Identity.STS.Identity.Controllers.AccountController<EventManager.Identity.Admin.EntityFramework.Shared.Entities.Identity.UserIdentity, string>.Login (EventManager.Identity.STS.Identity)"'
[2020-12-30T19:28:28.0233133+00:00][INFO][6][Serilog.AspNetCore.RequestLoggingMiddleware] HTTP "POST" "/Account/Login" responded 302 in 454.7671 ms
[2020-12-30T19:28:28.0249865+00:00][INFO][6][Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/1.1 POST https://sts.em.host/Account/Login application/x-www-form-urlencoded 261 - 302 0 - 456.9841ms
[2020-12-30T19:28:28.0777335+00:00][INFO][6][Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 GET https://sts.em.host/ - -
[2020-12-30T19:28:28.0809059+00:00][INFO][6][Microsoft.AspNetCore.Routing.EndpointMiddleware] Executing endpoint '"EventManager.Identity.STS.Identity.Controllers.HomeController.Index (EventManager.Identity.STS.Identity)"'
[2020-12-30T19:28:28.0820942+00:00][INFO][6][Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Route matched with "{action = \"Index\", controller = \"Home\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult Index()" on controller "EventManager.Identity.STS.Identity.Controllers.HomeController" ("EventManager.Identity.STS.Identity").
[2020-12-30T19:28:28.0846264+00:00][INFO][6][Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor] Executing ViewResult, running view "Index".
[2020-12-30T19:28:28.1238737+00:00][INFO][6][Microsoft.AspNetCore.Authorization.DefaultAuthorizationService] Authorization was successful.
[2020-12-30T19:28:28.1442096+00:00][INFO][6][Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor] Executed ViewResult - view "Index" executed in 59.1732ms.
[2020-12-30T19:28:28.1676052+00:00][INFO][6][Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Executed action "EventManager.Identity.STS.Identity.Controllers.HomeController.Index (EventManager.Identity.STS.Identity)" in 64.0417ms
[2020-12-30T19:28:28.1695873+00:00][INFO][6][Microsoft.AspNetCore.Routing.EndpointMiddleware] Executed endpoint '"EventManager.Identity.STS.Identity.Controllers.HomeController.Index (EventManager.Identity.STS.Identity)"'
[2020-12-30T19:28:28.1705502+00:00][INFO][6][Serilog.AspNetCore.RequestLoggingMiddleware] HTTP "GET" "/" responded 200 in 91.0636 ms
[2020-12-30T19:28:28.1969828+00:00][INFO][6][Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/1.1 GET https://sts.em.host/ - - - 200 - text/html;+charset=utf-8 119.1606ms
[2020-12-30T19:28:40.3393019+00:00][INFO][10][Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 GET https://sts.em.host/Manage - -
[2020-12-30T19:28:40.3513693+00:00][INFO][10][Microsoft.AspNetCore.Authorization.DefaultAuthorizationService] Authorization was successful.
[2020-12-30T19:28:40.3524996+00:00][INFO][10][Microsoft.AspNetCore.Routing.EndpointMiddleware] Executing endpoint '"EventManager.Identity.STS.Identity.Controllers.ManageController<EventManager.Identity.Admin.EntityFramework.Shared.Entities.Identity.UserIdentity, string>.Index (EventManager.Identity.STS.Identity)"'
[2020-12-30T19:28:40.3697028+00:00][INFO][10][Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Route matched with "{action = \"Index\", controller = \"Manage\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Index()" on controller "EventManager.Identity.STS.Identity.Controllers.ManageController<EventManager.Identity.Admin.EntityFramework.Shared.Entities.Identity.UserIdentity, string>" ("EventManager.Identity.STS.Identity").
[2020-12-30T19:28:40.3830542+00:00][INFO][10][Microsoft.EntityFrameworkCore.Infrastructure] Entity Framework Core "5.0.1" initialized '"AdminIdentityDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=EventManager.Identity.Admin.EntityFramework.SqlServer "
[2020-12-30T19:28:40.3932708+00:00][INFO][18][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("6"ms) [Parameters=["@__p_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[Id] = @__p_0"
[2020-12-30T19:28:40.4343622+00:00][INFO][10][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("2"ms) [Parameters=["@__user_Id_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [u].[Id], [u].[ClaimType], [u].[ClaimValue], [u].[UserId]
FROM [UserClaims] AS [u]
WHERE [u].[UserId] = @__user_Id_0"
[2020-12-30T19:28:40.4510103+00:00][INFO][10][Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor] Executing ViewResult, running view "Index".
[2020-12-30T19:28:41.5809611+00:00][INFO][10][Microsoft.AspNetCore.Authorization.DefaultAuthorizationService] Authorization was successful.
[2020-12-30T19:28:41.5971244+00:00][INFO][10][Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor] Executed ViewResult - view "Index" executed in 1146.855ms.
[2020-12-30T19:28:41.5982313+00:00][INFO][10][Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Executed action "EventManager.Identity.STS.Identity.Controllers.ManageController<EventManager.Identity.Admin.EntityFramework.Shared.Entities.Identity.UserIdentity, string>.Index (EventManager.Identity.STS.Identity)" in 1227.7841ms
[2020-12-30T19:28:41.5998102+00:00][INFO][10][Microsoft.AspNetCore.Routing.EndpointMiddleware] Executed endpoint '"EventManager.Identity.STS.Identity.Controllers.ManageController<EventManager.Identity.Admin.EntityFramework.Shared.Entities.Identity.UserIdentity, string>.Index (EventManager.Identity.STS.Identity)"'
[2020-12-30T19:28:41.6021915+00:00][INFO][10][Serilog.AspNetCore.RequestLoggingMiddleware] HTTP "GET" "/Manage" responded 200 in 1252.3948 ms
[2020-12-30T19:28:41.6087129+00:00][INFO][10][Microsoft.AspNetCore.Hosting.Diagnostics] Request finished HTTP/1.1 GET https://sts.em.host/Manage - - - 200 - text/html;+charset=utf-8 1269.7556ms
[2020-12-30T19:28:50.8687942+00:00][INFO][18][Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 GET https://sts.em.host/connect/authorize?client_id=urn%3Aem%3Aclient%3Amvc&redirect_uri=https%3A%2F%2Fwww.em.host%2Fadmin%2Fidentity%2Fsignin-oidc&response_type=code&scope=openid%20profile%20email%20roles&code_challenge=zB58YMdTYHbszFIcvBxRXqU-gjcZ-7nfvwjQL_OhDac&code_challenge_method=S256&response_mode=form_post&nonce=637449533308157779.MDg4MjFiMDUtNTMxZC00MWNhLTg3YWItNWU1YmE1YWQzZWE2ZDIxMzcxNjMtMmY2Mi00ODEzLTlkNjYtNjBkMDY2NTFhZjkw&state=CfDJ8IfTHaP7X4tMgtSdbTGk8GitiTVd8k0Db5FYJbHNykXmTquGn_a2IPgIZ4Pmq2fN2dLSWLQ40i5K9hsJEOymEMb-SngEZPsO-2sRn7kf9KeoE4Y7mzXIImJV7lmqMO6BttlqqtO8VP4XKPs58HG59UbpxwFOfDW4n-V552wUGEdk3bycx4dKSBxGm2A-wfem5t6yTAFFpW9wdc3nWJ_A669S13AHS2SVeY5lmwtYJ61UudBP1gUfryC4oZA-qpgDlWYmZ1wNyliihRSrd0cbDX7kiwJvD5gZbHctwZtFEygEhKAyRx_trNV6G8d6pgcoElXTk2-jZcpL6kF2z3RTcLopbvqQ6zlB9tkxFuVvxLgKkDbPGMNnbMCjfttn2wi9Fw&x-client-SKU=ID_NETSTANDARD2_0&x-client-ver=6.8.0.0 - -
[2020-12-30T19:28:50.8723803+00:00][INFO][18][IdentityServer4.Hosting.IdentityServerMiddleware] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize"
[2020-12-30T19:28:50.8859574+00:00][INFO][18][Microsoft.EntityFrameworkCore.Infrastructure] Entity Framework Core "5.0.1" initialized '"IdentityServerConfigurationDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=EventManager.Identity.Admin.EntityFramework.SqlServer "
[2020-12-30T19:28:50.8936215+00:00][INFO][10][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("6"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c].[Id], [c].[AbsoluteRefreshTokenLifetime], [c].[AccessTokenLifetime], [c].[AccessTokenType], [c].[AllowAccessTokensViaBrowser], [c].[AllowOfflineAccess], [c].[AllowPlainTextPkce], [c].[AllowRememberConsent], [c].[AllowedIdentityTokenSigningAlgorithms], [c].[AlwaysIncludeUserClaimsInIdToken], [c].[AlwaysSendClientClaims], [c].[AuthorizationCodeLifetime], [c].[BackChannelLogoutSessionRequired], [c].[BackChannelLogoutUri], [c].[ClientClaimsPrefix], [c].[ClientId], [c].[ClientName], [c].[ClientUri], [c].[ConsentLifetime], [c].[Created], [c].[Description], [c].[DeviceCodeLifetime], [c].[EnableLocalLogin], [c].[Enabled], [c].[FrontChannelLogoutSessionRequired], [c].[FrontChannelLogoutUri], [c].[IdentityTokenLifetime], [c].[IncludeJwtId], [c].[LastAccessed], [c].[LogoUri], [c].[NonEditable], [c].[PairWiseSubjectSalt], [c].[ProtocolType], [c].[RefreshTokenExpiration], [c].[RefreshTokenUsage], [c].[RequireClientSecret], [c].[RequireConsent], [c].[RequirePkce], [c].[RequireRequestObject], [c].[SlidingRefreshTokenLifetime], [c].[UpdateAccessTokenClaimsOnRefresh], [c].[Updated], [c].[UserCodeType], [c].[UserSsoLifetime]
FROM [Clients] AS [c]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T19:28:50.9354020+00:00][INFO][18][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("1"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[Origin]
FROM [Clients] AS [c]
INNER JOIN [ClientCorsOrigins] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T19:28:50.9505282+00:00][INFO][22][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("12"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[GrantType]
FROM [Clients] AS [c]
INNER JOIN [ClientGrantTypes] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T19:28:50.9789122+00:00][INFO][4][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("4"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[Scope]
FROM [Clients] AS [c]
INNER JOIN [ClientScopes] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T19:28:50.9997825+00:00][INFO][26][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("15"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[Type], [c0].[Value]
FROM [Clients] AS [c]
INNER JOIN [ClientClaims] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T19:28:51.0214238+00:00][INFO][18][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("3"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[Created], [c0].[Description], [c0].[Expiration], [c0].[Type], [c0].[Value]
FROM [Clients] AS [c]
INNER JOIN [ClientSecrets] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T19:28:51.0335170+00:00][INFO][18][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("7"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[Provider]
FROM [Clients] AS [c]
INNER JOIN [ClientIdPRestrictions] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T19:28:51.0475137+00:00][INFO][18][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("7"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[PostLogoutRedirectUri]
FROM [Clients] AS [c]
INNER JOIN [ClientPostLogoutRedirectUris] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T19:28:51.0637889+00:00][INFO][6][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("8"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[Key], [c0].[Value]
FROM [Clients] AS [c]
INNER JOIN [ClientProperties] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T19:28:51.0750673+00:00][INFO][26][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("6"ms) [Parameters=["@__clientId_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c0].[Id], [c0].[ClientId], [c0].[RedirectUri]
FROM [Clients] AS [c]
INNER JOIN [ClientRedirectUris] AS [c0] ON [c].[Id] = [c0].[ClientId]
WHERE [c].[ClientId] = @__clientId_0"
[2020-12-30T19:28:51.1050221+00:00][INFO][6][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("4"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [i].[Id], [i].[Created], [i].[Description], [i].[DisplayName], [i].[Emphasize], [i].[Enabled], [i].[Name], [i].[NonEditable], [i].[Required], [i].[ShowInDiscoveryDocument], [i].[Updated], [i0].[Id], [i0].[IdentityResourceId], [i0].[Type], [i1].[Id], [i1].[IdentityResourceId], [i1].[Key], [i1].[Value]
FROM [IdentityResources] AS [i]
LEFT JOIN [IdentityResourceClaims] AS [i0] ON [i].[Id] = [i0].[IdentityResourceId]
LEFT JOIN [IdentityResourceProperties] AS [i1] ON [i].[Id] = [i1].[IdentityResourceId]
WHERE [i].[Name] IN (N'openid', N'profile', N'email', N'roles')
ORDER BY [i].[Id], [i0].[Id], [i1].[Id]"
[2020-12-30T19:28:51.1609805+00:00][INFO][6][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [a].[Id], [a].[AllowedAccessTokenSigningAlgorithms], [a].[Created], [a].[Description], [a].[DisplayName], [a].[Enabled], [a].[LastAccessed], [a].[Name], [a].[NonEditable], [a].[ShowInDiscoveryDocument], [a].[Updated], [a0].[Id], [a0].[ApiResourceId], [a0].[Created], [a0].[Description], [a0].[Expiration], [a0].[Type], [a0].[Value], [a1].[Id], [a1].[ApiResourceId], [a1].[Scope], [a2].[Id], [a2].[ApiResourceId], [a2].[Type], [a3].[Id], [a3].[ApiResourceId], [a3].[Key], [a3].[Value]
FROM [ApiResources] AS [a]
LEFT JOIN [ApiResourceSecrets] AS [a0] ON [a].[Id] = [a0].[ApiResourceId]
LEFT JOIN [ApiResourceScopes] AS [a1] ON [a].[Id] = [a1].[ApiResourceId]
LEFT JOIN [ApiResourceClaims] AS [a2] ON [a].[Id] = [a2].[ApiResourceId]
LEFT JOIN [ApiResourceProperties] AS [a3] ON [a].[Id] = [a3].[ApiResourceId]
WHERE EXISTS (
    SELECT 1
    FROM [ApiResourceScopes] AS [a4]
    WHERE ([a].[Id] = [a4].[ApiResourceId]) AND [a4].[Scope] IN (N'openid', N'profile', N'email', N'roles'))
ORDER BY [a].[Id], [a0].[Id], [a1].[Id], [a2].[Id], [a3].[Id]"
[2020-12-30T19:28:51.1788369+00:00][INFO][26][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [a].[Id], [a].[Description], [a].[DisplayName], [a].[Emphasize], [a].[Enabled], [a].[Name], [a].[Required], [a].[ShowInDiscoveryDocument], [a0].[Id], [a0].[ScopeId], [a0].[Type], [a1].[Id], [a1].[Key], [a1].[ScopeId], [a1].[Value]
FROM [ApiScopes] AS [a]
LEFT JOIN [ApiScopeClaims] AS [a0] ON [a].[Id] = [a0].[ScopeId]
LEFT JOIN [ApiScopeProperties] AS [a1] ON [a].[Id] = [a1].[ScopeId]
WHERE [a].[Name] IN (N'openid', N'profile', N'email', N'roles')
ORDER BY [a].[Id], [a0].[Id], [a1].[Id]"
[2020-12-30T19:28:51.2053331+00:00][INFO][6][Microsoft.EntityFrameworkCore.Infrastructure] Entity Framework Core "5.0.1" initialized '"AdminIdentityDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=EventManager.Identity.Admin.EntityFramework.SqlServer "
[2020-12-30T19:28:51.2334351+00:00][INFO][25][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("23"ms) [Parameters=["@__p_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[Id] = @__p_0"
[2020-12-30T19:28:51.2783684+00:00][INFO][26][Microsoft.EntityFrameworkCore.Infrastructure] Entity Framework Core "5.0.1" initialized '"IdentityServerPersistedGrantDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=EventManager.Identity.Admin.EntityFramework.SqlServer "
[2020-12-30T19:28:51.2970803+00:00][INFO][6][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("11"ms) [Parameters=["@__token_Key_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [p].[Key], [p].[ClientId], [p].[ConsumedTime], [p].[CreationTime], [p].[Data], [p].[Description], [p].[Expiration], [p].[SessionId], [p].[SubjectId], [p].[Type]
FROM [PersistedGrants] AS [p]
WHERE [p].[Key] = @__token_Key_0"
[2020-12-30T19:28:51.3306287+00:00][INFO][28][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("4"ms) [Parameters=["@p0='?' (Size = 200), @p1='?' (Size = 200), @p2='?' (DbType = DateTime2), @p3='?' (DbType = DateTime2), @p4='?' (Size = 4000), @p5='?' (Size = 200), @p6='?' (DbType = DateTime2), @p7='?' (Size = 100), @p8='?' (Size = 200), @p9='?' (Size = 50)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
INSERT INTO [PersistedGrants] ([Key], [ClientId], [ConsumedTime], [CreationTime], [Data], [Description], [Expiration], [SessionId], [SubjectId], [Type])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9);"
[2020-12-30T19:28:51.3730857+00:00][INFO][28][IdentityServer4.Events.DefaultEventService] TokenIssuedSuccessEvent { ClientId: "urn:em:client:mvc", ClientName: "Event Manager Identity Admin UI", RedirectUri: "https://www.em.host/admin/identity/signin-oidc", Endpoint: "Authorize", SubjectId: "174c9a38-e759-45b6-b735-470eca298a31", Scopes: "openid profile email roles", GrantType: "authorization_code", Tokens: [Token { TokenType: "code", TokenValue: "****98DC" }], Cat